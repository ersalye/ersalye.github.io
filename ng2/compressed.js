(function(y){var t={function:!0,object:!0};function e(t){return t&&t.Object===Object?t:null}var n,i=t[typeof exports]&&exports&&!exports.nodeType?exports:null,r=t[typeof module]&&module&&!module.nodeType?module:null,l=e(i&&r&&"object"==typeof global&&global),o=e(t[typeof self]&&self),s=e(t[typeof window]&&window),c=r&&r.exports===i?i:null,a=e(t[typeof this]&&this),h=l||s!==(a&&a.window)&&s||o||a||Function("return this")(),u={internals:{},config:{Promise:h.Promise},helpers:{}},f=u.helpers.noop=function(){},d=u.helpers.identity=function(t){return t},p=u.helpers.defaultNow=Date.now,g=u.helpers.defaultComparer=function(t,e){return vt(t,e)},m=u.helpers.defaultSubComparer=function(t,e){return e<t?1:t<e?-1:0},v=(u.helpers.defaultKeySerializer=function(t){return t.toString()},u.helpers.defaultError=function(t){throw t}),_=u.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},b=u.helpers.isFunction=((n=function(t){return"function"==typeof t||!1})(/x/)&&(n=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),n);function x(t){for(var e=t.length,n=new Array(e),i=0;i<e;i++)n[i]=t[i];return n}var w={e:{}};var C=u.internals.tryCatch=function(t){if(!b(t))throw new TypeError("fn must be a function");return e=t,function(){try{return e.apply(this,arguments)}catch(t){return w.e=t,w}};var e};function E(t){throw t}var S,M=u.config.longStackSupport=!1,L=C(function(){throw new Error})(),M=!!L.e&&!!L.e.stack,T=k(),N="From previous event:";function I(t,e){if(M&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(N)){for(var n=[],i=e;i;i=i.source)i.stack&&n.unshift(i.stack);n.unshift(t.stack);var r=n.join("\n"+N+"\n");t.stack=function(t){for(var e=t.split("\n"),n=[],i=0,r=e.length;i<r;i++){var o=e[i];!function(t){var e=P(t);if(!e)return!1;var n=e[0],i=e[1];return n===S&&T<=i&&i<=gu}(o)&&!function(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}(o)&&o&&n.push(o)}return n.join("\n")}(r)}}function k(){if(M)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=P(0<e[0].indexOf("@")?e[1]:e[2]);if(!n)return;return S=n[0],n[1]}}function P(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}var A=u.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};A.prototype=Object.create(Error.prototype),A.prototype.name="EmptyError";var D=u.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};D.prototype=Object.create(Error.prototype),D.prototype.name="ObjectDisposedError";var O=u.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};O.prototype=Object.create(Error.prototype),O.prototype.name="ArgumentOutOfRangeError";var R=u.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};R.prototype=Object.create(Error.prototype),R.prototype.name="NotSupportedError";var $=u.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};$.prototype=Object.create(Error.prototype),$.prototype.name="NotImplementedError";var F=u.helpers.notImplemented=function(){throw new $},z=(u.helpers.notSupported=function(){throw new R},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");h.Set&&"function"==typeof(new h.Set)["@@iterator"]&&(z="@@iterator");var B=u.doneEnumerator={done:!0,value:y},j=u.helpers.isIterable=function(t){return t&&t[z]!==y},q=u.helpers.isArrayLike=function(t){return t&&t.length!==y};u.helpers.iterator=z;var H=u.internals.bindCallback=function(i,r,t){if(void 0===r)return i;switch(t){case 0:return function(){return i.call(r)};case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}},V="[object Arguments]",U="[object Array]",G="[object Boolean]",W="[object Date]",Y="[object Error]",X="[object Number]",Z="[object Object]",K="[object RegExp]",J="[object String]",Q={};Q["[object Float32Array]"]=Q["[object Float64Array]"]=Q["[object Int8Array]"]=Q["[object Int16Array]"]=Q["[object Int32Array]"]=Q["[object Uint8Array]"]=Q["[object Uint8ClampedArray]"]=Q["[object Uint16Array]"]=Q["[object Uint32Array]"]=!0,Q[V]=Q[U]=Q["[object ArrayBuffer]"]=Q[G]=Q[W]=Q[Y]=Q["[object Function]"]=Q["[object Map]"]=Q[X]=Q[Z]=Q[K]=Q["[object Set]"]=Q[J]=Q["[object WeakMap]"]=!1;var tt,et,nt,it,rt=Object.prototype,ot=rt.hasOwnProperty,st=rt.toString,at=Math.pow(2,53)-1,ut=Object.keys||(tt=Object.prototype.hasOwnProperty,et=!{toString:null}.propertyIsEnumerable("toString"),it=(nt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,n,i=[];for(e in t)tt.call(t,e)&&i.push(e);if(et)for(n=0;n<it;n++)tt.call(t,nt[n])&&i.push(nt[n]);return i});var lt=u.internals.isObject=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)};function ct(t){return!!t&&"object"==typeof t}function ht(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=at}var ft=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();var dt=Array.isArray||function(t){return ct(t)&&ht(t.length)&&st.call(t)===U};function pt(t,e,n,i,r,o){var s=-1,a=t.length,u=e.length;if(a!==u&&!(i&&a<u))return!1;for(;++s<a;){var l=t[s],c=e[s];if(void 0!==y)return!1;if(i){if(!function(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return 1}(e,function(t){return l===t||n(l,t,i,r,o)}))return!1}else if(l!==c&&!n(l,c,i,r,o))return!1}return!0}function gt(t,e,n,i,r,o){var s,a=dt(t),u=dt(e),l=U,c=U;a||((l=st.call(t))===V?l=Z:l!==Z&&(a=ct(s=t)&&ht(s.length)&&!!Q[st.call(s)])),u||(c=st.call(e))===V&&(c=Z);var h=l===Z&&!ft(t),f=c===Z&&!ft(e),d=l===c;if(d&&!a&&!h)return function(t,e,n){switch(n){case G:case W:return+t==+e;case Y:return t.name===e.name&&t.message===e.message;case X:return t!==+t?e!==+e:t===+e;case K:case J:return t===e+""}return!1}(t,e,l);if(!i){var p=h&&ot.call(t,"__wrapped__"),g=f&&ot.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,i,r,o)}if(!d)return!1;o=o||[];for(var m=(r=r||[]).length;m--;)if(r[m]===t)return o[m]===e;r.push(t),o.push(e);var v=(a?pt:function(t,e,n,i,r,o){var s=ut(t),a=s.length;if(a!==ut(e).length&&!i)return!1;for(var u,l=a;l--;)if(u=s[l],!(i?u in e:ot.call(e,u)))return!1;for(var c=i;++l<a;){var h=t[u=s[l]],f=e[u];if(void 0!==y||!n(h,f,i,r,o))return!1;c=c||"constructor"===u}if(!c){var d=t.constructor,p=e.constructor;if(d!==p&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof p&&p instanceof p))return!1}return!0})(t,e,n,i,r,o);return r.pop(),o.pop(),v}function mt(t,e,n,i,r){return t===e||(null==t||null==e||!lt(t)&&!ct(e)?t!=t&&e!=e:gt(t,e,mt,n,i,r))}var vt=u.internals.isEqual=function(t,e){return mt(t,e)},yt=(Array.prototype.slice,u.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),_t=u.internals.addProperties=function(t){for(var e=[],n=1,i=arguments.length;n<i;n++)e.push(arguments[n]);for(var r=0,o=e.length;r<o;r++){var s=e[r];for(var a in s)t[a]=s[a]}};u.internals.addRef=function(e,n){return new Ga(function(t){return new kt(n.getDisposable(),e.subscribe(t))})};function bt(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e();return n}var xt=u.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},wt=xt.prototype;wt.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},wt.remove=function(t){var e,n=!1;return this.isDisposed||-1!==(e=this.disposables.indexOf(t))&&(n=!0,this.disposables.splice(e,1),this.length--,t.dispose()),n},wt.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;n<t;n++)e[n]=this.disposables[n];for(this.disposables=[],n=this.length=0;n<t;n++)e[n].dispose()}};var Ct=u.Disposable=function(t){this.isDisposed=!1,this.action=t||f};Ct.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Et=Ct.create=function(t){return new Ct(t)},St=Ct.empty={dispose:f},Mt=Ct.isDisposable=function(t){return t&&b(t.dispose)},Lt=Ct.checkDisposed=function(t){if(t.isDisposed)throw new D},Tt=Ct._fixup=function(t){return Mt(t)?t:St},Nt=u.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Nt.prototype.getDisposable=function(){return this.current},Nt.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;e||(this.current=t),e&&t&&t.dispose()},Nt.prototype.dispose=function(){var t;this.isDisposed||(this.isDisposed=!0,t=this.current,this.current=null,t&&t.dispose())};var It=u.SerialDisposable=function(){this.isDisposed=!1,this.current=null};It.prototype.getDisposable=function(){return this.current},It.prototype.setDisposable=function(t){var e,n=this.isDisposed;n||(e=this.current,this.current=t),e&&e.dispose(),n&&t&&t.dispose()},It.prototype.dispose=function(){var t;this.isDisposed||(this.isDisposed=!0,t=this.current,this.current=null),t&&t.dispose()};var kt=u.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};kt.prototype.dispose=function(){var t,e;this.isDisposed||(this.isDisposed=!0,t=this._first,this._first=null,t&&t.dispose(),e=this._second,this._second=null,e&&e.dispose())};var Pt=u.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};Pt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;t<e;t++)this._disposables[t].dispose();this._disposables.length=0}};u.RefCountDisposable=(At.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},Dt.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},Dt.prototype.getDisposable=function(){return this.isDisposed?St:new At(this)},Dt);function At(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function Dt(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}var Ot=u.internals.ScheduledItem=function(t,e,n,i,r){this.scheduler=t,this.state=e,this.action=n,this.dueTime=i,this.comparer=r||m,this.disposable=new Nt};Ot.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Ot.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},Ot.prototype.isCancelled=function(){return this.disposable.isDisposed},Ot.prototype.invokeCore=function(){return Tt(this.action(this.scheduler,this.state))};var Rt,$t=u.Scheduler=function(){function r(){}r.isScheduler=function(t){return t instanceof r};var t=r.prototype;return t.schedule=function(t,e){throw new $},t.scheduleFuture=function(t,e,n){var i=e;return i instanceof Date&&(i-=this.now()),0===(i=r.normalize(i))?this.schedule(t,n):this._scheduleFuture(t,i,n)},t._scheduleFuture=function(t,e,n){throw new $},r.now=p,r.prototype.now=p,r.normalize=function(t){return t<0&&(t=0),t},r}(),Ft=$t.normalize,zt=$t.isScheduler;function Bt(s,t){var e=t[0],a=t[1],u=new xt;return a(e,function n(t){var i=!1,r=!1;var o=s.schedule(t,e);r||(u.add(o),i=!0);function e(t,e){return i?u.remove(o):r=!0,a(e,n),St}}),u}function jt(a,t){var e=t[0],u=t[1],l=new xt;return u(e,function n(t,e){var i=!1,r=!1;var o=a.scheduleFuture(t,e,s);r||(l.add(o),i=!0);function s(t,e){return i?l.remove(o):r=!0,u(e,n),St}}),l}(Rt=$t.prototype).scheduleRecursive=function(t,e){return this.schedule([t,e],Bt)},Rt.scheduleRecursiveFuture=function(t,e,n){return this.scheduleFuture([t,n],e,jt)},$t.prototype.schedulePeriodic=function(t,e,n){if(void 0===h.setInterval)throw new R;e=Ft(e);var i=t,r=h.setInterval(function(){i=n(i)},e);return Et(function(){h.clearInterval(r)})};var qt,Ht=(yt(Vt,qt=$t),Vt.prototype.schedule=function(t,e){return Tt(e(this,t))},Vt);function Vt(){qt.call(this)}var Ut,Gt,Wt=$t.immediate=new Ht,Yt=(yt(Zt,Ut=$t),Zt.prototype.schedule=function(t,e){var n,i=new Ot(this,t,e,this.now());return Gt?Gt.enqueue(i):((Gt=new fe(4)).enqueue(i),n=C(Xt)(),Gt=null,n===w&&E(n.e)),i.disposable},Zt.prototype.scheduleRequired=function(){return!Gt},Zt);function Xt(){for(;0<Gt.length;){var t=Gt.dequeue();t.isCancelled()||t.invoke()}}function Zt(){Ut.call(this)}var Kt,Jt,Qt=$t.currentThread=new Yt;u.internals.SchedulePeriodicRecursive=(te.prototype.start=function(){var i,t=new Nt;return(this._cancel=t).setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,(i=this,function(t,e){e(0,i._period);var n=C(i._action)(i._state);n===w&&(i._cancel.dispose(),E(n.e)),i._state=n}))),t},te);function te(t,e,n,i){this._scheduler=t,this._state=e,this._period=n,this._action=i}var ee=function(){var t,e=f;if(h.setTimeout)t=h.setTimeout,e=h.clearTimeout;else{if(!h.WScript)throw new R;t=function(t,e){h.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),ne=ee.setTimeout,ie=ee.clearTimeout;!function(){var i=1,r={},o=!1;function s(t){var e,n;o?ne(function(){s(t)},0):(e=r[t])&&(o=!0,n=C(e)(),Jt(t),o=!1,n===w&&E(n.e))}Jt=function(t){delete r[t]};var n,a,t=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),u="function"==typeof(u=l&&c&&l.setImmediate)&&!t.test(u)&&u;Kt=b(u)?function(t){var e=i++;return r[e]=t,u(function(){s(e)}),e}:"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(t){var e=i++;return r[e]=t,process.nextTick(function(){s(e)}),e}:function(){if(h.postMessage&&!h.importScripts){var t=!1,e=h.onmessage;return h.onmessage=function(){t=!0},h.postMessage("","*"),h.onmessage=e,t}}()?(n="ms.rx.schedule"+Math.random(),h.addEventListener("message",function(t){"string"==typeof t.data&&t.data.substring(0,n.length)===n&&s(t.data.substring(n.length))},!1),function(t){var e=i++;return r[e]=t,h.postMessage(n+e,"*"),e}):h.MessageChannel?((a=new h.MessageChannel).port1.onmessage=function(t){s(t.data)},function(t){var e=i++;return r[e]=t,a.port2.postMessage(e),e}):"document"in h&&"onreadystatechange"in h.document.createElement("script")?function(t){var e=h.document.createElement("script"),n=i++;return r[n]=t,e.onreadystatechange=function(){s(n),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},h.document.documentElement.appendChild(e),n}:function(t){var e=i++;return r[e]=t,ne(function(){s(e)},0),e}}();var re,oe=(yt(se,re=$t),ue.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Jt(this._id))},le.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,ie(this._id))},se.prototype.schedule=function(t,e){var n=new Nt,i=Kt(ae(n,e,this,t));return new kt(n,new ue(i))},se.prototype._scheduleFuture=function(t,e,n){if(0===e)return this.schedule(t,n);var i=new Nt,r=ne(ae(i,n,this,t),e);return new kt(i,new le(r))},se.prototype.scheduleLongRunning=function(t,e){var n,i,r,o=Et(f);return Kt((n=t,i=e,r=o,function(){i(n,r)})),o},se);function se(){re.call(this)}function ae(t,e,n,i){return function(){t.setDisposable(Ct._fixup(e(n,i)))}}function ue(t){this._id=t,this.isDisposed=!1}function le(t){this._id=t,this.isDisposed=!1}var ce=$t.default=$t.async=new oe;function he(t,e){this.id=t,this.value=e}he.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var fe=u.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},de=fe.prototype;de.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},de.percolate=function(t){var e,n;t>=this.length||t<0||((e=t-1>>1)<0||e===t||this.isHigherPriority(t,e)&&(n=this.items[t],this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)))},de.heapify=function(t){var e,n,i,r;+t||(t=0),t>=this.length||t<0||(n=2*t+2,(e=2*(i=t)+1)<this.length&&this.isHigherPriority(e,i)&&(i=e),n<this.length&&this.isHigherPriority(n,i)&&(i=n),i!==t&&(r=this.items[t],this.items[t]=this.items[i],this.items[i]=r,this.heapify(i)))},de.peek=function(){return this.items[0].value},de.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=y,this.heapify()},de.dequeue=function(){var t=this.peek();return this.removeAt(0),t},de.enqueue=function(t){var e=this.length++;this.items[e]=new he(fe.count++,t),this.percolate(e)},de.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},fe.count=0;var pe=u.Notification=(ge.prototype._accept=function(t,e,n){throw new $},ge.prototype._acceptObserver=function(t,e,n){throw new $},ge.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},ge.prototype.toObservable=function(t){var e=this;return zt(t)||(t=Wt),new Ga(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},ge);function ge(){}var me=(yt(ve,pe),ve.prototype._accept=function(t){return t(this.value)},ve.prototype._acceptObserver=function(t){return t.onNext(this.value)},ve.prototype.toString=function(){return"OnNext("+this.value+")"},ve);function ve(t){this.value=t,this.kind="N"}var ye=(yt(_e,pe),_e.prototype._accept=function(t,e){return e(this.error)},_e.prototype._acceptObserver=function(t){return t.onError(this.error)},_e.prototype.toString=function(){return"OnError("+this.error+")"},_e);function _e(t){this.error=t,this.kind="E"}var be=(yt(xe,pe),xe.prototype._accept=function(t,e,n){return n()},xe.prototype._acceptObserver=function(t){return t.onCompleted()},xe.prototype.toString=function(){return"OnCompleted()"},xe);function xe(){this.kind="C"}var we=pe.createOnNext=function(t){return new me(t)},Ce=pe.createOnError=function(t){return new ye(t)},Ee=pe.createOnCompleted=function(){return new be},Se=u.Observer=function(){},Me=Se.create=function(t,e,n){return new ke(t=t||f,e=e||v,n=n||f)},Le=u.internals.AbstractObserver=(yt(Te,Se),Te.prototype.next=F,Te.prototype.error=F,Te.prototype.completed=F,Te.prototype.onNext=function(t){this.isStopped||this.next(t)},Te.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},Te.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},Te.prototype.dispose=function(){this.isStopped=!0},Te.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},Te);function Te(){this.isStopped=!1}var Ne,Ie,ke=u.AnonymousObserver=(yt(Pe,Ne=Le),Pe.prototype.next=function(t){this._onNext(t)},Pe.prototype.error=function(t){this._onError(t)},Pe.prototype.completed=function(){this._onCompleted()},Pe);function Pe(t,e,n){Ne.call(this),this._onNext=t,this._onError=e,this._onCompleted=n}var Ae=u.Observable=(Ie=De.prototype,De.isObservable=function(t){return t&&b(t.subscribe)},Ie.subscribe=Ie.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:Me(t,e,n))},Ie.subscribeOnNext=function(e,n){return this._subscribe(Me(void 0!==n?function(t){e.call(n,t)}:e))},Ie.subscribeOnError=function(e,n){return this._subscribe(Me(null,void 0!==n?function(t){e.call(n,t)}:e))},Ie.subscribeOnCompleted=function(t,e){return this._subscribe(Me(null,null,void 0!==e?function(){t.call(e)}:t))},De);function De(){var t,e,i,r;u.config.longStackSupport&&M&&(t=this._subscribe,e=C(E)(new Error).e,this.stack=e.stack.substring(e.stack.indexOf("\n")+1),this._subscribe=(i=this,r=t,function(e){var n=e.onError;return e.onError=function(t){I(t,i),n.call(e,t)},r.call(i,e)}))}var Oe,Re=u.internals.ScheduledObserver=(yt($e,Oe=Le),$e.prototype.next=function(t){var e,n;this.queue.push((e=this.observer,n=t,function(){e.onNext(n)}))},$e.prototype.error=function(t){var e,n;this.queue.push((e=this.observer,n=t,function(){e.onError(n)}))},$e.prototype.completed=function(){var t;this.queue.push((t=this.observer,function(){t.onCompleted()}))},$e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&0<this.queue.length&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,Fe))},$e.prototype.dispose=function(){Oe.prototype.dispose.call(this),this.disposable.dispose()},$e);function $e(t,e){Oe.call(this),this.scheduler=t,this.observer=e,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new It}function Fe(t,e){var n;if(0<t.queue.length){n=t.queue.shift();var i=C(n)();if(i===w)return t.queue=[],t.hasFaulted=!0,E(i.e);e(t)}else t.isAcquired=!1}var ze,Be=u.ObservableBase=(yt(qe,ze=Ae),qe.prototype._subscribe=function(t){var e=new Za(t),n=[e,this];return Qt.scheduleRequired()?Qt.schedule(n,je):je(0,n),e},qe.prototype.subscribeCore=F,qe);function je(t,e){var n,i=e[0],r=e[1],o=C(r.subscribeCore).call(r,i);o!==w||i.fail(w.e)||E(w.e),i.setDisposable((n=o)&&b(n.dispose)?n:b(n)?Et(n):St)}function qe(){ze.call(this)}var He,Ve=u.FlatMapObservable=(yt(Ue,He=Be),Ue.prototype.subscribeCore=function(t){return this.source.subscribe(new Ge(t,this.selector,this.resultSelector,this))},yt(Ge,Le),Ge.prototype._wrapResult=function(t,n,i){return this.resultSelector?t.map(function(t,e){return this.resultSelector(n,t,i,e)},this):t},Ge.prototype.next=function(t){var e=this.i++,n=C(this.selector)(t,e,this.source);if(n===w)return this.o.onError(n.e);_(n)&&(n=qs(n)),(q(n)||j(n))&&(n=Ae.from(n)),this.o.onNext(this._wrapResult(n,t,e))},Ge.prototype.error=function(t){this.o.onError(t)},Ge.prototype.completed=function(){this.o.onCompleted()},Ue);function Ue(t,e,n,i){this.resultSelector=b(n)?n:null,this.selector=H(b(e)?e:function(){return e},i,3),this.source=t,He.call(this)}function Ge(t,e,n,i){this.i=0,this.selector=e,this.resultSelector=n,this.source=i,this.o=t,Le.call(this)}var We=u.internals.Enumerable=function(){};function Ye(t){this._s=t,this.isDisposed=!1}Ye.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Xe,Ze=(yt(Ke,Xe=Be),Ke.prototype.subscribeCore=function(t){var e=new It,n={isDisposed:!1,o:t,subscription:e,e:this.sources[z]()},i=Qt.scheduleRecursive(n,Je);return new Pt([e,i,new Ye(n)])},yt(Qe,Le),Qe.prototype.next=function(t){this._state.o.onNext(t)},Qe.prototype.error=function(t){this._state.o.onError(t)},Qe.prototype.completed=function(){this._recurse(this._state)},Ke);function Ke(t){this.sources=t,Xe.call(this)}function Je(t,e){if(!t.isDisposed){var n=C(t.e.next).call(t.e);if(n===w)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var i=n.value;_(i)&&(i=qs(i));var r=new Nt;t.subscription.setDisposable(r),r.setDisposable(i.subscribe(new Qe(t,e)))}}function Qe(t,e){this._state=t,this._recurse=e,Le.call(this)}We.prototype.concat=function(){return new Ze(this)};var tn,en=(yt(nn,tn=Be),nn.prototype.subscribeCore=function(t){var e=new It,n={isDisposed:!1,e:this.sources[z](),subscription:e,lastError:null,o:t},i=Qt.scheduleRecursive(n,rn);return new Pt([e,i,new Ye(n)])},yt(on,Le),on.prototype.next=function(t){this._state.o.onNext(t)},on.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},on.prototype.completed=function(){this._state.o.onCompleted()},nn);function nn(t){this.sources=t,tn.call(this)}function rn(t,e){if(!t.isDisposed){var n=C(t.e.next).call(t.e);if(n===w)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var i=n.value;_(i)&&(i=qs(i));var r=new Nt;t.subscription.setDisposable(r),r.setDisposable(i.subscribe(new on(t,e)))}}function on(t,e){this._state=t,this._recurse=e,Le.call(this)}We.prototype.catchError=function(){return new en(this)};var sn=(yt(an,We),an.prototype[z]=function(){return new un(this)},un.prototype.next=function(){return 0===this.l?B:(0<this.l&&this.l--,{done:!1,value:this.v})},an);function an(t,e){this.v=t,this.c=null==e?-1:e}function un(t){this.v=t.v,this.l=t.c}var ln=We.repeat=function(t,e){return new sn(t,e)},cn=(yt(hn,We),hn.prototype[z]=function(){return new fn(this)},fn.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:B},hn);function hn(t,e,n){this.s=t,this.fn=e?H(e,n,3):null}function fn(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}var dn,pn=We.of=function(t,e,n){return new cn(t,e,n)},gn=(yt(mn,dn=Be),mn.prototype.subscribeCore=function(t){return this.source.subscribe(new vn(t))},yt(vn,Le),vn.prototype.next=function(t){this.a.push(t)},vn.prototype.error=function(t){this.o.onError(t)},vn.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},mn);function mn(t){this.source=t,dn.call(this)}function vn(t){this.o=t,this.a=[],Le.call(this)}Ie.toArray=function(){return new gn(this)},Ae.create=function(t,e){return new Ga(t,e)};var yn,_n=(yt(bn,yn=Be),bn.prototype.subscribeCore=function(t){var e=C(this._f)();return e===w?fi(e.e).subscribe(t):(_(e)&&(e=qs(e)),e.subscribe(t))},bn);function bn(t){this._f=t,yn.call(this)}var xn,wn=Ae.defer=function(t){return new _n(t)},Cn=(yt(En,xn=Be),En.prototype.subscribeCore=function(t){return new Sn(t,this.scheduler).run()},Sn.prototype.run=function(){var t=this.observer;return this.scheduler===Wt?Mn(0,t):this.scheduler.schedule(t,Mn)},En);function En(t){this.scheduler=t,xn.call(this)}function Sn(t,e){this.observer=t,this.scheduler=e}function Mn(t,e){return e.onCompleted(),St}var Ln,Tn=new Cn(Wt),Nn=Ae.empty=function(t){return zt(t)||(t=Wt),t===Wt?Tn:new Cn(t)},In=(yt(kn,Ln=Be),kn.prototype.subscribeCore=function(t){var r,o,s,e=function(t){var e=t[z];if(!e&&"string"==typeof t)return new An(t)[z]();if(!e&&t.length!==y)return new On(t)[z]();if(e)return t[z]();throw new TypeError("Object is not iterable")}(Object(this._iterable));return this._scheduler.scheduleRecursive(0,(r=t,o=e,s=this._fn,function(t,e){var n=C(o.next).call(o);if(n===w)return r.onError(n.e);if(n.done)return r.onCompleted();var i=n.value;if(b(s)&&(i=C(s)(i,t))===w)return r.onError(i.e);r.onNext(i),e(t+1)}))},kn);function kn(t,e,n){this._iterable=t,this._fn=e,this._scheduler=n,Ln.call(this)}var Pn=Math.pow(2,53)-1;function An(t){this._s=t}function Dn(t){this._s=t,this._l=t.length,this._i=0}function On(t){this._a=t}function Rn(t){this._a=t,this._l=function(t){var e=+t.length;if(isNaN(e))return 0;if(0===e||!function(t){return"number"==typeof t&&h.isFinite(t)}(e))return e;if((e=function(t){var e=+t;if(0==e)return e;if(isNaN(e))return e;return e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0)return 0;if(Pn<e)return Pn;return e}(t),this._i=0}An.prototype[z]=function(){return new Dn(this._s)},Dn.prototype[z]=function(){return this},Dn.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:B},On.prototype[z]=function(){return new Rn(this._a)},Rn.prototype[z]=function(){return this},Rn.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:B};var $n,Fn=Ae.from=function(t,e,n,i){if(null==t)throw new Error("iterable cannot be null.");if(e&&!b(e))throw new Error("mapFn when provided must be a function");var r;return e&&(r=H(e,n,2)),zt(i)||(i=Qt),new In(t,r,i)},zn=(yt(Bn,$n=Be),Bn.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,(n=t,i=this._args,r=i.length,function(t,e){t<r?(n.onNext(i[t]),e(t+1)):n.onCompleted()}));var n,i,r},Bn);function Bn(t,e){this._args=t,this._scheduler=e,$n.call(this)}var jn,qn=Ae.fromArray=function(t,e){return zt(e)||(e=Qt),new zn(t,e)};function Hn(){jn.call(this)}var Vn=new(yt(Hn,jn=Be),Hn.prototype.subscribeCore=function(t){return St},Hn),Un=Ae.never=function(){return Vn};function Gn(t,e){return zt(t)||(t=Qt),new zn(e,t)}Ae.of=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new zn(e,Qt)},Ae.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;i<e;i++)n[i-1]=arguments[i];return new zn(n,t)};var Wn,Yn=(yt(Xn,Wn=Be),Xn.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,(i=t,r=this._o,o=this._keys,function(t,e){var n;t<o.length?(n=o[t],i.onNext([n,r[n]]),e(t+1)):i.onCompleted()}));var i,r,o},Xn);function Xn(t,e){this._o=t,this._keys=Object.keys(t),this._scheduler=e,Wn.call(this)}Ae.pairs=function(t,e){return new Yn(t,e=e||Qt)};var Zn,Kn=(yt(Jn,Zn=Be),Jn.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,(n=this.start,i=this.rangeCount,r=t,function(t,e){t<i?(r.onNext(n+t),e(t+1)):r.onCompleted()}));var n,i,r},Jn);function Jn(t,e,n){this.start=t,this.rangeCount=e,this.scheduler=n,Zn.call(this)}Ae.range=function(t,e,n){return zt(n)||(n=Qt),new Kn(t,e,n)};var Qn,ti=(yt(ei,Qn=Be),ei.prototype.subscribeCore=function(t){return new ni(t,this).run()},ei);function ei(t,e,n){this.value=t,this.repeatCount=null==e?-1:e,this.scheduler=n,Qn.call(this)}function ni(t,e){this.observer=t,this.parent=e}ni.prototype.run=function(){var n=this.observer,i=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,function(t,e){if((-1===t||0<t)&&(n.onNext(i),0<t&&t--),0===t)return n.onCompleted();e(t)})},Ae.repeat=function(t,e,n){return zt(n)||(n=Qt),new ti(t,e,n)};var ii,ri=(yt(oi,ii=Be),oi.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===Wt?si(0,e):this._scheduler.schedule(e,si)},oi);function oi(t,e){this._value=t,this._scheduler=e,ii.call(this)}function si(t,e){var n=e[0],i=e[1];return i.onNext(n),i.onCompleted(),St}Ae.return=Ae.just=function(t,e){return zt(e)||(e=Wt),new ri(t,e)};var ai,ui=(yt(li,ai=Be),li.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===Wt?ci(0,e):this._scheduler.schedule(e,ci)},li);function li(t,e){this._error=t,this._scheduler=e,ai.call(this)}function ci(t,e){var n=e[0];return e[1].onError(n),St}var hi,fi=Ae.throw=function(t,e){return zt(e)||(e=Wt),new ui(t,e)},di=(yt(pi,hi=Be),pi.prototype.subscribeCore=function(t){var e=new Nt,n=new It;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new mi(t,n,this._fn))),n},pi);function pi(t,e){this.source=t,this._fn=e,hi.call(this)}var gi,mi=(yt(vi,gi=Le),vi.prototype.next=function(t){this._o.onNext(t)},vi.prototype.completed=function(){return this._o.onCompleted()},vi.prototype.error=function(t){var e=C(this._fn)(t);if(e===w)return this._o.onError(e.e);_(e)&&(e=qs(e));var n=new Nt;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},vi);function vi(t,e,n){this._o=t,this._s=e,this._fn=n,gi.call(this)}Ie.catch=function(t){return b(t)?new di(this,t):yi([this,t])};var yi=Ae.catch=function(){if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return pn(e).catchError()};function _i(){return!1}function bi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}Ie.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Li.apply(this,e)};var xi,wi=(yt(Ci,xi=Be),Ci.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),i={hasValue:bt(e,_i),hasValueAll:!1,isDone:bt(e,_i),values:new Array(e)},r=0;r<e;r++){var o=this._params[r],s=new Nt;n[r]=s,_(o)&&(o=qs(o)),s.setDisposable(o.subscribe(new Si(t,r,this._cb,i)))}return new Pt(n)},Ci);function Ci(t,e){this._params=t,this._cb=e,xi.call(this)}var Ei,Si=(yt(Mi,Ei=Le),Mi.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(d))){var e=C(this._cb).apply(null,this._state.values);if(e===w)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter((n=this._i,function(t,e){return e!==n})).every(d)&&this._o.onCompleted();var n},Mi.prototype.error=function(t){this._o.onError(t)},Mi.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(d)&&this._o.onCompleted()},Mi);function Mi(t,e,n,i){this._o=t,this._i=e,this._cb=n,this._state=i,Ei.call(this)}var Li=Ae.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=b(e[t-1])?e.pop():bi;return Array.isArray(e[0])&&(e=e[0]),new wi(e,i)};Ie.concat=function(){for(var t=[],e=0,n=arguments.length;e<n;e++)t.push(arguments[e]);return t.unshift(this),Oi.apply(null,t)};var Ti,Ni=(yt(Ii,Ti=Le),Ii.prototype.next=function(t){this._s.o.onNext(t)},Ii.prototype.error=function(t){this._s.o.onError(t)},Ii.prototype.completed=function(){this._s.i++,this._fn(this._s)},Ii);function Ii(t,e){this._s=t,this._fn=e,Ti.call(this)}var ki,Pi=(yt(Ai,ki=Be),Ai.prototype.subscribeCore=function(t){var e=new It,n=Et(f),i={o:t,i:0,subscription:e,disposable:n,sources:this._sources},r=Wt.scheduleRecursive(i,Di);return new Pt([e,n,r])},Ai);function Ai(t){this._sources=t,ki.call(this)}function Di(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];_(n)&&(n=qs(n));var i=new Nt;t.subscription.setDisposable(i),i.setDisposable(n.subscribe(new Ni(t,e)))}}var Oi=Ae.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;e<n;e++)t[e]=arguments[e]}return new Pi(t)};Ie.concatAll=function(){return this.merge(1)};var Ri,$i=(yt(Fi,Ri=Be),Fi.prototype.subscribeCore=function(t){var e=new xt;return e.add(this.source.subscribe(new Bi(t,this.maxConcurrent,e))),e},Fi);function Fi(t,e){this.source=t,this.maxConcurrent=e,Ri.call(this)}var zi,Bi=(yt(ji,zi=Le),ji.prototype.handleSubscribe=function(t){var e=new Nt;this.g.add(e),_(t)&&(t=qs(t)),e.setDisposable(t.subscribe(new qi(this,e)))},ji.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},ji.prototype.error=function(t){this.o.onError(t)},ji.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},yt(qi,zi),qi.prototype.next=function(t){this.parent.o.onNext(t)},qi.prototype.error=function(t){this.parent.o.onError(t)},qi.prototype.completed=function(){this.parent.g.remove(this.sad),0<this.parent.q.length?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},ji);function ji(t,e,n){this.o=t,this.max=e,this.g=n,this.done=!1,this.q=[],this.activeCount=0,zi.call(this)}function qi(t,e){this.parent=t,this.sad=e,zi.call(this)}Ie.merge=function(t){return"number"!=typeof t?Hi(this,t):new $i(this,t)};var Hi=Ae.merge=function(){var t,e,n=[],i=arguments.length;if(arguments[0])if(zt(arguments[0]))for(t=arguments[0],e=1;e<i;e++)n.push(arguments[e]);else for(t=Wt,e=0;e<i;e++)n.push(arguments[e]);else for(t=Wt,e=1;e<i;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),Gn(t,n).mergeAll()},Vi=u.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Vi.prototype=Object.create(Error.prototype),Vi.prototype.name="CompositeError";var Ui,Gi=(yt(Wi,Ui=Be),Wi.prototype.subscribeCore=function(t){var e=new xt,n=new Nt,i={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new Xi(e,i))),e},Wi);function Wi(t){this.source=t,Ui.call(this)}var Yi,Xi=(yt(Zi,Yi=Le),Zi.prototype.next=function(t){var e=new Nt;this._group.add(e),_(t)&&(t=qs(t)),e.setDisposable(t.subscribe(new Ji(e,this._group,this._state)))},Zi.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&Ki(this._state.o,this._state.errors)},Zi.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&Ki(this._state.o,this._state.errors)},yt(Ji,Yi),Ji.prototype.next=function(t){this._state.o.onNext(t)},Ji.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&Ki(this._state.o,this._state.errors)},Ji.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&Ki(this._state.o,this._state.errors)},Zi);function Zi(t,e){this._group=t,this._state=e,Yi.call(this)}function Ki(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Vi(e))}function Ji(t,e,n){this._inner=t,this._group=e,this._state=n,Yi.call(this)}Ae.mergeDelayError=function(){if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Gn(null,e);return new Gi(i)};var Qi,tr=(yt(er,Qi=Be),er.prototype.subscribeCore=function(t){var e=new xt,n=new Nt;return e.add(n),n.setDisposable(this.source.subscribe(new ir(t,e))),e},er);function er(t){this.source=t,Qi.call(this)}var nr,ir=(yt(rr,nr=Le),rr.prototype.next=function(t){var e=new Nt;this.g.add(e),_(t)&&(t=qs(t)),e.setDisposable(t.subscribe(new or(this,e)))},rr.prototype.error=function(t){this.o.onError(t)},rr.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},yt(or,nr),or.prototype.next=function(t){this.parent.o.onNext(t)},or.prototype.error=function(t){this.parent.o.onError(t)},or.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},rr);function rr(t,e){this.o=t,this.g=e,this.done=!1,nr.call(this)}function or(t,e){this.parent=t,this.sad=e,nr.call(this)}Ie.mergeAll=function(){return new tr(this)};var sr,ar=(yt(ur,sr=Be),ur.prototype.subscribeCore=function(t){var e=new Nt;e.setDisposable(this._s.subscribe(new cr(t,this))),_(this._o)&&(this._o=qs(this._o));var n=new Nt;return n.setDisposable(this._o.subscribe(new dr(t,this,n))),new kt(e,n)},ur);function ur(t,e){this._s=t,this._o=_(e)?qs(e):e,this._open=!1,sr.call(this)}var lr,cr=(yt(hr,lr=Le),hr.prototype.next=function(t){this._p._open&&this._o.onNext(t)},hr.prototype.error=function(t){this._o.onError(t)},hr.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},hr);function hr(t,e){this._o=t,this._p=e,lr.call(this)}var fr,dr=(yt(pr,fr=Le),pr.prototype.next=function(){this._p._open=!0,this._r.dispose()},pr.prototype.error=function(t){this._o.onError(t)},pr.prototype.onCompleted=function(){this._r.dispose()},pr);function pr(t,e,n){this._o=t,this._p=e,this._r=n,fr.call(this)}Ie.skipUntil=function(t){return new ar(this,t)};var gr,mr=(yt(vr,gr=Be),vr.prototype.subscribeCore=function(t){var e=new It,n=this.source.subscribe(new yr(t,e));return new kt(n,e)},yt(yr,Le),yr.prototype.next=function(t){var e=new Nt,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),_(t)&&(t=qs(t)),e.setDisposable(t.subscribe(new _r(this,n)))},yr.prototype.error=function(t){this.o.onError(t)},yr.prototype.completed=function(){this.stopped=!0,this.hasLatest||this.o.onCompleted()},yt(_r,Le),_r.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},_r.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},_r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},vr);function vr(t){this.source=t,gr.call(this)}function yr(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Le.call(this)}function _r(t,e){this.parent=t,this.id=e,Le.call(this)}Ie.switch=Ie.switchLatest=function(){return new mr(this)};var br,xr=(yt(wr,br=Be),wr.prototype.subscribeCore=function(t){return new kt(this.source.subscribe(t),this.other.subscribe(new Er(t)))},wr);function wr(t,e){this.source=t,this.other=_(e)?qs(e):e,br.call(this)}var Cr,Er=(yt(Sr,Cr=Le),Sr.prototype.next=function(){this._o.onCompleted()},Sr.prototype.error=function(t){this._o.onError(t)},Sr.prototype.onCompleted=f,Sr);function Sr(t){this._o=t,Cr.call(this)}function _i(){return!1}function bi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}Ie.takeUntil=function(t){return new xr(this,t)};var Mr,Lr=(yt(Tr,Mr=Be),Tr.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:bt(e,_i),hasValueAll:!1,values:new Array(e)},i=this._ss.length,r=new Array(i+1),o=0;o<i;o++){var s=this._ss[o],a=new Nt;_(s)&&(s=qs(s)),a.setDisposable(s.subscribe(new Ir(t,o,n))),r[o]=a}var u=new Nt;return u.setDisposable(this._s.subscribe(new Ar(t,this._cb,n))),r[i]=u,new Pt(r)},Tr);function Tr(t,e,n){this._s=t,this._ss=e,this._cb=n,Mr.call(this)}var Nr,Ir=(yt(kr,Nr=Le),kr.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(d)},kr.prototype.error=function(t){this._o.onError(t)},kr.prototype.completed=f,kr);function kr(t,e,n){this._o=t,this._i=e,this._state=n,Nr.call(this)}var Pr,Ar=(yt(Dr,Pr=Le),Dr.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=C(this._cb).apply(null,e);if(n===w)return this._o.onError(n.e);this._o.onNext(n)}},Dr.prototype.error=function(t){this._o.onError(t)},Dr.prototype.completed=function(){this._o.onCompleted()},Dr);function Dr(t,e,n){this._o=t,this._cb=e,this._state=n,Pr.call(this)}function _i(){return!1}function Or(){return[]}Ie.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=b(e[t-1])?e.pop():bi;return Array.isArray(e[0])&&(e=e[0]),new Lr(this,e,i)};var Rr,$r=(yt(Fr,Rr=Be),Fr.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),i=bt(e,_i),r=bt(e,Or),o=0;o<e;o++){var s=this._s[o],a=new Nt;n[o]=a,_(s)&&(s=qs(s)),a.setDisposable(s.subscribe(new Br(t,o,this,r,i)))}return new Pt(n)},Fr);function Fr(t,e){this._s=t,this._cb=e,Rr.call(this)}var zr,Br=(yt(jr,zr=Le),jr.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(qr)){var e=this._q.map(Hr),n=C(this._p._cb).apply(null,e);if(n===w)return this._o.onError(n.e);this._o.onNext(n)}else this._d.filter((i=this._i,function(t,e){return e!==i})).every(d)&&this._o.onCompleted();var i},jr.prototype.error=function(t){this._o.onError(t)},jr.prototype.completed=function(){this._d[this._i]=!0,this._d.every(d)&&this._o.onCompleted()},jr);function jr(t,e,n,i,r){this._o=t,this._i=e,this._p=n,this._q=i,this._d=r,zr.call(this)}function qr(t){return 0<t.length}function Hr(t){return t.shift()}function _i(){return!1}function Or(){return[]}function bi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}Ie.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=b(e[t-1])?e.pop():bi;Array.isArray(e[0])&&(e=e[0]);return e.unshift(this),new $r(e,i)},Ae.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=b(e[1])?e[0].concat(e[1]):e[0]);var i=e.shift();return i.zip.apply(i,e)};var Vr,Ur=(yt(Gr,Vr=Be),Gr.prototype.subscribeCore=function(t){for(var e,n,i,r=this.sources,o=r.length,s=new Array(o),a={q:bt(o,Or),done:bt(o,_i),cb:this._cb,o:t},u=0;u<o;u++)i=n=void 0,n=r[e=u],i=new Nt,(q(n)||j(n))&&(n=Fn(n)),(s[e]=i).setDisposable(n.subscribe(new Yr(a,e)));return new Pt(s)},Gr);function Gr(t,e){this.sources=t,this._cb=e,Vr.call(this)}var Wr,Yr=(yt(Xr,Wr=Le),Xr.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(Zr)){var e=this._s.q.map(Kr),n=C(this._s.cb).apply(null,e);if(n===w)return this._s.o.onError(n.e);this._s.o.onNext(n)}else this._s.done.filter((i=this._i,function(t,e){return e!==i})).every(d)&&this._s.o.onCompleted();var i},Xr.prototype.error=function(t){this._s.o.onError(t)},Xr.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(d)&&this._s.o.onCompleted()},Xr);function Xr(t,e){this._s=t,this._i=e,Wr.call(this)}function Zr(t){return 0<t.length}function Kr(t){return t.shift()}Ie.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=b(e[t-1])?e.pop():bi;return e.unshift(this),new Ur(e,i)},Ie.asObservable=function(){return new Ga(function(t){return e.subscribe(t)},e=this);var e};var Jr,Qr=(yt(to,Jr=Be),to.prototype.subscribeCore=function(t){return this.source.subscribe(new no(t))},to);function to(t){this.source=t,Jr.call(this)}var eo,no=(yt(io,eo=Le),io.prototype.next=function(t){t.accept(this._o)},io.prototype.error=function(t){this._o.onError(t)},io.prototype.completed=function(){this._o.onCompleted()},io);function io(t){this._o=t,eo.call(this)}Ie.dematerialize=function(){return new Qr(this)};var ro,oo=(yt(so,ro=Be),so.prototype.subscribeCore=function(t){return this.source.subscribe(new uo(t,this.keyFn,this.comparer))},so);function so(t,e,n){this.source=t,this.keyFn=e,this.comparer=n,ro.call(this)}var ao,uo=(yt(lo,ao=Le),lo.prototype.next=function(t){var e,n=t;return b(this.keyFn)&&(n=C(this.keyFn)(t))===w?this.o.onError(n.e):this.hasCurrentKey&&(e=C(this.comparer)(this.currentKey,n))===w?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},lo.prototype.error=function(t){this.o.onError(t)},lo.prototype.completed=function(){this.o.onCompleted()},lo);function lo(t,e,n){this.o=t,this.keyFn=e,this.comparer=n,this.hasCurrentKey=!1,this.currentKey=null,ao.call(this)}Ie.distinctUntilChanged=function(t,e){return new oo(this,t,e=e||g)};var co,ho=(yt(fo,co=Be),fo.prototype.subscribeCore=function(t){return this.source.subscribe(new po(t,this))},yt(po,Le),po.prototype.next=function(t){var e=C(this.t.onNext).call(this.t,t);e===w&&this.o.onError(e.e),this.o.onNext(t)},po.prototype.error=function(t){var e=C(this.t.onError).call(this.t,t);if(e===w)return this.o.onError(e.e);this.o.onError(t)},po.prototype.completed=function(){var t=C(this.t.onCompleted).call(this.t);if(t===w)return this.o.onError(t.e);this.o.onCompleted()},fo);function fo(t,e,n,i){this.source=t,this._oN=e,this._oE=n,this._oC=i,co.call(this)}function po(t,e){this.o=t,this.t=!e._oN||b(e._oN)?Me(e._oN||f,e._oE||f,e._oC||f):e._oN,this.isStopped=!1,Le.call(this)}Ie.do=Ie.tap=Ie.doAction=function(t,e,n){return new ho(this,t,e,n)},Ie.doOnNext=Ie.tapOnNext=function(e,n){return this.tap(void 0!==n?function(t){e.call(n,t)}:e)},Ie.doOnError=Ie.tapOnError=function(e,n){return this.tap(f,void 0!==n?function(t){e.call(n,t)}:e)},Ie.doOnCompleted=Ie.tapOnCompleted=function(t,e){return this.tap(f,null,void 0!==e?function(){t.call(e)}:t)};var go,mo=(yt(vo,go=Be),vo.prototype.subscribeCore=function(t){var e=C(this.source.subscribe).call(this.source,t);return e===w&&(this._fn(),E(e.e)),new yo(e,this._fn)},yo.prototype.dispose=function(){var t;this.isDisposed||(t=C(this._s.dispose).call(this._s),this._fn(),t===w&&E(t.e))},vo);function vo(t,e,n){this.source=t,this._fn=H(e,n,0),go.call(this)}function yo(t,e){this.isDisposed=!1,this._s=t,this._fn=e}Ie.finally=function(t,e){return new mo(this,t,e)};var _o,bo=(yt(xo,_o=Be),xo.prototype.subscribeCore=function(t){return this.source.subscribe(new wo(t))},wo.prototype.onNext=f,wo.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},wo.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},wo.prototype.dispose=function(){this.isStopped=!0},wo.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},xo);function xo(t){this.source=t,_o.call(this)}function wo(t){this.o=t,this.isStopped=!1}Ie.ignoreElements=function(){return new bo(this)};var Co,Eo=(yt(So,Co=Be),So.prototype.subscribeCore=function(t){return this.source.subscribe(new Lo(t))},So);function So(t,e){this.source=t,Co.call(this)}var Mo,Lo=(yt(To,Mo=Le),To.prototype.next=function(t){this._o.onNext(we(t))},To.prototype.error=function(t){this._o.onNext(Ce(t)),this._o.onCompleted()},To.prototype.completed=function(){this._o.onNext(Ee()),this._o.onCompleted()},To);function To(t){this._o=t,Mo.call(this)}function No(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}Ie.materialize=function(){return new Eo(this)},Ie.repeat=function(t){return ln(this,t).concat()},Ie.retry=function(t){return ln(this,t).catchError()};var Io,ko=(yt(Po,Io=Be),Po.prototype.subscribeCore=function(s){var t,a=new Ja,u=new Ja,e=this._notifier(a).subscribe(u),l=this.source["@@iterator"](),c={isDisposed:!1},h=new It,n=Qt.scheduleRecursive(null,function(t,e){var n,i,r,o;c.isDisposed||((n=l.next()).done?s.onCompleted():(i=n.value,_(i)&&(i=qs(i)),r=new Nt,o=new Nt,h.setDisposable(new kt(o,r)),r.setDisposable(i.subscribe(function(t){s.onNext(t)},function(t){o.setDisposable(u.subscribe(e,function(t){s.onError(t)},function(){s.onCompleted()})),a.onNext(t),r.dispose()},function(){s.onCompleted()}))))});return new Pt([e,h,n,(t=c,{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}})])},Po);function Po(t,e){this.source=t,this._notifier=e,Io.call(this)}function No(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}Ie.retryWhen=function(t){return new ko(No(this),t)};var Ao,Do=(yt(Oo,Ao=Be),Oo.prototype.subscribeCore=function(s){var t,a=new Ja,u=new Ja,e=this._notifier(a).subscribe(u),l=this.source["@@iterator"](),c={isDisposed:!1},h=new It,n=Qt.scheduleRecursive(null,function(t,e){var n,i,r,o;c.isDisposed||((n=l.next()).done?s.onCompleted():(i=n.value,_(i)&&(i=qs(i)),r=new Nt,o=new Nt,h.setDisposable(new kt(o,r)),r.setDisposable(i.subscribe(function(t){s.onNext(t)},function(t){s.onError(t)},function(){o.setDisposable(u.subscribe(e,function(t){s.onError(t)},function(){s.onCompleted()})),a.onNext(null),r.dispose()}))))});return new Pt([e,h,n,(t=c,{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}})])},Oo);function Oo(t,e){this.source=t,this._notifier=e,Ao.call(this)}Ie.repeatWhen=function(t){return new Do(No(this),t)};var Ro,$o=(yt(Fo,Ro=Be),Fo.prototype.subscribeCore=function(t){return this.source.subscribe(new Bo(t,this))},Fo);function Fo(t,e,n,i){this.source=t,this.accumulator=e,this.hasSeed=n,this.seed=i,Ro.call(this)}var zo,Bo=(yt(jo,zo=Le),jo.prototype.next=function(t){if(this._hv||(this._hv=!0),this._ha?this._a=C(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?C(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===w)return this._o.onError(this._a.e);this._o.onNext(this._a),this._i++},jo.prototype.error=function(t){this._o.onError(t)},jo.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},jo);function jo(t,e){this._o=t,this._p=e,this._fn=e.accumulator,this._hs=e.hasSeed,this._s=e.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,zo.call(this)}Ie.scan=function(){var t,e=!1;return 2===arguments.length&&(e=!0,t=arguments[1]),new $o(this,arguments[0],e,t)};var qo,Ho=(yt(Vo,qo=Be),Vo.prototype.subscribeCore=function(t){return this.source.subscribe(new Go(t,this._c))},Vo);function Vo(t,e){this.source=t,this._c=e,qo.call(this)}var Uo,Go=(yt(Wo,Uo=Le),Wo.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},Wo.prototype.error=function(t){this._o.onError(t)},Wo.prototype.completed=function(){this._o.onCompleted()},Wo);function Wo(t,e){this._o=t,this._c=e,this._q=[],Uo.call(this)}Ie.skipLast=function(t){if(t<0)throw new O;return new Ho(this,t)},Ie.startWith=function(){var t,e=0;arguments.length&&zt(arguments[0])?(t=arguments[0],e=1):t=Wt;for(var n=[],i=e,r=arguments.length;i<r;i++)n.push(arguments[i]);return Oi.apply(null,[qn(n,t),this])};var Yo,Xo=(yt(Zo,Yo=Le),Zo.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},Zo.prototype.error=function(t){this._o.onError(t)},Zo.prototype.completed=function(){for(;0<this._q.length;)this._o.onNext(this._q.shift());this._o.onCompleted()},Zo);function Zo(t,e){this._o=t,this._c=e,this._q=[],Yo.call(this)}Ie.takeLast=function(e){if(e<0)throw new O;var n=this;return new Ga(function(t){return n.subscribe(new Xo(t,e))},n)},Ie.flatMapConcat=Ie.concatMap=function(t,e,n){return new Ve(this,t,e,n).merge(1)};var Ko,Jo=(yt(Qo,Ko=Be),Qo.prototype.internalMap=function(t,e){return new Qo(this.source,(i=t,r=this,function(t,e,n){return i.call(this,r.selector(t,e,n),e,n)}),e);var i,r},Qo.prototype.subscribeCore=function(t){return this.source.subscribe(new ts(t,this.selector,this))},yt(ts,Le),ts.prototype.next=function(t){var e=C(this.selector)(t,this.i++,this.source);if(e===w)return this.o.onError(e.e);this.o.onNext(e)},ts.prototype.error=function(t){this.o.onError(t)},ts.prototype.completed=function(){this.o.onCompleted()},Qo);function Qo(t,e,n){this.source=t,this.selector=H(e,n,3),Ko.call(this)}function ts(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Le.call(this)}Ie.map=Ie.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof Jo?this.internalMap(n,e):new Jo(this,n,e)},Ie.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var r,o,n=0;n<t;n++)e[n]=arguments[n];return this.map((r=e,o=t,function(t){for(var e=t,n=0;n<o;n++){var i=e[r[n]];if(void 0===i)return y;e=i}return e}))},Ie.flatMap=Ie.selectMany=Ie.mergeMap=function(t,e,n){return new Ve(this,t,e,n).mergeAll()},Ie.flatMapLatest=Ie.switchMap=function(t,e,n){return new Ve(this,t,e,n).switchLatest()};var es,ns=(yt(is,es=Be),is.prototype.subscribeCore=function(t){return this.source.subscribe(new rs(t,this._count))},yt(rs,Le),rs.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},rs.prototype.error=function(t){this._o.onError(t)},rs.prototype.completed=function(){this._o.onCompleted()},is);function is(t,e){this.source=t,this._count=e,es.call(this)}function rs(t,e){this._o=t,this._r=e,Le.call(this)}Ie.skip=function(t){if(t<0)throw new O;return new ns(this,t)};var os,ss=(yt(as,os=Be),as.prototype.subscribeCore=function(t){return this.source.subscribe(new ls(t,this))},as);function as(t,e){this.source=t,this._fn=e,os.call(this)}var us,ls=(yt(cs,us=Le),cs.prototype.next=function(t){if(!this._r){var e=C(this._p._fn)(t,this._i++,this._p);if(e===w)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},cs.prototype.error=function(t){this._o.onError(t)},cs.prototype.completed=function(){this._o.onCompleted()},cs);function cs(t,e){this._o=t,this._p=e,this._i=0,this._r=!1,us.call(this)}Ie.skipWhile=function(t,e){var n=H(t,e,3);return new ss(this,n)};var hs,fs=(yt(ds,hs=Be),ds.prototype.subscribeCore=function(t){return this.source.subscribe(new ps(t,this._count))},yt(ps,Le),ps.prototype.next=function(t){0<this._r--&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},ps.prototype.error=function(t){this._o.onError(t)},ps.prototype.completed=function(){this._o.onCompleted()},ds);function ds(t,e){this.source=t,this._count=e,hs.call(this)}function ps(t,e){this._o=t,this._c=e,this._r=e,Le.call(this)}Ie.take=function(t,e){if(t<0)throw new O;return 0===t?Nn(e):new fs(this,t)};var gs,ms=(yt(vs,gs=Be),vs.prototype.subscribeCore=function(t){return this.source.subscribe(new _s(t,this))},vs);function vs(t,e){this.source=t,this._fn=e,gs.call(this)}var ys,_s=(yt(bs,ys=Le),bs.prototype.next=function(t){if(this._r&&(this._r=C(this._p._fn)(t,this._i++,this._p),this._r===w))return this._o.onError(this._r.e);this._r?this._o.onNext(t):this._o.onCompleted()},bs.prototype.error=function(t){this._o.onError(t)},bs.prototype.completed=function(){this._o.onCompleted()},bs);function bs(t,e){this._o=t,this._p=e,this._i=0,this._r=!0,ys.call(this)}Ie.takeWhile=function(t,e){var n=H(t,e,3);return new ms(this,n)};var xs,ws=(yt(Cs,xs=Be),Cs.prototype.subscribeCore=function(t){return this.source.subscribe(new Es(t,this.predicate,this))},Cs.prototype.internalFilter=function(t,e){return new Cs(this.source,(i=t,r=this,function(t,e,n){return r.predicate(t,e,n)&&i.call(this,t,e,n)}),e);var i,r},yt(Es,Le),Es.prototype.next=function(t){var e=C(this.predicate)(t,this.i++,this.source);if(e===w)return this.o.onError(e.e);e&&this.o.onNext(t)},Es.prototype.error=function(t){this.o.onError(t)},Es.prototype.completed=function(){this.o.onCompleted()},Cs);function Cs(t,e,n){this.source=t,this.predicate=H(e,n,3),xs.call(this)}function Es(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Le.call(this)}function Ss(t,e,n,i){var r,o,s,a=new eu;return i.push((r=a,o=e,s=n,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(b(s)){if((e=C(s).apply(o,e))===w)return r.onError(e.e);r.onNext(e)}else e.length<=1?r.onNext(e[0]):r.onNext(e);r.onCompleted()})),t.apply(e,i),a.asObservable()}function Ms(t,e,n,i){var r,o,s,a=new eu;return i.push((r=a,o=e,s=n,function(t){if(t)return r.onError(t);for(var e=arguments.length,n=[],i=1;i<e;i++)n[i-1]=arguments[i];if(b(s)){if((n=C(s).apply(o,n))===w)return r.onError(n.e);r.onNext(n)}else n.length<=1?r.onNext(n[0]):r.onNext(n);r.onCompleted()})),t.apply(e,i),a.asObservable()}function Ls(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function Ts(t,e,n){var i,r=new xt,o=Object.prototype.toString.call(t);if(i=t,(h.StaticNodeList?i instanceof h.StaticNodeList||i instanceof h.NodeList:"[object NodeList]"===Object.prototype.toString.call(i))||"[object HTMLCollection]"===o)for(var s=0,a=t.length;s<a;s++)r.add(Ts(t.item(s),e,n));else t&&r.add(new Ls(t,e,n));return r}Ie.filter=Ie.where=function(t,e){return this instanceof ws?this.internalFilter(t,e):new ws(this,t,e)},Ae.fromCallback=function(i,r,o){return function(){void 0===r&&(r=this);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ss(i,r,o,e)}},Ae.fromNodeCallback=function(i,r,o){return function(){void 0===r&&(r=this);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ms(i,r,o,e)}},Ls.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},u.config.useNativeEvents=!1;var Ns,Is=(yt(ks,Ns=Be),ks.prototype.subscribeCore=function(t){return Ts(this._el,this._n,(n=t,i=this._fn,function(t){var e=t;if(b(i)&&(e=C(i).apply(null,arguments))===w)return n.onError(e.e);n.onNext(e)}));var n,i},ks);function ks(t,e,n){this._el=t,this._n=e,this._fn=n,Ns.call(this)}Ae.fromEvent=function(e,n,t){return e.addListener?$s(function(t){e.addListener(n,t)},function(t){e.removeListener(n,t)},t):u.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new Is(e,n,t).publish().refCount():$s(function(t){e.on(n,t)},function(t){e.off(n,t)},t)};var Ps,As=(yt(Ds,Ps=Be),Ds.prototype.subscribeCore=function(t){var n,i,e=(n=t,i=this._fn,function(t){var e=t;if(b(i)&&(e=C(i).apply(null,arguments))===w)return n.onError(e.e);n.onNext(e)}),r=this._add(e);return new Os(this._del,e,r)},Os.prototype.dispose=function(){this.isDisposed||(b(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},Ds);function Ds(t,e,n){this._add=t,this._del=e,this._fn=n,Ps.call(this)}function Os(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}var Rs,$s=Ae.fromEventPattern=function(t,e,n){return new As(t,e,n).publish().refCount()},Fs=(yt(zs,Rs=Be),zs.prototype.subscribeCore=function(e){var n=new Nt,i=this,t=this._p;return b(t)&&(t=C(t)())===w?e.onError(t.e):t.then(function(t){n.setDisposable(i._s.schedule([e,t],Bs))},function(t){n.setDisposable(i._s.schedule([e,t],js))}),n},zs);function zs(t,e){this._p=t,this._s=e,Rs.call(this)}function Bs(t,e){var n=e[0],i=e[1];n.onNext(i),n.onCompleted()}function js(t,e){var n=e[0],i=e[1];n.onError(i)}var qs=Ae.fromPromise=function(t,e){return new Fs(t,e=e||ce)};Ie.toPromise=function(t){if(!(t=t||u.config.Promise))throw new R("Promise type not provided nor in Rx.config.Promise");var i=this;return new t(function(t,e){var n;i.subscribe(function(t){n=t},e,function(){t(n)})})},Ae.startAsync=function(t){var e=C(t)();return e===w?fi(e.e):qs(e)};var Hs,Vs=(yt(Us,Hs=Be),Us.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new kt(this._fn2(e).subscribe(t),e.connect())},Us);function Us(t,e,n){this.source=t,this._fn1=e,this._fn2=n,Hs.call(this)}Ie.multicast=function(t,e){return b(t)?new Vs(this,t,e):new Ks(this,t)},Ie.publish=function(t){return t&&b(t)?this.multicast(function(){return new Ja},t):this.multicast(new Ja)},Ie.share=function(){return this.publish().refCount()},Ie.publishLast=function(t){return t&&b(t)?this.multicast(function(){return new eu},t):this.multicast(new eu)},Ie.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new au(e)},t):this.multicast(new au(t))},Ie.shareValue=function(t){return this.publishValue(t).refCount()},Ie.replay=function(t,e,n,i){return t&&b(t)?this.multicast(function(){return new fu(e,n,i)},t):this.multicast(new fu(e,n,i))},Ie.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var Gs,Ws=(yt(Ys,Gs=Be),Ys.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1==++this._count&&(this._connectableSubscription=this.source.connect()),new Xs(this,e)},Xs.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0==--this._p._count&&this._p._connectableSubscription.dispose())},Ys);function Ys(t){this.source=t,this._count=0,this._connectableSubscription=null,Gs.call(this)}function Xs(t,e){this._p=t,this._s=e,this.isDisposed=!1}var Zs,Ks=u.ConnectableObservable=(yt(Js,Zs=Ae),Qs.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},Js.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return St;var t=this._source.subscribe(this._subject);this._connection=new Qs(this,t)}return this._connection},Js.prototype._subscribe=function(t){return this._subject.subscribe(t)},Js.prototype.refCount=function(){return new Ws(this)},Js);function Js(t,e){this.source=t,this._connection=null,this._source=t.asObservable(),this._subject=e,Zs.call(this)}function Qs(t,e){this._p=t,this._s=e}var ta,ea=(yt(na,ta=Be),na.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,ia)},na);function na(t,e){this._dt=t,this._s=e,ta.call(this)}function ia(t,e){e.onNext(0),e.onCompleted()}function ra(t,e,s){return new Ga(function(i){var r=t,o=Ft(e);return s.scheduleRecursiveFuture(0,r,function(t,e){var n;0<o&&(n=s.now(),(r=new Date(r.getTime()+o)).getTime()<=n&&(r=new Date(n+o))),i.onNext(t),e(t+1,new Date(r))})})}function oa(t,n,i){return t===n?new Ga(function(e){return i.schedulePeriodic(0,n,function(t){return e.onNext(t),t+1})}):wn(function(){return ra(new Date(i.now()+t),n,i)})}var sa=Ae.interval=function(t,e){return oa(t,t,zt(e)?e:ce)};Ae.timer=function(t,e,n){var i;return zt(n)||(n=ce),null!=e&&"number"==typeof e?i=e:zt(e)&&(n=e),(t instanceof Date||"number"==typeof t)&&i===y?new ea(t,n):t instanceof Date&&i!==y?ra(t,e,n):oa(t,i,n)};function aa(e,r,c){return new Ga(function(o){var s=!1,i=new It,a=null,u=[],l=!1,t=e.materialize().timestamp(c).subscribe(function(t){var e,n;"E"===t.value.kind?((u=[]).push(t),a=t.value.error,n=!l):(u.push({value:t.value,timestamp:t.timestamp+r}),n=!s,s=!0),n&&(null!==a?o.onError(a):(e=new Nt,i.setDisposable(e),e.setDisposable(c.scheduleRecursiveFuture(null,r,function(t,e){var n,i,r;if(null===a){for(l=!0;i=null,0<u.length&&u[0].timestamp-c.now()<=0&&(i=u.shift().value),null!==i&&i.accept(o),null!==i;);r=!1,(n=0)<u.length?(r=!0,n=Math.max(0,u[0].timestamp-c.now())):s=!1,l=!1,null!==a?o.onError(a):r&&e(null,n)}}))))});return new kt(t,i)},e)}Ie.delay=function(){var s,t,e,a,u,n,i,r,o=arguments[0];if("number"==typeof o||o instanceof Date){var l=o,c=arguments[1];return zt(c)||(c=ce),l instanceof Date?(n=this,i=l,r=c,wn(function(){return aa(n,i-r.now(),r)})):aa(this,l,c)}if(Ae.isObservable(o)||b(o))return s=this,e=arguments[1],u=b(t=o)?t:(a=t,e),new Ga(function(i){var r=new xt,t=!1,e=new It;function n(){e.setDisposable(s.subscribe(function(t){var e=C(u)(t);if(e===w)return i.onError(e.e);var n=new Nt;r.add(n),n.setDisposable(e.subscribe(function(){i.onNext(t),r.remove(n),o()},function(t){i.onError(t)},function(){i.onNext(t),r.remove(n),o()}))},function(t){i.onError(t)},function(){t=!0,e.dispose(),o()}))}function o(){t&&0===r.length&&i.onCompleted()}return a?e.setDisposable(a.subscribe(n,function(t){i.onError(t)},n)):n(),new kt(e,r)},s);throw new Error("Invalid arguments")};var ua,la=(yt(ca,ua=Be),ca.prototype.subscribeCore=function(t){var e=new It;return new kt(this.source.subscribe(new fa(t,this._dt,this._s,e)),e)},ca);function ca(t,e,n){zt(n)||(n=ce),this.source=t,this._dt=e,this._s=n,ua.call(this)}var ha,fa=(yt(da,ha=Le),da.prototype.next=function(n){this._hv=!0,this._v=n;var i=++this._id,t=new Nt;this._c.setDisposable(t),t.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(t,e){e._hv&&e._id===i&&e._o.onNext(n),e._hv=!1}))},da.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},da.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},da);function da(t,e,n,i){this._o=t,this._d=e,this._scheduler=n,this._c=i,this._v=null,this._hv=!1,this._id=0,ha.call(this)}Ie.debounce=function(){if(b(arguments[0]))return l=arguments[0],new Ga(function(r){var o,s=!1,a=new It,u=0,t=e.subscribe(function(t){var e=C(l)(t);if(e===w)return r.onError(e.e);_(e)&&(e=qs(e)),s=!0,o=t;var n=++u,i=new Nt;a.setDisposable(i),i.setDisposable(e.subscribe(function(){s&&u===n&&r.onNext(o),s=!1,i.dispose()},function(t){r.onError(t)},function(){s&&u===n&&r.onNext(o),s=!1,i.dispose()}))},function(t){a.dispose(),r.onError(t),s=!1,u++},function(){a.dispose(),s&&r.onNext(o),r.onCompleted(),s=!1,u++});return new kt(t,a)},e=this);if("number"==typeof arguments[0])return new la(this,arguments[0],arguments[1]);throw new Error("Invalid arguments");var e,l};var pa,ga=(yt(ma,pa=Be),ma.prototype.subscribeCore=function(t){return this.source.subscribe(new ya(t,this._s))},ma);function ma(t,e){this.source=t,this._s=e,pa.call(this)}var va,ya=(yt(_a,va=Le),_a.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},_a.prototype.error=function(t){this._o.onError(t)},_a.prototype.completed=function(){this._o.onCompleted()},_a);function _a(t,e){this._o=t,this._s=e,va.call(this)}Ie.timestamp=function(t){return zt(t)||(t=ce),new ga(this,t)};var ba,xa=(yt(wa,ba=Be),wa.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new Nt};return e.sourceSubscription.setDisposable(this.source.subscribe(new La(e))),new kt(e.sourceSubscription,this._sampler.subscribe(new Ea(e)))},wa);function wa(t,e){this.source=t,this._sampler=e,ba.call(this)}var Ca,Ea=(yt(Sa,Ca=Le),Sa.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},Sa.prototype.next=function(){this._handleMessage()},Sa.prototype.error=function(t){this._s.onError(t)},Sa.prototype.completed=function(){this._handleMessage()},Sa);function Sa(t){this._s=t,Ca.call(this)}var Ma,La=(yt(Ta,Ma=Le),Ta.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},Ta.prototype.error=function(t){this._s.o.onError(t)},Ta.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},Ta);function Ta(t){this._s=t,Ma.call(this)}Ie.sample=function(t,e){return zt(e)||(e=ce),new xa(this,"number"==typeof t?sa(t,e):t)};var Na=u.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};Na.prototype=Object.create(Error.prototype),Ie.timeout=function(){var e,l,c,h,a,u,f,d,t=arguments[0];if(t instanceof Date||"number"==typeof t)return a=this,u=t,d=arguments[2],zt(f=arguments[1])&&(d=f,f=fi(new Na)),f instanceof Error&&(f=fi(f)),zt(d)||(d=ce),Ae.isObservable(f)||(f=fi(new Na)),new Ga(function(e){var n=0,t=new Nt,i=new It,r=!1,o=new It;function s(){var t=n;o.setDisposable(d.scheduleFuture(null,u,function(){(r=n===t)&&(_(f)&&(f=qs(f)),i.setDisposable(f.subscribe(e)))}))}return i.setDisposable(t),s(),t.setDisposable(a.subscribe(function(t){r||(n++,e.onNext(t),s())},function(t){r||(n++,e.onError(t))},function(){r||(n++,e.onCompleted())})),new kt(i,o)},a);if(Ae.isObservable(t)||b(t))return e=this,c=arguments[1],h=arguments[2],b(l=t)&&(h=c,c=l,l=Un()),Ae.isObservable(h)||(h=fi(new Na)),new Ga(function(r){var o=new It,s=new It,t=new Nt;o.setDisposable(t);var a=0,u=!1;function n(t){var e=a,n=new Nt;function i(){return u=e===a}s.setDisposable(n),n.setDisposable(t.subscribe(function(){i()&&o.setDisposable(h.subscribe(r)),n.dispose()},function(t){i()&&r.onError(t)},function(){i()&&o.setDisposable(h.subscribe(r))}))}function i(){var t=!u;return t&&a++,t}return n(l),t.setDisposable(e.subscribe(function(t){if(i()){r.onNext(t);var e=C(c)(t);if(e===w)return r.onError(e.e);n(_(e)?qs(e):e)}},function(t){i()&&r.onError(t)},function(){i()&&r.onCompleted()})),new kt(o,s)},e);throw new Error("Invalid arguments")},Ie.throttle=function(t,r){zt(r)||(r=ce);var o=+t||0;if(o<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var e=this;return new Ga(function(n){var i=0;return e.subscribe(function(t){var e=r.now();(0===i||o<=e-i)&&(i=e,n.onNext(t))},function(t){n.onError(t)},function(){n.onCompleted()})},e)};var Ia,ka=(yt(Pa,Ia=Ae),Pa.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),i=St,r=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){i=t?e.connect():(i.dispose(),St)});return new Pt([n,i,r])},Pa.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},Pa.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},Pa);function Pa(t,e){this.source=t,this.controller=new Ja,this.paused=!0,e&&e.subscribe?this.pauser=this.controller.merge(e):this.pauser=this.controller,Ia.call(this)}Ie.pausable=function(t){return new ka(this,t)};var Aa,Da=(yt(Oa,Aa=Ae),Oa.prototype._subscribe=function(e){var n,t,l,c,i=[];function r(){for(;0<i.length;)e.onNext(i.shift())}return t=this.source,l=this.pauser.startWith(!this.paused).distinctUntilChanged(),c=function(t,e){return{data:t,shouldFire:e}},new Ga(function(i){var r,o=[!1,!1],s=!1,a=!1,u=new Array(2);function e(t,e){if(u[e]=t,o[e]=!0,s=s||o.every(d)){if(r)return i.onError(r);var n=C(c).apply(null,u);if(n===w)return i.onError(n.e);i.onNext(n)}a&&u[1]&&i.onCompleted()}return new kt(t.subscribe(function(t){e(t,0)},function(t){u[1]?i.onError(t):r=t},function(){a=!0,u[1]&&i.onCompleted()}),l.subscribe(function(t){e(t,1)},function(t){i.onError(t)},function(){e(a=!0,1)}))},t).subscribe(function(t){n!==y&&t.shouldFire!==n?(n=t.shouldFire,t.shouldFire&&r()):(n=t.shouldFire,t.shouldFire?e.onNext(t.data):i.push(t.data))},function(t){r(),e.onError(t)},function(){r(),e.onCompleted()})},Oa.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},Oa.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},Oa);function Oa(t,e){this.source=t,this.controller=new Ja,this.paused=!0,e&&e.subscribe?this.pauser=this.controller.merge(e):this.pauser=this.controller,Aa.call(this)}Ie.pausableBuffered=function(t){return new Da(this,t)};var Ra,$a=(yt(Fa,Ra=Ae),Fa.prototype._subscribe=function(t){return this.source.subscribe(t)},Fa.prototype.request=function(t){return this.subject.request(null==t?-1:t)},Fa);function Fa(t,e,n){Ra.call(this),this.subject=new Ba(e,n),this.source=t.multicast(this.subject).refCount()}var za,Ba=(yt(ja,za=Ae),_t(ja.prototype,Se,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(pe.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(pe.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(pe.createOnNext(t)):(0==this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;0<this.queue.length&&(0<t||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var i=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,e){var n=i._processRequest(e);if(!i.hasCompleted&&!i.hasFailed&&0<n)return i.requestedCount=n,Et(function(){i.requestedCount=0})}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),ja);function ja(t,e){null==t&&(t=!0),za.call(this),this.subject=new Ja,this.enableQueue=t,this.queue=t?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=e||Qt}Ie.controlled=function(t,e){return t&&zt(t)&&(e=t,t=!0),null==t&&(t=!0),new $a(this,t,e)},Ie.pipe=function(e){var n=this.pausableBuffered();function t(){n.resume()}return e.addListener("drain",t),n.subscribe(function(t){e.write(t)||n.pause()},function(t){e.emit("error",t)},function(){e._isStdio||e.end(),e.removeListener("drain",t)}),n.resume(),e};var qa,Ha=(yt(Va,qa=Le),Va.prototype.next=function(t){var e=C(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===w&&this._o.onError(e.e)},Va.prototype.error=function(t){this._o.onError(t)},Va.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},Va);function Va(t,e){this._o=t,this._xform=e,qa.call(this)}Ie.transduce=function(i){var r=this;return new Ga(function(t){var e,n=i((e=t,{"@@transducer/init":function(){return e},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}));return r.subscribe(new Ha(t,n))},r)};var Ua,Ga=u.AnonymousObservable=(yt(Ya,Ua=Ae),Ya.prototype._subscribe=function(t){var e=new Za(t),n=[e,this];return Qt.scheduleRequired()?Qt.schedule(n,Wa):Wa(0,n),e},Ya);function Wa(t,e){var n,i=e[0],r=e[1],o=C(r.__subscribe).call(r,i);o!==w||i.fail(w.e)||E(w.e),i.setDisposable((n=o)&&b(n.dispose)?n:b(n)?Et(n):St)}function Ya(t,e){this.source=e,this.__subscribe=t,Ua.call(this)}function Xa(t,e){this._s=t,this._o=e}var Za=function(e){function t(t){e.call(this),this.observer=t,this.m=new Nt}yt(t,e);var n=t.prototype;return n.next=function(t){var e=C(this.observer.onNext).call(this.observer,t);e===w&&(this.dispose(),E(e.e))},n.error=function(t){var e=C(this.observer.onError).call(this.observer,t);this.dispose(),e===w&&E(e.e)},n.completed=function(){var t=C(this.observer.onCompleted).call(this.observer);this.dispose(),t===w&&E(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(Le);Xa.prototype.dispose=function(){var t;this._s.isDisposed||null===this._o||(t=this._s.observers.indexOf(this._o),this._s.observers.splice(t,1),this._o=null)};var Ka,Ja=u.Subject=(yt(Qa,Ka=Ae),_t(Qa.prototype,Se.prototype,{_subscribe:function(t){return Lt(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),St):(this.observers.push(t),new Xa(this,t))},hasObservers:function(){return Lt(this),0<this.observers.length},onCompleted:function(){if(Lt(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=x(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Lt(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,n=x(this.observers),i=n.length;e<i;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Lt(this),!this.isStopped)for(var e=0,n=x(this.observers),i=n.length;e<i;e++)n[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),Qa.create=function(t,e){return new ru(t,e)},Qa);function Qa(){Ka.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}var tu,eu=u.AsyncSubject=(yt(nu,tu=Ae),_t(nu.prototype,Se.prototype,{_subscribe:function(t){return Lt(this),this.isStopped?(this.hasError?t.onError(this.error):(this.hasValue&&t.onNext(this.value),t.onCompleted()),St):(this.observers.push(t),new Xa(this,t))},hasObservers:function(){return Lt(this),0<this.observers.length},onCompleted:function(){var t;if(Lt(this),!this.isStopped){this.isStopped=!0;var e=x(this.observers),n=e.length;if(this.hasValue)for(t=0;t<n;t++){var i=e[t];i.onNext(this.value),i.onCompleted()}else for(t=0;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Lt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=x(this.observers),i=n.length;e<i;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){Lt(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),nu);function nu(){tu.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}var iu,ru=u.AnonymousSubject=(yt(ou,iu=Ae),_t(ou.prototype,Se.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),ou);function ou(t,e){this.observer=t,this.observable=e,iu.call(this)}var su,au=u.BehaviorSubject=(yt(uu,su=Ae),_t(uu.prototype,Se.prototype,{_subscribe:function(t){return Lt(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),St):(this.observers.push(t),t.onNext(this.value),new Xa(this,t))},getValue:function(){return Lt(this),this.hasError&&E(this.error),this.value},hasObservers:function(){return Lt(this),0<this.observers.length},onCompleted:function(){if(Lt(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=x(this.observers),n=e.length;t<n;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Lt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,n=x(this.observers),i=n.length;e<i;e++)n[e].onError(t);this.observers.length=0}},onNext:function(t){if(Lt(this),!this.isStopped){this.value=t;for(var e=0,n=x(this.observers),i=n.length;e<i;e++)n[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),uu);function uu(t){su.call(this),this.value=t,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}var lu,cu,hu,fu=u.ReplaySubject=(lu=Ae,cu=Math.pow(2,53)-1,yt(du,lu),_t(du.prototype,Se.prototype,{_subscribe:function(t){Lt(this);var e,n,i=new Re(this.scheduler,t),r=(e=this,n=i,Et(function(){n.dispose(),e.isDisposed||e.observers.splice(e.observers.indexOf(n),1)}));this._trim(this.scheduler.now()),this.observers.push(i);for(var o=0,s=this.q.length;o<s;o++)i.onNext(this.q[o].value);return this.hasError?i.onError(this.error):this.isStopped&&i.onCompleted(),i.ensureActive(),r},hasObservers:function(){return Lt(this),0<this.observers.length},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;0<this.q.length&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Lt(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var n=0,i=x(this.observers),r=i.length;n<r;n++){var o=i[n];o.onNext(t),o.ensureActive()}}},onError:function(t){if(Lt(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var n=0,i=x(this.observers),r=i.length;n<r;n++){var o=i[n];o.onError(t),o.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Lt(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,n=x(this.observers),i=n.length;e<i;e++){var r=n[e];r.onCompleted(),r.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),du);function du(t,e,n){this.bufferSize=null==t?cu:t,this.windowSize=null==e?cu:e,this.scheduler=n||Qt,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,lu.call(this)}function pu(){hu.call(this)}u.Pauser=(yt(pu,hu=Ja),pu.prototype.pause=function(){this.onNext(!1)},pu.prototype.resume=function(){this.onNext(!0)},pu),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(h.Rx=u,define(function(){return u})):i&&r?c?(r.exports=u).Rx=u:i.Rx=u:h.Rx=u;var gu=k()}).call(this),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(C,t){function e(t,e){return e.toUpperCase()}var n=[],E=C.document,c=n.slice,g=n.concat,a=n.push,r=n.indexOf,i={},o=i.toString,p=i.hasOwnProperty,m={},S=function(t,e){return new S.fn.init(t,e)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,l=/-([\da-z])/gi;function h(t){var e=!!t&&"length"in t&&t.length,n=S.type(t);return"function"!==n&&!S.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"2.2.4",constructor:S,selector:"",length:0,toArray:function(){return c.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:c.call(this)},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return S.each(this,t)},map:function(n){return this.pushStack(S.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},S.extend=S.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||S.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(S.isPlainObject(i)||(r=S.isArray(i)))?(o=r?(r=!1,n&&S.isArray(n)?n:[]):n&&S.isPlainObject(n)?n:{},s[e]=S.extend(l,o,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===S.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!S.isArray(t)&&0<=e-parseFloat(e)+1},isPlainObject:function(t){var e;if("object"!==S.type(t)||t.nodeType||S.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[o.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=S.trim(t))&&(1===t.indexOf("use strict")?((e=E.createElement("script")).text=t,E.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(u,"ms-").replace(l,e)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(h(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(s,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(h(Object(t))?S.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!=s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(h(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return g.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),S.isFunction(t))return i=c.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(c.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r},now:Date.now,support:m}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=n[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var f=function(n){function h(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function r(){w()}var t,p,b,o,s,g,f,m,x,u,l,w,C,a,E,v,c,d,y,S="sizzle"+ +new Date,_=n.document,M=0,i=0,L=rt(),T=rt(),N=rt(),I=function(t,e){return t===e&&(l=!0),0},k={}.hasOwnProperty,e=[],P=e.pop,A=e.push,D=e.push,O=e.slice,R=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B="\\["+F+"*("+z+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+F+"*\\]",j=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",q=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),V=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),G=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),W=new RegExp(j),Y=new RegExp("^"+z+"$"),X={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig");try{D.apply(e=O.call(_.childNodes),_.childNodes),e[_.childNodes.length].nodeType}catch(t){D={apply:e.length?function(t,e){A.apply(t,O.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,n,i){var r,o,s,a,u,l,c,h,f=e&&e.ownerDocument,d=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return n;if(!i&&((e?e.ownerDocument||e:_)!==C&&w(e),e=e||C,E)){if(11!==d&&(l=Q.exec(t)))if(r=l[1]){if(9===d){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&y(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return D.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&p.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(r)),n}if(p.qsa&&!N[t+" "]&&(!v||!v.test(t))){if(1!==d)f=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(et,"\\$&"):e.setAttribute("id",a=S),o=(c=g(t)).length,u=Y.test(a)?"#"+a:"[id='"+a+"']";o--;)c[o]=u+" "+ft(c[o]);h=c.join(","),f=tt.test(t)&&ct(e.parentNode)||e}if(h)try{return D.apply(n,f.querySelectorAll(h)),n}catch(t){}finally{a===S&&e.removeAttribute("id")}}}return m(t.replace(H,"$1"),e,n,i)}function rt(){var n=[];function i(t,e){return n.push(t+" ")>b.cacheLength&&delete i[n.shift()],i[t+" "]=e}return i}function ot(t){return t[S]=!0,t}function st(t){var e=C.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function at(t,e){for(var n=t.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function lt(s){return ot(function(o){return o=+o,ot(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function ct(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=it.support={},s=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},w=it.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:_;return i!==C&&9===i.nodeType&&i.documentElement&&(a=(C=i).documentElement,E=!s(C),(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",r,!1):n.attachEvent&&n.attachEvent("onunload",r)),p.attributes=st(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=st(function(t){return t.appendChild(C.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=J.test(C.getElementsByClassName),p.getById=st(function(t){return a.appendChild(t).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),p.getById?(b.find.ID=function(t,e){if(void 0!==e.getElementById&&E){var n=e.getElementById(t);return n?[n]:[]}},b.filter.ID=function(t){var e=t.replace(nt,h);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var n=t.replace(nt,h);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),b.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&E)return e.getElementsByClassName(t)},c=[],v=[],(p.qsa=J.test(C.querySelectorAll))&&(st(function(t){a.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+F+"*(?:value|"+$+")"),t.querySelectorAll("[id~="+S+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]")}),st(function(t){var e=C.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+F+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(p.matchesSelector=J.test(d=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&st(function(t){p.disconnectedMatch=d.call(t,"div"),d.call(t,"[s!='']:x"),c.push("!=",j)}),v=v.length&&new RegExp(v.join("|")),c=c.length&&new RegExp(c.join("|")),e=J.test(a.compareDocumentPosition),y=e||J.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return l=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===C||t.ownerDocument===_&&y(_,t)?-1:e===C||e.ownerDocument===_&&y(_,e)?1:u?R(u,t)-R(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return l=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===C?-1:e===C?1:r?-1:o?1:u?R(u,t)-R(u,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ut(s[i],a[i]):s[i]===_?-1:a[i]===_?1:0}),C},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==C&&w(t),e=e.replace(G,"='$1']"),p.matchesSelector&&E&&!N[e+" "]&&(!c||!c.test(e))&&(!v||!v.test(e)))try{var n=d.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,C,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==C&&w(t),y(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==C&&w(t);var n=b.attrHandle[e.toLowerCase()],i=n&&k.call(b.attrHandle,e.toLowerCase())?n(t,e,!E):void 0;return void 0!==i?i:p.attributes||!E?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],i=0,r=0;if(l=!p.detectDuplicates,u=!p.sortStable&&t.slice(0),t.sort(I),l){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return u=null,t},o=it.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(b=it.selectors={cacheLength:50,createPseudo:ot,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,h),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=L[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&L(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=it.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(q," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),_="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,u,l=v!=y?"nextSibling":"previousSibling",c=t.parentNode,h=_&&t.nodeName.toLowerCase(),f=!n&&!_,d=!1;if(c){if(v){for(;l;){for(s=t;s=s[l];)if(_?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;u=l="only"===p&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&f){for(d=(a=(i=(r=(o=(s=c)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===M&&i[1])&&i[2],s=a&&c.childNodes[a];s=++a&&s&&s[l]||(d=a=0)||u.pop();)if(1===s.nodeType&&++d&&s===t){r[p]=[M,a,d];break}}else if(f&&(d=a=(i=(r=(o=(s=t)[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===M&&i[1]),!1===d)for(;(s=++a&&s&&s[l]||(d=a=0)||u.pop())&&((_?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++d||(f&&((r=(o=s[S]||(s[S]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[M,d]),s!==t)););return(d-=m)===g||d%g==0&&0<=d/g}}},PSEUDO:function(t,o){var e,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return s[S]?s(o):1<s.length?(e=[t,t,"",o],b.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=R(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ot(function(t){var i=[],r=[],a=f(t.replace(H,"$1"));return a[S]?ot(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:ot(function(e){return function(t){return 0<it(e,t).length}}),contains:ot(function(e){return e=e.replace(nt,h),function(t){return-1<(t.textContent||t.innerText||o(t)).indexOf(e)}}),lang:ot(function(n){return Y.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(nt,h).toLowerCase(),function(t){var e;do{if(e=E?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:lt(function(){return[0]}),last:lt(function(t,e){return[e-1]}),eq:lt(function(t,e,n){return[n<0?n+e:n]}),even:lt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:lt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:lt(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:lt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function ht(){}function ft(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function dt(a,t,e){var u=t.dir,l=e&&"parentNode"===u,c=i++;return t.first?function(t,e,n){for(;t=t[u];)if(1===t.nodeType||l)return a(t,e,n)}:function(t,e,n){var i,r,o,s=[M,c];if(n){for(;t=t[u];)if((1===t.nodeType||l)&&a(t,e,n))return!0}else for(;t=t[u];)if(1===t.nodeType||l){if((i=(r=(o=t[S]||(t[S]={}))[t.uniqueID]||(o[t.uniqueID]={}))[u])&&i[0]===M&&i[1]===c)return s[2]=i[2];if((r[u]=s)[2]=a(t,e,n))return!0}}}function pt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function gt(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function mt(d,p,g,m,v,t){return m&&!m[S]&&(m=mt(m)),v&&!v[S]&&(v=mt(v,t)),ot(function(t,e,n,i){var r,o,s,a=[],u=[],l=e.length,c=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!d||!t&&p?c:gt(c,a,d,n,i),f=g?v||(t?d:l||m)?[]:e:h;if(g&&g(h,f,n,i),m)for(r=gt(f,u),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(f[u[o]]=!(h[u[o]]=s));if(t){if(v||d){if(v){for(r=[],o=f.length;o--;)(s=f[o])&&r.push(h[o]=s);v(null,f=[],r,i)}for(o=f.length;o--;)(s=f[o])&&-1<(r=v?R(t,s):a[o])&&(t[r]=!(e[r]=s))}}else f=gt(f===e?f.splice(l,f.length):f),v?v(null,e,f,i):D.apply(e,f)})}function vt(m,v){function t(t,e,n,i,r){var o,s,a,u=0,l="0",c=t&&[],h=[],f=x,d=t||_&&b.find.TAG("*",r),p=M+=null==f?1:Math.random()||.1,g=d.length;for(r&&(x=e===C||e||r);l!==g&&null!=(o=d[l]);l++){if(_&&o){for(s=0,e||o.ownerDocument===C||(w(o),n=!E);a=m[s++];)if(a(o,e||C,n)){i.push(o);break}r&&(M=p)}y&&((o=!a&&o)&&u--,t&&c.push(o))}if(u+=l,y&&l!==u){for(s=0;a=v[s++];)a(c,h,e,n);if(t){if(0<u)for(;l--;)c[l]||h[l]||(h[l]=P.call(i));h=gt(h)}D.apply(i,h),r&&!t&&0<h.length&&1<u+v.length&&it.uniqueSort(i)}return r&&(M=p,x=f),c}var y=0<v.length,_=0<m.length;return y?ot(t):t}return ht.prototype=b.filters=b.pseudos,b.setFilters=new ht,g=it.tokenize=function(t,e){var n,i,r,o,s,a,u,l=T[t+" "];if(l)return e?0:l.slice(0);for(s=t,a=[],u=b.preFilter;s;){for(o in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=U.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),b.filter)!(i=X[o].exec(s))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?it.error(t):T(t,a).slice(0)},f=it.compile=function(t,e){var n,i=[],r=[],o=N[t+" "];if(!o){for(n=(e=e||g(t)).length;n--;)(o=function t(e){for(var r,n,i,o=e.length,s=b.relative[e[0].type],a=s||b.relative[" "],u=s?1:0,l=dt(function(t){return t===r},a,!0),c=dt(function(t){return-1<R(r,t)},a,!0),h=[function(t,e,n){var i=!s&&(n||e!==x)||((r=e).nodeType?l:c)(t,e,n);return r=null,i}];u<o;u++)if(n=b.relative[e[u].type])h=[dt(pt(h),n)];else{if((n=b.filter[e[u].type].apply(null,e[u].matches))[S]){for(i=++u;i<o&&!b.relative[e[i].type];i++);return mt(1<u&&pt(h),1<u&&ft(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(H,"$1"),n,u<i&&t(e.slice(u,i)),i<o&&t(e=e.slice(i)),i<o&&ft(e))}h.push(n)}return pt(h)}(e[n]))[S]?i.push(o):r.push(o);(o=N(t,vt(r,i))).selector=t}return o},m=it.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,c=!i&&g(t=l.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&p.getById&&9===e.nodeType&&E&&b.relative[o[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(nt,h),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=X.needsContext.test(t)?0:o.length;r--&&(s=o[r],!b.relative[a=s.type]);)if((u=b.find[a])&&(i=u(s.matches[0].replace(nt,h),tt.test(o[0].type)&&ct(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&ft(o)))return D.apply(n,i),n;break}}return(l||f(t,c))(i,e,!E,n,!e||tt.test(t)&&ct(e.parentNode)||e),n},p.sortStable=S.split("").sort(I).join("")===S,p.detectDuplicates=!!l,w(),p.sortDetached=st(function(t){return 1&t.compareDocumentPosition(C.createElement("div"))}),st(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||at("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&st(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||at("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),st(function(t){return null==t.getAttribute("disabled")})||at($,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),it}(C);S.find=f,S.expr=f.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=f.uniqueSort,S.text=f.getText,S.isXMLDoc=f.isXML,S.contains=f.contains;function d(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(n))break;i.push(t)}return i}function v(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var y=S.expr.match.needsContext,_=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,b=/^.[^:#\[\.,]*$/;function x(t,n,i){if(S.isFunction(n))return S.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return S.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(b.test(n))return S.filter(n,t,i);n=S.filter(n,t)}return S.grep(t,function(t){return-1<r.call(n,t)!==i})}S.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<n;e++)if(S.contains(r[e],this))return!0}));for(e=0;e<n;e++)S.find(t,r[e],i);return(i=this.pushStack(1<n?S.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(x(this,t||[],!1))},not:function(t){return this.pushStack(x(this,t||[],!0))},is:function(t){return!!x(this,"string"==typeof t&&y.test(t)?S(t):t||[],!1).length}});var w,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||w,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):S.isFunction(t)?void 0!==n.ready?n.ready(t):t(S):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),S.makeArray(t,this));if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:M.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:E,!0)),_.test(i[1])&&S.isPlainObject(e))for(i in e)S.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=E.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=E,this.selector=t,this}).prototype=S.fn,w=S(E);var L=/^(?:parents|prev(?:Until|All))/,T={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=y.test(t)||"string"!=typeof t?S(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?r.call(S(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return d(t,"parentNode")},parentsUntil:function(t,e,n){return d(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return d(t,"nextSibling")},prevAll:function(t){return d(t,"previousSibling")},nextUntil:function(t,e,n){return d(t,"nextSibling",n)},prevUntil:function(t,e,n){return d(t,"previousSibling",n)},siblings:function(t){return v((t.parentNode||{}).firstChild,t)},children:function(t){return v(t.firstChild)},contents:function(t){return t.contentDocument||S.merge([],t.childNodes)}},function(i,r){S.fn[i]=function(t,e){var n=S.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=S.filter(e,n)),1<this.length&&(T[i]||S.uniqueSort(n),L.test(i)&&n.reverse()),this.pushStack(n)}});var I,k=/\S+/g;function P(){E.removeEventListener("DOMContentLoaded",P),C.removeEventListener("load",P),S.ready()}S.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},S.each(t.match(k)||[],function(t,e){n[e]=!0}),n):S.extend({},i);function r(){for(a=i.once,s=o=!0;l.length;c=-1)for(e=l.shift();++c<u.length;)!1===u[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=u.length,e=!1);i.memory||(e=!1),o=!1,a&&(u=e?[]:"")}var o,e,s,a,u=[],l=[],c=-1,h={add:function(){return u&&(e&&!o&&(c=u.length-1,l.push(e)),function n(t){S.each(t,function(t,e){S.isFunction(e)?i.unique&&h.has(e)||u.push(e):e&&e.length&&"string"!==S.type(e)&&n(e)})}(arguments),e&&!o&&r()),this},remove:function(){return S.each(arguments,function(t,e){for(var n;-1<(n=S.inArray(e,u,n));)u.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<S.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return a=l=[],u=e="",this},disabled:function(){return!u},lock:function(){return a=l=[],e||(u=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),o||r()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},S.extend({Deferred:function(t){var o=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(t,e){var n=S.isFunction(r[t])&&r[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&S.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===s?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?S.extend(t,s):s}},a={};return s.pipe=s.then,S.each(o,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?c.call(arguments):t,i===r?l.notifyWith(n,i):--u||l.resolveWith(n,i)}}var r,n,i,o=0,s=c.call(arguments),a=s.length,u=1!==a||t&&S.isFunction(t.promise)?a:0,l=1===u?t:S.Deferred();if(1<a)for(r=new Array(a),n=new Array(a),i=new Array(a);o<a;o++)s[o]&&S.isFunction(s[o].promise)?s[o].promise().progress(e(o,n,r)).done(e(o,i,s)).fail(l.reject):--u;return u||l.resolveWith(i,s),l.promise()}}),S.fn.ready=function(t){return S.ready.promise().done(t),this},S.extend({isReady:!1,readyWait:1,holdReady:function(t){t?S.readyWait++:S.ready(!0)},ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||(I.resolveWith(E,[S]),S.fn.triggerHandler&&(S(E).triggerHandler("ready"),S(E).off("ready")))}}),S.ready.promise=function(t){return I||(I=S.Deferred(),"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",P),C.addEventListener("load",P))),I.promise(t)},S.ready.promise();function A(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}var D=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===S.type(n))for(a in r=!0,n)D(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,S.isFunction(i)||(s=!0),l&&(e=s?(e.call(t,i),null):(l=e,function(t,e,n){return l.call(S(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o};function O(){this.expando=S.expando+O.uid++}O.uid=1,O.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!A(t))return{};var e=t[this.expando];return e||(e={},A(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,S.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{n=(i=S.isArray(e)?e.concat(e.map(S.camelCase)):(r=S.camelCase(e),e in o?[e,r]:(i=r)in o?[i]:i.match(k)||[])).length;for(;n--;)delete o[i[n]]}void 0!==e&&!S.isEmptyObject(o)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var R=new O,$=new O,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/[A-Z]/g;function B(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(z,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?S.parseJSON(n):n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return $.hasData(t)||R.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return R.access(t,e,n)},_removeData:function(t,e){R.remove(t,e)}}),S.fn.extend({data:function(i,t){var e,n,r,o=this[0],s=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){$.set(this,i)}):D(this,function(e){var t,n;return o&&void 0===e?void 0!==(t=$.get(o,i)||$.get(o,i.replace(z,"-$&").toLowerCase()))?t:(n=S.camelCase(i),void 0!==(t=$.get(o,n))||void 0!==(t=B(o,n,void 0))?t:void 0):(n=S.camelCase(i),void this.each(function(){var t=$.get(this,n);$.set(this,n,e),-1<i.indexOf("-")&&void 0!==t&&$.set(this,i,e)}))},null,t,1<arguments.length,null,!0);if(this.length&&(r=$.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(n=s[e].name).indexOf("data-")&&(n=S.camelCase(n.slice(5)),B(o,n,r[n]));R.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),S.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=R.get(t,e),n&&(!i||S.isArray(n)?i=R.access(t,e,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),i=n.length,r=n.shift(),o=S._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){S.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return R.get(t,n)||R.access(t,n,{empty:S.Callbacks("once memory").add(function(){R.remove(t,[e+"queue",n])})})}}),S.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===n?this:this.each(function(){var t=S.queue(this,e,n);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=S.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=R.get(s[a],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(e)}});function j(t,e){return t=e||t,"none"===S.css(t,"display")||!S.contains(t.ownerDocument,t)}var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,H=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"];function U(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return S.css(t,e,"")},u=a(),l=n&&n[3]||(S.cssNumber[e]?"":"px"),c=(S.cssNumber[e]||"px"!==l&&+u)&&H.exec(S.css(t,e));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+u||1;c/=o=o||".5",S.style(t,e,c+l),o!==(o=a()/u)&&1!==o&&--s;);return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}var G=/^(?:checkbox|radio)$/i,W=/<([\w:-]+)/,Y=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&S.nodeName(t,e)?S.merge([t],n):n}function K(t,e){for(var n=0,i=t.length;n<i;n++)R.set(t[n],"globalEval",!e||R.get(e[n],"globalEval"))}X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td;var J,Q,tt=/<|&#?\w+;/;function et(t,e,n,i,r){for(var o,s,a,u,l,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===S.type(o))S.merge(f,o.nodeType?[o]:o);else if(tt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(W.exec(o)||["",""])[1].toLowerCase(),u=X[a]||X._default,s.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;S.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(i&&-1<S.inArray(o,i))r&&r.push(o);else if(l=S.contains(o.ownerDocument,o),s=Z(h.appendChild(o),"script"),l&&K(s),n)for(c=0;o=s[c++];)Y.test(o.type||"")&&n.push(o);return h}J=E.createDocumentFragment().appendChild(E.createElement("div")),(Q=E.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),J.appendChild(Q),m.checkClone=J.cloneNode(!0).cloneNode(!0).lastChild.checked,J.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!J.cloneNode(!0).lastChild.defaultValue;var nt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function st(){return!1}function at(){try{return E.activeElement}catch(t){}}function ut(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)ut(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=st;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,r,i,n)})}S.event={global:{},add:function(e,t,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,m=R.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=S.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(k)||[""]).length;l--;)d=g=(a=rt.exec(t[l])||[])[1],p=(a[2]||"").split(".").sort(),d&&(h=S.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=u[d])||((f=u[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(d,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),S.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,d,p,g,m=R.hasData(t)&&R.get(t);if(m&&(u=m.events)){for(l=(e=(e||"").match(k)||[""]).length;l--;)if(d=g=(a=rt.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),d){for(h=S.event.special[d]||{},f=u[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||S.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)S.event.remove(t,d+e[l],n,i,!0);S.isEmptyObject(u)&&R.remove(t,"handle events")}},dispatch:function(t){t=S.event.fix(t);var e,n,i,r,o,s,a=c.call(arguments),u=(R.get(this,"events")||{})[t.type]||[],l=S.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(s=S.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?-1<S(r,this).index(u):S.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=(n=t.target.ownerDocument||E).documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[S.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=it.test(r)?this.mouseHooks:nt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new S.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=E),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===at()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S.nodeName(this,"input"))return this.click(),!1},_default:function(t){return S.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ot:st):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||S.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){S.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||S.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),S.fn.extend({on:function(t,e,n,i){return ut(this,t,e,n,i)},one:function(t,e,n,i){return ut(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=st),this.each(function(){S.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,ft=/^true\/(.*)/,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pt(t,e){return S.nodeName(t,"table")&&S.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function gt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function mt(t){var e=ft.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function vt(t,e){var n,i,r,o,s,a,u,l;if(1===e.nodeType){if(R.hasData(t)&&(o=R.access(t),s=R.set(e,o),l=o.events))for(r in delete s.handle,s.events={},l)for(n=0,i=l[r].length;n<i;n++)S.event.add(e,r,l[r][n]);$.hasData(t)&&(a=$.access(t),u=S.extend({},a),$.set(e,u))}}function yt(n,i,r,o){i=g.apply([],i);var t,e,s,a,u,l,c=0,h=n.length,f=h-1,d=i[0],p=S.isFunction(d);if(p||1<h&&"string"==typeof d&&!m.checkClone&&ht.test(d))return n.each(function(t){var e=n.eq(t);p&&(i[0]=d.call(this,t,e.html())),yt(e,i,r,o)});if(h&&(e=(t=et(i,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=S.map(Z(t,"script"),gt)).length;c<h;c++)u=t,c!==f&&(u=S.clone(u,!0,!0),a&&S.merge(s,Z(u,"script"))),r.call(n[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,S.map(s,mt),c=0;c<a;c++)u=s[c],Y.test(u.type||"")&&!R.access(u,"globalEval")&&S.contains(l,u)&&(u.src?S._evalUrl&&S._evalUrl(u.src):S.globalEval(u.textContent.replace(dt,"")))}return n}function _t(t,e,n){for(var i,r=e?S.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(Z(i)),i.parentNode&&(n&&S.contains(i.ownerDocument,i)&&K(Z(i,"script")),i.parentNode.removeChild(i));return t}S.extend({htmlPrefilter:function(t){return t.replace(lt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u,l,c=t.cloneNode(!0),h=S.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=Z(c),i=0,r=(o=Z(t)).length;i<r;i++)a=o[i],u=s[i],"input"===(l=u.nodeName.toLowerCase())&&G.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||Z(t),s=s||Z(c),i=0,r=o.length;i<r;i++)vt(o[i],s[i]);else vt(t,c);return 0<(s=Z(c,"script")).length&&K(s,!h&&Z(t,"script")),c},cleanData:function(t){for(var e,n,i,r=S.event.special,o=0;void 0!==(n=t[o]);o++)if(A(n)){if(e=n[R.expando]){if(e.events)for(i in e.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,e.handle);n[R.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),S.fn.extend({domManip:yt,detach:function(t){return _t(this,t,!0)},remove:function(t){return _t(this,t)},text:function(t){return D(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pt(this,t).appendChild(t)})},prepend:function(){return yt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=pt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return D(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ct.test(t)&&!X[(W.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return yt(this,arguments,function(t){var e=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(Z(this)),e&&e.replaceChild(t,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){S.fn[t]=function(t){for(var e,n=[],i=S(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),S(i[o])[s](e),a.apply(n,e.get());return this.pushStack(n)}});var bt,xt={HTML:"block",BODY:"block"};function wt(t,e){var n=S(e.createElement(t)).appendTo(e.body),i=S.css(n[0],"display");return n.detach(),i}function Ct(t){var e=E,n=xt[t];return n||("none"!==(n=wt(t,e))&&n||((e=(bt=(bt||S("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=wt(t,e),bt.detach()),xt[t]=n),n}function Et(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r}var St,Mt,Lt,Tt,Nt,It,kt=/^margin/,Pt=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),At=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=C),e.getComputedStyle(t)},Dt=E.documentElement;function Ot(){It.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",It.innerHTML="",Dt.appendChild(Nt);var t=C.getComputedStyle(It);St="1%"!==t.top,Tt="2px"===t.marginLeft,Mt="4px"===t.width,It.style.marginRight="50%",Lt="4px"===t.marginRight,Dt.removeChild(Nt)}function Rt(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||At(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==s||S.contains(t.ownerDocument,t)||(s=S.style(t,e)),n&&!m.pixelMarginRight()&&Pt.test(s)&&kt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0!==s?s+"":s}function $t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Nt=E.createElement("div"),(It=E.createElement("div")).style&&(It.style.backgroundClip="content-box",It.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===It.style.backgroundClip,Nt.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",Nt.appendChild(It),S.extend(m,{pixelPosition:function(){return Ot(),St},boxSizingReliable:function(){return null==Mt&&Ot(),Mt},pixelMarginRight:function(){return null==Mt&&Ot(),Lt},reliableMarginLeft:function(){return null==Mt&&Ot(),Tt},reliableMarginRight:function(){var t,e=It.appendChild(E.createElement("div"));return e.style.cssText=It.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",It.style.width="1px",Dt.appendChild(Nt),t=!parseFloat(C.getComputedStyle(e).marginRight),Dt.removeChild(Nt),It.removeChild(e),t}}));var Ft=/^(none|table(?!-c[ea]).+)/,zt={position:"absolute",visibility:"hidden",display:"block"},Bt={letterSpacing:"0",fontWeight:"400"},jt=["Webkit","O","Moz","ms"],qt=E.createElement("div").style;function Ht(t){if(t in qt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=jt.length;n--;)if((t=jt[n]+e)in qt)return t}function Vt(t,e,n){var i=H.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Ut(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=S.css(t,n+V[o],!0,r)),i?("content"===n&&(s-=S.css(t,"padding"+V[o],!0,r)),"margin"!==n&&(s-=S.css(t,"border"+V[o]+"Width",!0,r))):(s+=S.css(t,"padding"+V[o],!0,r),"padding"!==n&&(s+=S.css(t,"border"+V[o]+"Width",!0,r)));return s}function Gt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=At(t),s="border-box"===S.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Rt(t,e,o))<0||null==r)&&(r=t.style[e]),Pt.test(r))return r;i=s&&(m.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Ut(t,e,n||(s?"border":"content"),i,o)+"px"}function Wt(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=R.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&j(i)&&(o[s]=R.access(i,"olddisplay",Ct(i.nodeName)))):(r=j(i),"none"===n&&r||R.set(i,"olddisplay",r?n:S.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function Yt(t,e,n,i,r){return new Yt.prototype.init(t,e,n,i,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Rt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=S.camelCase(e),u=t.style;if(e=S.cssProps[a]||(S.cssProps[a]=Ht(a)||a),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=H.exec(n))&&r[1]&&(n=U(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=S.camelCase(e);return e=S.cssProps[a]||(S.cssProps[a]=Ht(a)||a),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Rt(t,e,i)),"normal"===r&&e in Bt&&(r=Bt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],function(t,s){S.cssHooks[s]={get:function(t,e,n){if(e)return Ft.test(S.css(t,"display"))&&0===t.offsetWidth?Et(t,zt,function(){return Gt(t,s,n)}):Gt(t,s,n)},set:function(t,e,n){var i,r=n&&At(t),o=n&&Ut(t,s,n,"border-box"===S.css(t,"boxSizing",!1,r),r);return o&&(i=H.exec(e))&&"px"!==(i[3]||"px")&&(t.style[s]=e,e=S.css(t,s)),Vt(0,e,o)}}}),S.cssHooks.marginLeft=$t(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Rt(t,"marginLeft"))||t.getBoundingClientRect().left-Et(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.cssHooks.marginRight=$t(m.reliableMarginRight,function(t,e){if(e)return Et(t,{display:"inline-block"},Rt,[t,"marginRight"])}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+V[e]+o]=i[e]||i[e-2]||i[0];return n}},kt.test(r)||(S.cssHooks[r+o].set=Vt)}),S.fn.extend({css:function(t,e){return D(this,function(t,e,n){var i,r,o={},s=0;if(S.isArray(e)){for(i=At(t),r=e.length;s<r;s++)o[e[s]]=S.css(t,e[s],!1,i);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)},t,e,1<arguments.length)},show:function(){return Wt(this,!0)},hide:function(){return Wt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){j(this)?S(this).show():S(this).hide()})}}),(S.Tween=Yt).prototype={constructor:Yt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=Yt.propHooks[this.prop];return t&&t.get?t.get(this):Yt.propHooks._default.get(this)},run:function(t){var e,n=Yt.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yt.propHooks._default.set(this),this}},Yt.prototype.init.prototype=Yt.prototype,Yt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[S.cssProps[t.prop]]&&!S.cssHooks[t.prop]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},Yt.propHooks.scrollTop=Yt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=Yt.prototype.init,S.fx.step={};var Xt,Zt,Kt,Jt,Qt,te=/^(?:toggle|show|hide)$/,ee=/queueHooks$/;function ne(){return C.setTimeout(function(){Xt=void 0}),Xt=S.now()}function ie(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=V[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function re(t,e,n){for(var i,r=(oe.tweeners[e]||[]).concat(oe.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function oe(o,t,e){var n,s,i=0,r=oe.prefilters.length,a=S.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var t=Xt||ne(),e=Math.max(0,l.startTime+l.duration-t),n=1-(e/l.duration||0),i=0,r=l.tweens.length;i<r;i++)l.tweens[i].run(n);return a.notifyWith(o,[l,n,e]),n<1&&r?e:(a.resolveWith(o,[l]),!1)},l=a.promise({elem:o,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},e),originalProperties:t,originalOptions:e,startTime:Xt||ne(),duration:e.duration,tweens:[],createTween:function(t,e){var n=S.Tween(o,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){var e=0,n=t?l.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)l.tweens[e].run(1);return t?(a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l,t])):a.rejectWith(o,[l,t]),this}}),c=l.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=S.camelCase(n)],o=t[n],S.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=S.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,l.opts.specialEasing);i<r;i++)if(n=oe.prefilters[i].call(l,o,c,l.opts))return S.isFunction(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=S.proxy(n.stop,n)),n;return S.map(c,re,l),S.isFunction(l.opts.start)&&l.opts.start.call(o,l),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}S.Animation=S.extend(oe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return U(n.elem,t,H.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=S.isFunction(t)?(e=t,["*"]):t.match(k)).length;i<r;i++)n=t[i],oe.tweeners[n]=oe.tweeners[n]||[],oe.tweeners[n].unshift(e)},prefilters:[function(e,t,n){var i,r,o,s,a,u,l,c=this,h={},f=e.style,d=e.nodeType&&j(e),p=R.get(e,"fxshow");for(i in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(l=S.css(e,"display"))?R.get(e,"olddisplay")||Ct(e.nodeName):l)&&"none"===S.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),t)if(r=t[i],te.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;d=!0}h[i]=p&&p[i]||S.style(e,i)}else l=void 0;if(S.isEmptyObject(h))"inline"===("none"===l?Ct(e.nodeName):l)&&(f.display=l);else for(i in p?"hidden"in p&&(d=p.hidden):p=R.access(e,"fxshow",{}),o&&(p.hidden=!d),d?S(e).show():c.done(function(){S(e).hide()}),c.done(function(){var t;for(t in R.remove(e,"fxshow"),h)S.style(e,t,h[t])}),h)s=re(d?p[i]:0,i,c),i in p||(p[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?oe.prefilters.unshift(t):oe.prefilters.push(t)}}),S.speed=function(t,e,n){var i=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||S.isFunction(t)&&t,duration:t,easing:n&&e||e&&!S.isFunction(e)&&e};return i.duration=S.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in S.fx.speeds?S.fx.speeds[i.duration]:S.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){S.isFunction(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,n,i){return this.filter(j).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function r(){var t=oe(this,S.extend({},e),s);(o||R.get(this,"finish"))&&t.stop(!0)}var o=S.isEmptyObject(e),s=S.speed(t,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=S.timers,i=R.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&ee.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||S.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=R.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=S.timers,o=n?n.length:0;for(e.finish=!0,S.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,i){var r=S.fn[i];S.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(ie(i,!0),t,e,n)}}),S.each({slideDown:ie("show"),slideUp:ie("hide"),slideToggle:ie("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){S.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(Xt=S.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),Xt=void 0},S.fx.timer=function(t){S.timers.push(t),t()?S.fx.start():S.timers.pop()},S.fx.interval=13,S.fx.start=function(){Zt=Zt||C.setInterval(S.fx.tick,S.fx.interval)},S.fx.stop=function(){C.clearInterval(Zt),Zt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,t){return i=S.fx&&S.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=C.setTimeout(t,i);e.stop=function(){C.clearTimeout(n)}})},Kt=E.createElement("input"),Jt=E.createElement("select"),Qt=Jt.appendChild(E.createElement("option")),Kt.type="checkbox",m.checkOn=""!==Kt.value,m.optSelected=Qt.selected,Jt.disabled=!0,m.optDisabled=!Qt.disabled,(Kt=E.createElement("input")).value="t",Kt.type="radio",m.radioValue="t"===Kt.value;var se,ae=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return D(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(e=e.toLowerCase(),r=S.attrHooks[e]||(S.expr.match.bool.test(e)?se:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):!(r&&"get"in r&&null!==(i=r.get(t,e)))&&null==(i=S.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&S.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(k);if(o&&1===t.nodeType)for(;n=o[r++];)i=S.propFix[n]||n,S.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),se={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ae[e]||S.find.attr;ae[e]=function(t,e,n){var i,r;return n||(r=ae[e],ae[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,ae[e]=r),i}});var ue=/^(?:input|select|textarea|button)$/i,le=/^(?:a|area)$/i;S.fn.extend({prop:function(t,e){return D(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||le.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});var ce=/[\t\r\n\f]/g;function he(t){return t.getAttribute&&t.getAttribute("class")||""}S.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,u=0;if(S.isFunction(e))return this.each(function(t){S(this).addClass(e.call(this,t,he(this)))});if("string"==typeof e&&e)for(t=e.match(k)||[];n=this[u++];)if(r=he(n),i=1===n.nodeType&&(" "+r+" ").replace(ce," ")){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=S.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,u=0;if(S.isFunction(e))return this.each(function(t){S(this).removeClass(e.call(this,t,he(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(k)||[];n=this[u++];)if(r=he(n),i=1===n.nodeType&&(" "+r+" ").replace(ce," ")){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=S.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"==o?e?this.addClass(r):this.removeClass(r):S.isFunction(r)?this.each(function(t){S(this).toggleClass(r.call(this,t,he(this),e),e)}):this.each(function(){var t,e,n,i;if("string"==o)for(e=0,n=S(this),i=r.match(k)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!=o||((t=he(this))&&R.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&R.get(this,"__className__")||""))})},hasClass:function(t){for(var e,n=0,i=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+he(e)+" ").replace(ce," ").indexOf(i))return!0;return!1}});var fe=/\r/g,de=/[\x20\t\r\n\f]+/g;S.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=S.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,S(this).val()):n)?e="":"number"==typeof e?e+="":S.isArray(e)&&(e=S.map(e,function(t){return null==t?"":t+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=S.valHooks[e.type]||S.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(fe,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:S.trim(S.text(t)).replace(de," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,u=r<0?a:o?r:0;u<a;u++)if(((n=i[u]).selected||u===r)&&(m.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!S.nodeName(n.parentNode,"optgroup"))){if(e=S(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=S.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(S.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},m.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var pe=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(t,e,n,i){var r,o,s,a,u,l,c=[n||E],h=p.call(t,"type")?t.type:t,f=p.call(t,"namespace")?t.namespace.split("."):[],d=o=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!pe.test(h+S.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),a=h.indexOf(":")<0&&"on"+h,(t=t[S.expando]?t:new S.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),l=S.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!S.isWindow(n)){for(s=l.delegateType||h,pe.test(s+h)||(d=d.parentNode);d;d=d.parentNode)c.push(d),o=d;o===(n.ownerDocument||E)&&c.push(o.defaultView||o.parentWindow||C)}for(r=0;(d=c[r++])&&!t.isPropagationStopped();)t.type=1<r?s:l.bindType||h,(u=(R.get(d,"events")||{})[t.type]&&R.get(d,"handle"))&&u.apply(d,e),(u=a&&d[a])&&u.apply&&A(d)&&(t.result=u.apply(d,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(c.pop(),e)||!A(n)||a&&S.isFunction(n[h])&&!S.isWindow(n)&&((o=n[a])&&(n[a]=null),n[S.event.triggered=h](),S.event.triggered=void 0,o&&(n[a]=o)),t.result}},simulate:function(t,e,n){var i=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(i,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){S.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),m.focusin="onfocusin"in C,m.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,i){function r(t){S.event.simulate(i,t.target,S.event.fix(t))}S.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=R.access(t,i);e||t.addEventListener(n,r,!0),R.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=R.access(t,i)-1;e?R.access(t,i,e):(t.removeEventListener(n,r,!0),R.remove(t,i))}}});var ge=C.location,me=S.now(),ve=/\?/;S.parseJSON=function(t){return JSON.parse(t+"")},S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new C.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var ye=/#.*$/,_e=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,xe=/^(?:GET|HEAD)$/,we=/^\/\//,Ce={},Ee={},Se="*/".concat("*"),Me=E.createElement("a");function Le(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(k)||[];if(S.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Te(e,r,o,s){var a={},u=e===Ee;function l(t){var i;return a[t]=!0,S.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||u||a[n]?u?!(i=n):void 0:(r.dataTypes.unshift(n),l(n),!1)}),i}return l(r.dataTypes[0])||!a["*"]&&l("*")}function Ne(t,e){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&S.extend(!0,t,i),t}Me.href=ge.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Se,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ne(Ne(t,S.ajaxSettings),e):Ne(S.ajaxSettings,t)},ajaxPrefilter:Le(Ce),ajaxTransport:Le(Ee),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,h,f,n,d,i,p,r,g=S.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?S(m):S.event,y=S.Deferred(),_=S.Callbacks("once memory"),b=g.statusCode||{},o={},s={},x=0,a="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!n)for(n={};e=be.exec(f);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?f:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=s[n]=s[n]||t,o[t]=e),this},overrideMimeType:function(t){return x||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)b[e]=[b[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||a;return c&&c.abort(e),u(0,e),this}};if(y.promise(w).complete=_.add,w.success=w.done,w.error=w.fail,g.url=((t||g.url||ge.href)+"").replace(ye,"").replace(we,ge.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=S.trim(g.dataType||"*").toLowerCase().match(k)||[""],null==g.crossDomain){i=E.createElement("a");try{i.href=g.url,i.href,g.crossDomain=Me.protocol+"//"+Me.host!=i.protocol+"//"+i.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),Te(Ce,g,e,w),2===x)return w;for(r in(p=S.event&&g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!xe.test(g.type),h=g.url,g.hasContent||(g.data&&(h=g.url+=(ve.test(h)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=_e.test(h)?h.replace(_e,"$1_="+me++):h+(ve.test(h)?"&":"?")+"_="+me++)),g.ifModified&&(S.lastModified[h]&&w.setRequestHeader("If-Modified-Since",S.lastModified[h]),S.etag[h]&&w.setRequestHeader("If-None-Match",S.etag[h])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Se+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,w,g)||2===x))return w.abort();for(r in a="abort",{success:1,error:1,complete:1})w[r](g[r]);if(c=Te(Ee,g,e,w)){if(w.readyState=1,p&&v.trigger("ajaxSend",[w,g]),2===x)return w;g.async&&0<g.timeout&&(d=C.setTimeout(function(){w.abort("timeout")},g.timeout));try{x=1,c.send(o,u)}catch(t){if(!(x<2))throw t;u(-1,t)}}else u(-1,"No Transport");function u(t,e,n,i){var r,o,s,a,u,l=e;2!==x&&(x=2,d&&C.clearTimeout(d),c=void 0,f=i||"",w.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(g,w,n)),a=function(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[r]:!0!==l[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(g,a,w,r),r?(g.ifModified&&((u=w.getResponseHeader("Last-Modified"))&&(S.lastModified[h]=u),(u=w.getResponseHeader("etag"))&&(S.etag[h]=u)),204===t||"HEAD"===g.type?l="nocontent":304===t?l="notmodified":(l=a.state,o=a.data,r=!(s=a.error))):(s=l,!t&&l||(l="error",t<0&&(t=0))),w.status=t,w.statusText=(e||l)+"",r?y.resolveWith(m,[o,l,w]):y.rejectWith(m,[w,l,s]),w.statusCode(b),b=void 0,p&&v.trigger(r?"ajaxSuccess":"ajaxError",[w,g,r?o:s]),_.fireWith(m,[w,l]),p&&(v.trigger("ajaxComplete",[w,g]),--S.active||S.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,r){S[r]=function(t,e,n,i){return S.isFunction(e)&&(i=i||n,n=e,e=void 0),S.ajax(S.extend({url:t,type:r,dataType:i,data:e,success:n},S.isPlainObject(t)&&t))}}),S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return S.isFunction(e)?this.each(function(t){S(this).wrapAll(e.call(this,t))}):(this[0]&&(t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return S.isFunction(n)?this.each(function(t){S(this).wrapInner(n.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=S.isFunction(e);return this.each(function(t){S(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()}}),S.expr.filters.hidden=function(t){return!S.expr.filters.visible(t)},S.expr.filters.visible=function(t){return 0<t.offsetWidth||0<t.offsetHeight||0<t.getClientRects().length};var Ie=/%20/g,ke=/\[\]$/,Pe=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;S.param=function(t,e){function n(t,e){e=S.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}var i,r=[];if(void 0===e&&(e=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){n(this.name,this.value)});else for(i in t)!function n(i,t,r,o){var e;if(S.isArray(t))S.each(t,function(t,e){r||ke.test(i)?o(i,e):n(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,o)});else if(r||"object"!==S.type(t))o(i,t);else for(e in t)n(i+"["+e+"]",t[e],r,o)}(i,t[i],e,n);return r.join("&").replace(Ie,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&De.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!G.test(t))}).map(function(t,e){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}}):{name:e.name,value:n.replace(Pe,"\r\n")}}).get()}}),S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(t){}};var Oe={0:200,1223:204},Re=S.ajaxSettings.xhr();m.cors=!!Re&&"withCredentials"in Re,m.ajax=Re=!!Re,S.ajaxTransport(function(r){var o,s;if(m.cors||Re&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Oe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&C.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=S("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),E.head.appendChild(i[0])},abort:function(){r&&r()}}});var $e=[],Fe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||S.expando+"_"+me++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(Fe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=S.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Fe,"$1"+i):!1!==t.jsonp&&(t.url+=(ve.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=C[i],C[i]=function(){o=arguments},n.always(function(){void 0===r?S(C).removeProp(i):C[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,$e.push(i)),o&&S.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),S.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||E;var i=_.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=et([t],e,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes))};var ze=S.fn.load;function Be(t){return S.isWindow(t)?t:9===t.nodeType&&t.defaultView}S.fn.load=function(t,e,n){if("string"!=typeof t&&ze)return ze.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=S.trim(t.slice(a)),t=t.slice(0,a)),S.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<s.length&&S.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.expr.filters.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l=S.css(t,"position"),c=S(t),h={};"static"===l&&(t.style.position="relative"),a=c.offset(),o=S.css(t,"top"),u=S.css(t,"left"),r=("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(s=(i=c.position()).top,i.left):(s=parseFloat(o)||0,parseFloat(u)||0),S.isFunction(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,S.contains(t,i)?(r=i.getBoundingClientRect(),n=Be(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===S.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),S.nodeName(t[0],"html")||(i=t.offset()),i.top+=S.css(t[0],"borderTopWidth",!0),i.left+=S.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-S.css(n,"marginTop",!0),left:e.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||Dt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;S.fn[e]=function(t){return D(this,function(t,e,n){var i=Be(t);if(void 0===n)return i?i[r]:t[e];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),S.each(["top","left"],function(t,n){S.cssHooks[n]=$t(m.pixelPosition,function(t,e){if(e)return e=Rt(t,n),Pt.test(e)?S(t).position()[n]+"px":e})}),S.each({Height:"height",Width:"width"},function(o,s){S.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,t){S.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return D(this,function(t,e,n){var i;return S.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?S.css(t,e,r):S.style(t,e,n,r)},s,n?t:void 0,n,null)}})}),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),S.fn.andSelf=S.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var je=C.jQuery,qe=C.$;return S.noConflict=function(t){return C.$===S&&(C.$=qe),t&&C.jQuery===S&&(C.jQuery=je),S},t||(C.jQuery=C.$=S),S}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(C){C.ui=C.ui||{};C.ui.version="1.12.1";var r,n=0,a=Array.prototype.slice;C.cleanData=(r=C.cleanData,function(t){for(var e,n,i=0;null!=(n=t[i]);i++)try{(e=C._data(n,"events"))&&e.remove&&C(n).triggerHandler("remove")}catch(t){}r(t)}),C.widget=function(t,n,e){var i,r,o,s={},a=t.split(".")[0],u=a+"-"+(t=t.split(".")[1]);return e||(e=n,n=C.Widget),C.isArray(e)&&(e=C.extend.apply(null,[{}].concat(e))),C.expr[":"][u.toLowerCase()]=function(t){return!!C.data(t,u)},C[a]=C[a]||{},i=C[a][t],r=C[a][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},C.extend(r,i,{version:e.version,_proto:C.extend({},e),_childConstructors:[]}),(o=new n).options=C.widget.extend({},o.options),C.each(e,function(e,i){function r(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}C.isFunction(i)?s[e]=function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}:s[e]=i}),r.prototype=C.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||t},s,{constructor:r,namespace:a,widgetName:t,widgetFullName:u}),i?(C.each(i._childConstructors,function(t,e){var n=e.prototype;C.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),C.widget.bridge(t,r),r},C.widget.extend=function(t){for(var e,n,i=a.call(arguments,1),r=0,o=i.length;r<o;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&void 0!==n&&(C.isPlainObject(n)?t[e]=C.isPlainObject(t[e])?C.widget.extend({},t[e],n):C.widget.extend({},n):t[e]=n);return t},C.widget.bridge=function(o,e){var s=e.prototype.widgetFullName||o;C.fn[o]=function(n){var t="string"==typeof n,i=a.call(arguments,1),r=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=C.data(this,s);return"instance"===n?(r=e,!1):e?C.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:C.error("no such method '"+n+"' for "+o+" widget instance"):C.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=void 0:(i.length&&(n=C.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=C.data(this,s);t?(t.option(n||{}),t._init&&t._init()):C.data(this,s,new e(n,this))})),r}},C.Widget=function(){},C.Widget._childConstructors=[],C.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=C(e||this.defaultElement||this)[0],this.element=C(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=C(),this.hoverable=C(),this.focusable=C(),this.classesElementLookup={},e!==this&&(C.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=C(e.style?e.ownerDocument:e.document||e),this.window=C(this.document[0].defaultView||this.document[0].parentWindow)),this.options=C.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:C.noop,_create:C.noop,_init:C.noop,destroy:function(){var n=this;this._destroy(),C.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:C.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,o=t;if(0===arguments.length)return C.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(n=t.split(".")).shift(),n.length){for(i=o[t]=C.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=C(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){var o=[],s=this;function t(t,e){for(var n,i=0;i<t.length;i++)n=s.classesElementLookup[t[i]]||C(),n=r.add?C(C.unique(n.get().concat(r.element.get()))):C(n.not(r.element).get()),s.classesElementLookup[t[i]]=n,o.push(t[i]),e&&r.classes[t[i]]&&o.push(r.classes[t[i]])}return r=C.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&t(r.keys.match(/\S+/g)||[],!0),r.extra&&t(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;C.each(i.classesElementLookup,function(t,e){-1!==C.inArray(n.target,e)&&(i.classesElementLookup[t]=C(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(s,a,t){var u,l=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=u=C(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,u=this.widget()),C.each(t,function(t,e){function n(){if(s||!0!==l.options.disabled&&!C(this).hasClass("ui-state-disabled"))return("string"==typeof e?l[e]:e).apply(l,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||C.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+l.eventNamespace,o=i[2];o?u.on(r,o,n):a.on(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=C(this.bindings.not(t).get()),this.focusable=C(this.focusable.not(t).get()),this.hoverable=C(this.hoverable.not(t).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(C(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(C(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(C(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(C(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,r,o=this.options[t];if(n=n||{},(e=C.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(C.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},C.each({show:"fadeIn",hide:"fadeOut"},function(o,s){C.Widget.prototype["_"+o]=function(e,t,n){var i;"string"==typeof t&&(t={effect:t});var r=t?!0!==t&&"number"!=typeof t&&t.effect||s:o;"number"==typeof(t=t||{})&&(t={duration:t}),i=!C.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&C.effects&&C.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){C(this)[o](),n&&n.call(e[0]),t()})}});var o,w,E,i,s,u,l,c,S;C.widget;function M(t,e,n){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?n/100:1)]}function L(t,e){return parseInt(C.css(t,e),10)||0}w=Math.max,E=Math.abs,i=/left|center|right/,s=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,S=C.fn.position,C.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,e,n=C("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return C("body").append(n),t=i.offsetWidth,n.css("overflow","scroll"),t===(e=i.offsetWidth)&&(e=n[0].clientWidth),n.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?C.position.scrollbarWidth():0,height:i?C.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=C(t||window),n=C.isWindow(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:!n&&!i?C(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},C.fn.position=function(h){if(!h||!h.of)return S.apply(this,arguments);h=C.extend({},h);var f,d,p,g,m,t,e,v=C(h.of),y=C.position.getWithinInfo(h.within),_=C.position.getScrollInfo(y),b=(h.collision||"flip").split(" "),x={},n=9===(e=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:C.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()};return v[0].preventDefault&&(h.at="left top"),d=n.width,p=n.height,g=n.offset,m=C.extend({},g),C.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",t=u.exec(n[0]),e=u.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],h[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===h.at[0]?m.left+=d:"center"===h.at[0]&&(m.left+=d/2),"bottom"===h.at[1]?m.top+=p:"center"===h.at[1]&&(m.top+=p/2),f=M(x.at,d,p),m.left+=f[0],m.top+=f[1],this.each(function(){var n,t,s=C(this),a=s.outerWidth(),u=s.outerHeight(),e=L(this,"marginLeft"),i=L(this,"marginTop"),r=a+e+L(this,"marginRight")+_.width,o=u+i+L(this,"marginBottom")+_.height,l=C.extend({},m),c=M(x.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?l.left-=a:"center"===h.my[0]&&(l.left-=a/2),"bottom"===h.my[1]?l.top-=u:"center"===h.my[1]&&(l.top-=u/2),l.left+=c[0],l.top+=c[1],n={marginLeft:e,marginTop:i},C.each(["left","top"],function(t,e){C.ui.position[b[t]]&&C.ui.position[b[t]][e](l,{targetWidth:d,targetHeight:p,elemWidth:a,elemHeight:u,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[f[0]+c[0],f[1]+c[1]],my:h.my,at:h.at,within:y,elem:s})}),h.using&&(t=function(t){var e=g.left-l.left,n=e+d-a,i=g.top-l.top,r=i+p-u,o={target:{element:v,left:g.left,top:g.top,width:d,height:p},element:{element:s,left:l.left,top:l.top,width:a,height:u},horizontal:n<0?"left":0<e?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};d<a&&E(e+n)<d&&(o.horizontal="center"),p<u&&E(i+r)<p&&(o.vertical="middle"),w(E(e),E(n))>w(E(i),E(r))?o.important="horizontal":o.important="vertical",h.using.call(this,t,o)}),s.offset(C.extend(l,{using:t}))})},C.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,a=r-s,u=s+e.collisionWidth-o-r;e.collisionWidth>o?0<a&&u<=0?(n=t.left+a+e.collisionWidth-o-r,t.left+=a-n):t.left=!(0<u&&a<=0)&&u<a?r+o-e.collisionWidth:r:0<a?t.left+=a:0<u?t.left-=u:t.left=w(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,a=r-s,u=s+e.collisionHeight-o-r;e.collisionHeight>o?0<a&&u<=0?(n=t.top+a+e.collisionHeight-o-r,t.top+=a-n):t.top=!(0<u&&a<=0)&&u<a?r+o-e.collisionHeight:r:0<a?t.top+=a:0<u?t.top-=u:t.top=w(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,l=u-a,c=u+e.collisionWidth-s-a,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];l<0?((n=t.left+h+f+d+e.collisionWidth-s-o)<0||n<E(l))&&(t.left+=h+f+d):0<c&&(0<(i=t.left-e.collisionPosition.marginLeft+h+f+d-a)||E(i)<c)&&(t.left+=h+f+d)},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,a=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,l=u-a,c=u+e.collisionHeight-s-a,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,d=-2*e.offset[1];l<0?((i=t.top+h+f+d+e.collisionHeight-s-o)<0||i<E(l))&&(t.top+=h+f+d):0<c&&(0<(n=t.top-e.collisionPosition.marginTop+h+f+d-a)||E(n)<c)&&(t.top+=h+f+d)}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}};C.ui.position,C.extend(C.expr[":"],{data:C.expr.createPseudo?C.expr.createPseudo(function(e){return function(t){return!!C.data(t,e)}}):function(t,e,n){return!!C.data(t,n[3])}}),C.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t,h,f,d,p,e,g,m,v,y,_,b,x,T,N,I,k,P,A,D,O,R,$="ui-effects-",F="ui-effects-style",z="ui-effects-animated",B=C;function j(t,e,n){var i=v[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:t<0?0:i.max<t?i.max:t)}function q(s){var a=g(),u=a._rgba=[];return s=s.toLowerCase(),b(e,function(t,e){var n,i=e.re.exec(s),r=i&&e.parse(i),o=e.space||"rgba";if(r)return n=a[o](r),a[m[o].cache]=n[m[o].cache],u=a._rgba=n._rgba,!1}),u.length?("0,0,0,0"===u.join()&&h.extend(u,d.transparent),a):d[s]}function H(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function V(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[e=i[n]]&&(r[C.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(r[e]=i[e]);return r}function U(t,e,n,i){return C.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),C.isFunction(e)&&(i=e,n=null,e={}),"number"!=typeof e&&!C.fx.speeds[e]||(i=n,n=e,e={}),C.isFunction(n)&&(i=n,n=null),e&&C.extend(t,e),n=n||e.duration,t.duration=C.fx.off?0:"number"==typeof n?n:n in C.fx.speeds?C.fx.speeds[n]:C.fx.speeds._default,t.complete=i||e.complete,t}function G(t){return!t||"number"==typeof t||C.fx.speeds[t]||("string"==typeof t&&!C.effects.effect[t]||(C.isFunction(t)||"object"==typeof t&&!t.effect))}function W(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}C.effects={effect:{}},p=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],g=(h=B).Color=function(t,e,n,i){return new h.Color.fn.parse(t,e,n,i)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},v={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},y=g.support={},_=h("<p>")[0],b=h.each,_.style.cssText="background-color:rgba(1,1,1,.5)",y.rgba=-1<_.style.backgroundColor.indexOf("rgba"),b(m,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),g.fn=h.extend(g.prototype,{parse:function(r,t,e,n){if(r===f)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=h(r).css(t),t=f);var o=this,i=h.type(r),s=this._rgba=[];return t!==f&&(r=[r,t,e,n],i="array"),"string"===i?this.parse(q(r)||d._default):"array"===i?(b(m.rgba.props,function(t,e){s[e.idx]=j(r[e.idx],e)}),this):"object"===i?(b(m,r instanceof g?function(t,e){r[e.cache]&&(o[e.cache]=r[e.cache].slice())}:function(t,n){var i=n.cache;b(n.props,function(t,e){if(!o[i]&&n.to){if("alpha"===t||null==r[t])return;o[i]=n.to(o._rgba)}o[i][e.idx]=j(r[t],e,!0)}),o[i]&&h.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(t){var r=g(t),o=!0,s=this;return b(m,function(t,e){var n,i=r[e.cache];return i&&(n=s[e.cache]||e.to&&e.to(s._rgba)||[],b(e.props,function(t,e){if(null!=i[e.idx])return o=i[e.idx]===n[e.idx]})),o}),o},_space:function(){var n=[],i=this;return b(m,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function(t,s){var e=(l=g(t))._space(),n=m[e],i=0===this.alpha()?g("transparent"):this,a=i[n.cache]||n.to(i._rgba),u=a.slice(),l=l[n.cache];return b(n.props,function(t,e){var n=e.idx,i=a[n],r=l[n],o=v[e.type]||{};null!==r&&(null===i?u[n]=r:(o.mod&&(o.mod/2<r-i?i+=o.mod:o.mod/2<i-r&&(i-=o.mod)),u[n]=j((r-i)*s+i,e)))}),this[e](u)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),n=e.pop(),i=g(t)._rgba;return g(h.map(e,function(t,e){return(1-n)*i[e]+n*t}))},toRgbaString:function(){var t="rgba(",e=h.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=h.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),n=e.pop();return t&&e.push(~~(255*n)),"#"+h.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),g.fn.parse.prototype=g.fn,m.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=t[3],o=Math.max(e,n,i),s=Math.min(e,n,i),a=o-s,u=o+s,l=.5*u,c=s===o?0:e===o?60*(n-i)/a+360:n===o?60*(i-e)/a+120:60*(e-n)/a+240,h=0==a?0:l<=.5?a/u:a/(2-u);return[Math.round(c)%360,h,l,null==r?1:r]},m.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*H(s,o,e+1/3)),Math.round(255*H(s,o,e)),Math.round(255*H(s,o,e-1/3)),r]},b(m,function(u,t){var n=t.props,s=t.cache,a=t.to,l=t.from;g.fn[u]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===f)return this[s].slice();var e,i=h.type(t),r="array"===i||"object"===i?t:arguments,o=this[s].slice();return b(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=o[e.idx]),o[e.idx]=j(n,e)}),l?((e=g(l(o)))[s]=o,e):g(o)},b(n,function(s,a){g.fn[s]||(g.fn[s]=function(t){var e,n=h.type(t),i="alpha"===s?this._hsla?"hsla":"rgba":u,r=this[i](),o=r[a.idx];return"undefined"===n?o:("function"===n&&(t=t.call(this,o),n=h.type(t)),null==t&&a.empty?this:("string"===n&&(e=p.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),r[a.idx]=t,this[i](r)))})})}),g.hook=function(t){var e=t.split(" ");b(e,function(t,o){h.cssHooks[o]={set:function(t,e){var n,i,r="";if("transparent"!==e&&("string"!==h.type(e)||(n=q(e)))){if(e=g(n||e),!y.rgba&&1!==e._rgba[3]){for(i="backgroundColor"===o?t.parentNode:t;(""===r||"transparent"===r)&&i&&i.style;)try{r=h.css(i,"backgroundColor"),i=i.parentNode}catch(t){}e=e.blend(r&&"transparent"!==r?r:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},h.fx.step[o]=function(t){t.colorInit||(t.start=g(t.elem,o),t.end=g(t.end),t.colorInit=!0),h.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})},g.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),h.cssHooks.borderColor={expand:function(n){var i={};return b(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},d=h.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},I=["add","remove","toggle"],k={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},C.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){C.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(B.style(t.elem,e,t.end),t.setAttr=!0)}}),C.fn.addBack||(C.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),C.effects.animateClass=function(r,t,e,n){var o=C.speed(t,e,n);return this.queue(function(){var n=C(this),t=n.attr("class")||"",e=(e=o.children?n.find("*").addBack():n).map(function(){return{el:C(this),start:V(this)}}),i=function(){C.each(I,function(t,e){r[e]&&n[e+"Class"](r[e])})};i(),e=e.map(function(){return this.end=V(this.el[0]),this.diff=function(t,e){var n,i,r={};for(n in e)i=e[n],t[n]!==i&&(k[n]||!C.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",t),e=e.map(function(){var t=this,e=C.Deferred(),n=C.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,n),e.promise()}),C.when.apply(C,e.get()).done(function(){i(),C.each(arguments,function(){var e=this.el;C.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(n[0])})})},C.fn.extend({addClass:(N=C.fn.addClass,function(t,e,n,i){return e?C.effects.animateClass.call(this,{add:t},e,n,i):N.apply(this,arguments)}),removeClass:(T=C.fn.removeClass,function(t,e,n,i){return 1<arguments.length?C.effects.animateClass.call(this,{remove:t},e,n,i):T.apply(this,arguments)}),toggleClass:(x=C.fn.toggleClass,function(t,e,n,i,r){return"boolean"==typeof e||void 0===e?n?C.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):x.apply(this,arguments):C.effects.animateClass.call(this,{toggle:t},e,n,i)}),switchClass:function(t,e,n,i,r){return C.effects.animateClass.call(this,{add:e,remove:t},n,i,r)}}),C.expr&&C.expr.filters&&C.expr.filters.animated&&(C.expr.filters.animated=(P=C.expr.filters.animated,function(t){return!!C(t).data(z)||P(t)})),!1!==C.uiBackCompat&&C.extend(C.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data($+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data($+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=C("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return n.wrap(t),n[0]!==r&&!C.contains(n[0],r)||C(r).trigger("focus"),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(C.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),C.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(e),t.css(i).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!C.contains(t[0],e)||C(e).trigger("focus")),t}}),C.extend(C.effects,{version:"1.12.1",define:function(t,e,n){return n||(n=e,e="effect"),C.effects.effect[t]=n,C.effects.effect[t].mode=e,n},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();1<e&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(F,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(F)||"",t.removeData(F)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(t){var e,n=t.css("position"),i=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",e=C("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data($+"placeholder",e)),t.css({position:n,left:i.left,top:i.top}),e},removePlaceholder:function(t){var e=$+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(t){C.effects.restoreStyle(t),C.effects.removePlaceholder(t)},setTransition:function(i,t,r,o){return o=o||{},C.each(t,function(t,e){var n=i.cssUnit(e);0<n[0]&&(o[e]=n[0]*r+n[1])}),o}}),C.fn.extend({effect:function(){function t(t){var e=C(this),n=C.effects.mode(e,a)||o;e.data(z,!0),u.push(n),o&&("show"===n||n===o&&"hide"===n)&&e.show(),o&&"none"===n||C.effects.saveStyle(e),C.isFunction(t)&&t()}var i=U.apply(this,arguments),r=C.effects.effect[i.effect],o=r.mode,e=i.queue,n=e||"fx",s=i.complete,a=i.mode,u=[];if(C.fx.off||!r)return a?this[a](i.duration,s):this.each(function(){s&&s.call(this)});function l(t){var e=C(this);function n(){C.isFunction(s)&&s.call(e[0]),C.isFunction(t)&&t()}i.mode=u.shift(),!1===C.uiBackCompat||o?"none"===i.mode?(e[a](),n()):r.call(e[0],i,function(){e.removeData(z),C.effects.cleanUp(e),"hide"===i.mode&&e.hide(),n()}):(e.is(":hidden")?"hide"===a:"show"===a)?(e[a](),n()):r.call(e[0],i,n)}return!1===e?this.each(t).each(l):this.queue(n,t).queue(n,l)},show:(O=C.fn.show,function(t){if(G(t))return O.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(D=C.fn.hide,function(t){if(G(t))return D.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(A=C.fn.toggle,function(t){if(G(t)||"boolean"==typeof t)return A.apply(this,arguments);var e=U.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var n=this.css(t),i=[];return C.each(["em","px","%","pt"],function(t,e){0<n.indexOf(e)&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):W(this.css("clip"),this)},transfer:function(t,e){var n=C(this),i=C(t.to),r="fixed"===i.css("position"),o=C("body"),s=r?o.scrollTop():0,a=r?o.scrollLeft():0,u=i.offset(),l={top:u.top-s,left:u.left-a,height:i.innerHeight(),width:i.innerWidth()},c=n.offset(),h=C("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:c.top-s,left:c.left-a,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),C.isFunction(e)&&e()})}}),C.fx.step.clip=function(t){t.clipInit||(t.start=C(t.elem).cssClip(),"string"==typeof t.end&&(t.end=W(t.end,t.elem)),t.clipInit=!0),C(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},R={},C.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){R[t]=function(t){return Math.pow(t,e+2)}}),C.extend(R,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),C.each(R,function(t,e){C.easing["easeIn"+t]=e,C.easing["easeOut"+t]=function(t){return 1-e(1-t)},C.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});C.effects,C.effects.define("blind","hide",function(t,e){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=C(this),r=t.direction||"up",o=i.cssClip(),s={clip:C.extend({},o)},a=C.effects.createPlaceholder(i);s.clip[n[r][0]]=s.clip[n[r][1]],"show"===t.mode&&(i.cssClip(s.clip),a&&a.css(C.effects.clipToBox(s)),s.clip=o),a&&a.animate(C.effects.clipToBox(s),t.duration,t.easing),i.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),C.effects.define("bounce",function(t,e){var n,i,r,o=C(this),s=t.mode,a="hide"===s,u="show"===s,l=t.direction||"up",c=t.distance,h=t.times||5,f=2*h+(u||a?1:0),d=t.duration/f,p=t.easing,g="up"===l||"down"===l?"top":"left",m="up"===l||"left"===l,v=0,y=o.queue().length;for(C.effects.createPlaceholder(o),r=o.css(g),c=c||o["top"==g?"outerHeight":"outerWidth"]()/3,u&&((i={opacity:1})[g]=r,o.css("opacity",0).css(g,m?2*-c:2*c).animate(i,d,p)),a&&(c/=Math.pow(2,h-1)),(i={})[g]=r;v<h;v++)(n={})[g]=(m?"-=":"+=")+c,o.animate(n,d,p).animate(i,d,p),c=a?2*c:c/2;a&&((n={opacity:0})[g]=(m?"-=":"+=")+c,o.animate(n,d,p)),o.queue(e),C.effects.unshift(o,y,1+f)}),C.effects.define("clip","hide",function(t,e){var n={},i=C(this),r=t.direction||"vertical",o="both"===r,s=o||"horizontal"===r,a=o||"vertical"===r,u=i.cssClip();n.clip={top:a?(u.bottom-u.top)/2:u.top,right:s?(u.right-u.left)/2:u.right,bottom:a?(u.bottom-u.top)/2:u.bottom,left:s?(u.right-u.left)/2:u.left},C.effects.createPlaceholder(i),"show"===t.mode&&(i.cssClip(n.clip),n.clip=u),i.animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),C.effects.define("drop","hide",function(t,e){var n,i=C(this),r="show"===t.mode,o=t.direction||"left",s="up"===o||"down"===o?"top":"left",a="up"===o||"left"===o?"-=":"+=",u="+="==a?"-=":"+=",l={opacity:0};C.effects.createPlaceholder(i),n=t.distance||i["top"==s?"outerHeight":"outerWidth"](!0)/2,l[s]=a+n,r&&(i.css(l),l[s]=u+n,l.opacity=1),i.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),C.effects.define("explode","hide",function(t,e){var n,i,r,o,s,a,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,l=u,c=C(this),h="show"===t.mode,f=c.show().css("visibility","hidden").offset(),d=Math.ceil(c.outerWidth()/l),p=Math.ceil(c.outerHeight()/u),g=[];function m(){g.push(this),g.length===u*l&&(c.css({visibility:"visible"}),C(g).remove(),e())}for(n=0;n<u;n++)for(o=f.top+n*p,a=n-(u-1)/2,i=0;i<l;i++)r=f.left+i*d,s=i-(l-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*d,top:-n*p}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:d,height:p,left:r+(h?s*d:0),top:o+(h?a*p:0),opacity:h?0:1}).animate({left:r+(h?0:s*d),top:o+(h?0:a*p),opacity:h?1:0},t.duration||500,t.easing,m)}),C.effects.define("fade","toggle",function(t,e){var n="show"===t.mode;C(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),C.effects.define("fold","hide",function(e,t){var n=C(this),i=e.mode,r="show"===i,o="hide"===i,s=e.size||15,a=/([0-9]+)%/.exec(s),u=!!e.horizFirst?["right","bottom"]:["bottom","right"],l=e.duration/2,c=C.effects.createPlaceholder(n),h=n.cssClip(),f={clip:C.extend({},h)},d={clip:C.extend({},h)},p=[h[u[0]],h[u[1]]],g=n.queue().length;a&&(s=parseInt(a[1],10)/100*p[o?0:1]),f.clip[u[0]]=s,d.clip[u[0]]=s,d.clip[u[1]]=0,r&&(n.cssClip(d.clip),c&&c.css(C.effects.clipToBox(d)),d.clip=h),n.queue(function(t){c&&c.animate(C.effects.clipToBox(f),l,e.easing).animate(C.effects.clipToBox(d),l,e.easing),t()}).animate(f,l,e.easing).animate(d,l,e.easing).queue(t),C.effects.unshift(n,g,4)}),C.effects.define("highlight","show",function(t,e){var n=C(this),i={backgroundColor:n.css("backgroundColor")};"hide"===t.mode&&(i.opacity=0),C.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),C.effects.define("size",function(r,e){var t,o,n,i=C(this),s=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],l=r.mode,c="effect"!==l,h=r.scale||"both",f=r.origin||["middle","center"],d=i.css("position"),p=i.position(),g=C.effects.scaledDimensions(i),m=r.from||g,v=r.to||C.effects.scaledDimensions(i,0);C.effects.createPlaceholder(i),"show"===l&&(n=m,m=v,v=n),o={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==h&&"both"!==h||(o.from.y!==o.to.y&&(m=C.effects.setTransition(i,a,o.from.y,m),v=C.effects.setTransition(i,a,o.to.y,v)),o.from.x!==o.to.x&&(m=C.effects.setTransition(i,u,o.from.x,m),v=C.effects.setTransition(i,u,o.to.x,v))),"content"!==h&&"both"!==h||o.from.y!==o.to.y&&(m=C.effects.setTransition(i,s,o.from.y,m),v=C.effects.setTransition(i,s,o.to.y,v)),f&&(t=C.effects.getBaseline(f,g),m.top=(g.outerHeight-m.outerHeight)*t.y+p.top,m.left=(g.outerWidth-m.outerWidth)*t.x+p.left,v.top=(g.outerHeight-v.outerHeight)*t.y+p.top,v.left=(g.outerWidth-v.outerWidth)*t.x+p.left),i.css(m),"content"!==h&&"both"!==h||(a=a.concat(["marginTop","marginBottom"]).concat(s),u=u.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var t=C(this),e=C.effects.scaledDimensions(t),n={height:e.height*o.from.y,width:e.width*o.from.x,outerHeight:e.outerHeight*o.from.y,outerWidth:e.outerWidth*o.from.x},i={height:e.height*o.to.y,width:e.width*o.to.x,outerHeight:e.height*o.to.y,outerWidth:e.width*o.to.x};o.from.y!==o.to.y&&(n=C.effects.setTransition(t,a,o.from.y,n),i=C.effects.setTransition(t,a,o.to.y,i)),o.from.x!==o.to.x&&(n=C.effects.setTransition(t,u,o.from.x,n),i=C.effects.setTransition(t,u,o.to.x,i)),c&&C.effects.saveStyle(t),t.css(n),t.animate(i,r.duration,r.easing,function(){c&&C.effects.restoreStyle(t)})})),i.animate(v,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){var t=i.offset();0===v.opacity&&i.css("opacity",m.opacity),c||(i.css("position","static"===d?"relative":d).offset(t),C.effects.saveStyle(i)),e()}})}),C.effects.define("scale",function(t,e){var n=C(this),i=t.mode,r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==i?0:100),o=C.extend(!0,{from:C.effects.scaledDimensions(n),to:C.effects.scaledDimensions(n,r,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),C.effects.effect.size.call(this,o,e)}),C.effects.define("puff","hide",function(t,e){var n=C.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});C.effects.effect.scale.call(this,n,e)}),C.effects.define("pulsate","show",function(t,e){var n=C(this),i=t.mode,r="show"===i,o=r||"hide"===i,s=2*(t.times||5)+(o?1:0),a=t.duration/s,u=0,l=1,c=n.queue().length;for(!r&&n.is(":visible")||(n.css("opacity",0).show(),u=1);l<s;l++)n.animate({opacity:u},a,t.easing),u=1-u;n.animate({opacity:u},a,t.easing),n.queue(e),C.effects.unshift(n,c,1+s)}),C.effects.define("shake",function(t,e){var n=1,i=C(this),r=t.direction||"left",o=t.distance||20,s=t.times||3,a=2*s+1,u=Math.round(t.duration/a),l="up"===r||"down"===r?"top":"left",c="up"===r||"left"===r,h={},f={},d={},p=i.queue().length;for(C.effects.createPlaceholder(i),h[l]=(c?"-=":"+=")+o,f[l]=(c?"+=":"-=")+2*o,d[l]=(c?"-=":"+=")+2*o,i.animate(h,u,t.easing);n<s;n++)i.animate(f,u,t.easing).animate(d,u,t.easing);i.animate(f,u,t.easing).animate(h,u/2,t.easing).queue(e),C.effects.unshift(i,p,1+a)}),C.effects.define("slide","show",function(t,e){var n,i,r=C(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,a=t.direction||"left",u="up"===a||"down"===a?"top":"left",l="up"===a||"left"===a,c=t.distance||r["top"==u?"outerHeight":"outerWidth"](!0),h={};C.effects.createPlaceholder(r),n=r.cssClip(),i=r.position()[u],h[u]=(l?-1:1)*c+i,h.clip=r.cssClip(),h.clip[o[a][1]]=h.clip[o[a][0]],"show"===s&&(r.cssClip(h.clip),r.css(u,h[u]),h.clip=n,h[u]=i),r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:e})});!1!==C.uiBackCompat&&C.effects.define("transfer",function(t,e){C(this).transfer(t,e)});C.ui.focusable=function(t,e){var n,i,r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=(n=t.parentNode).name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&(0<(r=C("img[usemap='#"+i+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(o=!t.disabled)&&(s=C(t).closest("fieldset")[0])&&(o=!s.disabled):o="a"===a&&t.href||e,o&&C(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(C(t)))},C.extend(C.expr[":"],{focusable:function(t){return C.ui.focusable(t,null!=C.attr(t,"tabindex"))}});C.ui.focusable,C.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):C(this[0].form)},C.ui.formResetMixin={_formResetHandler:function(){var e=C(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");C.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element.form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(C.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};"1.7"===C.fn.jquery.substring(0,3)&&(C.each(["Width","Height"],function(t,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:C.fn.innerWidth,innerHeight:C.fn.innerHeight,outerWidth:C.fn.outerWidth,outerHeight:C.fn.outerHeight};function s(t,e,n,i){return C.each(r,function(){e-=parseFloat(C.css(t,"padding"+this))||0,n&&(e-=parseFloat(C.css(t,"border"+this+"Width"))||0),i&&(e-=parseFloat(C.css(t,"margin"+this))||0)}),e}C.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){C(this).css(i,s(this,t)+"px")})},C.fn["outer"+n]=function(t,e){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){C(this).css(i,s(this,t,!0,e)+"px")})}}),C.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});var Y,X;C.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},C.ui.escapeSelector=(Y=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(Y,"\\$1")}),C.fn.labels=function(){var t,e,n,i,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),(n=this.attr("id"))&&(r=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+C.ui.escapeSelector(n)+"']",i=i.add(r.find(e).addBack(e))),this.pushStack(i))},C.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=C(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:C(this[0].ownerDocument||document)},C.extend(C.expr[":"],{tabbable:function(t){var e=C.attr(t,"tabindex"),n=null!=e;return(!n||0<=e)&&C.ui.focusable(t,n)}}),C.fn.extend({uniqueId:(X=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++X)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&C(this).removeAttr("id")})}}),C.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=C(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():C()}},_createIcons:function(){var t,e,n=this.options.icons;n&&(t=C("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+n.header),t.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,n.header)._addClass(e,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=C.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),r=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:r=this.headers[(i+1)%n];break;case e.LEFT:case e.UP:r=this.headers[(i-1+n)%n];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:r=this.headers[0];break;case e.END:r=this.headers[n-1]}r&&(C(t.target).attr("tabIndex",-1),C(r).attr("tabIndex",0),C(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===C.ui.keyCode.UP&&t.ctrlKey&&C(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=C()):!1===t.active?this._activate(0):this.active.length&&!C.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=C()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var n,t=this.options,e=t.heightStyle,i=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=C(this),e=t.uniqueId().attr("id"),n=t.next(),i=n.uniqueId().attr("id");t.attr("aria-controls",i),n.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(n=i.height(),this.element.siblings(":visible").each(function(){var t=C(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.headers.each(function(){n-=C(this).outerHeight(!0)}),this.headers.next().each(function(){C(this).height(Math.max(0,n-C(this).innerHeight()+C(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.headers.next().each(function(){var t=C(this).is(":visible");t||C(this).show(),n=Math.max(n,C(this).css("height","").height()),t||C(this).hide()}).height(n))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:C.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):C()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&C.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e,n,i=this.options,r=this.active,o=C(t.currentTarget),s=o[0]===r[0],a=s&&i.collapsible,u=a?C():o.next(),l=r.next(),c={oldHeader:r,oldPanel:l,newHeader:a?C():o,newPanel:u};t.preventDefault(),s&&!i.collapsible||!1===this._trigger("beforeActivate",t,c)||(i.active=!a&&this.headers.index(o),this.active=s?C():o,this._toggle(c),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(e=r.children(".ui-accordion-header-icon"),this._removeClass(e,null,i.icons.activeHeader)._addClass(e,null,i.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),i.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=n,this.options.animate?this._animate(e,n,t):(n.hide(),e.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(C(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,n,e){function i(){a._toggleComplete(e)}var r,o,s,a=this,u=0,l=t.css("box-sizing"),c=t.length&&(!n.length||t.index()<n.index()),h=this.options.animate||{},f=c&&h.down||h;return"number"==typeof f&&(s=f),"string"==typeof f&&(o=f),o=o||f.easing||h.easing,s=s||f.duration||h.duration,n.length?t.length?(r=t.show().outerHeight(),n.animate(this.hideProps,{duration:s,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:s,easing:o,complete:i,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(u+=e.now):"content"!==a.options.heightStyle&&(e.now=Math.round(r-n.outerHeight()-u),u=0)}})):n.animate(this.hideProps,s,o,i):t.animate(this.showProps,s,o,i)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&e.parent()[0].className,this._trigger("activate",null,t)}}),C.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return(n=n||e.body).nodeName||(n=e.body),n},C.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=C(t.target),n=C(C.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var e,n;this.previousFilter||(e=C(t.target).closest(".ui-menu-item"),n=C(t.currentTarget),e[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n)))},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(t){this._delay(function(){C.contains(this.element[0],C.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=C(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,n,i,r,o=!0;switch(t.keyCode){case C.ui.keyCode.PAGE_UP:this.previousPage(t);break;case C.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case C.ui.keyCode.HOME:this._move("first","first",t);break;case C.ui.keyCode.END:this._move("last","last",t);break;case C.ui.keyCode.UP:this.previous(t);break;case C.ui.keyCode.DOWN:this.next(t);break;case C.ui.keyCode.LEFT:this.collapse(t);break;case C.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case C.ui.keyCode.ENTER:case C.ui.keyCode.SPACE:this._activate(t);break;case C.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",r=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,e=this._filterMenuItems(i),(e=r&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,n,i,r=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=C(this),e=t.prev(),n=C("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+o),e.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=C(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(n=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!C.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){var n;"icons"===t&&(n=this.element.find(".ui-menu-icon"),this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,n,i,r,o,s;this._hasScroll()&&(e=parseFloat(C.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(C.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):o<i+s&&this.activeMenu.scrollTop(r+i-o+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=C.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var t=n?this.element:C(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!C(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(t){var e,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=C(this)).offset().top-n-i<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=C(this)).offset().top-n+i}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||C(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(C.trim(C(this).children(".ui-menu-item-wrapper").text()))})}});C.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,o="input"===t;this.isMultiLine=e||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[e||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var e=C.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:n=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:n=!0,this._move("nextPage",t);break;case e.UP:n=!0,this._keyEvent("previous",t);break;case e.DOWN:n=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(n=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:i=!0,this._searchTimeout(t)}}},keypress:function(t){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!i){var e=C.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(r)return r=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=C("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==C.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,e){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){C(t.target).trigger(t.originalEvent)});i=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),(n=e.item.attr("aria-label")||i.value)&&C.trim(n).length&&(this.liveRegion.children().hide(),C("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,e){var n=e.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==C.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=C("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||C.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return(t=t&&(t.jquery||t.nodeType?C(t):this.document.find(t).eq(0)))&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var n,i,r=this;C.isArray(this.options.source)?(n=this.options.source,this.source=function(t,e){e(C.ui.autocomplete.filter(n,t.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,e){r.xhr&&r.xhr.abort(),r.xhr=C.ajax({url:i,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;t&&(!t||e||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return C.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:C.map(t,function(t){return"string"==typeof t?{label:t,value:t}:C.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(C.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,t){var i=this;C.each(t,function(t,e){i._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return C("<li>").append(C("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),C.extend(C.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var n=new RegExp(C.ui.autocomplete.escapeRegex(e),"i");return C.grep(t,function(t){return n.test(t.label||t.value||t)})}}),C.widget("ui.autocomplete",C.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),C("<div>").text(e).appendTo(this.liveRegion))}});C.ui.autocomplete;var Z=/ui-corner-([a-z]){2,6}/g;C.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var s=this,a=[];C.each(this.options.items,function(r,t){var e,o={};if(t)return"controlgroupLabel"===r?((e=s.element.find(t)).each(function(){var t=C(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),s._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void(C.fn[r]&&(o=s["_"+r+"Options"]?s["_"+r+"Options"]("middle"):{classes:{}},s.element.find(t).each(function(){var t,e=C(this),n=e[r]("instance"),i=C.widget.extend({},o);"button"===r&&e.parent(".ui-spinner").length||((n=n||e[r]()[r]("instance"))&&(i.classes=s._resolveClassesValues(i.classes,n)),e[r](i),t=e[r]("widget"),C.data(t[0],"ui-controlgroup-data",n||e[r]("instance")),a.push(t[0]))})))}),this.childWidgets=C(C.unique(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=C(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var r={};return C.each(n,function(t){var e=i.options.classes[t]||"",e=C.trim(e.replace(Z,""));r[t]=(e+" "+n[t]).replace(/\s+/g," ")}),r},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var r,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),r=this.childWidgets,this.options.onlyVisible&&(r=r.filter(":visible")),r.length&&(C.each(["first","last"],function(t,e){var n,i=r[e]().data("ui-controlgroup-data");i&&o["_"+i.widgetName+"Options"]?((n=o["_"+i.widgetName+"Options"](1===r.length?"only":e)).classes=o._resolveClassesValues(n.classes,i),i.element[i.widgetName](n)):o._updateCornerClass(r[e](),e)}),this._callChildMethod("refresh"))}});C.widget("ui.checkboxradio",[C.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e,n=this,i=this._super()||{};return this._readType(),e=this.element.labels(),this.label=C(e[e.length-1]),this.label.length||C.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?C(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||C.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+C.ui.escapeSelector(t)+"']";return t?(this.form.length?C(this.form[0].elements).filter(e):C(e).filter(function(){return 0===C(this).form().length})).not(this.element):C([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=C(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=C("<span>"),this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var K;C.ui.checkboxradio;C.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===C.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var n="iconPosition"!==t,i=n?this.options.iconPosition:e,r="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=C("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,e),this._attachIcon(i),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==C.uiBackCompat&&(C.widget("ui.button",C.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),C.fn.button=(K=C.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?K.apply(this,arguments):(C.ui.checkboxradio||C.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),C.fn.buttonset=function(){return C.ui.controlgroup||C.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var J;C.ui.button;function Q(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},C.extend(this._defaults,this.regional[""]),this.regional.en=C.extend(!0,{},this.regional[""]),this.regional["en-US"]=C.extend(!0,{},this.regional.en),this.dpDiv=tt(C("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function tt(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){C(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,et)}function et(){C.datepicker._isDisabledDatepicker(J.inline?J.dpDiv.parent()[0]:J.input[0])||(C(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),C(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).addClass("ui-datepicker-next-hover"))}function nt(t,e){for(var n in C.extend(t,e),e)null==e[n]&&(t[n]=e[n]);return t}C.extend(C.ui,{datepicker:{version:"1.12.1"}}),C.extend(Q.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return nt(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var n,i=t.nodeName.toLowerCase(),r="div"===i||"span"===i;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(n=this._newInst(C(t),r)).settings=C.extend({},e||{}),"input"===i?this._connectDatepicker(t,n):r&&this._inlineDatepicker(t,n)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?tt(C("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var n=C(t);e.append=C([]),e.trigger=C([]),n.hasClass(this.markerClassName)||(this._attachments(n,e),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),C.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var n,i,r,o=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),o&&(e.append=C("<span class='"+this._appendClass+"'>"+o+"</span>"),t[s?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(n=this._get(e,"showOn"))&&"both"!==n||t.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(e,"buttonText"),r=this._get(e,"buttonImage"),e.trigger=C(this._get(e,"buttonImageOnly")?C("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):C("<button type='button'></button>").addClass(this._triggerClass).html(r?C("<img/>").attr({src:r,alt:i,title:i}):i)),t[s?"before":"after"](e.trigger),e.trigger.on("click",function(){return C.datepicker._datepickerShowing&&C.datepicker._lastInput===t[0]?C.datepicker._hideDatepicker():(C.datepicker._datepickerShowing&&C.datepicker._lastInput!==t[0]&&C.datepicker._hideDatepicker(),C.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,n,i,r,o,s;this._get(t,"autoSize")&&!t.inline&&(o=new Date(2009,11,20),(s=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(r=i=n=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length))},_inlineDatepicker:function(t,e){var n=C(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(e.dpDiv),C.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,n,i,r){var o,s,a,u,l,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=C("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),C("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},C.data(this._dialogInput[0],"datepicker",c)),nt(c.settings,i||{}),e=e&&e.constructor===Date?this._formatDate(c,e):e,this._dialogInput.val(e),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+u,a/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),C.blockUI&&C.blockUI(this.dpDiv),C.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var e,n=C(t),i=C.data(t,"datepicker");n.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),C.removeData(t,"datepicker"),"input"===e?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||n.removeClass(this.markerClassName).empty(),J===i&&(J=null))},_enableDatepicker:function(e){var t,n,i=C(e),r=C.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=C.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,n,i=C(e),r=C.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=C.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return C.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,n){var i,r,o,s,a=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?C.extend({},C.datepicker._defaults):a?"all"===e?C.extend({},a.settings):this._get(a,e):null;i=e||{},"string"==typeof e&&((i={})[e]=n),a&&(this._curInst===a&&this._hideDatepicker(),r=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),nt(a.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(a.settings.minDate=this._formatDate(a,o)),null!==s&&void 0!==i.dateFormat&&void 0===i.maxDate&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(C(t),a),this._autoSize(a),this._setDate(a,r),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(t){var e,n,i,r=C.datepicker._getInst(t.target),o=!0,s=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,C.datepicker._datepickerShowing)switch(t.keyCode){case 9:C.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=C("td."+C.datepicker._dayOverClass+":not(."+C.datepicker._currentClass+")",r.dpDiv))[0]&&C.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,i[0]),(e=C.datepicker._get(r,"onSelect"))?(n=C.datepicker._formatDate(r),e.apply(r.input?r.input[0]:null,[n,r])):C.datepicker._hideDatepicker(),!1;case 27:C.datepicker._hideDatepicker();break;case 33:C.datepicker._adjustDate(t.target,t.ctrlKey?-C.datepicker._get(r,"stepBigMonths"):-C.datepicker._get(r,"stepMonths"),"M");break;case 34:C.datepicker._adjustDate(t.target,t.ctrlKey?+C.datepicker._get(r,"stepBigMonths"):+C.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&C.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&C.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&C.datepicker._adjustDate(t.target,t.ctrlKey?-C.datepicker._get(r,"stepBigMonths"):-C.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&C.datepicker._adjustDate(t.target,t.ctrlKey?+C.datepicker._get(r,"stepBigMonths"):+C.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&C.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?C.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,n,i=C.datepicker._getInst(t.target);if(C.datepicker._get(i,"constrainInput"))return e=C.datepicker._possibleChars(C.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||n<" "||!e||-1<e.indexOf(n)},_doKeyUp:function(t){var e=C.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{C.datepicker.parseDate(C.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,C.datepicker._getFormatConfig(e))&&(C.datepicker._setDateFromField(e),C.datepicker._updateAlternate(e),C.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,n,i,r,o,s,a;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=C("input",t.parentNode)[0]),C.datepicker._isDisabledDatepicker(t)||C.datepicker._lastInput===t||(a=C.datepicker._getInst(t),C.datepicker._curInst&&C.datepicker._curInst!==a&&(C.datepicker._curInst.dpDiv.stop(!0,!0),a&&C.datepicker._datepickerShowing&&C.datepicker._hideDatepicker(C.datepicker._curInst.input[0])),!1!==(n=(e=C.datepicker._get(a,"beforeShow"))?e.apply(t,[t,a]):{})&&(nt(a.settings,n),a.lastVal=null,C.datepicker._lastInput=t,C.datepicker._setDateFromField(a),C.datepicker._inDialog&&(t.value=""),C.datepicker._pos||(C.datepicker._pos=C.datepicker._findPos(t),C.datepicker._pos[1]+=t.offsetHeight),i=!1,C(t).parents().each(function(){return!(i|="fixed"===C(this).css("position"))}),r={left:C.datepicker._pos[0],top:C.datepicker._pos[1]},C.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),C.datepicker._updateDatepicker(a),r=C.datepicker._checkOffset(a,r,i),a.dpDiv.css({position:C.datepicker._inDialog&&C.blockUI?"static":i?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),a.inline||(o=C.datepicker._get(a,"showAnim"),s=C.datepicker._get(a,"duration"),a.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(C(t))+1),C.datepicker._datepickerShowing=!0,C.effects&&C.effects.effect[o]?a.dpDiv.show(o,C.datepicker._get(a,"showOptions"),s):a.dpDiv[o||"show"](o?s:null),C.datepicker._shouldFocusInput(a)&&a.input.trigger("focus"),C.datepicker._curInst=a)))},_updateDatepicker:function(t){this.maxRows=4,(J=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,n=this._getNumberOfMonths(t),i=n[1],r=t.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&et.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&t.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===C.datepicker._curInst&&C.datepicker._datepickerShowing&&C.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,n){var i=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(n?0:C(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:C(document).scrollTop());return e.left-=this._get(t,"isRTL")?i-o:0,e.left-=n&&e.left===t.input.offset().left?C(document).scrollLeft():0,e.top-=n&&e.top===t.input.offset().top+s?C(document).scrollTop():0,e.left-=Math.min(e.left,e.left+i>a&&i<a?Math.abs(e.left+i-a):0),e.top-=Math.min(e.top,e.top+r>u&&r<u?Math.abs(r+s):0),e},_findPos:function(t){for(var e,n=this._getInst(t),i=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||C.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=C(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,n,i,r,o=this._curInst;!o||t&&o!==C.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(o,"showAnim"),n=this._get(o,"duration"),i=function(){C.datepicker._tidyDialog(o)},C.effects&&(C.effects.effect[e]||C.effects[e])?o.dpDiv.hide(e,C.datepicker._get(o,"showOptions"),n,i):o.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?n:null,i),e||i(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),C.blockUI&&(C.unblockUI(),C("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){var e,n;C.datepicker._curInst&&(e=C(t.target),n=C.datepicker._getInst(e[0]),(e[0].id===C.datepicker._mainDivId||0!==e.parents("#"+C.datepicker._mainDivId).length||e.hasClass(C.datepicker.markerClassName)||e.closest("."+C.datepicker._triggerClass).length||!C.datepicker._datepickerShowing||C.datepicker._inDialog&&C.blockUI)&&(!e.hasClass(C.datepicker.markerClassName)||C.datepicker._curInst===n)||C.datepicker._hideDatepicker())},_adjustDate:function(t,e,n){var i=C(t),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,e+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var e,n=C(t),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(e=new Date,i.selectedDay=e.getDate(),i.drawMonth=i.selectedMonth=e.getMonth(),i.drawYear=i.selectedYear=e.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,e,n){var i=C(t),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(t,e,n,i){var r,o=C(t);C(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=C("a",i).html(),r.selectedMonth=r.currentMonth=e,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var e=C(t);this._selectDate(e,"")},_selectDate:function(t,e){var n,i=C(t),r=this._getInst(i[0]);e=null!=e?e:this._formatDate(r),r.input&&r.input.val(e),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[e,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,n,i,r=this._get(t,"altField");r&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),i=this.formatDate(e,n,this._getFormatConfig(t)),C(r).val(i))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(n,o,t){if(null==n||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;function s(t){var e=w+1<n.length&&n.charAt(w+1)===t;return e&&w++,e}function e(t){var e=s(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),r=o.substring(c).match(i);if(!r)throw"Missing number at position "+c;return c+=r[0].length,parseInt(r[0],10)}function i(t,e,n){var i=-1,r=C.map(s(t)?n:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(C.each(r,function(t,e){var n=e[1];if(o.substr(c,n.length).toLowerCase()===n.toLowerCase())return i=e[0],c+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+c}function r(){if(o.charAt(c)!==n.charAt(w))throw"Unexpected literal at position "+c;c++}for(var a,u,l,c=0,h=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,f="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,p=(t?t.dayNames:null)||this._defaults.dayNames,g=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,m=(t?t.monthNames:null)||this._defaults.monthNames,v=-1,y=-1,_=-1,b=-1,x=!1,w=0;w<n.length;w++)if(x)"'"!==n.charAt(w)||s("'")?r():x=!1;else switch(n.charAt(w)){case"d":_=e("d");break;case"D":i("D",d,p);break;case"o":b=e("o");break;case"m":y=e("m");break;case"M":y=i("M",g,m);break;case"y":v=e("y");break;case"@":v=(l=new Date(e("@"))).getFullYear(),y=l.getMonth()+1,_=l.getDate();break;case"!":v=(l=new Date((e("!")-this._ticksTo1970)/1e4)).getFullYear(),y=l.getMonth()+1,_=l.getDate();break;case"'":s("'")?r():x=!0;break;default:r()}if(c<o.length&&(u=o.substr(c),!/^\s+/.test(u)))throw"Extra/unparsed characters found in date: "+u;if(-1===v?v=(new Date).getFullYear():v<100&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v<=f?0:-100)),-1<b)for(y=1,_=b;;){if(_<=(a=this._getDaysInMonth(v,y-1)))break;y++,_-=a}if((l=this._daylightSavingAdjust(new Date(v,y-1,_))).getFullYear()!==v||l.getMonth()+1!==y||l.getDate()!==_)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,t,e){if(!t)return"";function r(t){var e=s+1<n.length&&n.charAt(s+1)===t;return e&&s++,e}function i(t,e,n){var i=""+e;if(r(t))for(;i.length<n;)i="0"+i;return i}function o(t,e,n,i){return r(t)?i[e]:n[e]}var s,a=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,u=(e?e.dayNames:null)||this._defaults.dayNames,l=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,c=(e?e.monthNames:null)||this._defaults.monthNames,h="",f=!1;if(t)for(s=0;s<n.length;s++)if(f)"'"!==n.charAt(s)||r("'")?h+=n.charAt(s):f=!1;else switch(n.charAt(s)){case"d":h+=i("d",t.getDate(),2);break;case"D":h+=o("D",t.getDay(),a,u);break;case"o":h+=i("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=i("m",t.getMonth()+1,2);break;case"M":h+=o("M",t.getMonth(),l,c);break;case"y":h+=r("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":r("'")?h+="'":f=!0;break;default:h+=n.charAt(s)}return h},_possibleChars:function(n){function t(t){var e=r+1<n.length&&n.charAt(r+1)===t;return e&&r++,e}for(var e="",i=!1,r=0;r<n.length;r++)if(i)"'"!==n.charAt(r)||t("'")?e+=n.charAt(r):i=!1;else switch(n.charAt(r)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":t("'")?e+="'":i=!0;break;default:e+=n.charAt(r)}return e},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(a,t,e){var n,i,r=null==t||""===t?e:"string"==typeof t?function(t){try{return C.datepicker.parseDate(C.datepicker._get(a,"dateFormat"),t,C.datepicker._getFormatConfig(a))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?C.datepicker._getDate(a):null)||new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(t);s;){switch(s[2]||"d"){case"d":case"D":r+=parseInt(s[1],10);break;case"w":case"W":r+=7*parseInt(s[1],10);break;case"m":case"M":i+=parseInt(s[1],10),r=Math.min(r,C.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(s[1],10),r=Math.min(r,C.datepicker._getDaysInMonth(n,i))}s=o.exec(t)}return new Date(n,i,r)}(t):"number"==typeof t?isNaN(t)?e:(n=t,(i=new Date).setDate(i.getDate()+n),i):new Date(t.getTime());return(r=r&&"Invalid Date"===r.toString()?e:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){C.datepicker._adjustDate(n,-e,"M")},next:function(){C.datepicker._adjustDate(n,+e,"M")},hide:function(){C.datepicker._hideDatepicker()},today:function(){C.datepicker._gotoToday(n)},selectDay:function(){return C.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return C.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return C.datepicker._selectMonthYear(n,this,"Y"),!1}};C(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E,S,M,L,T,N,I,k,P,A,D,O,R,$,F,z,B=new Date,j=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),q=this._get(t,"isRTL"),H=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),G=this._getNumberOfMonths(t),W=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),X=1!==G[0]||1!==G[1],Z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-W,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-G[0]*G[1]+1,J.getDate())),e=K&&e<K?K:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)--Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?Z:j,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?u:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(q?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;w<G[0];w++){for(C="",this.maxRows=4,E=0;E<G[1];E++){if(S=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),M=" ui-corner-all",L="",X){if(L+="<div class='ui-datepicker-group",1<G[1])switch(E){case 0:L+=" ui-datepicker-group-first",M=" ui-corner-"+(q?"right":"left");break;case G[1]-1:L+=" ui-datepicker-group-last",M=" ui-corner-"+(q?"left":"right");break;default:L+=" ui-datepicker-group-middle",M=""}L+="'>"}for(L+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===w?q?o:i:"")+(/all|right/.test(M)&&0===w?q?i:o:"")+this._generateMonthYearHeader(t,Q,tt,K,J,0<w||0<E,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)T+="<th scope='col'"+(5<=(x+c+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+f[N=(x+c)%7]+"'>"+d[N]+"</span></th>";for(L+=T+"</tr></thead><tbody>",I=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),k=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,P=Math.ceil((k+I)/7),A=X&&this.maxRows>P?this.maxRows:P,this.maxRows=A,D=this._daylightSavingAdjust(new Date(tt,Q,1-k)),O=0;O<A;O++){for(L+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(D)+"</td>":"",x=0;x<7;x++)$=m?m.apply(t.input?t.input[0]:null,[D]):[!0,""],z=(F=D.getMonth()!==Q)&&!y||!$[0]||K&&D<K||J&&J<D,R+="<td class='"+(5<=(x+c+6)%7?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(D.getTime()===S.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===D.getTime()&&_.getTime()===S.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+$[1]+(D.getTime()===Z.getTime()?" "+this._currentClass:"")+(D.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+D.getMonth()+"' data-year='"+D.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+D.getDate()+"</span>":"<a class='ui-state-default"+(D.getTime()===j.getTime()?" ui-state-highlight":"")+(D.getTime()===Z.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+D.getDate()+"</a>")+"</td>",D.setDate(D.getDate()+1),D=this._daylightSavingAdjust(D);L+=R+"</tr>"}11<++Q&&(Q=0,tt++),C+=L+="</tbody></table>"+(X?"</div>"+(0<G[0]&&E===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=C}return b+=l,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var u,l,c,h,f,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!m)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),p=(d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e})(h[0]),g=Math.max(p,d(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&m&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&i<r?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),C.fn.datepicker=function(t){if(!this.length)return this;C.datepicker.initialized||(C(document).on("mousedown",C.datepicker._checkExternalClick),C.datepicker.initialized=!0),0===C("#"+C.datepicker._mainDivId).length&&C("body").append(C.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?C.datepicker["_"+t+"Datepicker"].apply(C.datepicker,[this].concat(e)):C.datepicker._attachDatepicker(this,t)})},C.datepicker=new Q,C.datepicker.initialized=!1,C.datepicker.uuid=(new Date).getTime(),C.datepicker.version="1.12.1";C.datepicker,C.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var it=!1;C(document).on("mouseup",function(){it=!1});C.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===C.data(t.target,e.widgetName+".preventClickEvent"))return C.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!it){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,n=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&C(t.target).closest(this.options.cancel).length;return n&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===C.data(t.target,this.widgetName+".preventClickEvent")&&C.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),it=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(C.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&C.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,it=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),C.ui.plugin={add:function(t,e,n){var i,r=C.ui[t].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},C.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&C(t).trigger("blur")};C.widget("ui.draggable",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<C(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=C(this);return C("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=C.ui.safeActiveElement(this.document[0]);C(t.target).closest(e).length||C.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),C.ui.ddmanager&&(C.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===C(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),C.ui.ddmanager&&!e.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),C.ui.ddmanager&&C.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp(new C.Event("mouseup",t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",C.ui.ddmanager&&C.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,n=!1;return C.ui.ddmanager&&!this.options.dropBehaviour&&(n=C.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||C.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?C(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),C.ui.ddmanager&&C.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),C.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new C.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!C(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,n=C.isFunction(e.helper),i=n?C(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),C.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options,r=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(e=C(i.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=i.containment:this.containment=[0,0,C(r).width()-this.helperProportions.width-this.margins.left,(C(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[C(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,C(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,C(window).scrollLeft()+C(window).width()-this.helperProportions.width-this.margins.left,C(window).scrollTop()+(C(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(n=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,l=!n||r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1],o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=!n||o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]),"y"===s.axis&&(u=this.originalPageX),"x"===s.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,n){return n=n||this._uiHash(),C.ui.plugin.call(this,t,[e,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),C.Widget.prototype._trigger.call(this,t,e,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),C.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,n){var i=C.extend({},t,{item:n.element});n.sortables=[],C(n.options.connectToSortable).each(function(){var t=C(this).sortable("instance");t&&!t.options.disabled&&(n.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,i))})},stop:function(e,t,n){var i=C.extend({},t,{item:n.element});n.cancelHelperRemoval=!1,C.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(n,i,r){C.each(r.sortables,function(){var t=!1,e=this;e.positionAbs=r.positionAbs,e.helperProportions=r.helperProportions,e.offset.click=r.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,C.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&C.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,r._parent=i.helper.parent(),e.currentItem=i.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return i.helper[0]},n.target=e.currentItem[0],e._mouseCapture(n,!0),e._mouseStart(n,!0,!0),e.offset.click.top=r.offset.click.top,e.offset.click.left=r.offset.click.left,e.offset.parent.left-=r.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=r.offset.parent.top-e.offset.parent.top,r._trigger("toSortable",n),r.dropped=e.element,C.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,e.fromOutside=r),e.currentItem&&(e._mouseDrag(n),i.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",n,e._uiHash(e)),e._mouseStop(n,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,C.each(r.sortables,function(){this.refreshPositions()}))})}}),C.ui.plugin.add("draggable","cursor",{start:function(t,e,n){var i=C("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(t,e,n){var i=n.options;i._cursor&&C("body").css("cursor",i._cursor)}}),C.ui.plugin.add("draggable","opacity",{start:function(t,e,n){var i=C(e.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,e,n){var i=n.options;i._opacity&&C(e.helper).css("opacity",i._opacity)}}),C.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,e,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],s=n.document[0];o!==s&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-C(s).scrollTop()<i.scrollSensitivity?r=C(s).scrollTop(C(s).scrollTop()-i.scrollSpeed):C(window).height()-(t.pageY-C(s).scrollTop())<i.scrollSensitivity&&(r=C(s).scrollTop(C(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-C(s).scrollLeft()<i.scrollSensitivity?r=C(s).scrollLeft(C(s).scrollLeft()-i.scrollSpeed):C(window).width()-(t.pageX-C(s).scrollLeft())<i.scrollSensitivity&&(r=C(s).scrollLeft(C(s).scrollLeft()+i.scrollSpeed)))),!1!==r&&C.ui.ddmanager&&!i.dropBehaviour&&C.ui.ddmanager.prepareOffsets(n,t)}}),C.ui.plugin.add("draggable","snap",{start:function(t,e,n){var i=n.options;n.snapElements=[],C(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=C(this),e=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,n){for(var i,r,o,s,a,u,l,c,h,f=n.options,d=f.snapTolerance,p=e.offset.left,g=p+n.helperProportions.width,m=e.offset.top,v=m+n.helperProportions.height,y=n.snapElements.length-1;0<=y;y--)u=(a=n.snapElements[y].left-n.margins.left)+n.snapElements[y].width,c=(l=n.snapElements[y].top-n.margins.top)+n.snapElements[y].height,g<a-d||u+d<p||v<l-d||c+d<m||!C.contains(n.snapElements[y].item.ownerDocument,n.snapElements[y].item)?(n.snapElements[y].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,C.extend(n._uiHash(),{snapItem:n.snapElements[y].item})),n.snapElements[y].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(l-v)<=d,r=Math.abs(c-m)<=d,o=Math.abs(a-g)<=d,s=Math.abs(u-p)<=d,i&&(e.position.top=n._convertPositionTo("relative",{top:l-n.helperProportions.height,left:0}).top),r&&(e.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a-n.helperProportions.width}).left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),h=i||r||o||s,"outer"!==f.snapMode&&(i=Math.abs(l-m)<=d,r=Math.abs(c-v)<=d,o=Math.abs(a-p)<=d,s=Math.abs(u-g)<=d,i&&(e.position.top=n._convertPositionTo("relative",{top:l,left:0}).top),r&&(e.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(e.position.left=n._convertPositionTo("relative",{top:0,left:a}).left),s&&(e.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[y].snapping&&(i||r||o||s||h)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,C.extend(n._uiHash(),{snapItem:n.snapElements[y].item})),n.snapElements[y].snapping=i||r||o||s||h)}}),C.ui.plugin.add("draggable","stack",{start:function(t,e,n){var i,r=n.options,o=C.makeArray(C(r.stack)).sort(function(t,e){return(parseInt(C(t).css("zIndex"),10)||0)-(parseInt(C(e).css("zIndex"),10)||0)});o.length&&(i=parseInt(C(o[0]).css("zIndex"),10)||0,C(o).each(function(t){C(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),C.ui.plugin.add("draggable","zIndex",{start:function(t,e,n){var i=C(e.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,e,n){var i=n.options;i._zIndex&&C(e.helper).css("zIndex",i._zIndex)}});C.ui.draggable;C.widget("ui.resizable",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===C(t).css("overflow"))return!1;var n,i=e&&"left"===e?"scrollLeft":"scrollTop";return 0<t[i]||(t[i]=1,n=0<t[i],t[i]=0,n)},_create:function(){var t,e=this.options,n=this;this._addClass("ui-resizable"),C.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(C("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&C(this.element).on("mouseenter",function(){e.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){e.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();function t(t){C(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,n,i,r,o=this.options,s=this;if(this.handles=o.handles||(C(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=C(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},e=0;e<n.length;e++)i="ui-resizable-"+(t=C.trim(n[e])),r=C("<div>"),this._addClass(r,"ui-resizable-handle "+i),r.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(r);this._renderAxis=function(t){var e,n,i,r;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=C(this.handles[e]),this._on(this.handles[e],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=C(this.handles[e],this.element),r=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)(n=C(this.handles[e])[0])!==t.target&&!C.contains(n,t.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(e+=C(r.containment).scrollLeft()||0,n+=C(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=C(".ui-resizable-"+this.axis).css("cursor"),C("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,n,i=this.originalMousePosition,r=this.axis,o=t.pageX-i.left||0,s=t.pageY-i.top||0,a=this._change[r];return this._updatePrevProperties(),a&&(e=a.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),C.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,r,o,s,a,u=this.options,l=this;return this._helper&&(i=(n=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:l.sizeDiff.height,r=n?0:l.sizeDiff.width,o={width:l.helper.width()-r,height:l.helper.height()-i},s=parseFloat(l.element.css("left"))+(l.position.left-l.originalPosition.left)||null,a=parseFloat(l.element.css("top"))+(l.position.top-l.originalPosition.top)||null,u.animate||this.element.css(C.extend(o,{top:a,left:s})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!u.animate&&this._proportionallyResize()),C("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o=this.options,s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0};(this._aspectRatio||t)&&(e=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,e>s.minWidth&&(s.minWidth=e),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=a-e.minWidth),i&&l&&(t.left=a-e.maxWidth),s&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||C("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return C.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return C.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return C.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return C.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){C.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),C.ui.plugin.add("resizable","animate",{stop:function(e){var n=C(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,s=r?0:n.sizeDiff.width,a={width:n.size.width-s,height:n.size.height-o},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,l=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(C.extend(a,l&&u?{top:l,left:u}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&C(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),C.ui.plugin.add("resizable","containment",{start:function(){var n,i,t,e,r,o,s,a=C(this).resizable("instance"),u=a.options,l=a.element,c=u.containment,h=c instanceof C?c.get(0):/parent/.test(c)?l.parent().get(0):c;h&&(a.containerElement=C(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:C(document),left:0,top:0,width:C(document).width(),height:C(document).height()||document.body.parentNode.scrollHeight}):(n=C(h),i=[],C(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=a._num(n.css("padding"+e))}),a.containerOffset=n.offset(),a.containerPosition=n.position(),a.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=a.containerOffset,e=a.containerSize.height,r=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:r,s=a._hasScroll(h)?h.scrollHeight:e,a.parentData={element:h,left:t.left,top:t.top,width:o,height:s}))},resize:function(t){var e,n,i,r,o=C(this).resizable("instance"),s=o.options,a=o.containerOffset,u=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),u.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=s.helper?a.left:0),u.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,l&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,l&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=C(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,r=t.containerElement,o=C(t.helper),s=o.offset(),a=o.outerWidth()-t.sizeDiff.width,u=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(r.css("position"))&&C(this).css({left:s.left-i.left-n.left,width:a,height:u}),t._helper&&!e.animate&&/static/.test(r.css("position"))&&C(this).css({left:s.left-i.left-n.left,width:a,height:u})}}),C.ui.plugin.add("resizable","alsoResize",{start:function(){var t=C(this).resizable("instance").options;C(t.alsoResize).each(function(){var t=C(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var e=C(this).resizable("instance"),i=e.options,r=e.originalSize,o=e.originalPosition,s={height:e.size.height-r.height||0,width:e.size.width-r.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};C(i.alsoResize).each(function(){var t=C(this),i=C(this).data("ui-resizable-alsoresize"),r={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];C.each(e,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&0<=n&&(r[e]=n||null)}),t.css(r)})},stop:function(){C(this).removeData("ui-resizable-alsoresize")}}),C.ui.plugin.add("resizable","ghost",{start:function(){var t=C(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==C.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=C(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=C(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),C.ui.plugin.add("resizable","grid",{resize:function(){var t,e=C(this).resizable("instance"),n=e.options,i=e.size,r=e.originalSize,o=e.originalPosition,s=e.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=a[0]||1,l=a[1]||1,c=Math.round((i.width-r.width)/u)*u,h=Math.round((i.height-r.height)/l)*l,f=r.width+c,d=r.height+h,p=n.maxWidth&&n.maxWidth<f,g=n.maxHeight&&n.maxHeight<d,m=n.minWidth&&n.minWidth>f,v=n.minHeight&&n.minHeight>d;n.grid=a,m&&(f+=u),v&&(d+=l),p&&(f-=u),g&&(d-=l),/^(se|s|e)$/.test(s)?(e.size.width=f,e.size.height=d):/^(ne)$/.test(s)?(e.size.width=f,e.size.height=d,e.position.top=o.top-h):/^(sw)$/.test(s)?(e.size.width=f,e.size.height=d,e.position.left=o.left-c):((d-l<=0||f-u<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<d-l?(e.size.height=d,e.position.top=o.top-h):(d=l-t.height,e.size.height=d,e.position.top=o.top+r.height-d),0<f-u?(e.size.width=f,e.position.left=o.left-c):(f=u-t.width,e.size.width=f,e.position.left=o.left+r.width-f))}});C.ui.resizable;C.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=C(this).css(t).offset().top;e<0&&C(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&C.fn.draggable&&this._makeDraggable(),this.options.resizable&&C.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?C(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:C.noop,enable:C.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||C.ui.safeBlur(C.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+C(this).css("z-index")}).get(),r=Math.max.apply(null,i);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!e&&this._trigger("focus",t),n},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=C(C.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=t||this.element.find("[autofocus]")).length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=C.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||C.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=C("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===C.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var e,n,i;t.keyCode!==C.ui.keyCode.TAB||t.isDefaultPrevented()||(e=this.uiDialog.find(":tabbable"),n=e.filter(":first"),i=e.filter(":last"),t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.trigger("focus")}),t.preventDefault()):(this._delay(function(){n.trigger("focus")}),t.preventDefault()))},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=C("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){C(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=C("<button type='button'></button>").button({label:C("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=C("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=C("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=C("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var r=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),C.isEmptyObject(t)||C.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(C.each(t,function(t,e){var n,i;e=C.isFunction(e)?{click:e,text:t}:e,e=C.extend({type:"button"},e),n=e.click,i={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,C("<button></button>",e).button(i).appendTo(r.uiButtonSet).on("click",function(){n.apply(r.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var r=this,o=this.options;function s(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){r._addClass(C(this),"ui-dialog-dragging"),r._blockFrames(),r._trigger("dragStart",t,s(e))},drag:function(t,e){r._trigger("drag",t,s(e))},stop:function(t,e){var n=e.offset.left-r.document.scrollLeft(),i=e.offset.top-r.document.scrollTop();o.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:r.window},r._removeClass(C(this),"ui-dialog-dragging"),r._unblockFrames(),r._trigger("dragStop",t,s(e))}})},_makeResizable:function(){var o=this,s=this.options,t=s.resizable,e=this.uiDialog.css("position"),n="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:n,start:function(t,e){o._addClass(C(this),"ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",t,a(e))},resize:function(t,e){o._trigger("resize",t,a(e))},stop:function(t,e){var n=o.uiDialog.offset(),i=n.left-o.document.scrollLeft(),r=n.top-o.document.scrollTop();s.height=o.uiDialog.height(),s.width=o.uiDialog.width(),s.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=r?"+":"")+r,of:o.window},o._removeClass(C(this),"ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=C(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=C.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};C.each(t,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var n,i,r=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:C("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((n=r.is(":data(ui-draggable)"))&&!e&&r.draggable("destroy"),!n&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=r.is(":data(ui-resizable)"))&&!e&&r.resizable("destroy"),i&&"string"==typeof e&&r.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=C(this);return C("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!C(t.target).closest(".ui-dialog").length||!!C(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var e;this.options.modal&&(e=!0,this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=C("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var t;this.options.modal&&this.overlay&&((t=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==C.uiBackCompat&&C.widget("ui.dialog",C.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});C.ui.dialog;C.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,n=e.accept;this.isover=!1,this.isout=!0,this.accept=C.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){C.ui.ddmanager.droppables[t]=C.ui.ddmanager.droppables[t]||[],C.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=C.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){var n;"accept"===t?this.accept=C.isFunction(e)?e:function(t){return t.is(e)}:"scope"===t&&(n=C.ui.ddmanager.droppables[this.options.scope],this._splice(n),this._addToManager(e)),this._super(t,e)},_activate:function(t){var e=C.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=C.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=C.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=C.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var n=t||C.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=C(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&rt(n,C.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var rt=C.ui.intersect=function(t,e,n,i){if(!e.offset)return!1;var r=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,s=r+t.helperProportions.width,a=o+t.helperProportions.height,u=e.offset.left,l=e.offset.top,c=u+e.proportions().width,h=l+e.proportions().height;switch(n){case"fit":return u<=r&&s<=c&&l<=o&&a<=h;case"intersect":return u<r+t.helperProportions.width/2&&s-t.helperProportions.width/2<c&&l<o+t.helperProportions.height/2&&a-t.helperProportions.height/2<h;case"pointer":return ot(i.pageY,l,e.proportions().height)&&ot(i.pageX,u,e.proportions().width);case"touch":return(l<=o&&o<=h||l<=a&&a<=h||o<l&&h<a)&&(u<=r&&r<=c||u<=s&&s<=c||r<u&&c<s);default:return!1}};function ot(t,e,n){return e<=t&&t<e+n}!(C.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var n,i,r=C.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||t&&!r[n].accept.call(r[n].element[0],t.currentItem||t.element))){for(i=0;i<s.length;i++)if(s[i]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],e),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(t,e){var n=!1;return C.each((C.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&rt(t,this,this.options.tolerance,e)&&(n=this._drop.call(this,e)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),n},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||C.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,s){o.options.refreshPositions&&C.ui.ddmanager.prepareOffsets(o,s),C.each(C.ui.ddmanager.droppables[o.options.scope]||[],function(){var t,e,n,i,r;this.options.disabled||this.greedyChild||!this.visible||(r=!(i=rt(o,this,this.options.tolerance,s))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return C(this).droppable("instance").options.scope===e})).length&&((t=C(n[0]).droppable("instance")).greedyChild="isover"===r)),t&&"isover"===r&&(t.isover=!1,t.isout=!0,t._out.call(t,s)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,s),t&&"isout"===r&&(t.isout=!1,t.isover=!0,t._over.call(t,s)))})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||C.ui.ddmanager.prepareOffsets(t,e)}})!==C.uiBackCompat&&C.widget("ui.droppable",C.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});C.ui.droppable,C.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=C("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=C("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),C.widget("ui.selectable",C.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=C(i.element[0]).offset(),i.selectees=C(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var t=C(this),e=t.offset(),n={left:e.left-i.elementPos.left,top:e.top-i.elementPos.top};C.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=C("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var i=this,t=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=C(this.element[0]).offset(),this.options.disabled||(this.selectees=C(t.filter,this.element[0]),this._trigger("start",n),C(t.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=C.data(this,"selectable-item");t.startselected=!0,n.metaKey||n.ctrlKey||(i._removeClass(t.$element,"ui-selected"),t.selected=!1,i._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,i._trigger("unselecting",n,{unselecting:t.element}))}),C(n.target).parents().addBack().each(function(){var t,e=C.data(this,"selectable-item");if(e)return t=!n.metaKey&&!n.ctrlKey||!e.$element.hasClass("ui-selected"),i._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?i._trigger("selecting",n,{selecting:e.element}):i._trigger("unselecting",n,{unselecting:e.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var t,r=this,o=this.options,s=this.opos[0],a=this.opos[1],u=i.pageX,l=i.pageY;return u<s&&(t=u,u=s,s=t),l<a&&(t=l,l=a,a=t),this.helper.css({left:s,top:a,width:u-s,height:l-a}),this.selectees.each(function(){var t=C.data(this,"selectable-item"),e=!1,n={};t&&t.element!==r.element[0]&&(n.left=t.left+r.elementPos.left,n.right=t.right+r.elementPos.left,n.top=t.top+r.elementPos.top,n.bottom=t.bottom+r.elementPos.top,"touch"===o.tolerance?e=!(n.left>u||n.right<s||n.top>l||n.bottom<a):"fit"===o.tolerance&&(e=n.left>s&&n.right<u&&n.top>a&&n.bottom<l),e?(t.selected&&(r._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(r._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(r._addClass(t.$element,"ui-selecting"),t.selecting=!0,r._trigger("selecting",i,{selecting:t.element}))):(t.selecting&&((i.metaKey||i.ctrlKey)&&t.startselected?(r._removeClass(t.$element,"ui-selecting"),t.selecting=!1,r._addClass(t.$element,"ui-selected"),t.selected=!0):(r._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(r._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),r._trigger("unselecting",i,{unselecting:t.element}))),t.selected&&(i.metaKey||i.ctrlKey||t.startselected||(r._removeClass(t.$element,"ui-selected"),t.selected=!1,r._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,r._trigger("unselecting",i,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,C(".ui-unselecting",this.element[0]).each(function(){var t=C.data(this,"selectable-item");n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,n._trigger("unselected",e,{unselected:t.element})}),C(".ui-selecting",this.element[0]).each(function(){var t=C.data(this,"selectable-item");n._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,n._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),C.widget("ui.selectmenu",[C.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=C()},_drawButton:function(){var t,e=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=C("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=C("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=C("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=C("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var n=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",t,{item:n}),i.isOpen||i._select(n,t)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(C.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=C("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(i,t){var r=this,o="";C.each(t,function(t,e){var n;e.optgroup!==o&&(n=C("<li>",{text:e.optgroup}),r._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),n.appendTo(i),o=e.optgroup),r._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var n=C("<li>"),i=C("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(i,e.label),n.append(i).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(C(t.target).closest(".ui-selectmenu-menu, #"+C.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case C.ui.keyCode.TAB:case C.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case C.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case C.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case C.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case C.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case C.ui.keyCode.LEFT:this._move("prev",t);break;case C.ui.keyCode.RIGHT:this._move("next",t);break;case C.ui.keyCode.HOME:case C.ui.keyCode.PAGE_UP:this._move("first",t);break;case C.ui.keyCode.END:case C.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){var n;"icons"===t&&(n=this.button.find("span.ui-icon"),this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return(t=t&&(t.jquery||t.nodeType?C(t):this.document.find(t).eq(0)))&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var n=this,i=[];t.each(function(t,e){i.push(n._parseOption(C(e),t))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),C.widget("ui.slider",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e=this.options,n=this.element.find(".ui-slider-handle"),i=[],r=e.values&&e.values.length||1;for(n.length>r&&(n.slice(r).remove(),n=n.slice(0,r)),t=n.length;t<r;t++)i.push("<span tabindex='0'></span>");this.handles=n.add(C(i.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){C(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:C.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=C("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var e,n,i,r,o,s,a,u=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(n-u.values(t));(e<i||i===e&&(t===u._lastChangedValue||u.values(t)===l.min))&&(i=e,r=C(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),s=r.offset(),a=!C(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-s.left-r.width()/2,top:t.pageY-s.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r="horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),o=r/e;return 1<o&&(o=1),o<0&&(o=0),"vertical"===this.orientation&&(o=1-o),n=this._valueMax()-this._valueMin(),i=this._valueMin()+o*n,this._trimAlignValue(i)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var n,i,r;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!C.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,i=t,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,e){var n,i=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),C.isArray(this.options.values)&&(i=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=i-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=0<n?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,t,i,r,o=this.options.range,s=this.options,a=this,u=!this._animateOff&&s.animate,l={};this._hasMultipleValues()?this.handles.each(function(t){n=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,l["horizontal"===a.orientation?"left":"bottom"]=n+"%",C(this).stop(1,1)[u?"animate":"css"](l,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===t&&a.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===t&&a.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===t&&a.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(t=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(t-i)/(r-i)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](l,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(t){var e,n,i,r=C(t.target).data("ui-slider-handle-index");switch(t.keyCode){case C.ui.keyCode.HOME:case C.ui.keyCode.END:case C.ui.keyCode.PAGE_UP:case C.ui.keyCode.PAGE_DOWN:case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(C(t.target),null,"ui-state-active"),!1===this._start(t,r)))return}switch(i=this.options.step,e=n=this._hasMultipleValues()?this.values(r):this.value(),t.keyCode){case C.ui.keyCode.HOME:n=this._valueMin();break;case C.ui.keyCode.END:n=this._valueMax();break;case C.ui.keyCode.PAGE_UP:n=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:if(e===this._valueMax())return;n=this._trimAlignValue(e+i);break;case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(e===this._valueMin())return;n=this._trimAlignValue(e-i)}this._slide(t,r,n)},keyup:function(t){var e=C(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(C(t.target),null,"ui-state-active"))}}}),C.widget("ui.sortable",C.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return e<=t&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),C.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),C(t.target).parents().each(function(){if(C.data(this,r.widgetName+"-item")===r)return n=C(this),!1}),C.data(t.target,r.widgetName+"-item")===r&&(n=C(t.target)),!!n&&(!(this.options.handle&&!e&&(C(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},C.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=C("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return C.ui.ddmanager&&(C.ui.ddmanager.current=this),C.ui.ddmanager&&!o.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,n,i,r,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&C.ui.ddmanager&&!o.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(i=(n=this.items[e]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||C.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&C.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),C.ui.ddmanager&&C.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){var n,i,r,o;if(t)return C.ui.ddmanager&&!this.options.dropBehaviour&&C.ui.ddmanager.drop(this,t),this.options.revert?(i=(n=this).placeholder.offset(),o={},(r=this.options.axis)&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,C(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})):this._clear(t,e),!1},cancel:function(){if(this.dragging){this._mouseUp(new C.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),C.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?C(this.domPosition.prev).after(this.currentItem):C(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},C(t).each(function(){var t=(C(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&n.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e.each(function(){n.push(C(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,u=a+t.height,l=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||a<i+l&&i+l<u,f="y"===this.options.axis||o<e+c&&e+c<s,d=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,n,i,r,o=[],s=[],a=this._connectWith();if(a&&t)for(e=a.length-1;0<=e;e--)for(n=(i=C(a[e],this.document[0])).length-1;0<=n;n--)(r=C.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([C.isFunction(r.options.items)?r.options.items.call(r.element):C(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function u(){o.push(this)}for(s.push([C.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):C(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=s.length-1;0<=e;e--)s[e][0].each(u);return C(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=C.grep(this.items,function(t){for(var e=0;e<n.length;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,n,i,r,o,s,a,u,l=this.items,c=[[C.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):C(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(e=h.length-1;0<=e;e--)for(n=(i=C(h[e],this.document[0])).length-1;0<=n;n--)(r=C.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(c.push([C.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):C(r.options.items,r.element),r]),this.containers.push(r));for(e=c.length-1;0<=e;e--)for(o=c[e][1],n=0,u=(s=c[e][0]).length;n<u;n++)(a=C(s[n])).data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(n=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?C(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)r=this.containers[e].element.offset(),this.containers[e].containerCache.left=r.left,this.containers[e].containerCache.top=r.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var t=n.currentItem[0].nodeName.toLowerCase(),e=C("<"+t+">",n.document[0]);return n._addClass(e,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),C("<tr>",n.document[0]).appendTo(e)):"tr"===t?n._createTrPlaceholder(n.currentItem,e):"img"===t&&e.attr("src",n.currentItem.attr("src")),i||e.css("visibility","hidden"),e},update:function(t,e){i&&!r.forcePlaceholderSize||(e.height()||e.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=C(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(t,e){var n=this;t.children().each(function(){C("<td>&#160;</td>",n.document[0]).attr("colspan",C(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){for(var e,n,i,r,o,s,a,u,l,c=null,h=null,f=this.containers.length-1;0<=f;f--)if(!C.contains(this.currentItem[0],this.containers[f].element[0]))if(this._intersectsWith(this.containers[f].containerCache)){if(c&&C.contains(this.containers[f].element[0],c.element[0]))continue;c=this.containers[f],h=f}else this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",t,this._uiHash(this)),this.containers[f].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,i=null,r=(u=c.floating||this._isFloating(this.currentItem))?"left":"top",o=u?"width":"height",l=u?"pageX":"pageY",e=this.items.length-1;0<=e;e--)C.contains(this.containers[h].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(s=this.items[e].item.offset()[r],a=!1,t[l]-s>this.items[e][o]/2&&(a=!0),Math.abs(t[l]-s)<n&&(n=Math.abs(t[l]-s),i=this.items[e],this.direction=a?"up":"down"));if(!i&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var e=this.options,n=C.isFunction(e.helper)?C(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||C("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!e.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!e.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),C.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&C.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=C(i.containment)[0],e=C(i.containment).offset(),n="hidden"!==C(t).css("overflow"),this.containment=[e.left+(parseInt(C(t).css("borderLeftWidth"),10)||0)+(parseInt(C(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(C(t).css("borderTopWidth"),10)||0)+(parseInt(C(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(C(t).css("borderLeftWidth"),10)||0)-(parseInt(C(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(C(t).css("borderTopWidth"),10)||0)-(parseInt(C(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var n="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(t){var e,n,i=this.options,r=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=!this.containment||e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-i.grid[1]:e+i.grid[1],n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=!this.containment||n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0])),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===C.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||C([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function st(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}C.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),r=this.element;return C.each(["min","max","step"],function(t,e){var n=r.attr(e);null!=n&&n.length&&(i[e]=n)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function n(){this.element[0]===C.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===C.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,C(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(C(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,C(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,n=C.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,e.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?C.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e=this.options,n=null!==e.min?e.min:0,i=t-n;return t=n+(i=Math.round(i/e.step)*e.step),t=parseFloat(t.toFixed(this._precision())),null!==e.max&&t>e.max?e.max:null!==e.min&&t<e.min?e.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:st(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:st(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:st(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:st(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:st(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());st(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==C.uiBackCompat&&C.widget("ui.spinner",C.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var at;C.ui.spinner;C.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(at=/#.*$/,function(t){var e=t.href.replace(at,""),n=location.href.replace(at,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return 1<t.hash.length&&e===n}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),C.isArray(t.disabled)&&(t.disabled=C.unique(t.disabled.concat(C.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=C(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var n=this.options.active,t=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(t,e){if(C(e).attr("aria-controls")===i)return n=t,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!t&&0),!t&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):C()}},_tabKeydown:function(t){var e=C(C.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(e),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:n++;break;case C.ui.keyCode.UP:case C.ui.keyCode.LEFT:i=!1,n--;break;case C.ui.keyCode.END:n=this.anchors.length-1;break;case C.ui.keyCode.HOME:n=0;break;case C.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case C.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===C.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===C.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===C.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var n=this.tabs.length-1;for(;-1!==C.inArray((n<t&&(t=0),t<0&&(t=n),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=C.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!C.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=C()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=C()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this,t=this.tabs,e=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){C(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){C(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return C("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=C(),this.anchors.each(function(t,e){var n,i,r,o=C(e).uniqueId().attr("id"),s=C(e).closest("li"),a=s.attr("aria-controls");u._isLocal(e)?(r=(n=e.hash).substring(1),i=u.element.find(u._sanitizeSelector(n))):(n="#"+(r=s.attr("aria-controls")||C({}).uniqueId()[0].id),(i=u.element.find(n)).length||(i=u._createPanel(r)).insertAfter(u.panels[t-1]||u.tablist),i.attr("aria-live","polite")),i.length&&(u.panels=u.panels.add(i)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return C("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,n,i;for(C.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;n=this.tabs[i];i++)e=C(n),!0===t||-1!==C.inArray(i,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&C.each(t.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,e=this.element.parent();"fill"===t?(n=e.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=C(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=C(this).outerHeight(!0)}),this.panels.each(function(){C(this).height(Math.max(0,n-C(this).innerHeight()+C(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,C(this).height("").height())}).height(n))},_eventHandler:function(t){var e=this.options,n=this.active,i=C(t.currentTarget).closest("li"),r=i[0]===n[0],o=r&&e.collapsible,s=o?C():this._getPanelForTab(i),a=n.length?this._getPanelForTab(n):C(),u={oldTab:n,oldPanel:a,newTab:o?C():i,newPanel:s};t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||!1===this._trigger("beforeActivate",t,u)||(e.active=!o&&this.tabs.index(i),this.active=r?C():i,this.xhr&&this.xhr.abort(),a.length||s.length||C.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(i),t),this._toggle(t,u))},_toggle:function(t,e){var n=this,i=e.newPanel,r=e.oldPanel;function o(){n.running=!1,n._trigger("activate",t,e)}function s(){n._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,o):(i.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){n._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),s()),r.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&r.length?e.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===C(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),e=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:C.noop}))},_findActive:function(t){return!1===t?C():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+C.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){C.data(this,"ui-tabs-destroy")?C(this).remove():C(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=C(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var t=this.options.disabled;!1!==t&&(t=void 0!==n&&(n=this._getIndex(n),C.isArray(t)?C.map(t,function(t){return t!==n?t:null}):C.map(this.tabs,function(t,e){return e!==n?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==C.inArray(t,e))return;e=C.isArray(e)?C.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,i){t=this._getIndex(t);function r(t,e){"abort"===e&&o.panels.stop(!1,!0),o._removeClass(n,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr}var o=this,n=this.tabs.eq(t),e=n.find(".ui-tabs-anchor"),s=this._getPanelForTab(n),a={tab:n,panel:s};this._isLocal(e[0])||(this.xhr=C.ajax(this._ajaxSettings(e,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){s.html(t),o._trigger("load",i,a),r(n,e)},1)}).fail(function(t,e){setTimeout(function(){r(t,e)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return r._trigger("beforeLoad",n,C.extend({jqXHR:t,ajaxSettings:e},i))}}},_getPanelForTab:function(t){var e=C(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==C.uiBackCompat&&C.widget("ui.tabs",C.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});C.ui.tabs;C.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=C(this).attr("title")||"";return C("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",C.trim(n.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),i=C.inArray(e,n);-1!==i&&n.splice(i,1),t.removeData("ui-tooltip-id"),(n=C.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=C("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=C([])},_setOption:function(t,e){var n=this;this._super(t,e),"content"===t&&C.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var i=this;C.each(this.tooltips,function(t,e){var n=C.Event("blur");n.target=n.currentTarget=e.element[0],i.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=C(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=C(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=C([])},open:function(t){var n=this,e=C(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=C(this);e.data("ui-tooltip-open")&&((t=C.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),e.attr("title")&&(e.uniqueId(),n.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,n){var t,i=this.options.content,r=this,o=n?n.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(n,e,i);(t=i.call(e[0],function(t){r._delay(function(){e.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,e,t))})}))&&this._open(n,e,t)},_open:function(t,e,n){var i,r,o,s,a=C.extend({},this.options.position);function u(t){a.of=t,r.is(":hidden")||r.position(a)}n&&((i=this._find(e))?i.tooltip.find(".ui-tooltip-content").html(n):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),i=this._tooltip(e),r=i.tooltip,this._addDescribedBy(e,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(s=C("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:u}),u(t)):r.position(C.extend({of:e},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(u(a.of),clearInterval(o))},C.fx.interval)),this._trigger("open",t,{tooltip:r})))},_registerCloseHandlers:function(t,n){var e={keyup:function(t){var e;t.keyCode===C.ui.keyCode.ESCAPE&&((e=C.Event(t)).currentTarget=n[0],this.close(e,!0))}};n[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,n,e)},close:function(t){var e,n=this,i=C(t?t.currentTarget:this.element),r=this._find(i);r?(e=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){n._removeTooltip(C(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&C.each(this.parents,function(t,e){C(e.element).attr("title",e.title),delete n.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:e}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(t){var e=C("<div>").attr("role","tooltip"),n=C("<div>").appendTo(e),i=e.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[i]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var r=this;C.each(this.tooltips,function(t,e){var n=C.Event("blur"),i=e.element;n.target=n.currentTarget=i[0],r.close(n,!0),C("#"+t).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==C.uiBackCompat&&C.widget("ui.tooltip",C.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});C.ui.tooltip}),function(p){"use strict";function x(o,s){return s=s||Error,function(){var t,e,n=arguments,i=n[0],r="["+(o?o+":":"")+i+"] ";for(r+=n[1].replace(/\{\d+\}/g,function(t){var e=2+ +t.slice(1,-1);return e<n.length?jt(n[e]):t}),r+="\nhttp://errors.angularjs.org/1.5.11/"+(o?o+"/":"")+i,e=2,t="?";e<n.length;e++,t="&")r+=t+"p"+(e-2)+"="+encodeURIComponent(jt(n[e]));return new s(r)}}var o=/^\/(.+)\/([a-z]*)$/,h="validity",B=Object.prototype.hasOwnProperty,w=function(t){return bt(t)?t.toLowerCase():t},c=function(t){return bt(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(w=function(t){return bt(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},c=function(t){return bt(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var j,pt,r,m,s=[].slice,i=[].splice,t=[].push,g=Object.prototype.toString,u=Object.getPrototypeOf,l=x("ng"),_=p.angular||(p.angular={}),e=0;function D(t){if(null!=t&&!k(t)){if(xt(t)||bt(t)||pt&&t instanceof pt)return 1;var e="length"in Object(t)&&t.length;return S(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}}function gt(t,e,n){if(t)if(wt(t))for(r in t)"prototype"===r||"length"===r||"name"===r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(xt(t)||D(t))for(var i="object"!=typeof t,r=0,o=t.length;r<o;r++)(i||r in t)&&e.call(n,t[r],r,t);else if(t.forEach&&t.forEach!==gt)t.forEach(e,n,t);else if(E(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)B.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function v(n){return function(t,e){n(e,t)}}function L(){return++e}function f(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function d(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var s=e[r];if(_t(s)||wt(s))for(var a=Object.keys(s),u=0,l=a.length;u<l;u++){var c=a[u],h=s[c];n&&_t(h)?N(h)?t[c]=new Date(h.valueOf()):I(h)?t[c]=new RegExp(h):h.nodeName?t[c]=h.cloneNode(!0):R(h)?t[c]=h.clone():(_t(t[c])||(t[c]=xt(h)?[]:{}),d(t[c],[h],!0)):t[c]=h}}return f(t,i),t}function mt(t){return d(t,s.call(arguments,1),!1)}function n(t){return d(t,s.call(arguments,1),!0)}function y(t){return parseInt(t,10)}j=p.document.documentMode;var T=Number.isNaN||function(t){return t!=t};function vt(t,e){return mt(Object.create(t),e)}function q(){}function C(t){return t}function M(t){return function(){return t}}function b(t){return wt(t.toString)&&t.toString!==g}function yt(t){return void 0===t}function H(t){return void 0!==t}function _t(t){return null!==t&&"object"==typeof t}function E(t){return null!==t&&"object"==typeof t&&!u(t)}function bt(t){return"string"==typeof t}function S(t){return"number"==typeof t}function N(t){return"[object Date]"===g.call(t)}q.$inject=[],C.$inject=[];var xt=Array.isArray;function wt(t){return"function"==typeof t}function I(t){return"[object RegExp]"===g.call(t)}function k(t){return t&&t.window===t}function Ct(t){return t&&t.$evalAsync&&t.$watch}function Et(t){return"boolean"==typeof t}function P(t){return t&&wt(t.then)}var A=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var St=function(t){return bt(t)?t.trim():t},O=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function R(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function Mt(t){return w(t.nodeName||t[0]&&t[0].nodeName)}function Lt(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function $(t,n){var e,i,r=[],o=[];if(n){if((i=n)&&S(i.length)&&A.test(g.call(i))||(e=n,"[object ArrayBuffer]"===g.call(e)))throw l("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===n)throw l("cpi","Can't copy! Source and destination are identical.");return xt(n)?n.length=0:gt(n,function(t,e){"$$hashKey"!==e&&delete n[e]}),r.push(t),o.push(n),s(t,n)}return a(t);function s(t,e){var n,i=e.$$hashKey;if(xt(t))for(var r=0,o=t.length;r<o;r++)e.push(a(t[r]));else if(E(t))for(n in t)e[n]=a(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=a(t[n]));else for(n in t)B.call(t,n)&&(e[n]=a(t[n]));return f(e,i),e}function a(t){if(!_t(t))return t;var e=r.indexOf(t);if(-1!==e)return o[e];if(k(t)||Ct(t))throw l("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(t){switch(g.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(wt(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=xt(t)?[]:Object.create(u(t)),n=!0),r.push(t),o.push(i),n?s(t,i):i}}function Tt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!xt(t)){if(N(t))return!!N(e)&&Tt(t.getTime(),e.getTime());if(I(t))return!!I(e)&&t.toString()===e.toString();if(Ct(t)||Ct(e)||k(t)||k(e)||xt(e)||N(e)||I(e))return!1;for(i in r=Dt(),t)if("$"!==i.charAt(0)&&!wt(t[i])){if(!Tt(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&H(e[i])&&!wt(e[i]))return!1;return!0}if(!xt(e))return!1;if((n=t.length)===e.length){for(i=0;i<n;i++)if(!Tt(t[i],e[i]))return!1;return!0}}return!1}var F=function(){var t,e;return H(F.rules)||((t=p.document.querySelector("[ng-csp]")||p.document.querySelector("[data-ng-csp]"))?(e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp"),F.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}):F.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}),F.rules},z=function(){if(H(z.name_))return z.name_;for(var t,e,n,i=nt.length,r=0;r<i;++r)if(e=nt[r],t=p.document.querySelector("["+e.replace(":","\\:")+"jq]")){n=t.getAttribute(e+"jq");break}return z.name_=n};function V(t,e,n){return t.concat(s.call(e,n))}function Nt(t,e){return s.call(t,e||0)}function It(t,e){var n=2<arguments.length?Nt(arguments,2):[];return!wt(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,V(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function U(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:k(e)?n="$WINDOW":e&&p.document===e?n="$DOCUMENT":Ct(e)&&(n="$SCOPE"),n}function G(t,e){if(!yt(t))return S(e)||(e=e?2:null),JSON.stringify(t,U,e)}function W(t){return bt(t)?JSON.parse(t):t}var Y=/:/g;function X(t,e){t=t.replace(Y,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return T(n)?e:n}function Z(t,e,n){n=n?-1:1;var i,r,o=t.getTimezoneOffset(),s=X(e,o);return i=t,r=n*(s-o),(i=new Date(i.getTime())).setMinutes(i.getMinutes()+r),i}function kt(t){t=pt(t).clone();try{t.empty()}catch(t){}var e=pt("<div>").append(t).html();try{return t[0].nodeType===Rt?w(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+w(e)})}catch(t){return w(e)}}function K(t){try{return decodeURIComponent(t)}catch(t){}}function J(t){var r={};return gt((t||"").split("&"),function(t){var e,n,i;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(e=t.indexOf("="))&&(n=t.substring(0,e),i=t.substring(e+1)),H(n=K(n))&&(i=!H(i)||K(i),B.call(r,n)?xt(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i))}),r}function Q(t){var n=[];return gt(t,function(t,e){xt(t)?gt(t,function(t){n.push(et(e,!0)+(!0===t?"":"="+et(t,!0)))}):n.push(et(e,!0)+(!0===t?"":"="+et(t,!0)))}),n.length?n.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var nt=["ng-","data-ng-","ng:","x-ng-"];var it=function(t){var e=t.currentScript,n=e&&e.getAttribute("src");if(!n)return!0;var i=t.createElement("a");if(i.href=n,t.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}(p.document);function rt(i,t){var r,o,e={};if(gt(nt,function(t){var e=t+"app";!r&&i.hasAttribute&&i.hasAttribute(e)&&(o=(r=i).getAttribute(e))}),gt(nt,function(t){var e,n=t+"app";!r&&(e=i.querySelector("["+n.replace(":","\\:")+"]"))&&(o=(r=e).getAttribute(n))}),r){if(!it)return void p.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");e.strictDi=null!==function(t,e){for(var n,i=nt.length,r=0;r<i;++r)if(n=nt[r]+e,bt(n=t.getAttribute(n)))return n;return null}(r,"strict-di"),t(r,o?[o]:[],e)}}function ot(n,i,r){_t(r)||(r={});r=mt({strictDi:!1},r);function e(){if((n=pt(n)).injector()){var t=n[0]===p.document?"document":kt(n);throw l("btstrpd","App already bootstrapped with this element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var e=Ve(i,r.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),e}var t=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(p&&t.test(p.name)&&(r.debugInfoEnabled=!0,p.name=p.name.replace(t,"")),p&&!o.test(p.name))return e();p.name=p.name.replace(o,""),_.resumeBootstrap=function(t){return gt(t,function(t){i.push(t)}),e()},wt(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function st(){p.name="NG_ENABLE_DEBUG_INFO!"+p.name,p.location.reload()}function at(t){var e=_.element(t).injector();if(!e)throw l("test","no injector found for element argument to getTestability");return e.get("$$testability")}var ut=/[A-Z]/g;function Pt(t,n){return n=n||"_",t.replace(ut,function(t,e){return(e?n:"")+t.toLowerCase()})}var lt=!1;function At(t,e,n){if(!t)throw l("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ct(t,e,n){return n&&xt(t)&&(t=t[t.length-1]),At(wt(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ht(t,e){if("hasOwnProperty"===t)throw l("badname","hasOwnProperty is not a valid {0} name",e)}function ft(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,s=r.length,a=0;a<s;a++)i=r[a],t=t&&(o=t)[i];return!n&&wt(t)?It(o,t):t}function dt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)!e&&t[r]===n||(e=e||pt(s.call(t,0,r))).push(n);return e||t}function Dt(){return Object.create(null)}var Ot=1,Rt=3,$t=8,Ft=9,zt=11;function Bt(t,e){if(xt(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(_t(t))for(var r in e=e||{},t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e||t}function jt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):yt(t)?"undefined":"string"!=typeof t?(e=t,n=[],JSON.stringify(e,function(t,e){if(_t(e=U(t,e))){if(0<=n.indexOf(e))return"...";n.push(e)}return e})):t;var e,n}var qt={full:"1.5.11",major:1,minor:5,dot:11,codeName:"princely-quest"};ue.expando="ng339";var Ht=ue.cache={},Vt=1,Ut=function(t,e,n){t.addEventListener(e,n,!1)},Gt=function(t,e,n){t.removeEventListener(e,n,!1)};ue._data=function(t){return this.cache[t[this.expando]]||{}};var Wt=/([:\-_]+(.))/g,Yt=/^moz([A-Z])/,Xt={mouseleave:"mouseout",mouseenter:"mouseover"},Zt=x("jqLite");function Kt(t){return t.replace(Wt,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Yt,"Moz$1")}var Jt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Qt=/<|&#?\w+;/,te=/<([\w:-]+)/,ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ne={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ie(t){return!Qt.test(t)}function re(t){var e=t.nodeType;return e===Ot||!e||e===Ft}function oe(t,e){var n,i,r,o,s=e.createDocumentFragment(),a=[];if(ie(t))a.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),i=(te.exec(t)||["",""])[1].toLowerCase(),r=ne[i]||ne._default,n.innerHTML=r[1]+t.replace(ee,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;a=V(a,n.childNodes),(n=s.firstChild).textContent=""}return s.textContent="",s.innerHTML="",gt(a,function(t){s.appendChild(t)}),s}function se(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}ne.optgroup=ne.option,ne.tbody=ne.tfoot=ne.colgroup=ne.caption=ne.thead,ne.th=ne.td;var ae=p.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function ue(t){if(t instanceof ue)return t;var e,n,i,r;if(bt(t)&&(t=St(t),e=!0),!(this instanceof ue)){if(e&&"<"!==t.charAt(0))throw Zt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ue(t)}ye(this,e?(n=t,i=i||p.document,(r=Jt.exec(n))?[i.createElement(r[1])]:(r=oe(n,i))?r.childNodes:[]):t)}function le(t){return t.cloneNode(!0)}function ce(t,e){if(e||fe(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)fe(n[i])}function he(n,t,i,e){if(H(e))throw Zt("offargs","jqLite#off() does not support the `selector` argument");var r=de(n),o=r&&r.events,s=r&&r.handle;if(s)if(t){var a=function(t){var e=o[t];H(i)&&Lt(e||[],i),H(i)&&e&&0<e.length||(Gt(n,t,s),delete o[t])};gt(t.split(" "),function(t){a(t),Xt[t]&&a(Xt[t])})}else for(t in o)"$destroy"!==t&&Gt(n,t,s),delete o[t]}function fe(t,e){var n=t.ng339,i=n&&Ht[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),he(t)),delete Ht[n],t.ng339=void 0}}function de(t,e){var n=t.ng339,i=n&&Ht[n];return e&&!i&&(t.ng339=n=++Vt,i=Ht[n]={events:{},data:{},handle:void 0}),i}function pe(t,e,n){if(re(t)){var i=H(n),r=!i&&e&&!_t(e),o=!e,s=de(t,!r),a=s&&s.data;if(i)a[e]=n;else{if(o)return a;if(r)return a&&a[e];mt(a,e)}}}function ge(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function me(e,t){t&&e.setAttribute&&gt(t.split(" "),function(t){e.setAttribute("class",St((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+St(t)+" "," ")))})}function ve(t,e){var n;e&&t.setAttribute&&(n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),gt(e.split(" "),function(t){t=St(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",St(n)))}function ye(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function _e(t,e){return be(t,"$"+(e||"ngController")+"Controller")}function be(t,e,n){t.nodeType===Ft&&(t=t.documentElement);for(var i=xt(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(H(n=pt.data(t,i[r])))return n;t=t.parentNode||t.nodeType===zt&&t.host}}function xe(t){for(ce(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function we(t,e){e||ce(t);var n=t.parentNode;n&&n.removeChild(t)}var Ce=ue.prototype={ready:function(t){var e=!1;function n(){e||(e=!0,t())}"complete"===p.document.readyState?p.setTimeout(n):(this.on("DOMContentLoaded",n),ue(p).on("load",n))},toString:function(){var e=[];return gt(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return pt(0<=t?this[t]:this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice},Ee={};gt("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Ee[w(t)]=t});var Se={};gt("input,select,option,textarea,button,form,details".split(","),function(t){Se[t]=!0});var Me={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Le(t,e){var n=Ee[e.toLowerCase()];return n&&Se[Mt(t)]&&n}function Te(t,e){if(yt(e)){var n=t.nodeType;return n===Ot||n===Rt?t.textContent:""}t.textContent=e}function Ne(a,u){function t(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n,i=u[e||t.type],r=i?i.length:0;if(r){yt(t.immediatePropagationStopped)&&(n=t.stopImmediatePropagation,t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),n&&n.call(t)}),t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var o=i.specialHandlerWrapper||Ie;1<r&&(i=Bt(i));for(var s=0;s<r;s++)t.isImmediatePropagationStopped()||o(a,t,i[s])}}return t.elem=a,t}function Ie(t,e,n){n.call(t,e)}function ke(t,e,n){var i=e.relatedTarget;i&&(i===t||ae.call(t,i))||n.call(t,e)}function Pe(){this.$get=function(){return mt(ue,{hasClass:function(t,e){return t.attr&&(t=t[0]),ge(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),ve(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),me(t,e)}})}}function Ae(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||L)():i+":"+t}function De(t,e){var n;e&&(n=0,this.nextUid=function(){return++n}),gt(t,this.put,this)}gt({data:pe,removeData:fe,hasData:function(t){for(var e in Ht[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)fe(t[e])}},function(t,e){ue[e]=t}),gt({data:pe,inheritedData:be,scope:function(t){return pt.data(t,"$scope")||be(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return pt.data(t,"$isolateScope")||pt.data(t,"$isolateScopeNoTemplate")},controller:_e,injector:function(t){return be(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:ge,css:function(t,e,n){if(e=Kt(e),!H(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i=t.nodeType;if(i!==Rt&&2!==i&&i!==$t){var r=w(e);if(Ee[r]){if(!H(n))return t[e]||(t.attributes.getNamedItem(e)||q).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(H(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){if(!H(n))return t[e];t[e]=n},text:(Te.$dv="",Te),val:function(t,e){if(yt(e)){if(t.multiple&&"select"===Mt(t)){var n=[];return gt(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(yt(e))return t.innerHTML;ce(t,!0),t.innerHTML=e},empty:xe},function(l,t){ue.prototype[t]=function(t,e){var n,i,r=this.length;if(l!==xe&&yt(2===l.length&&l!==ge&&l!==_e?t:e)){if(_t(t)){for(n=0;n<r;n++)if(l===pe)l(this[n],t);else for(i in t)l(this[n],i,t[i]);return this}for(var o=yt(u=l.$dv)?Math.min(r,1):r,s=0;s<o;s++)var a=l(this[s],t,e),u=u?u+a:a;return u}for(n=0;n<r;n++)l(this[n],t,e);return this}}),gt({removeData:fe,on:function(r,t,o,e){if(H(e))throw Zt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(re(r))for(var n=de(r,!0),s=n.events,a=(a=n.handle)||(n.handle=Ne(r,s)),i=0<=t.indexOf(" ")?t.split(" "):[t],u=i.length,l=function(t,e,n){var i=s[t];i||((i=s[t]=[]).specialHandlerWrapper=e,"$destroy"===t||n||Ut(r,t,a)),i.push(o)};u--;)t=i[u],Xt[t]?(l(Xt[t],ke),l(t,void 0,!0)):l(t)},off:he,one:function(e,n,i){(e=pt(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;ce(e),gt(new ue(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return gt(t.childNodes,function(t){t.nodeType===Ot&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Ot||n===zt)for(var i=0,r=(e=new ue(e)).length;i<r;i++){var o=e[i];t.appendChild(o)}},prepend:function(e,t){var n;e.nodeType===Ot&&(n=e.firstChild,gt(new ue(t),function(t){e.insertBefore(t,n)}))},wrap:function(t,e){se(t,pt(e).eq(0).clone()[0])},remove:we,detach:function(t){we(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i)for(var r=0,o=(e=new ue(e)).length;r<o;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}},addClass:ve,removeClass:me,toggleClass:function(n,t,i){t&&gt(t.split(" "),function(t){var e=i;yt(e)&&(e=!ge(n,t)),(e?ve:me)(n,t)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==zt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:le,triggerHandler:function(e,t,n){var i,r,o,s=t.type||t,a=de(e),u=a&&a.events,l=u&&u[s];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:q,type:s,target:e},t.type&&(i=mt(i,t)),r=Bt(l),o=n?[i].concat(n):[i],gt(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(s,t){ue.prototype[t]=function(t,e,n){for(var i,r=0,o=this.length;r<o;r++)yt(i)?H(i=s(this[r],t,e,n))&&(i=pt(i)):ye(i,s(this[r],t,e,n));return H(i)?i:this}}),ue.prototype.bind=ue.prototype.on,ue.prototype.unbind=ue.prototype.off,De.prototype={put:function(t,e){this[Ae(t,this.nextUid)]=e},get:function(t){return this[Ae(t,this.nextUid)]},remove:function(t){var e=this[t=Ae(t,this.nextUid)];return delete this[t],e}};var Oe=[function(){this.$get=[function(){return De}]}],Re=/^([^(]+?)=>/,$e=/^[^(]*\(\s*([^)]*)\)/m,Fe=/,/,ze=/^\s*(_?)(\S+?)\1\s*$/,Be=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,je=x("$injector");function qe(t){return Function.prototype.toString.call(t)+" "}function He(t){var e=qe(t).replace(Be,"");return e.match(Re)||e.match($e)}function Ve(t,l){l=!0===l;var r={},o="Provider",a=[],s=new De([],!0),c={$provide:{provider:f(d),factory:f(p),service:f(function(t,e){return p(t,["$injector",function(t){return t.instantiate(e)}])}),value:f(function(t,e){return p(t,M(e),!1)}),constant:f(function(t,e){ht(t,"constant"),c[t]=e,n[t]=e}),decorator:function(t,e){var n=u.get(t+o),i=n.$get;n.$get=function(){var t=h.invoke(i,n);return h.invoke(e,null,{$delegate:t})}}}},u=c.$injector=g(c,function(t,e){throw _.isString(e)&&a.push(e),je("unpr","Unknown provider: {0}",a.join(" <- "))}),n={},e=g(n,function(t,e){var n=u.get(t+o,e);return h.invoke(n.$get,n,void 0,t)}),h=e;c["$injector"+o]={$get:M(e)};var i=function n(t){At(yt(t)||xt(t),"modulesToLoad","not an array");var i,r=[];gt(t,function(e){if(!s.get(e)){s.put(e,!0);try{bt(e)?(i=m(e),r=r.concat(n(i.requires)).concat(i._runBlocks),t(i._invokeQueue),t(i._configBlocks)):wt(e)||xt(e)?r.push(u.invoke(e)):ct(e,"module")}catch(t){throw xt(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),je("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=u.get(i[0]);r[i[1]].apply(r,i[2])}}});return r}(t);return(h=e.get("$injector")).strictDi=l,gt(i,function(t){t&&h.invoke(t)}),h;function f(n){return function(t,e){if(!_t(t))return n(t,e);gt(t,v(n))}}function d(t,e){if(ht(t,"service"),(wt(e)||xt(e))&&(e=u.instantiate(e)),!e.$get)throw je("pget","Provider '{0}' must define $get factory method.",t);return c[t+o]=e}function p(t,e,n){return d(t,{$get:!1!==n?(i=t,r=e,function(){var t=h.invoke(r,this);if(yt(t))throw je("undef","Provider '{0}' must return a value from $get factory method.",i);return t}):e});var i,r}function g(n,i){function u(e,t){if(n.hasOwnProperty(e)){if(n[e]===r)throw je("cdep","Circular dependency found: {0}",e+" <- "+a.join(" <- "));return n[e]}try{return a.unshift(e),n[e]=r,n[e]=i(e,t),n[e]}catch(t){throw n[e]===r&&delete n[e],t}finally{a.shift()}}function s(t,e,n){for(var i=[],r=Ve.$$annotate(t,l,n),o=0,s=r.length;o<s;o++){var a=r[o];if("string"!=typeof a)throw je("itkn","Incorrect injection token! Expected service name as string, got {0}",a);i.push(e&&e.hasOwnProperty(a)?e[a]:u(a,n))}return i}return{invoke:function(t,e,n,i){"string"==typeof n&&(i=n,n=null);var r,o=s(t,n,i);return xt(t)&&(t=t[t.length-1]),r=t,j<=11||"function"!=typeof r||!/^(?:class\b|constructor\()/.test(qe(r))?t.apply(e,o):(o.unshift(null),new(Function.prototype.bind.apply(t,o)))},instantiate:function(t,e,n){var i=xt(t)?t[t.length-1]:t,r=s(t,e,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))},get:u,annotate:Ve.$$annotate,has:function(t){return c.hasOwnProperty(t+o)||n.hasOwnProperty(t)}}}}function Ue(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(o,r,s){var a=o.document;function u(t){var e,n,i,r;t?(t.scrollIntoView(),(e=(wt(r=l.yOffset)?r=r():R(r)?(i=r[0],r="fixed"!==o.getComputedStyle(i).position?0:i.getBoundingClientRect().bottom):S(r)||(r=0),r))&&(n=t.getBoundingClientRect().top,o.scrollBy(0,n-e))):o.scrollTo(0,0)}function l(t){var e,n,i;(t=bt(t)?t:S(t)?t.toString():r.hash())?(e=a.getElementById(t))?u(e):(n=a.getElementsByName(t),i=null,Array.prototype.some.call(n,function(t){if("a"===Mt(t))return i=t,!0}),(e=i)?u(e):"top"===t&&u(null)):u(null)}return t&&s.$watch(function(){return r.hash()},function(t,e){var n,i;t===e&&""===t||(n=function(){s.$evalAsync(l)},"complete"===(i=i||p).document.readyState?i.setTimeout(n):pt(i).on("load",n))}),l}]}Ve.$$annotate=function(t,e,n){var i,r,o;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw bt(n)&&n||(n=t.name||((o=He(t))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),je("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);gt(He(t)[1].split(Fe),function(t){t.replace(ze,function(t,e,n){i.push(n)})})}t.$inject=i}}else xt(t)?(ct(t[r=t.length-1],"fn"),i=t.slice(0,r)):ct(t,"fn",!0);return i};var Ge=x("$animate"),We=1,Ye="ng-animate";function Xe(t,e){return t||e?t?e?(xt(t)&&(t=t.join(" ")),xt(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Ze(t){return _t(t)?t:{}}function Ke(){this.$get=q}function Je(){var g=new De,m=[];this.$get=["$$AnimateRunner","$rootScope",function(h,f){return{enabled:q,on:q,off:q,pin:q,push:function(t,e,n,i){var r,o,s,a,u,l;i&&i(),(n=n||{}).from&&t.css(n.from),n.to&&t.css(n.to),(n.addClass||n.removeClass)&&(r=t,o=n.addClass,s=n.removeClass,a=g.get(r)||{},u=d(a,o,!0),l=d(a,s,!1),(u||l)&&(g.put(r,a),m.push(r),1===m.length&&f.$$postDigest(p)));var c=new h;return c.complete(),c}};function d(e,t,n){var i=!1;return t&&gt(t=bt(t)?t.split(" "):xt(t)?t:[],function(t){t&&(i=!0,e[t]=n)}),i}function p(){gt(m,function(t){var n,i,r,e=g.get(t);e&&(n=function(t){bt(t)&&(t=t.split(" "));var e=Dt();return gt(t,function(t){t.length&&(e[t]=!0)}),e}(t.attr("class")),r=i="",gt(e,function(t,e){t!==!!n[e]&&(t?i+=(i.length?" ":"")+e:r+=(r.length?" ":"")+e)}),gt(t,function(t){i&&ve(t,i),r&&me(t,r)}),g.remove(t))}),m.length=0}}]}function Qe(){this.$get=["$$rAF",function(e){var n=[];function i(t){n.push(t),1<n.length||e(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}return function(){var e=!1;return i(function(){e=!0}),function(t){e?t():i(t)}}}]}function tn(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,i,r,o){function n(t){this.setHost(t);var n=i();this._doneCallbacks=[],this._tick=function(t){var e=r[0];e&&e.hidden?o(t,0,!1):n(t)},this._state=0}return n.chain=function(t,n){var i=0;!function e(){if(i===t.length)return void n(!0);t[i](function(t){!1!==t?(i++,e()):n(!1)})}()},n.all=function(e,n){var i=0,r=!0;function o(t){r=r&&t,++i===e.length&&n(r)}gt(e,function(t){t.done(o)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:q,getPromise:function(){var t;return this.promise||((t=this).promise=e(function(e,n){t.done(function(t){(!1===t?n:e)()})})),this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(gt(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},n}]}function en(){this.$get=["$$rAF","$q","$$AnimateRunner",function(s,t,a){return function(t,e){var n=e||{};n.$$prepared||(n=$(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(t.css(n.from),n.from=null);var i,r=new a;return{start:o,end:o};function o(){return s(function(){!function(){n.addClass&&(t.addClass(n.addClass),n.addClass=null);n.removeClass&&(t.removeClass(n.removeClass),n.removeClass=null);n.to&&(t.css(n.to),n.to=null)}(),i||r.complete(),i=!0}),r}}}]}var nn=["$provide",function(i){var r=this;this.$$registeredAnimations=Object.create(null),this.register=function(t,e){if(t&&"."!==t.charAt(0))throw Ge("notcsel","Expecting class selector starting with '.' got '{0}'.",t);var n=t+"-animation";r.$$registeredAnimations[t.substr(1)]=n,i.factory(n,e)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter&&new RegExp("(\\s+|\\/)"+Ye+"(\\s+|\\/)").test(this.$$classNameFilter.toString())))throw Ge("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ye);return this.$$classNameFilter},this.$get=["$$animateQueue",function(o){function r(t,e,n){var i;n&&(!(i=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===We)return n}}(n))||i.parentNode||i.previousElementSibling||(n=null)),n?n.after(t):e.prepend(t)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(t){t.end&&t.end()},enter:function(t,e,n,i){return e=e&&pt(e),n=n&&pt(n),r(t,e=e||n.parent(),n),o.push(t,"enter",Ze(i))},move:function(t,e,n,i){return e=e&&pt(e),n=n&&pt(n),r(t,e=e||n.parent(),n),o.push(t,"move",Ze(i))},leave:function(t,e){return o.push(t,"leave",Ze(e),function(){t.remove()})},addClass:function(t,e,n){return(n=Ze(n)).addClass=Xe(n.addclass,e),o.push(t,"addClass",n)},removeClass:function(t,e,n){return(n=Ze(n)).removeClass=Xe(n.removeClass,e),o.push(t,"removeClass",n)},setClass:function(t,e,n,i){return(i=Ze(i)).addClass=Xe(i.addClass,e),i.removeClass=Xe(i.removeClass,n),o.push(t,"setClass",i)},animate:function(t,e,n,i,r){return(r=Ze(r)).from=r.from?mt(r.from,e):e,r.to=r.to?mt(r.to,n):n,i=i||"ng-inline-animate",r.tempClasses=Xe(r.tempClasses,i),o.push(t,"animate",r)}}}]}];function rn(a,t,e,u){var l=this,c=a.location,h=a.history,i=a.setTimeout,n=a.clearTimeout,r={};l.isMock=!1;var o=0,s=[];function f(t){try{t.apply(null,Nt(arguments,1))}finally{if(0===--o)for(;s.length;)try{s.pop()()}catch(t){e.error(t)}}}l.$$completeOutstandingRequest=f,l.$$incOutstandingRequestCount=function(){o++},l.notifyWhenNoOutstandingRequests=function(t){0===o?t():s.push(t)};var d,p,g=c.href,m=t.find("base"),v=null,y=u.history?function(){try{return h.state}catch(t){}}:q;C(),p=d,l.url=function(t,e,n){if(yt(n)&&(n=null),c!==a.location&&(c=a.location),h!==a.history&&(h=a.history),t){var i=p===n;if(g===t&&(!u.history||i))return l;var r=g&&Qn(g)===Qn(t);return g=t,p=n,!u.history||r&&i?(r||(v=t),e?c.replace(t):r?c.hash=-1===(s=(o=t).indexOf("#"))?"":o.substr(s):c.href=t,c.href!==t&&(v=t)):(h[e?"replaceState":"pushState"](n,"",t),C(),p=d),v=v&&t,l}return v||c.href.replace(/%27/g,"'");var o,s},l.state=function(){return d};var _=[],b=!1;function x(){v=null,C(),E()}var w=null;function C(){Tt(d=yt(d=y())?null:d,w)&&(d=w),w=d}function E(){g===l.url()&&p===d||(g=l.url(),p=d,gt(_,function(t){t(l.url(),d)}))}l.onUrlChange=function(t){return b||(u.history&&pt(a).on("popstate",x),pt(a).on("hashchange",x),b=!0),_.push(t),t},l.$$applicationDestroyed=function(){pt(a).off("hashchange popstate",x)},l.$$checkUrlChange=E,l.baseHref=function(){var t=m.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},l.defer=function(t,e){var n;return o++,n=i(function(){delete r[n],f(t)},e||0),r[n]=!0,n},l.defer.cancel=function(t){return!!r[t]&&(delete r[t],n(t),f(q),!0)}}function on(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new rn(t,i,e,n)}]}function sn(){this.$get=function(){var h={};function t(t,e){if(t in h)throw x("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,i=mt({},e,{id:t}),r=Dt(),o=e&&e.capacity||Number.MAX_VALUE,s=Dt(),a=null,u=null;return h[t]={put:function(t,e){if(!yt(e))return o<Number.MAX_VALUE&&l(s[t]||(s[t]={key:t})),t in r||n++,r[t]=e,o<n&&this.remove(u.key),e},get:function(t){if(o<Number.MAX_VALUE){var e=s[t];if(!e)return;l(e)}return r[t]},remove:function(t){if(o<Number.MAX_VALUE){var e=s[t];if(!e)return;e===a&&(a=e.p),e===u&&(u=e.n),c(e.n,e.p),delete s[t]}t in r&&(delete r[t],n--)},removeAll:function(){r=Dt(),n=0,s=Dt(),a=u=null},destroy:function(){s=i=r=null,delete h[t]},info:function(){return mt({},i,{size:n})}};function l(t){t!==a&&(u?u===t&&(u=t.n):u=t,c(t.n,t.p),c(t,a),(a=t).n=null)}function c(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return gt(h,function(t,e){n[e]=t.info()}),n},t.get=function(t){return h[t]},t}}function an(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var un=x("$compile");var ln=new function(){};function cn(n,e){var D={},O="Directive",R=/^\s*directive:\s*([\w-]+)\s+(.*)$/,$=/(([\w-]+)(?::([^;]+))?;?)/,F=function(t){for(var e={},n=t.split(","),i=0;i<n.length;i++)e[n[i]]=!0;return e}("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,z=/^(on[a-z]+|formaction)$/,a=Dt();function d(t,i,r){var o=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,s=Dt();return gt(t,function(t,e){if(t in a)s[e]=a[t];else{var n=t.match(o);if(!n)throw un("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,e,t,r?"controller bindings definition":"isolate scope definition");s[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e},n[4]&&(a[t]=s[e])}}),s}this.directive=function t(u,e){return At(u,"name"),ht(u,"directive"),bt(u)?(function(t){var e=t.charAt(0);if(!e||e!==w(e))throw un("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw un("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(u),At(e,"directiveFactory"),D.hasOwnProperty(u)||(D[u]=[],n.factory(u+O,["$injector","$exceptionHandler",function(o,s){var a=[];return gt(D[u],function(t,e){try{var n=o.invoke(t);wt(n)?n={compile:M(n)}:!n.compile&&n.link&&(n.compile=M(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||u,n.require=(r=(i=n).require||i.controller&&i.name,!xt(r)&&_t(r)&&gt(r,function(t,e){var n=t.match(f);t.substring(n[0].length)||(r[e]=n[0]+e)}),r),n.restrict=function(t,e){if(t&&(!bt(t)||!/[EACM]/.test(t)))throw un("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(n.restrict,u),n.$$moduleName=t.$$moduleName,a.push(n)}catch(t){s(t)}var i,r}),a}])),D[u].push(e)):gt(u,v(t)),this},this.component=function(t,r){var o=r.controller||function(){};function n(i){function t(n){return wt(n)||xt(n)?function(t,e){return i.invoke(n,this,{$element:t,$attrs:e})}:n}var e=r.template||r.templateUrl?r.template:"",n={controller:o,controllerAs:function(t,e){if(e&&bt(e))return e;if(bt(t)){var n=vn.exec(t);if(n)return n[3]}}(r.controller)||r.controllerAs||"$ctrl",template:t(e),templateUrl:t(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return gt(r,function(t,e){"$"===e.charAt(0)&&(n[e]=t)}),n}return gt(r,function(t,e){"$"===e.charAt(0)&&(n[e]=t,wt(o)&&(o[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return H(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return H(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var i=!0;this.debugInfoEnabled=function(t){return H(t)?(i=t,this):i};var dt=!0;this.preAssignBindingsEnabled=function(t){return H(t)?(dt=t,this):dt};var u=10;this.onChangesTtl=function(t){return arguments.length?(u=t,this):u};var l=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(l=t,this):l};var c=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(c=t,this):c},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(S,M,V,U,_,G,o,L,r,v){var s,y=/^\w/,b=p.document.createElement("div"),T=l,N=c,t=u;function a(){try{if(!--t)throw s=void 0,un("infchng","{0} $onChanges() iterations reached. Aborting!\n",u);o.$apply(function(){for(var e=[],t=0,n=s.length;t<n;++t)try{s[t]()}catch(t){e.push(t)}if(s=void 0,e.length)throw e})}finally{t++}}function W(t,e){if(e)for(var n,i=Object.keys(e),r=0,o=i.length;r<o;r++)this[n=i[r]]=e[n];else this.$attr={};this.$$element=t}function Y(t,e){try{t.addClass(e)}catch(t){}}W.prototype={$normalize:dn,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=pn(t,e);n&&n.length&&r.addClass(this.$$element,n);var i=pn(e,t);i&&i.length&&r.removeClass(this.$$element,i)},$set:function(t,e,n,i){var r,o=Le(this.$$element[0],t),s=Me[t],a=t;if(o?(this.$$element.prop(t,e),i=o):s&&(this[s]=e,a=s),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=Pt(t,"-")),"a"===(r=Mt(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===r&&"src"===t)this[t]=e=v(e,"src"===t);else if("img"===r&&"srcset"===t&&H(e)){for(var u="",l=St(e),c=/\s/.test(l)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,h=l.split(c),f=Math.floor(h.length/2),d=0;d<f;d++){var p=2*d;u+=v(St(h[p]),!0),u+=" "+St(h[1+p])}var g=St(h[2*d]).split(/\s/);u+=v(St(g[0]),!0),2===g.length&&(u+=" "+St(g[1])),this[t]=e=u}!1!==n&&(null===e||yt(e)?this.$$element.removeAttr(i):y.test(i)?this.$$element.attr(i,e):function(t,e,n){b.innerHTML="<span "+e+">";var i=b.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}(this.$$element[0],i,e));var m=this.$$observers;m&&gt(m[a],function(t){try{t(e)}catch(t){V(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=Dt()),r=i[t]||(i[t]=[]);return r.push(e),o.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||yt(n[t])||e(n[t])}),function(){Lt(r,e)}}};var e=M.startSymbol(),n=M.endSymbol(),X="{{"===e&&"}}"===n?C:function(t){return t.replace(/\{\{/g,e).replace(/}}/g,n)},I=/^ngAttr[A-Z]/,k=/^(.+)Start$/;return Z.$$addBindingInfo=i?function(t,e){var n=t.data("$binding")||[];xt(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:q,Z.$$addBindingClass=i?function(t){Y(t,"ng-binding")}:q,Z.$$addScopeInfo=i?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:q,Z.$$addScopeClass=i?function(t,e){Y(t,e?"ng-isolate-scope":"ng-scope")}:q,Z.$$createComment=function(t,e){var n="";return i&&(n=" "+(t||"")+": ",e&&(n+=e+" ")),p.document.createComment(n)},Z;function Z(c,t,e,n,h){c instanceof pt||(c=pt(c));for(var i=/\S+/,r=0,o=c.length;r<o;r++){var s=c[r];s.nodeType===Rt&&s.nodeValue.match(i)&&se(s,c[r]=p.document.createElement("span"))}var f=K(c,t,c,e,n,h);Z.$$addScopeClass(c);var d=null;return function(t,e,n){At(t,"scope"),h&&h.needsNewScope&&(t=t.$parent.$new());var i,r,o,s=(n=n||{}).parentBoundTranscludeFn,a=n.transcludeControllers,u=n.futureParentElement;if(s&&s.$$boundTransclude&&(s=s.$$boundTransclude),d||(r=(i=u)&&i[0],d=r&&"foreignobject"!==Mt(r)&&g.call(r).match(/SVG/)?"svg":"html"),o="html"!==d?pt(ut(d,pt("<div>").append(c).html())):e?Ce.clone.call(c):c,a)for(var l in a)o.data("$"+l+"Controller",a[l].instance);return Z.$$addScopeInfo(o,t),e&&e(o,t),f&&f(t,o,o,s),o}}function K(t,p,e,n,i,r){for(var o,s,a,u,l,c,g,m=[],h=0;h<t.length;h++)o=new W,(a=(s=Q(t[h],[],o,0===h?n:void 0,i)).length?it(s,t[h],o,p,e,null,[],[],r):null)&&a.scope&&Z.$$addScopeClass(o.$$element),l=a&&a.terminal||!(u=t[h].childNodes)||!u.length?null:K(u,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:p),(a||l)&&(m.push(h,a,l),c=!0,g=g||a),r=null;return c?function(t,e,n,i){var r,o,s,a,u,l,c,h,f;if(g){var d=e.length;for(f=new Array(d),u=0;u<m.length;u+=3)c=m[u],f[c]=e[c]}else f=e;for(u=0,l=m.length;u<l;)s=f[m[u++]],r=m[u++],o=m[u++],r?(r.scope?(a=t.$new(),Z.$$addScopeInfo(pt(s),a)):a=t,h=r.transcludeOnThisElement?J(t,r.transclude,i):!r.templateOnThisElement&&i?i:!i&&p?J(t,p):null,r(o,a,s,n,h)):o&&o(t,s.childNodes,void 0,i)}:null}function J(o,s,a){function t(t,e,n,i,r){return t||((t=o.$new(!1,r)).$$transcluded=!0),s(t,e,{parentBoundTranscludeFn:a,transcludeControllers:n,futureParentElement:i})}var e=t.$$slots=Dt();for(var n in s.$$slots)s.$$slots[n]?e[n]=J(o,s.$$slots[n],a):e[n]=null;return t}function Q(t,e,n,i,r){var o,s,a,u,l,c,h=t.nodeType,f=n.$attr;switch(h){case Ot:P(e,dn(s=Mt(t)),"E",i,r);for(var d,p=t.attributes,g=0,m=p&&p.length;g<m;g++){var v,y,_=!1,b=!1,x=(v=p[g]).name,w=St(v.value),C=dn(x);(y=I.test(C))&&(x=x.replace(fn,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=C.match(k);E&&function(t){if(D.hasOwnProperty(t))for(var e=S.get(t+O),n=0,i=e.length;n<i;n++)if(e[n].multiElement)return!0;return!1}(E[1])&&(b=(_=x).substr(0,x.length-5)+"end",x=x.substr(0,x.length-6)),f[d=dn(x.toLowerCase())]=x,!y&&n.hasOwnProperty(d)||(n[d]=w,Le(t,d)&&(n[d]=!0)),function(t,e,o,s,n){var a=function(t,e){if("srcdoc"===e)return L.HTML;var n=Mt(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return L.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e)return L.RESOURCE_URL}(t,s),i=!n,u=F[s]||n,l=M(o,i,a,u);if(!l)return;if("multiple"===s&&"select"===Mt(t))throw un("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",kt(t));e.push({priority:100,compile:function(){return{pre:function(t,e,n){var i=n.$$observers||(n.$$observers=Dt());if(z.test(s))throw un("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var r=n[s];r!==o&&(l=r&&M(r,!0,a,u),o=r),l&&(n[s]=l(t),(i[s]||(i[s]=[])).$$inter=!0,(n.$$observers&&n.$$observers[s].$$scope||t).$watch(l,function(t,e){"class"===s&&t!==e?n.$updateClass(t,e):n.$set(s,t)}))}}}})}(t,e,w,d,y),P(e,d,"A",i,r,_,b)}if("input"===s&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!N)break;if(_t(a=t.className)&&(a=a.animVal),bt(a)&&""!==a)for(;o=$.exec(a);)P(e,d=dn(o[2]),"C",i,r)&&(n[d]=St(o[3])),a=a.substr(o.index+o[0].length);break;case Rt:if(11===j)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Rt;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);u=e,l=t.nodeValue,(c=M(l,!0))&&u.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&Z.$$addBindingClass(e),function(t,e){var n=e.parent();i||Z.$$addBindingClass(n),Z.$$addBindingInfo(n,c.expressions),t.$watch(c,function(t){e[0].nodeValue=t})}}});break;case $t:if(!T)break;!function(t,e,n,i,r){try{var o,s=R.exec(t.nodeValue);s&&(o=dn(s[1]),P(e,o,"M",i,r)&&(n[o]=St(s[2])))}catch(t){}}(t,e,n,i,r)}return e.sort(A),e}function tt(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw un("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Ot&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r);else i.push(t);return pt(i)}function et(o,s,a){return function(t,e,n,i,r){return e=tt(e[0],s,a),o(t,e,n,i,r)}}function nt(t,e,n,i,r,o){var s;return t?Z(e,n,i,r,o):function(){return s||(s=Z(e,n,i,r,o),e=n=o=null),s.apply(this,arguments)}}function it(t,x,w,e,n,i,C,E,r){r=r||{};for(var o,s,a,u,l=-Number.MAX_VALUE,S=r.newScopeDirective,M=r.controllerDirectives,L=r.newIsolateScopeDirective,T=r.templateDirective,c=r.nonTlbTranscludeDirective,h=!1,f=!1,N=r.hasElementTranscludeDirective,d=w.$$element=pt(x),p=i,g=e,m=!1,v=!1,y=0,_=t.length;y<_;y++){var b=(o=t[y]).$$start,I=o.$$end;if(b&&(d=tt(x,b,I)),D=void 0,l>o.priority)break;if((u=o.scope)&&(o.templateUrl||(_t(u)?(at("new/isolated scope",L||S,o,d),L=o):at("new/isolated scope",L,o,d)),S=S||o),s=o.name,!m&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var k,P=y+1;k=t[P++];)if(k.transclude&&!k.$$tlb||k.replace&&(k.templateUrl||k.template)){v=!0;break}m=!0}if(!o.templateUrl&&o.controller&&(M=M||Dt(),at("'"+s+"' controller",M[s],o,d),M[s]=o),u=o.transclude)if(h=!0,o.$$tlb||(at("transclusion",c,o,d),c=o),"element"===u)N=!0,l=o.priority,D=d,d=w.$$element=pt(Z.$$createComment(s,w[s])),x=d[0],lt(n,Nt(D),x),D[0].$$parentNode=D[0].parentNode,g=nt(v,D,e,l,p&&p.name,{nonTlbTranscludeDirective:c});else{var A=Dt(),D=pt(le(x)).contents();if(_t(u)){D=[];var O=Dt(),R=Dt();for(var $ in gt(u,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,O[t]=e,A[e]=null,R[e]=n}),gt(d.contents(),function(t){var e=O[dn(Mt(t))];e?(R[e]=!0,A[e]=A[e]||[],A[e].push(t)):D.push(t)}),gt(R,function(t,e){if(!t)throw un("reqslot","Required transclusion slot `{0}` was not filled.",e)}),A)A[$]&&(A[$]=nt(v,A[$],e))}d.empty(),(g=nt(v,D,e,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope})).$$slots=A}if(o.template)if(f=!0,at("template",T,o,d),u=wt((T=o).template)?o.template(d,w):o.template,u=X(u),o.replace){if(p=o,D=ie(u)?[]:gn(ut(o.templateNamespace,St(u))),x=D[0],1!==D.length||x.nodeType!==Ot)throw un("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");lt(n,d,x);var F={$attr:{}},z=Q(x,[],F),B=t.splice(y+1,t.length-(y+1));(L||S)&&ot(z,L,S),t=t.concat(z).concat(B),st(w,F),_=t.length}else d.html(u);if(o.templateUrl)f=!0,at("template",T,o,d),(T=o).replace&&(p=o),H=function(f,d,p,g,m,v,y,_){var b,x,w=[],C=d[0],E=f.shift(),S=vt(E,{templateUrl:null,transclude:null,replace:null,$$originalDirective:E}),M=wt(E.templateUrl)?E.templateUrl(d,p):E.templateUrl,L=E.templateNamespace;return d.empty(),U(M).then(function(t){var n,e,i,r;if(t=X(t),E.replace){if(i=ie(t)?[]:gn(ut(L,St(t))),n=i[0],1!==i.length||n.nodeType!==Ot)throw un("tplrt","Template for directive '{0}' must have exactly one root element. {1}",E.name,M);e={$attr:{}},lt(g,d,n);var o=Q(n,[],e);_t(E.scope)&&ot(o,!0),f=o.concat(f),st(p,e)}else n=C,d.html(t);for(f.unshift(S),b=it(f,n,p,m,d,E,v,y,_),gt(g,function(t,e){t===n&&(g[e]=d[0])}),x=K(d[0].childNodes,m);w.length;){var s,a=w.shift(),u=w.shift(),l=w.shift(),c=w.shift(),h=d[0];a.$$destroyed||(u!==C&&(s=u.className,_.hasElementTranscludeDirective&&E.replace||(h=le(n)),lt(l,pt(u),h),Y(pt(h),s)),r=b.transcludeOnThisElement?J(a,b.transclude,c):c,b(x,a,h,g,r))}w=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(w?w.push(e,n,i,o):(b.transcludeOnThisElement&&(o=J(e,b.transclude,r)),b(x,e,n,i,o)))}}(t.splice(y,t.length-y),d,w,n,h&&g,C,E,{controllerDirectives:M,newScopeDirective:S!==o&&S,newIsolateScopeDirective:L,templateDirective:T,nonTlbTranscludeDirective:c}),_=t.length;else if(o.compile)try{a=o.compile(d,w,g);var j=o.$$originalDirective||o;wt(a)?q(null,It(j,a),b,I):a&&q(It(j,a.pre),It(j,a.post),b,I)}catch(t){V(t,kt(d))}o.terminal&&(H.terminal=!0,l=Math.max(l,o.priority))}return H.scope=S&&!0===S.scope,H.transcludeOnThisElement=h,H.templateOnThisElement=f,H.transclude=g,r.hasElementTranscludeDirective=N,H;function q(t,e,n,i){t&&(n&&(t=et(t,n,i)),t.require=o.require,t.directiveName=s,L!==o&&!o.$$isolateScope||(t=ct(t,{isolateScope:!0})),C.push(t)),e&&(n&&(e=et(e,n,i)),e.require=o.require,e.directiveName=s,L!==o&&!o.$$isolateScope||(e=ct(e,{isolateScope:!0})),E.push(e))}function H(t,e,n,i,s){var r,o,a,u,l,c,h,f,d,p;for(var g in x===n?f=(d=w).$$element:d=new W(f=pt(n),w),l=e,L?u=e.$new(!0):S&&(l=e.$parent),s&&((h=function(t,e,n,i){var r;Ct(t)||(i=n,n=e,e=t,t=void 0);N&&(r=c);n=n||(N?f.parent():f);{if(!i)return s(t,e,r,n,b);var o=s.$$slots[i];if(o)return o(t,e,r,n,b);if(yt(o))throw un("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,kt(f))}}).$$boundTransclude=s,h.isSlotFilled=function(t){return!!s.$$slots[t]}),M&&(c=function(t,e,n,i,r,o,s){var a=Dt();for(var u in i){var l=i[u],c={$scope:l===s||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var f=G(h,c,!0,l.controllerAs);a[l.name]=f,t.data("$"+l.name+"Controller",f.instance)}return a}(f,d,h,M,u,e,L)),L&&(Z.$$addScopeInfo(f,u,!0,!(T&&(T===L||T===L.$$originalDirective))),Z.$$addScopeClass(f,!0),u.$$isolateBindings=L.$$isolateBindings,(p=ft(e,d,u,u.$$isolateBindings,L)).removeWatches&&u.$on("$destroy",p.removeWatches)),c){var m,v=M[g],y=c[g],_=v.$$bindings.bindToController;dt?(y.bindingInfo=_?ft(l,d,y.instance,_,v):{},(m=y())!==y.instance&&(y.instance=m,f.data("$"+v.name+"Controller",m),y.bindingInfo.removeWatches&&y.bindingInfo.removeWatches(),y.bindingInfo=ft(l,d,y.instance,_,v))):(y.instance=y(),f.data("$"+v.name+"Controller",y.instance),y.bindingInfo=ft(l,d,y.instance,_,v))}for(gt(M,function(t,e){var n=t.require;t.bindToController&&!xt(n)&&_t(n)&&mt(c[e].instance,rt(e,n,f,c))}),gt(c,function(t){var e=t.instance;if(wt(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){V(t)}if(wt(e.$onInit))try{e.$onInit()}catch(t){V(t)}wt(e.$doCheck)&&(l.$watch(function(){e.$doCheck()}),e.$doCheck()),wt(e.$onDestroy)&&l.$on("$destroy",function(){e.$onDestroy()})}),r=0,o=C.length;r<o;r++)ht(a=C[r],a.isolateScope?u:e,f,d,a.require&&rt(a.directiveName,a.require,f,c),h);var b=e;for(L&&(L.template||null===L.templateUrl)&&(b=u),t&&t(b,n.childNodes,void 0,s),r=E.length-1;0<=r;r--)ht(a=E[r],a.isolateScope?u:e,f,d,a.require&&rt(a.directiveName,a.require,f,c),h);gt(c,function(t){var e=t.instance;wt(e.$postLink)&&e.$postLink()})}}function rt(n,t,i,r){if(bt(t)){var e,o,s=t.match(f),a=t.substring(s[0].length),u=s[1]||s[3],l="?"===s[2];if("^^"===u?i=i.parent():o=(o=r&&r[a])&&o.instance,o||(e="$"+a+"Controller",o=u?i.inheritedData(e):i.data(e)),!o&&!l)throw un("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,n)}else if(xt(t)){o=[];for(var c=0,h=t.length;c<h;c++)o[c]=rt(n,t[c],i,r)}else _t(t)&&(o={},gt(t,function(t,e){o[e]=rt(n,t,i,r)}));return o||null}function ot(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=vt(t[i],{$$isolateScope:e,$$newScope:n})}function P(t,e,n,i,r,o,s){if(e!==r){var a=null;if(D.hasOwnProperty(e))for(var u=S.get(e+O),l=0,c=u.length;l<c;l++){var h,f=u[l];(yt(i)||i>f.priority)&&-1!==f.restrict.indexOf(n)&&(o&&(f=vt(f,{$$start:o,$$end:s})),f.$$bindings||(h=f.$$bindings=function(t,e){var n={isolateScope:null,bindToController:null};if(_t(t.scope)&&(!0===t.bindToController?(n.bindToController=d(t.scope,e,!0),n.isolateScope={}):n.isolateScope=d(t.scope,e,!1)),_t(t.bindToController)&&(n.bindToController=d(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw un("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}(f,f.name),_t(h.isolateScope)&&(f.$$isolateBindings=h.isolateScope)),t.push(f),a=f)}return a}}function st(n,i){var r=i.$attr,o=n.$attr;gt(n,function(t,e){"$"!==e.charAt(0)&&(i[e]&&i[e]!==t&&(t+=("style"===e?";":" ")+i[e]),n.$set(e,t,!0,r[e]))}),gt(i,function(t,e){n.hasOwnProperty(e)||"$"===e.charAt(0)||(n[e]=t,"class"!==e&&"style"!==e&&(o[e]=r[e]))})}function A(t,e){var n=e.priority-t.priority;return 0!=n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function at(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw un("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,kt(i))}function ut(t,e){switch(t=w(t||"html")){case"svg":case"math":var n=p.document.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function lt(t,e,n){var i,r=e[0],o=e.length,s=r.parentNode;if(t)for(h=0,i=t.length;h<i;h++)if(t[h]===r){t[h++]=n;for(var a=h,u=a+o-1,l=t.length;a<l;a++,u++)u<l?t[a]=t[u]:delete t[a];t.length-=o-1,t.context===r&&(t.context=n);break}s&&s.replaceChild(n,r);for(var c=p.document.createDocumentFragment(),h=0;h<o;h++)c.appendChild(e[h]);for(pt.hasData(r)&&(pt.data(n,pt.data(r)),pt(r).off("$destroy")),pt.cleanData(c.querySelectorAll("*")),h=1;h<o;h++)delete e[h];e[0]=n,e.length=1}function ct(t,e){return mt(function(){return t.apply(null,arguments)},t,e)}function ht(t,e,n,i,r,o){try{t(e,n,i,r,o)}catch(t){V(t,kt(n))}}function ft(f,d,p,t,g){var i,m=[],v={};function y(t,e,n){!wt(p.$onChanges)||e===n||e!=e&&n!=n||(s||(f.$$postDigest(a),s=[]),i||(i={},s.push(r)),i[t]&&(n=i[t].previousValue),i[t]=new hn(n,e))}function r(){p.$onChanges(i),i=void 0}return gt(t,function(t,n){var e,i,r,o,s,a=t.attrName,u=t.optional;switch(t.mode){case"@":u||B.call(d,a)||(p[n]=d[a]=void 0),s=d.$observe(a,function(t){var e;(bt(t)||Et(t))&&(e=p[n],y(n,t,e),p[n]=t)}),d.$$observers[a].$$scope=f,bt(e=d[a])?p[n]=M(e)(f):Et(e)&&(p[n]=e),v[n]=new hn(ln,p[n]),m.push(s);break;case"=":if(!B.call(d,a)){if(u)break;d[a]=void 0}if(u&&!d[a])break;i=_(d[a]),o=i.literal?Tt:function(t,e){return t===e||t!=t&&e!=e},r=i.assign||function(){throw e=p[n]=i(f),un("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",d[a],a,g.name)},e=p[n]=i(f);var l=function(t){return o(t,p[n])||(o(t,e)?r(f,t=p[n]):p[n]=t),e=t};l.$stateful=!0,s=t.collection?f.$watchCollection(d[a],l):f.$watch(_(d[a],l),null,i.literal),m.push(s);break;case"<":if(!B.call(d,a)){if(u)break;d[a]=void 0}if(u&&!d[a])break;var c=(i=_(d[a])).literal,h=p[n]=i(f);v[n]=new hn(ln,p[n]),s=f.$watch(i,function(t,e){if(e===t){if(e===h||c&&Tt(e,h))return;e=h}y(n,t,e),p[n]=t},c),m.push(s);break;case"&":if((i=d.hasOwnProperty(a)?_(d[a]):q)===q&&u)break;p[n]=function(t){return i(f,t)}}}),{initialChanges:v,removeWatches:m.length&&function(){for(var t=0,e=m.length;t<e;++t)m[t]()}}}}]}function hn(t,e){this.previousValue=t,this.currentValue=e}cn.$inject=["$provide","$$sanitizeUriProvider"],hn.prototype.isFirstChange=function(){return this.previousValue===ln};var fn=/^((?:x|data)[:\-_])/i;function dn(t){return Kt(t.replace(fn,""))}function pn(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s===r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function gn(t){var e=(t=pt(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===$t||n.nodeType===Rt&&""===n.nodeValue.trim())&&i.call(t,e,1)}return t}var mn=x("$controller"),vn=/^(\S+)(\s+as\s+([\w$]+))?$/;function yn(){var f={},d=!1;this.has=function(t){return f.hasOwnProperty(t)},this.register=function(t,e){ht(t,"controller"),_t(t)?mt(f,t):f[t]=e},this.allowGlobals=function(){d=!0},this.$get=["$injector","$window",function(l,c){return function(e,n,t,i){var r,o,s;if(t=!0===t,i&&bt(i)&&(s=i),bt(e)){if(!(r=e.match(vn)))throw mn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(o=r[1],s=s||r[3],!(e=f.hasOwnProperty(o)?f[o]:ft(n.$scope,o,!0)||(d?ft(c,o,!0):void 0)))throw mn("ctrlreg","The controller with the name '{0}' is not registered.",o);ct(e,o,!0)}if(t){var a=(xt(e)?e[e.length-1]:e).prototype,u=Object.create(a||null);return s&&h(n,s,u,o||e.name),mt(function(){var t=l.invoke(e,u,n,o);return t!==u&&(_t(t)||wt(t))&&(u=t,s&&h(n,s,u,o||e.name)),u},{instance:u,identifier:s})}return u=l.instantiate(e,n,o),s&&h(n,s,u,o||e.name),u};function h(t,e,n,i){if(!t||!_t(t.$scope))throw x("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}}]}function _n(){this.$get=["$window",function(t){return pt(t.document)}]}function bn(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}function xn(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof pt&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]}var wn="application/json",Cn={"Content-Type":wn+";charset=utf-8"},En=/^\[|^\{(?!\{)/,Sn={"[":/]$/,"{":/}$/},Mn=/^\)]\}',?\n/,Ln=x("$http"),Tn=function(t){return function(){throw Ln("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}};function Nn(t){return _t(t)?N(t)?t.toISOString():G(t):t}function In(){this.$get=function(){return function(t){if(!t)return"";var n=[];return a(t,function(t,e){null===t||yt(t)||(xt(t)?gt(t,function(t){n.push(et(e)+"="+et(Nn(t)))}):n.push(et(e)+"="+et(Nn(t))))}),n.join("&")}}}function kn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function n(t,i,r){if(null===t||yt(t))return;xt(t)?gt(t,function(t,e){n(t,i+"["+(_t(t)?e:"")+"]")}):_t(t)&&!N(t)?a(t,function(t,e){n(t,i+(r?"":"[")+e+(r?"":"]"))}):e.push(et(i)+"="+et(Nn(t)))}(t,"",!0),e.join("&")}}}function Pn(t,e){var n,i,r,o;return bt(t)&&(!(n=t.replace(Mn,"").trim())||((i=e("Content-Type"))&&0===i.indexOf(wn)||(o=(r=n).match(En))&&Sn[o[0]].test(r))&&(t=W(n))),t}function An(t){var e,n=Dt();function i(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return bt(t)?gt(t.split("\n"),function(t){e=t.indexOf(":"),i(w(St(t.substr(0,e))),St(t.substr(e+1)))}):_t(t)&&gt(t,function(t,e){i(w(e),St(t))}),n}function Dn(n){var i;return function(t){if(i=i||An(n),t){var e=i[w(t)];return void 0===e&&(e=null),e}return i}}function On(e,n,i,t){return wt(t)?t(e,n,i):(gt(t,function(t){e=t(e,n,i)}),e)}function Rn(t){return 200<=t&&t<300}function $n(){var _=this.defaults={transformResponse:[Pn],transformRequest:[function(t){return _t(t)&&(i=t,"[object File]"!==g.call(i))&&(n=t,"[object Blob]"!==g.call(n))&&(e=t,"[object FormData]"!==g.call(e))?G(t):t;var e,n,i}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Bt(Cn),put:Bt(Cn),patch:Bt(Cn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(t){return H(t)?(b=!!t,this):b};var l=!0;this.useLegacyPromiseExtensions=function(t){return H(t)?(l=!!t,this):l};var e=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(d,p,t,g,m,a){var v=t("$http");_.paramSerializer=bt(_.paramSerializer)?a.get(_.paramSerializer):_.paramSerializer;var u=[];function y(t){if(!_t(t))throw x("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!bt(t.url))throw x("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var n=mt({method:"get",transformRequest:_.transformRequest,transformResponse:_.transformResponse,paramSerializer:_.paramSerializer},t);n.headers=function(t){var e,n,i,r=_.headers,o=mt({},t.headers);r=mt({},r.common,r[w(t.method)]);t:for(e in r){for(i in n=w(e),o)if(w(i)===n)continue t;o[e]=r[e]}return function(t,n){var i,r={};return gt(t,function(t,e){wt(t)?null!=(i=t(n))&&(r[e]=i):r[e]=t}),r}(o,Bt(t))}(t),n.method=c(n.method),n.paramSerializer=bt(n.paramSerializer)?a.get(n.paramSerializer):n.paramSerializer;var e=[],i=[],r=m.when(n);return gt(u,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&i.push(t.response,t.responseError)}),r=o(r,e),r=o(r=r.then(function(t){var n=t.headers,e=On(t.data,Dn(n),void 0,t.transformRequest);yt(e)&&gt(n,function(t,e){"content-type"===w(e)&&delete n[e]});yt(t.withCredentials)&&!yt(_.withCredentials)&&(t.withCredentials=_.withCredentials);return function(r,t){var o,e,s=m.defer(),n=s.promise,i=r.headers,a=function(t,e){0<e.length&&(t+=(-1===t.indexOf("?")?"?":"&")+e);return t}(r.url,r.paramSerializer(r.params));y.pendingRequests.push(r),n.then(f,f),!r.cache&&!_.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(o=_t(r.cache)?r.cache:_t(_.cache)?_.cache:v);o&&(H(e=o.get(a))?P(e)?e.then(h,h):xt(e)?c(e[1],e[0],Bt(e[2]),e[3]):c(e,200,{},"OK"):o.put(a,n));{var u;yt(e)&&((u=pr(r.url)?p()[r.xsrfCookieName||_.xsrfCookieName]:void 0)&&(i[r.xsrfHeaderName||_.xsrfHeaderName]=u),d(r.method,a,t,function(t,e,n,i){o&&(Rn(t)?o.put(a,[t,e,An(n),i]):o.remove(a));function r(){c(e,t,n,i)}b?g.$applyAsync(r):(r(),g.$$phase||g.$apply())},i,r.timeout,r.withCredentials,r.responseType,l(r.eventHandlers),l(r.uploadEventHandlers)))}return n;function l(t){if(t){var e={};return gt(t,function(n,t){e[t]=function(t){function e(){n(t)}b?g.$applyAsync(e):g.$$phase?e():g.$apply(e)}}),e}}function c(t,e,n,i){(Rn(e=-1<=e?e:0)?s.resolve:s.reject)({data:t,status:e,headers:Dn(n),config:r,statusText:i})}function h(t){c(t.data,t.status,Bt(t.headers()),t.statusText)}function f(){var t=y.pendingRequests.indexOf(r);-1!==t&&y.pendingRequests.splice(t,1)}}(t,e).then(s,s)}),i),l?(r.success=function(e){return ct(e,"fn"),r.then(function(t){e(t.data,t.status,t.headers,n)}),r},r.error=function(e){return ct(e,"fn"),r.then(null,function(t){e(t.data,t.status,t.headers,n)}),r}):(r.success=Tn("success"),r.error=Tn("error")),r;function o(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function s(t){var e=mt({},t);return e.data=On(t.data,t.headers,t.status,n.transformResponse),Rn(t.status)?e:m.reject(e)}}return gt(e,function(t){u.unshift(bt(t)?a.get(t):a.invoke(t))}),y.pendingRequests=[],function(t){gt(arguments,function(n){y[n]=function(t,e){return y(mt({},e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){gt(arguments,function(i){y[i]=function(t,e,n){return y(mt({},n||{},{method:i,url:t,data:e}))}})}("post","put","patch"),y.defaults=_,y}]}function Fn(){this.$get=function(){return function(){return new p.XMLHttpRequest}}}function zn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return y=i,_=(v=t).defer,b=e,x=n[0],function(t,i,e,r,n,o,s,a,u,l){if(v.$$incOutstandingRequestCount(),i=i||v.url(),"jsonp"===w(t))var c=b.createCallback(i),h=function(t,i,r){t=t.replace("JSON_CALLBACK",i);var o=x.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){Gt(o,"load",s),Gt(o,"error",s),x.body.removeChild(o),o=null;var e=-1,n="unknown";t&&("load"!==t.type||b.wasCalled(i)||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),r&&r(e,n)},Ut(o,"load",s),Ut(o,"error",s),x.body.appendChild(o),s}(i,c,function(t,e){var n=200===t&&b.getResponse(c);m(r,t,n,"",e),b.removeCallback(c)});else{var f=y(t,i);f.open(t,i,!0),gt(n,function(t,e){H(t)&&f.setRequestHeader(e,t)}),f.onload=function(){var t=f.statusText||"",e="response"in f?f.response:f.responseText,n=1223===f.status?204:f.status;0===n&&(n=e?200:"file"===dr(i).protocol?404:0),m(r,n,e,f.getAllResponseHeaders(),t)};var d=function(){m(r,-1,null,null,"")};if(f.onerror=d,f.onabort=d,f.ontimeout=d,gt(u,function(t,e){f.addEventListener(e,t)}),gt(l,function(t,e){f.upload.addEventListener(e,t)}),s&&(f.withCredentials=!0),a)try{f.responseType=a}catch(t){if("json"!==a)throw t}f.send(yt(e)?null:e)}var p;function g(){h&&h(),f&&f.abort()}function m(t,e,n,i,r){H(p)&&_.cancel(p),h=f=null,t(e,n,i,r),v.$$completeOutstandingRequest(q)}0<o?p=_(g,o):P(o)&&o.then(g)};var v,y,_,b,x}]}var Bn=_.$interpolateMinErr=x("$interpolate");function jn(){var E="{{",S="}}";this.startSymbol=function(t){return t?(E=t,this):E},this.endSymbol=function(t){return t?(S=t,this):S},this.$get=["$parse","$exceptionHandler","$sce",function(v,y,_){var b=E.length,x=S.length,e=new RegExp(E.replace(/./g,t),"g"),n=new RegExp(S.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function w(t){return t.replace(e,E).replace(n,S)}function C(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function i(r,t,e,i){var n;if(!r.length||-1===r.indexOf(E))return t||((n=M(w(r))).exp=r,n.expressions=[],n.$$watchDelegate=C),n;i=!!i;for(var o,s,a,u=0,l=[],c=[],h=r.length,f=[],d=[];u<h;){if(-1===(o=r.indexOf(E,u))||-1===(s=r.indexOf(S,o+b))){u!==h&&f.push(w(r.substring(u)));break}u!==o&&f.push(w(r.substring(u,o))),a=r.substring(o+b,s),l.push(a),c.push(v(a,m)),u=s+x,d.push(f.length),f.push("")}if(e&&1<f.length&&Bn.throwNoconcat(r),!t||l.length){var p=function(t){for(var e=0,n=l.length;e<n;e++){if(i&&yt(t[e]))return;f[d[e]]=t[e]}return f.join("")},g=function(t){return e?_.getTrusted(e,t):_.valueOf(t)};return mt(function(t){var e=0,n=l.length,i=new Array(n);try{for(;e<n;e++)i[e]=c[e](t);return p(i)}catch(t){y(Bn.interr(r,t))}},{exp:r,expressions:l,$$watchDelegate:function(i,r){var o;return i.$watchGroup(c,function(t,e){var n=p(t);wt(r)&&r.call(this,n,t!==e?o:n,i),o=n})}})}function m(t){try{return t=g(t),i&&!H(t)?t:function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=G(t)}return t}(t)}catch(t){y(Bn.interr(r,t))}}}return i.startSymbol=function(){return E},i.endSymbol=function(){return S},i}]}function qn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(d,p,g,m,v){var y={};function t(t,e,n,i){var r=4<arguments.length,o=r?Nt(arguments,4):[],s=p.setInterval,a=p.clearInterval,u=0,l=H(i)&&!i,c=(l?m:g).defer(),h=c.promise;return n=H(n)?n:0,h.$$intervalId=s(function(){l?v.defer(f):d.$evalAsync(f),c.notify(u++),0<n&&n<=u&&(c.resolve(u),a(h.$$intervalId),delete y[h.$$intervalId]),l||d.$apply()},e),y[h.$$intervalId]=c,h;function f(){r?t.apply(null,o):t(u)}}return t.cancel=function(t){return!!(t&&t.$$intervalId in y)&&(y[t.$$intervalId].reject("canceled"),p.clearInterval(t.$$intervalId),delete y[t.$$intervalId],!0)},t}]}Bn.throwNoconcat=function(t){throw Bn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Bn.interr=function(t,e){return Bn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};function Hn(){this.$get=["$window",function(t){var o=t.angular.callbacks,s={};return{createCallback:function(t){var e,n="_"+(o.$$counter++).toString(36),i="angular.callbacks."+n,r=((e=function(t){e.data=t,e.called=!0}).id=n,e);return s[i]=o[n]=r,i},wasCalled:function(t){return s[t].called},getResponse:function(t){return s[t].data},removeCallback:function(t){var e=s[t];delete o[e.id],delete s[t]}}}]}var Vn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Un={http:80,https:443,ftp:21},Gn=x("$location");function Wn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function Yn(t,e){var n=dr(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=y(n.port)||Un[n.protocol]||null}var Xn=/^\s*[\\/]{2,}/;function Zn(t,e){if(Xn.test(t))throw Gn("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=dr(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=J(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Kn(t,e){return t.slice(0,e.length)===e}function Jn(t,e){if(Kn(e,t))return e.substr(t.length)}function Qn(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function ti(t){return t.replace(/(#.+)|#$/,"$1")}function ei(o,s,a){this.$$html5=!0,a=a||"",Yn(o,this),this.$$parse=function(t){var e=Jn(s,t);if(!bt(e))throw Gn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,s);Zn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),e=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Wn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=s+this.$$url.substr(1)},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(H(n=Jn(o,t))?(i=n,r=a&&H(n=Jn(a,n))?s+(Jn("/",n)||n):o+i):H(n=Jn(s,t))?r=s+n:s===t+"/"&&(r=s),r&&this.$$parse(r),!!r);var n,i,r}}function ni(i,r,o){Yn(i,this),this.$$parse=function(t){var e,n=Jn(i,t)||Jn(r,t);yt(n)||"#"!==n.charAt(0)?this.$$html5?e=n:(e="",yt(n)&&(i=t,this.replace())):yt(e=Jn(o,n))&&(e=n),Zn(e,this),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;Kn(e,n)&&(e=e.replace(n,""));if(r.exec(e))return t;return(i=r.exec(t))?i[1]:t}(this.$$path,e,i),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),e=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Wn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+(this.$$url?o+this.$$url:"")},this.$$parseLinkUrl=function(t,e){return Qn(i)===Qn(t)&&(this.$$parse(t),!0)}}function ii(r,o,s){this.$$html5=!0,ni.apply(this,arguments),this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(r===Qn(t)?n=t:(i=Jn(o,t))?n=r+s+i:o===t+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var t=Q(this.$$search),e=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Wn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+s+this.$$url}}var ri={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:oi("$$absUrl"),url:function(t){if(yt(t))return this.$$url;var e=Vn.exec(t);return!e[1]&&""!==t||this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:oi("$$protocol"),host:oi("$$host"),port:oi("$$port"),path:si("$$path",function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(bt(n)||S(n))n=n.toString(),this.$$search=J(n);else{if(!_t(n))throw Gn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");gt(n=$(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:yt(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:si("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function oi(t){return function(){return this[t]}}function si(e,n){return function(t){return yt(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function ai(){var v="",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return H(t)?(v=t,this):v},this.html5Mode=function(t){return Et(t)?(y.enabled=t,this):_t(t)?(Et(t.enabled)&&(y.enabled=t.enabled),Et(t.requireBase)&&(y.requireBase=t.requireBase),(Et(t.rewriteLinks)||bt(t.rewriteLinks))&&(y.rewriteLinks=t.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(s,a,e,o,u){var t,n,i,r=a.baseHref(),l=a.url();if(y.enabled){if(!r&&y.requireBase)throw Gn("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(i=l).substring(0,i.indexOf("/",i.indexOf("//")+2))+(r||"/"),t=e.history?ei:ii}else n=Qn(l),t=ni;var c,h,f=(c=n).substr(0,Qn(c).lastIndexOf("/")+1);(h=new t(n,f,"#"+v)).$$parseLinkUrl(l,l),h.$$state=a.state();var d=/^\s*(javascript|mailto):/i;function p(t,e,n){var i=h.url(),r=h.$$state;try{a.url(t,e,n),h.$$state=a.state()}catch(t){throw h.url(i),h.$$state=r,t}}o.on("click",function(t){var e=y.rewriteLinks;if(e&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var n,i,r=pt(t.target);"a"!==Mt(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;bt(e)&&yt(r.attr(e))||(n=r.prop("href"),i=r.attr("href")||r.attr("xlink:href"),_t(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=dr(n.animVal).href),d.test(n)||!n||r.attr("target")||t.isDefaultPrevented()||h.$$parseLinkUrl(n,i)&&(t.preventDefault(),h.absUrl()!==a.url()&&(s.$apply(),u.angular["ff-684208-preventDefault"]=!0)))}}),ti(h.absUrl())!==ti(l)&&a.url(h.absUrl(),!0);var g=!0;return a.onUrlChange(function(i,r){yt(Jn(f,i))?u.location.href=i:(s.$evalAsync(function(){var t,e=h.absUrl(),n=h.$$state;i=ti(i),h.$$parse(i),h.$$state=r,t=s.$broadcast("$locationChangeStart",i,e,r,n).defaultPrevented,h.absUrl()===i&&(t?(h.$$parse(e),p(e,!1,h.$$state=n)):(g=!1,m(e,n)))}),s.$$phase||s.$digest())}),s.$watch(function(){var n=ti(a.url()),t=ti(h.absUrl()),i=a.state(),r=h.$$replace,o=n!==t||h.$$html5&&e.history&&i!==h.$$state;(g||o)&&(g=!1,s.$evalAsync(function(){var t=h.absUrl(),e=s.$broadcast("$locationChangeStart",t,n,h.$$state,i).defaultPrevented;h.absUrl()===t&&(e?(h.$$parse(n),h.$$state=i):(o&&p(t,r,i===h.$$state?null:h.$$state),m(n,i)))})),h.$$replace=!1}),h;function m(t,e){s.$broadcast("$locationChangeSuccess",h.absUrl(),t,h.$$state,e)}}]}function ui(){var n=!0,i=this;this.debugEnabled=function(t){return H(t)?(n=t,this):n},this.$get=["$window",function(r){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){n&&t.apply(i,arguments)})};var t;function e(t){var e=r.console||{},i=e[t]||e.log||q,n=!1;try{n=!!i.apply}catch(t){}return n?function(){var n=[];return gt(arguments,function(t){var e;n.push(((e=t)instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),i.apply(e,n)}:function(t,e){i(t,null==e?"":e)}}}]}gt([ii,ni,ei],function(e){e.prototype=Object.create(ri),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==ei||!this.$$html5)throw Gn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=yt(t)?null:t,this}});var li=x("$parse"),ci=[].constructor,hi=(!1).constructor,fi=Function.constructor,di=(0).constructor,pi={}.constructor,gi="".constructor,mi=ci.prototype,vi=hi.prototype,yi=fi.prototype,_i=di.prototype,bi=pi.prototype,xi=gi.prototype,wi=yi.call,Ci=yi.apply,Ei=yi.bind,Si=bi.valueOf;function Mi(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw li("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Li(t){return t+""}function Ti(t,e){if(t){if(t.constructor===t)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw li("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw li("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw li("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ni(t,e){if(t){if(t.constructor===t)throw li("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===wi||t===Ci||t===Ei)throw li("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ii(t,e){if(t&&(t===ci||t===hi||t===fi||t===di||t===pi||t===gi||t===mi||t===vi||t===yi||t===_i||t===bi||t===xi))throw li("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",e)}var ki=Dt();gt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){ki[t]=!0});var Pi={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Ai=function(t){this.options=t};Ai.prototype={constructor:Ai,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e,n,i,r,o,s,a=this.text.charAt(this.index);'"'===a||"'"===a?this.readString(a):this.isNumber(a)||"."===a&&this.isNumber(this.peek())?this.readNumber():this.isIdentifierStart(this.peekMultichar())?this.readIdent():this.is(a,"(){}[].,;:?")?(this.tokens.push({index:this.index,text:a}),this.index++):this.isWhitespace(a)?this.index++:(n=(e=a+this.peek())+this.peek(2),i=ki[a],r=ki[e],o=ki[n],i||r||o?(s=o?n:r?e:a,this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length):this.throwError("Unexpected next character ",this.index,this.index+1))}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=i&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=H(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw li("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=w(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o,s=this.text.charAt(this.index);if(i+=s,r)"u"===s?((o=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))):n+=Pi[s]||s,r=!1;else if("\\"===s)r=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=s}this.index++}this.throwError("Unterminated quote",e)}};var Di=function(t,e){this.lexer=t,this.options=e};function Oi(t,e){return void 0!==t?t:e}function Ri(t,e){return void 0===t?e:void 0===e?t:t+e}function $i(t,e){var n,i,r,o,s;switch(t.type){case Di.Program:n=!0,gt(t.body,function(t){$i(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Di.Literal:t.constant=!0,t.toWatch=[];break;case Di.UnaryExpression:$i(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Di.BinaryExpression:$i(t.left,e),$i(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Di.LogicalExpression:$i(t.left,e),$i(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Di.ConditionalExpression:$i(t.test,e),$i(t.alternate,e),$i(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Di.Identifier:t.constant=!1,t.toWatch=[t];break;case Di.MemberExpression:$i(t.object,e),t.computed&&$i(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Di.CallExpression:r=!!t.filter&&(o=e,s=t.callee.name,!o(s).$stateful),n=r,i=[],gt(t.arguments,function(t){$i(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=r?i:[t];break;case Di.AssignmentExpression:$i(t.left,e),$i(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Di.ArrayExpression:n=!0,i=[],gt(t.elements,function(t){$i(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case Di.ObjectExpression:n=!0,i=[],gt(t.properties,function(t){$i(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case Di.ThisExpression:case Di.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Fi(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length||n[0]!==e?n:void 0}}function zi(t){return t.type===Di.Identifier||t.type===Di.MemberExpression}function Bi(t){if(1===t.body.length&&zi(t.body[0].expression))return{type:Di.AssignmentExpression,left:t.body[0].expression,right:{type:Di.NGValueParameter},operator:"="}}function ji(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Di.Literal||t.body[0].expression.type===Di.ArrayExpression||t.body[0].expression.type===Di.ObjectExpression)}function qi(t){return t.constant}function Hi(t,e){this.astBuilder=t,this.$filter=e}function Vi(t,e){this.astBuilder=t,this.$filter=e}Di.Program="Program",Di.ExpressionStatement="ExpressionStatement",Di.AssignmentExpression="AssignmentExpression",Di.ConditionalExpression="ConditionalExpression",Di.LogicalExpression="LogicalExpression",Di.BinaryExpression="BinaryExpression",Di.UnaryExpression="UnaryExpression",Di.CallExpression="CallExpression",Di.MemberExpression="MemberExpression",Di.Identifier="Identifier",Di.Literal="Literal",Di.ArrayExpression="ArrayExpression",Di.Property="Property",Di.ObjectExpression="ObjectExpression",Di.ThisExpression="ThisExpression",Di.LocalsExpression="LocalsExpression",Di.NGValueParameter="NGValueParameter",Di.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Di.Program,body:t}},expressionStatement:function(){return{type:Di.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!zi(t))throw li("lval","Trying to assign a value to a non l-value");t={type:Di.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Di.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Di.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Di.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Di.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Di.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Di.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Di.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Di.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=$(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Di.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Di.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Di.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Di.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Di.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)for(;t.push(this.filterChain()),this.expect(","););return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Di.Identifier,name:t.text}},constant:function(){return{type:Di.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Di.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Di.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Di.ObjectExpression,properties:e}},throwError:function(t,e){throw li("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw li("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],s=o.text;if(s===e||s===n||s===i||s===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Di.ThisExpression},$locals:{type:Di.LocalsExpression}}},Hi.prototype={compile:function(t,e){var r=this,n=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},$i(n,r.$filter);var i,o,s="";this.stage="assign",(i=Bi(n))&&(this.state.computing="assign",o=this.nextId(),this.recurse(i,o),this.return_(o),s="fn.assign="+this.generateFunction("assign","s,v,l"));var a=Fi(n.body);r.stage="inputs",gt(a,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(n);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,Mi,Ti,Ni,Li,Ii,Oi,Ri,t);return this.state=this.stage=void 0,l.literal=ji(n),l.constant=qi(n),l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return gt(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[],i=this;return gt(this.state.filters,function(t,e){n.push(t+"=$filter("+i.escape(e)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,e,t,i,r,o){var s,a,u,l,c,h=this;if(i=i||q,!o&&H(n.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",n.watchId)),this.lazyRecurse(n,e,t,i,r,!0));switch(n.type){case Di.Program:gt(n.body,function(t,e){h.recurse(t.expression,void 0,void 0,function(t){a=t}),e!==n.body.length-1?h.current().body.push(a,";"):h.return_(a)});break;case Di.Literal:l=this.escape(n.value),this.assign(e,l),i(l);break;case Di.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(t){a=t}),l=n.operator+"("+this.ifDefined(a,0)+")",this.assign(e,l),i(l);break;case Di.BinaryExpression:this.recurse(n.left,void 0,void 0,function(t){s=t}),this.recurse(n.right,void 0,void 0,function(t){a=t}),l="+"===n.operator?this.plus(s,a):"-"===n.operator?this.ifDefined(s,0)+n.operator+this.ifDefined(a,0):"("+s+")"+n.operator+"("+a+")",this.assign(e,l),i(l);break;case Di.LogicalExpression:e=e||this.nextId(),h.recurse(n.left,e),h.if_("&&"===n.operator?e:h.not(e),h.lazyRecurse(n.right,e)),i(e);break;case Di.ConditionalExpression:e=e||this.nextId(),h.recurse(n.test,e),h.if_(e,h.lazyRecurse(n.alternate,e),h.lazyRecurse(n.consequent,e)),i(e);break;case Di.Identifier:e=e||this.nextId(),t&&(t.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),t.computed=!1,t.name=n.name),Mi(n.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",n.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.not(h.nonComputedMember("s",n.name)),h.lazyAssign(h.nonComputedMember("s",n.name),"{}")),h.assign(e,h.nonComputedMember("s",n.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",n.name))),(h.state.expensiveChecks||Gi(n.name))&&h.addEnsureSafeObject(e),i(e);break;case Di.MemberExpression:s=t&&(t.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(n.object,s,void 0,function(){h.if_(h.notNull(s),function(){r&&1!==r&&h.addEnsureSafeAssignContext(s),n.computed?(a=h.nextId(),h.recurse(n.property,a),h.getStringValue(a),h.addEnsureSafeMemberName(a),r&&1!==r&&h.if_(h.not(h.computedMember(s,a)),h.lazyAssign(h.computedMember(s,a),"{}")),l=h.ensureSafeObject(h.computedMember(s,a)),h.assign(e,l),t&&(t.computed=!0,t.name=a)):(Mi(n.property.name),r&&1!==r&&h.if_(h.not(h.nonComputedMember(s,n.property.name)),h.lazyAssign(h.nonComputedMember(s,n.property.name),"{}")),l=h.nonComputedMember(s,n.property.name),(h.state.expensiveChecks||Gi(n.property.name))&&(l=h.ensureSafeObject(l)),h.assign(e,l),t&&(t.computed=!1,t.name=n.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!r);break;case Di.CallExpression:e=e||this.nextId(),n.filter?(a=h.filter(n.callee.name),u=[],gt(n.arguments,function(t){var e=h.nextId();h.recurse(t,e),u.push(e)}),l=a+"("+u.join(",")+")",h.assign(e,l),i(e)):(a=h.nextId(),s={},u=[],h.recurse(n.callee,a,s,function(){h.if_(h.notNull(a),function(){h.addEnsureSafeFunction(a),gt(n.arguments,function(t){h.recurse(t,h.nextId(),void 0,function(t){u.push(h.ensureSafeObject(t))})}),l=s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):a+"("+u.join(",")+")",l=h.ensureSafeObject(l),h.assign(e,l)},function(){h.assign(e,"undefined")}),i(e)}));break;case Di.AssignmentExpression:a=this.nextId(),s={},this.recurse(n.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(n.right,a),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),l=h.member(s.context,s.name,s.computed)+n.operator+a,h.assign(e,l),i(e||l)})},1);break;case Di.ArrayExpression:u=[],gt(n.elements,function(t){h.recurse(t,h.nextId(),void 0,function(t){u.push(t)})}),l="["+u.join(",")+"]",this.assign(e,l),i(l);break;case Di.ObjectExpression:c=!(u=[]),gt(n.properties,function(t){t.computed&&(c=!0)}),c?(e=e||this.nextId(),this.assign(e,"{}"),gt(n.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Di.Identifier?t.key.name:""+t.key.value,a=h.nextId(),h.recurse(t.value,a),h.assign(h.member(e,s,t.computed),a)})):(gt(n.properties,function(e){h.recurse(e.value,n.constant?void 0:h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===Di.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+u.join(",")+"}",this.assign(e,l)),i(e||l);break;case Di.ThisExpression:this.assign(e,"s"),i("s");break;case Di.LocalsExpression:this.assign(e,"l"),i("l");break;case Di.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){var i;!0===t?e():((i=this.current().body).push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}")))},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(bt(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw li("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Vi.prototype={compile:function(t,e){var n,i,r=this,o=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,$i(o,r.$filter),(n=Bi(o))&&(i=this.recurse(n));var s,a=Fi(o.body);a&&(s=[],gt(a,function(t,e){var n=r.recurse(t);t.input=n,s.push(n),t.watchId=e}));var u=[];gt(o.body,function(t){u.push(r.recurse(t.expression))});var l=0===o.body.length?q:1===o.body.length?u[0]:function(e,n){var i;return gt(u,function(t){i=t(e,n)}),i};return i&&(l.assign=function(t,e,n){return i(t,n,e)}),s&&(l.inputs=s),l.literal=ji(o),l.constant=qi(o),l},recurse:function(t,u,e){var s,l,c,h=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Di.Literal:return this.value(t.value,u);case Di.UnaryExpression:return l=this.recurse(t.argument),this["unary"+t.operator](l,u);case Di.BinaryExpression:case Di.LogicalExpression:return s=this.recurse(t.left),l=this.recurse(t.right),this["binary"+t.operator](s,l,u);case Di.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),u);case Di.Identifier:return Mi(t.name,h.expression),h.identifier(t.name,h.expensiveChecks||Gi(t.name),u,e,h.expression);case Di.MemberExpression:return s=this.recurse(t.object,!1,!!e),t.computed||(Mi(t.property.name,h.expression),l=t.property.name),t.computed&&(l=this.recurse(t.property)),t.computed?this.computedMember(s,l,u,e,h.expression):this.nonComputedMember(s,l,h.expensiveChecks,u,e,h.expression);case Di.CallExpression:return c=[],gt(t.arguments,function(t){c.push(h.recurse(t))}),t.filter&&(l=this.$filter(t.callee.name)),t.filter||(l=this.recurse(t.callee,!0)),t.filter?function(t,e,n,i){for(var r=[],o=0;o<c.length;++o)r.push(c[o](t,e,n,i));var s=l.apply(void 0,r,i);return u?{context:void 0,name:void 0,value:s}:s}:function(t,e,n,i){var r,o=l(t,e,n,i);if(null!=o.value){Ti(o.context,h.expression),Ni(o.value,h.expression);for(var s=[],a=0;a<c.length;++a)s.push(Ti(c[a](t,e,n,i),h.expression));r=Ti(o.value.apply(o.context,s),h.expression)}return u?{value:r}:r};case Di.AssignmentExpression:return s=this.recurse(t.left,!0,1),l=this.recurse(t.right),function(t,e,n,i){var r=s(t,e,n,i),o=l(t,e,n,i);return Ti(r.value,h.expression),Ii(r.context),r.context[r.name]=o,u?{value:o}:o};case Di.ArrayExpression:return c=[],gt(t.elements,function(t){c.push(h.recurse(t))}),function(t,e,n,i){for(var r=[],o=0;o<c.length;++o)r.push(c[o](t,e,n,i));return u?{value:r}:r};case Di.ObjectExpression:return c=[],gt(t.properties,function(t){t.computed?c.push({key:h.recurse(t.key),computed:!0,value:h.recurse(t.value)}):c.push({key:t.key.type===Di.Identifier?t.key.name:""+t.key.value,computed:!1,value:h.recurse(t.value)})}),function(t,e,n,i){for(var r={},o=0;o<c.length;++o)c[o].computed?r[c[o].key(t,e,n,i)]=c[o].value(t,e,n,i):r[c[o].key]=c[o].value(t,e,n,i);return u?{value:r}:r};case Di.ThisExpression:return function(t){return u?{value:t}:t};case Di.LocalsExpression:return function(t,e){return u?{value:e}:e};case Di.NGValueParameter:return function(t,e,n){return u?{value:n}:n}}},"unary+":function(o,s){return function(t,e,n,i){var r=H(r=o(t,e,n,i))?+r:0;return s?{value:r}:r}},"unary-":function(o,s){return function(t,e,n,i){var r=H(r=o(t,e,n,i))?-r:0;return s?{value:r}:r}},"unary!":function(o,s){return function(t,e,n,i){var r=!o(t,e,n,i);return s?{value:r}:r}},"binary+":function(o,s,a){return function(t,e,n,i){var r=Ri(o(t,e,n,i),s(t,e,n,i));return a?{value:r}:r}},"binary-":function(a,u,l){return function(t,e,n,i){var r=a(t,e,n,i),o=u(t,e,n,i),s=(H(r)?r:0)-(H(o)?o:0);return l?{value:s}:s}},"binary*":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)*s(t,e,n,i);return a?{value:r}:r}},"binary/":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)/s(t,e,n,i);return a?{value:r}:r}},"binary%":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)%s(t,e,n,i);return a?{value:r}:r}},"binary===":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)===s(t,e,n,i);return a?{value:r}:r}},"binary!==":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)!==s(t,e,n,i);return a?{value:r}:r}},"binary==":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)==s(t,e,n,i);return a?{value:r}:r}},"binary!=":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)!=s(t,e,n,i);return a?{value:r}:r}},"binary<":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)<s(t,e,n,i);return a?{value:r}:r}},"binary>":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)>s(t,e,n,i);return a?{value:r}:r}},"binary<=":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)<=s(t,e,n,i);return a?{value:r}:r}},"binary>=":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)>=s(t,e,n,i);return a?{value:r}:r}},"binary&&":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)&&s(t,e,n,i);return a?{value:r}:r}},"binary||":function(o,s,a){return function(t,e,n,i){var r=o(t,e,n,i)||s(t,e,n,i);return a?{value:r}:r}},"ternary?:":function(o,s,a,u){return function(t,e,n,i){var r=(o(t,e,n,i)?s:a)(t,e,n,i);return u?{value:r}:r}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(s,a,u,l,c){return function(t,e,n,i){var r=e&&s in e?e:t;l&&1!==l&&r&&!r[s]&&(r[s]={});var o=r?r[s]:void 0;return a&&Ti(o,c),u?{context:r,name:s,value:o}:o}},computedMember:function(a,u,l,c,h){return function(t,e,n,i){var r,o,s=a(t,e,n,i);return null!=s&&(r=u(t,e,n,i),Mi(r+="",h),c&&1!==c&&(Ii(s),s&&!s[r]&&(s[r]={})),Ti(o=s[r],h)),l?{context:s,name:r,value:o}:o}},nonComputedMember:function(s,a,u,l,c,h){return function(t,e,n,i){var r=s(t,e,n,i);c&&1!==c&&(Ii(r),r&&!r[a]&&(r[a]={}));var o=null!=r?r[a]:void 0;return(u||Gi(a))&&Ti(o,h),l?{context:r,name:a,value:o}:o}},inputs:function(r,o){return function(t,e,n,i){return i?i[o]:r(t,e,n)}}};var Ui=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Di(t,n),this.astCompiler=new(n.csp?Vi:Hi)(this.ast,e)};function Gi(t){return"constructor"===t}function Wi(t){return wt(t.valueOf)?t.valueOf():Si.call(t)}function Yi(){var n,i,_=Dt(),b=Dt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(t,e){return n=t,i=e,this},this.$get=["$filter",function(l){var t=F().noUnsafeEval,c={csp:t,expensiveChecks:!1,literals:$(r),isIdentifierStart:wt(n)&&n,isIdentifierContinue:wt(i)&&i},h={csp:t,expensiveChecks:!0,literals:$(r),isIdentifierStart:wt(n)&&n,isIdentifierContinue:wt(i)&&i},f=!1;return e.$$runningExpensiveChecks=function(){return f},e;function e(t,e,n){var i,r;switch(n=n||f,typeof t){case"string":t=t.trim();var o,s,a,u=n?b:_;return(a=u[r=t])||(":"===t.charAt(0)&&":"===t.charAt(1)&&(i=!0,t=t.substring(2)),s=new Ai(o=n?h:c),(a=new Ui(s,l,o).parse(t)).constant?a.$$watchDelegate=v:i?a.$$watchDelegate=a.literal?m:g:a.inputs&&(a.$$watchDelegate=p),n&&(a=function t(o){if(!o)return o;n.$$watchDelegate=o.$$watchDelegate;n.assign=t(o.assign);n.constant=o.constant;n.literal=o.literal;for(var e=0;o.inputs&&e<o.inputs.length;++e)o.inputs[e]=t(o.inputs[e]);n.inputs=o.inputs;return n;function n(t,e,n,i){var r=f;f=!0;try{return o(t,e,n,i)}finally{f=r}}}(a)),u[r]=a),y(a,e);case"function":return y(t,e);default:return y(q,e)}}function d(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Wi(t)))&&(t===e||t!=t&&e!=e)}function p(t,e,n,o,i){var s;if(1===(a=o.inputs).length){var r=d,a=a[0];return t.$watch(function(t){var e=a(t);return d(e,r)||(s=o(t,void 0,void 0,[e]),r=e&&Wi(e)),s},e,n,i)}for(var u=[],l=[],c=0,h=a.length;c<h;c++)u[c]=d,l[c]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var r=a[n](t);(e=e||!d(r,u[n]))&&(l[n]=r,u[n]=r&&Wi(r))}return e&&(s=o(t,void 0,void 0,l)),s},e,n,i)}function g(t,i,e,n){var r,o=t.$watch(function(t){return n(t)},function(t,e,n){r=t,wt(i)&&i.apply(this,arguments),H(t)&&n.$$postDigest(function(){H(r)&&o()})},e);return o}function m(t,i,e,n){var r,o=t.$watch(function(t){return n(t)},function(t,e,n){r=t,wt(i)&&i.call(this,t,e,n),s(t)&&n.$$postDigest(function(){s(r)&&o()})},e);return o;function s(t){var e=!0;return gt(t,function(t){H(t)||(e=!1)}),e}}function v(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function y(s,a){if(!a)return s;var t=s.$$watchDelegate,o=!1,e=t!==m&&t!==g?function(t,e,n,i){var r=o&&i?i[0]:s(t,e,n,i);return a(r,t,e)}:function(t,e,n,i){var r=s(t,e,n,i),o=a(r,t,e);return H(r)?o:r};return s.$$watchDelegate&&s.$$watchDelegate!==p?e.$$watchDelegate=s.$$watchDelegate:a.$stateful||(e.$$watchDelegate=p,o=!s.inputs,e.inputs=s.inputs?s.inputs:[s]),e}}]}function Xi(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Ki(function(t){e.$evalAsync(t)},t)}]}function Zi(){this.$get=["$browser","$exceptionHandler",function(e,t){return Ki(function(t){e.defer(t)},t)}]}function Ki(e,s){var n=x("$q",TypeError);function i(){var t=new u;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t}function t(){this.$$state={status:0}}function o(e,n){return function(t){n.call(e,t)}}function a(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){!function(t){var e,n,i=t.pending;t.processScheduled=!1,t.pending=void 0;for(var r=0,o=i.length;r<o;++r){n=i[r][0],e=i[r][t.status];try{wt(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(t){n.reject(t),s(t)}}}(t)}))}function u(){this.promise=new t}function r(t){var e=new u;return e.reject(t),e.promise}function l(t,e,n){var i=null;try{wt(n)&&(i=n())}catch(t){return r(t)}return P(i)?i.then(function(){return e(t)},r):e(t)}function c(t,e,n,i){var r=new u;return r.resolve(t),r.promise.then(e,n,i)}mt(t.prototype,{then:function(t,e,n){if(yt(t)&&yt(e)&&yt(n))return this;var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&a(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return l(t,h,e)},function(t){return l(t,r,e)},t)}}),mt(u.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var e,n=this,i=!1;try{(_t(t)||wt(t))&&(e=t&&t.then),wt(e)?(this.promise.$$state.status=-1,e.call(t,function(t){if(i)return;i=!0,n.$$resolve(t)},r,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,a(this.promise.$$state))}catch(t){r(t),s(t)}function r(t){i||(i=!0,n.$$reject(t))}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,a(this.promise.$$state)},notify:function(r){var o=this.promise.$$state.pending;this.promise.$$state.status<=0&&o&&o.length&&e(function(){for(var t,e,n=0,i=o.length;n<i;n++){e=o[n][0],t=o[n][3];try{e.notify(wt(t)?t(r):r)}catch(t){s(t)}}})}});var h=c;function f(t){if(!wt(t))throw n("norslvr","Expected resolverFn, got '{0}'",t);var e=new u;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise}return f.prototype=t.prototype,f.defer=i,f.reject=r,f.when=c,f.resolve=h,f.all=function(t){var n=new u,i=0,r=xt(t)?[]:{};return gt(t,function(t,e){i++,c(t).then(function(t){r[e]=t,--i||n.resolve(r)},function(t){n.reject(t)})}),0===i&&n.resolve(r),n.promise},f.race=function(t){var e=i();return gt(t,function(t){c(t).then(e.resolve,e.reject)}),e.promise},f}function Ji(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,o=e?function(t){var e=i(t);return function(){r(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return o.supported=e,o}]}function Qi(){var C=10,E=x("$rootScope"),S=null,M=null;this.digestTtl=function(t){return arguments.length&&(C=t),C},this.$get=["$exceptionHandler","$parse","$browser",function(f,p,d){function r(t){t.currentScope.$$destroyed=!0}function o(){this.$id=L(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}o.prototype={constructor:o,$new:function(t,e){var n;function i(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=L(),this.$$ChildScope=null}return e=e||this,t?(n=new o).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(i.prototype=this,i)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,!t&&e===this||n.$on("$destroy",r),n},$watch:function(t,e,n,i){var r=p(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,a={fn:e,last:x,get:r,exp:i||t,eq:!!n};return S=null,wt(e)||(a.fn=q),s||((s=o.$$watchers=[]).$$digestWatchIndex=-1),s.unshift(a),s.$$digestWatchIndex++,u(this,1),function(){var t=Lt(s,a);0<=t&&(u(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),S=null}},$watchGroup:function(t,i){var r=new Array(t.length),o=new Array(t.length),s=[],a=this,u=!1,e=!0;if(!t.length){var n=!0;return a.$evalAsync(function(){n&&i(o,o,a)}),function(){n=!1}}if(1===t.length)return this.$watch(t[0],function(t,e,n){o[0]=t,r[0]=e,i(o,t===e?o:r,n)});function l(){u=!1,e?(e=!1,i(o,o,a)):i(o,r,a)}return gt(t,function(t,n){var e=a.$watch(t,function(t,e){o[n]=t,r[n]=e,u||(u=!0,a.$evalAsync(l))});s.push(e)}),function(){for(;s.length;)s.shift()()}},$watchCollection:function(t,n){d.$stateful=!0;var s,a,i,r=this,o=1<n.length,u=0,e=p(t,d),l=[],c={},h=!0,f=0;function d(t){var e,n,i,r;if(!yt(s=t)){if(_t(s))if(D(s)){a!==l&&(f=(a=l).length=0,u++),e=s.length,f!==e&&(u++,a.length=f=e);for(var o=0;o<e;o++)r=a[o],i=s[o],r!=r&&i!=i||r===i||(u++,a[o]=i)}else{for(n in a!==c&&(a=c={},f=0,u++),e=0,s)B.call(s,n)&&(e++,i=s[n],r=a[n],n in a?r!=r&&i!=i||r===i||(u++,a[n]=i):(f++,a[n]=i,u++));if(e<f)for(n in u++,a)B.call(s,n)||(f--,delete a[n])}else a!==s&&(a=s,u++);return u}}return this.$watch(e,function(){if(h?(h=!1,n(s,s,r)):n(s,i,r),o)if(_t(s))if(D(s)){i=new Array(s.length);for(var t=0;t<s.length;t++)i[t]=s[t]}else for(var e in i={},s)B.call(s,e)&&(i[e]=s[e]);else i=s})},$digest:function(){var t,e,n,i,r,o,s,a,u,l=C,c=[];_("$digest"),d.$$checkUrlChange(),this===g&&null!==M&&(d.defer.cancel(M),w()),S=null;do{r=!1,s=this;for(var h=0;h<m.length;h++){try{(u=m[h]).scope.$eval(u.expression,u.locals)}catch(t){f(t)}S=null}m.length=0;t:do{if(i=s.$$watchers)for(i.$$digestWatchIndex=i.length;i.$$digestWatchIndex--;)try{if(t=i[i.$$digestWatchIndex])if((e=(0,t.get)(s))===(n=t.last)||(t.eq?Tt(e,n):T(e)&&T(n))){if(t===S){r=!1;break t}}else r=!0,(S=t).last=t.eq?$(e,null):e,(0,t.fn)(e,n===x?e:n,s),l<5&&(c[a=4-l]||(c[a]=[]),c[a].push({msg:wt(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){f(t)}if(!(o=s.$$watchersCount&&s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(o=s.$$nextSibling);)s=s.$parent}while(s=o);if((r||m.length)&&!l--)throw b(),E("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",C,c)}while(r||m.length);for(b();y<v.length;)try{v[y++]()}catch(t){f(t)}v.length=y=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===g&&d.$$applicationDestroyed(),u(this,-this.$$watchersCount),this.$$listenerCount)s(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=q,this.$on=this.$watch=this.$watchGroup=function(){return q},this.$$listeners={},this.$$nextSibling=null,function t(e){9===j&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t,e){g.$$phase||m.length||d.defer(function(){m.length&&g.$digest()}),m.push({scope:this,expression:p(t),locals:e})},$$postDigest:function(t){v.push(t)},$apply:function(t){try{_("$apply");try{return this.$eval(t)}finally{b()}}catch(t){f(t)}finally{try{g.$digest()}catch(t){throw f(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),t=p(t),null===M&&(M=d.defer(function(){g.$apply(w)}))},$on:function(e,n){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var r=this;return function(){var t=i.indexOf(n);-1!==t&&(i[t]=null,s(r,1,e))}},$emit:function(t,e){var n,i,r,o=[],s=this,a=!1,u={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=V([u],arguments,1);do{for(n=s.$$listeners[t]||o,u.currentScope=s,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,l)}catch(t){f(t)}else n.splice(i,1),i--,r--;if(a)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var o,s,a,u=V([r],arguments,1);n=i;){for(s=0,a=(o=(r.currentScope=n).$$listeners[t]||[]).length;s<a;s++)if(o[s])try{o[s].apply(null,u)}catch(t){f(t)}else o.splice(s,1),s--,a--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var g=new o,m=g.$$asyncQueue=[],v=g.$$postDigestQueue=[],n=g.$$applyAsyncQueue=[],y=0;return g;function _(t){if(g.$$phase)throw E("inprog","{0} already in progress",g.$$phase);g.$$phase=t}function b(){g.$$phase=null}function u(t,e){for(;t.$$watchersCount+=e,t=t.$parent;);}function s(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function x(){}function w(){for(;n.length;)try{n.shift()()}catch(t){f(t)}M=null}}]}function tr(){var r=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return H(t)?(r=t,this):r},this.imgSrcSanitizationWhitelist=function(t){return H(t)?(o=t,this):o},this.$get=function(){return function(t,e){var n=e?o:r,i=dr(t).href;return""===i||i.match(n)?t:"unsafe:"+i}}}Ui.prototype={constructor:Ui,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var er=x("$sce"),nr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function ir(t){var e=[];return H(t)&&gt(t,function(t){e.push(function(t){if("self"===t)return t;if(bt(t)){if(-1<t.indexOf("***"))throw er("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=O(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(I(t))return new RegExp("^"+t.source+"$");throw er("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function rr(){this.SCE_CONTEXTS=nr;var s=["self"],a=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(s=ir(t)),s},this.resourceUrlBlacklist=function(t){return arguments.length&&(a=ir(t)),a},this.$get=["$injector",function(t){var i=function(){throw er("unsafe","Attempting to use an unsafe value in a safe context.")};function o(t,e){return"self"===t?pr(e):t.exec(e.href)}function e(t){function e(t){this.$$unwrapTrustedValue=function(){return t}}return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(i=t.get("$sanitize"));var n=e(),r={};return r[nr.HTML]=e(n),r[nr.CSS]=e(n),r[nr.URL]=e(n),r[nr.JS]=e(n),r[nr.RESOURCE_URL]=e(r[nr.URL]),{trustAs:function(t,e){var n=r.hasOwnProperty(t)?r[t]:null;if(!n)throw er("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||yt(e)||""===e)return e;if("string"!=typeof e)throw er("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||yt(e)||""===e)return e;var n=r.hasOwnProperty(t)?r[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===nr.RESOURCE_URL){if(function(t){for(var e=dr(t.toString()),n=!1,i=0,r=s.length;i<r;i++)if(o(s[i],e)){n=!0;break}if(n)for(i=0,r=a.length;i<r;i++)if(o(a[i],e)){n=!1;break}return n}(e))return e;throw er("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===nr.HTML)return i(e);throw er("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function or(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(i,t){if(e&&j<8)throw er("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Bt(nr);r.isEnabled=function(){return e},r.trustAs=t.trustAs,r.getTrusted=t.getTrusted,r.valueOf=t.valueOf,e||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=C),r.parseAs=function(e,t){var n=i(t);return n.literal&&n.constant?n:i(t,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,s=r.getTrusted,a=r.trustAs;return gt(nr,function(e,t){var n=w(t);r[Kt("parse_as_"+n)]=function(t){return o(e,t)},r[Kt("get_trusted_"+n)]=function(t){return s(e,t)},r[Kt("trust_as_"+n)]=function(t){return a(e,t)}}),r}]}function sr(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=!(t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,s=y((/android (\d+)/.exec(w((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=u.body&&u.body.style,h=!1,f=!1;if(c){for(var d in c)if(i=l.exec(d)){n=(n=i[0])[0].toUpperCase()+n.substr(1);break}n=n||"WebkitOpacity"in c&&"webkit",h=!!("transition"in c||n+"Transition"in c),f=!!("animation"in c||n+"Animation"in c),!s||h&&f||(h=bt(c.webkitTransition),f=bt(c.webkitAnimation))}return{history:!(!o||s<4||a),hasEvent:function(t){return!("input"===t&&j<=11)&&(yt(r[t])&&(e=u.createElement("div"),r[t]="on"+t in e),r[t]);var e},csp:F(),vendorPrefix:n,transitions:h,animations:f,android:s}}]}var ar=x("$compile");function ur(){var u;this.httpOptions=function(t){return t?(u=t,this):u},this.$get=["$templateCache","$http","$q","$sce",function(i,r,o,s){function a(e,n){a.totalPendingRequests++,bt(e)&&!yt(i.get(e))||(e=s.getTrustedResourceUrl(e));var t=r.defaults&&r.defaults.transformResponse;return xt(t)?t=t.filter(function(t){return t!==Pn}):t===Pn&&(t=null),r.get(e,mt({cache:i,transformResponse:t},u)).finally(function(){a.totalPendingRequests--}).then(function(t){return i.put(e,t.data),t.data},function(t){if(n)return o.reject(t);throw ar("tpload","Failed to load template: {0} (HTTP status: {1} {2})",e,t.status,t.statusText)})}return a.totalPendingRequests=0,a}]}function lr(){this.$get=["$rootScope","$browser","$location",function(e,n,i){var t={findBindings:function(t,n,i){var e=t.getElementsByClassName("ng-binding"),r=[];return gt(e,function(e){var t=_.element(e).data("$binding");t&&gt(t,function(t){i?new RegExp("(^|\\s)"+O(n)+"(\\s|\\||$)").test(t)&&r.push(e):-1!==t.indexOf(n)&&r.push(e)})}),r},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]',s=t.querySelectorAll(o);if(s.length)return s}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}};return t}]}function cr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(u,l,c,h,f){var d={};function t(t,e,n){wt(t)||(n=e,e=t,t=q);var i=Nt(arguments,3),r=H(n)&&!n,o=(r?h:c).defer(),s=o.promise,a=l.defer(function(){try{o.resolve(t.apply(null,i))}catch(t){o.reject(t),f(t)}finally{delete d[s.$$timeoutId]}r||u.$apply()},e);return s.$$timeoutId=a,d[a]=o,s}return t.cancel=function(t){return!!(t&&t.$$timeoutId in d)&&(d[t.$$timeoutId].reject("canceled"),delete d[t.$$timeoutId],l.defer.cancel(t.$$timeoutId))},t}]}var hr=p.document.createElement("a"),fr=dr(p.location.href);function dr(t){var e=t;return j&&(hr.setAttribute("href",e),e=hr.href),hr.setAttribute("href",e),{href:hr.href,protocol:hr.protocol?hr.protocol.replace(/:$/,""):"",host:hr.host,search:hr.search?hr.search.replace(/^\?/,""):"",hash:hr.hash?hr.hash.replace(/^#/,""):"",hostname:hr.hostname,port:hr.port,pathname:"/"===hr.pathname.charAt(0)?hr.pathname:"/"+hr.pathname}}function pr(t){var e=bt(t)?dr(t):t;return e.protocol===fr.protocol&&e.host===fr.host}function gr(){this.$get=M(p)}function mr(t){var s=t[0]||{},a={},u="";function l(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var t,e,n,i,r,o=function(t){try{return t.cookie||""}catch(t){return""}}(s);if(o!==u)for(t=(u=o).split("; "),a={},n=0;n<t.length;n++)0<(i=(e=t[n]).indexOf("="))&&(r=l(e.substring(0,i)),yt(a[r])&&(a[r]=l(e.substring(i+1))));return a}}function vr(){this.$get=mr}function yr(i){var r="Filter";function o(t,e){if(_t(t)){var n={};return gt(t,function(t,e){n[e]=o(e,t)}),n}return i.factory(t+r,e)}this.register=o,this.$get=["$injector",function(e){return function(t){return e.get(t+r)}}],o("currency",Sr),o("date",$r),o("filter",_r),o("json",Fr),o("limitTo",jr),o("lowercase",zr),o("number",Mr),o("orderBy",Hr),o("uppercase",Br)}function _r(){return function(t,e,n,i){if(!D(t)){if(null==t)return t;throw x("filter")("notarray","Expected array but received: {0}",t)}var r,o;switch(i=i||"$",xr(e)){case"function":r=e;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=function(e,n,i,r){var o=_t(e)&&i in e;!0===n?n=Tt:wt(n)||(n=function(t,e){return!yt(t)&&(null===t||null===e?t===e:!(_t(e)||_t(t)&&!b(t))&&(t=w(""+t),e=w(""+e),-1!==t.indexOf(e)))});return function(t){return o&&!_t(t)?br(t,e[i],n,i,!1):br(t,e,n,i,r)}}(e,n,i,o);break;default:return t}return Array.prototype.filter.call(t,r)}}function br(t,e,n,i,r,o){var s,a=xr(t),u=xr(e);if("string"===u&&"!"===e.charAt(0))return!br(t,e.substring(1),n,i,r);if(xt(t))return t.some(function(t){return br(t,e,n,i,r)});switch(a){case"object":if(r){for(s in t)if("$"!==s.charAt(0)&&br(t[s],e,n,i,!0))return!0;return!o&&br(t,e,n,i,!1)}if("object"!==u)return n(t,e);for(s in e){var l=e[s];if(!wt(l)&&!yt(l)){var c=s===i;if(!br(c?t:t[s],l,n,i,c,c))return!1}}return!0;case"function":return!1;default:return n(t,e)}}function xr(t){return null===t?"null":typeof t}mr.$inject=["$document"],yr.$inject=["$provide"];var wr=22,Cr=".",Er="0";function Sr(t){var i=t.NUMBER_FORMATS;return function(t,e,n){return yt(e)&&(e=i.CURRENCY_SYM),yt(n)&&(n=i.PATTERNS[1].maxFrac),null==t?t:Lr(t,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(/\u00A4/g,e)}}function Mr(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:Lr(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function Lr(t,e,n,i,r){if(!bt(t)&&!S(t)||isNaN(t))return"";var o,s=!isFinite(t),a=!1,u=Math.abs(t)+"",l="";if(s)l="";else{(function(t,e,n,i){var r=t.d,o=r.length-t.i,s=(e=yt(e)?Math.min(Math.max(n,o),i):+e)+t.i,a=r[s];if(0<s){r.splice(Math.max(t.i,s));for(var u=s;u<r.length;u++)r[u]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,s=e+1),r[0]=0;for(var l=1;l<s;l++)r[l]=0}if(5<=a)if(s-1<0){for(var c=0;s<c;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[s-1]++;for(;o<Math.max(0,e);o++)r.push(0);var h=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.i++)})(o=function(t){var e,n,i,r,o,s=0;for(-1<(n=t.indexOf(Cr))&&(t=t.replace(Cr,"")),0<(i=t.search(/e/i))?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)===Er;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Er;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return wr<n&&(e=e.splice(0,wr-1),s=n-1,n=1),{d:e,e:s,i:n}}(u),r,e.minFrac,e.maxFrac);for(var c=o.d,h=o.i,f=o.e,d=[],a=c.reduce(function(t,e){return t&&!e},!0);h<0;)c.unshift(0),h++;0<h?d=c.splice(h,c.length):(d=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),l=p.join(n),d.length&&(l+=i+d.join("")),f&&(l+="e+"+f)}return t<0&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function Tr(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=1-t:(t=-t,r="-")),t=""+t;t.length<e;)t=Er+t;return n&&(t=t.substr(t.length-e)),r+t}function Nr(n,i,r,o,s){return r=r||0,function(t){var e=t["get"+n]();return(0<r||-r<e)&&(e+=r),0===e&&-12===r&&(e=12),Tr(e,i,o,s)}}function Ir(i,r,o){return function(t,e){var n=t["get"+i]();return e[c((o?"STANDALONE":"")+(r?"SHORT":"")+i)][n]}}function kr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Pr(r){return function(t){var e,n=kr(t.getFullYear()),i=(e=t,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())))-n;return Tr(1+Math.round(i/6048e5),r)}}function Ar(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}Sr.$inject=["$locale"];var Dr={yyyy:Nr("FullYear",4,0,!(Mr.$inject=["$locale"]),!0),yy:Nr("FullYear",2,0,!0,!0),y:Nr("FullYear",1,0,!1,!0),MMMM:Ir("Month"),MMM:Ir("Month",!0),MM:Nr("Month",2,1),M:Nr("Month",1,1),LLLL:Ir("Month",!1,!0),dd:Nr("Date",2),d:Nr("Date",1),HH:Nr("Hours",2),H:Nr("Hours",1),hh:Nr("Hours",2,-12),h:Nr("Hours",1,-12),mm:Nr("Minutes",2),m:Nr("Minutes",1),ss:Nr("Seconds",2),s:Nr("Seconds",1),sss:Nr("Milliseconds",3),EEEE:Ir("Day"),EEE:Ir("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var i=-1*n,r=0<=i?"+":"";return r+=Tr(Math[0<i?"floor":"ceil"](i/60),2)+Tr(Math.abs(i%60),2)},ww:Pr(2),w:Pr(1),G:Ar,GG:Ar,GGG:Ar,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Or=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Rr=/^-?\d+$/;function $r(u){var h=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var i,r,o="",s=[];if(t=t||"mediumDate",t=u.DATETIME_FORMATS[t]||t,bt(e)&&(e=(Rr.test(e)?y:function(t){var e;if(e=t.match(h)){var n=new Date(0),i=0,r=0,o=e[8]?n.setUTCFullYear:n.setFullYear,s=e[8]?n.setUTCHours:n.setHours;e[9]&&(i=y(e[9]+e[10]),r=y(e[9]+e[11])),o.call(n,y(e[1]),y(e[2])-1,y(e[3]));var a=y(e[4]||0)-i,u=y(e[5]||0)-r,l=y(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(n,a,u,l,c),n}return t})(e)),S(e)&&(e=new Date(e)),!N(e)||!isFinite(e.getTime()))return e;for(;t;)t=(r=Or.exec(t))?(s=V(s,r,1)).pop():(s.push(t),null);var a=e.getTimezoneOffset();return n&&(a=X(n,a),e=Z(e,n,!0)),gt(s,function(t){i=Dr[t],o+=i?i(e,u.DATETIME_FORMATS,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Fr(){return function(t,e){return yt(e)&&(e=2),G(t,e)}}$r.$inject=["$locale"];var zr=M(w),Br=M(c);function jr(){return function(t,e,n){return e=(Math.abs(Number(e))===1/0?Number:y)(e),T(e)?t:(S(t)&&(t=t.toString()),D(t)?(n=(n=!n||isNaN(n)?0:y(n))<0?Math.max(0,t.length+n):n,0<=e?qr(t,n,n+e):0===n?qr(t,e,t.length):qr(t,Math.max(0,n+e),n)):t)}}function qr(t,e,n){return bt(t)?t.slice(e,n):s.call(t,e,n)}function Hr(u){return function(t,e,n,i){if(null==t)return t;if(!D(t))throw x("orderBy")("notarray","Expected array but received: {0}",t);xt(e)||(e=[e]),0===e.length&&(e=["+"]);var o=e.map(function(t){var e,n=1,i=C;return wt(t)?i=t:bt(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=u(t)).constant&&(e=i(),i=function(t){return t[e]})),{get:i,descending:n}}),s=n?-1:1,a=wt(i)?i:c,r=Array.prototype.map.call(t,function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:o.map(function(t){return function(t,e){var n=typeof t;null===t?(n="string",t="null"):"object"===n&&(t=function(t){if(wt(t.valueOf)&&l(t=t.valueOf()))return t;if(b(t)&&l(t=t.toString()))return t;return t}(t));return{value:t,type:n,index:e}}(t.get(e),n)})}});return r.sort(function(t,e){for(var n=0,i=o.length;n<i;n++){var r=a(t.predicateValues[n],e.predicateValues[n]);if(r)return r*o[n].descending*s}return a(t.tieBreaker,e.tieBreaker)*s}),t=r.map(function(t){return t.value})};function l(t){switch(typeof t){case"number":case"boolean":case"string":return 1;default:return}}function c(t,e){var n,i,r=0,o=t.type,s=e.type;return o===s?(n=t.value,i=e.value,"string"===o?(n=n.toLowerCase(),i=i.toLowerCase()):"object"===o&&(_t(n)&&(n=t.index),_t(i)&&(i=e.index)),n!==i&&(r=n<i?-1:1)):r=o<s?-1:1,r}}function Vr(t){return wt(t)&&(t={link:t}),t.restrict=t.restrict||"AC",M(t)}Hr.$inject=["$parse"];var Ur=M({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){var n;"a"===e[0].nodeName.toLowerCase()&&(n="[object SVGAnimatedString]"===g.call(e.prop("href"))?"xlink:href":"href",e.on("click",function(t){e.attr(n)||t.preventDefault()}))}}}),Gr={};gt(Ee,function(t,i){var r,e;function o(t,e,n){t.$watch(n[r],function(t){n.$set(i,!!t)})}"multiple"!==t&&(r=dn("ng-"+i),e="checked"===t?function(t,e,n){n.ngModel!==n[r]&&o(t,0,n)}:o,Gr[r]=function(){return{restrict:"A",priority:100,link:e}})}),gt(Me,function(t,r){Gr[r]=function(){return{priority:100,link:function(t,e,n){if("ngPattern"===r&&"/"===n.ngPattern.charAt(0)){var i=n.ngPattern.match(o);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(n[r],function(t){n.$set(r,t)})}}}}),gt(["src","srcset","href"],function(o){var s=dn("ng-"+o);Gr[s]=function(){return{priority:99,link:function(t,e,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===g.call(e.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(s,function(t){t?(n.$set(r,t),j&&i&&e.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}});var Wr={$addControl:q,$$renameControl:function(t,e){t.$name=e},$removeControl:q,$setValidity:q,$setDirty:q,$setPristine:q,$setSubmitted:q},Yr="ng-submitted";function Xr(t,e,n,i,r){var o=this,s=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=r(e.name||e.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=Wr,o.$rollbackViewValue=function(){gt(s,function(t){t.$rollbackViewValue()})},o.$commitViewValue=function(){gt(s,function(t){t.$commitViewValue()})},o.$addControl=function(t){ht(t.$name,"input"),s.push(t),t.$name&&(o[t.$name]=t),t.$$parentForm=o},o.$$renameControl=function(t,e){var n=t.$name;o[n]===t&&delete o[n],(o[e]=t).$name=e},o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name],gt(o.$pending,function(t,e){o.$setValidity(e,null,n)}),gt(o.$error,function(t,e){o.$setValidity(e,null,n)}),gt(o.$$success,function(t,e){o.$setValidity(e,null,n)}),Lt(s,n),n.$$parentForm=Wr},es({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(Lt(i,n),0===i.length&&delete t[e])},$animate:i}),o.$setDirty=function(){i.removeClass(t,Uo),i.addClass(t,Go),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){i.setClass(t,Uo,Go+" "+Yr),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,gt(s,function(t){t.$setPristine()})},o.$setUntouched=function(){gt(s,function(t){t.$setUntouched()})},o.$setSubmitted=function(){i.addClass(t,Yr),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}Xr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function Zr(n){return["$timeout","$parse",function(u,e){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Xr,compile:function(t,e){t.addClass(Uo).addClass(Ho);var a=e.name?"name":!(!n||!e.ngForm)&&"ngForm";return{pre:function(e,t,n,i){var r,o=i[0];"action"in n||(r=function(t){e.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),t.preventDefault()},Ut(t[0],"submit",r),t.on("$destroy",function(){u(function(){Gt(t[0],"submit",r)},0,!1)})),(i[1]||o.$$parentForm).$addControl(o);var s=a?l(o.$name):q;a&&(s(e,o),n.$observe(a,function(t){o.$name!==t&&(s(e,void 0),o.$$parentForm.$$renameControl(o,t),(s=l(o.$name))(e,o))})),t.on("$destroy",function(){o.$$parentForm.$removeControl(o),s(e,void 0),mt(o,Wr)})}}}};function l(t){return""===t?e('this[""]').assign:e(t).assign||q}}]}var Kr=Zr(),Jr=Zr(!0),Qr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,to=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,eo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,no=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,io=/^(\d{4,})-(\d{2})-(\d{2})$/,ro=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oo=/^(\d{4,})-W(\d\d)$/,so=/^(\d{4,})-(\d\d)$/,ao=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,uo="keydown wheel mousedown",lo=Dt();gt("date,datetime-local,month,time,week".split(","),function(t){lo[t]=!0});var co={text:function(t,e,n,i,r,o){fo(0,e,n,i,r,o),ho(i)},date:go("date",io,po(io,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":go("datetimelocal",ro,po(ro,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:go("time",ao,po(ao,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:go("week",oo,function(t,e){if(N(t))return t;if(bt(t)){oo.lastIndex=0;var n=oo.exec(t);if(n){var i=+n[1],r=+n[2],o=0,s=0,a=0,u=0,l=kr(i),c=7*(r-1);return e&&(o=e.getHours(),s=e.getMinutes(),a=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,o,s,a,u)}}return NaN},"yyyy-Www"),month:go("month",so,po(so,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,o){var s,a;mo(0,e,0,i),fo(0,e,n,i,r,o),vo(i),(H(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||yt(s)||s<=t},n.$observe("min",function(t){s=yo(t),i.$validate()}));(H(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||yt(a)||t<=a},n.$observe("max",function(t){a=yo(t),i.$validate()}))},url:function(t,e,n,i,r,o){fo(0,e,n,i,r,o),ho(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||to.test(n)}},email:function(t,e,n,i,r,o){fo(0,e,n,i,r,o),ho(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||eo.test(n)}},radio:function(t,e,n,i){yt(n.name)&&e.attr("name",L());e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)},range:function(t,n,i,r,e,o){mo(0,n,0,r),vo(r),fo(0,n,i,r,e,o);var s=r.$$hasNativeValidators&&"range"===n[0].type,a=s?0:void 0,u=s?100:void 0,l=s?1:void 0,c=n[0].validity,h=H(i.min),f=H(i.max),d=H(i.step),p=r.$render;r.$render=s&&H(c.rangeUnderflow)&&H(c.rangeOverflow)?function(){p(),r.$setViewValue(n.val())}:p,h&&(r.$validators.min=s?function(){return!0}:function(t,e){return r.$isEmpty(e)||yt(a)||a<=e},g("min",function(t){if(a=yo(t),T(r.$modelValue))return;{var e;s?((e=n.val())<a&&(e=a,n.val(e)),r.$setViewValue(e)):r.$validate()}}));f&&(r.$validators.max=s?function(){return!0}:function(t,e){return r.$isEmpty(e)||yt(u)||e<=u},g("max",function(t){if(u=yo(t),T(r.$modelValue))return;{var e;s?(e=n.val(),u<e&&(n.val(u),e=u<a?a:u),r.$setViewValue(e)):r.$validate()}}));d&&(r.$validators.step=s?function(){return!c.stepMismatch}:function(t,e){return r.$isEmpty(e)||yt(l)||function(t,e,n){var i=Number(t);{var r,o;_o(i)&&_o(e)&&_o(n)||(r=Math.max(bo(i),bo(e),bo(n)),o=Math.pow(10,r),i*=o,e*=o,n*=o)}return(i-e)%n==0}(e,a||0,l)},g("step",function(t){if(l=yo(t),T(r.$modelValue))return;s&&r.$viewValue!==n.val()?r.$setViewValue(n.val()):r.$validate()}));function g(t,e){n.attr(t,i[t]),i.$observe(t,e)}},checkbox:function(t,e,n,i,r,o,s,a){var u=xo(a,t,"ngTrueValue",n.ngTrueValue,!0),l=xo(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return Tt(t,u)}),i.$parsers.push(function(t){return t?u:l})},hidden:q,button:q,submit:q,reset:q,file:q};function ho(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function fo(t,i,r,o,e,s){var a,u,l=w(i[0].type);e.android||(a=!1,i.on("compositionstart",function(){a=!0}),i.on("compositionend",function(){a=!1,c()}));var n,c=function(t){var e,n;u&&(s.defer.cancel(u),u=null),a||(e=i.val(),n=t&&t.type,"password"===l||r.ngTrim&&"false"===r.ngTrim||(e=St(e)),(o.$viewValue!==e||""===e&&o.$$hasNativeValidators)&&o.$setViewValue(e,n))};e.hasEvent("input")?i.on("input",c):(n=function(t,e,n){u=u||s.defer(function(){u=null,e&&e.value===n||c(t)})},i.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||n(t,this,this.value)}),e.hasEvent("paste")&&i.on("paste cut",n)),i.on("change",c),lo[l]&&o.$$hasNativeValidators&&l===r.type&&i.on(uo,function(t){var e,n,i;u||(e=this[h],n=e.badInput,i=e.typeMismatch,u=s.defer(function(){u=null,e.badInput===n&&e.typeMismatch===i||c(t)}))}),o.$render=function(){var t=o.$isEmpty(o.$viewValue)?"":o.$viewValue;i.val()!==t&&i.val(t)}}function po(r,o){return function(t,e){var n,i;if(N(t))return t;if(bt(t)){if('"'===t.charAt(0)&&'"'===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),Qr.test(t))return new Date(t);if(r.lastIndex=0,n=r.exec(t))return n.shift(),i=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},gt(n,function(t,e){e<o.length&&(i[o[e]]=+t)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function go(d,p,g,m){return function(t,e,n,i,r,o,s){mo(0,e,0,i),fo(0,e,n,i,r,o);var a,u,l,c=i&&i.$options&&i.$options.timezone;function h(t){return t&&(!t.getTime||t.getTime()===t.getTime())}function f(t){return H(t)&&!N(t)?g(t)||void 0:t}i.$$parserName=d,i.$parsers.push(function(t){if(i.$isEmpty(t))return null;if(p.test(t)){var e=g(t,a);return c&&(e=Z(e,c)),e}}),i.$formatters.push(function(t){if(t&&!N(t))throw Ko("datefmt","Expected `{0}` to be a date",t);return h(t)?((a=t)&&c&&(a=Z(a,c,!0)),s("date")(t,m,c)):(a=null,"")}),(H(n.min)||n.ngMin)&&(i.$validators.min=function(t){return!h(t)||yt(u)||g(t)>=u},n.$observe("min",function(t){u=f(t),i.$validate()})),(H(n.max)||n.ngMax)&&(i.$validators.max=function(t){return!h(t)||yt(l)||g(t)<=l},n.$observe("max",function(t){l=f(t),i.$validate()}))}}function mo(t,n,e,i){var r=n[0];(i.$$hasNativeValidators=_t(r.validity))&&i.$parsers.push(function(t){var e=n.prop(h)||{};return e.badInput||e.typeMismatch?void 0:t})}function vo(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:no.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!S(t))throw Ko("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function yo(t){return H(t)&&!S(t)&&(t=parseFloat(t)),T(t)?void 0:t}function _o(t){return(0|t)===t}function bo(t){var e=t.toString(),n=e.indexOf(".");if(-1!==n)return e.length-n-1;if(-1<t&&t<1){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}function xo(t,e,n,i,r){var o;if(H(i)){if(!(o=t(i)).constant)throw Ko("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function wo(){return{restrict:"A",priority:100,compile:function(t,e){return Eo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}}var Co=["$browser","$sniffer","$filter","$parse",function(o,s,a,u){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,i){var r;i[0]&&("range"!==(r=w(n.type))||n.hasOwnProperty("ngInputRange")||(r="text"),(co[r]||co.text)(t,e,n,i[0],s,o,a,u))}}}}],Eo=/^(true|false|\d+)$/,So=["$compile",function(i){return{restrict:"AC",compile:function(t){return i.$$addBindingClass(t),function(t,e,n){i.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=yt(t)?"":t})}}}}],Mo=["$interpolate","$compile",function(r,o){return{compile:function(t){return o.$$addBindingClass(t),function(t,e,n){var i=r(e.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(e,i.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=yt(t)?"":t})}}}}],Lo=["$sce","$parse","$compile",function(o,n,s){return{restrict:"A",compile:function(t,e){var i=n(e.ngBindHtml),r=n(e.ngBindHtml,function(t){return o.valueOf(t)});return s.$$addBindingClass(t),function(e,n,t){s.$$addBindingInfo(n,t.ngBindHtml),e.$watch(r,function(){var t=i(e);n.html(o.getTrustedHtml(t)||"")})}}}}],To=M({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function No(n,g){return n="ngClass"+n,["$animate",function(f){return{restrict:"AC",link:function(a,u,o){var l;function c(t){var e=h(t,1);o.$addClass(e)}function h(t,e){var n=u.data("$classCounts")||Dt(),i=[];return gt(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),u.data("$classCounts",n),i.join(" ")}function e(t){var e,n,i,r,o,s;!0!==g&&(1&a.$index)!==g||(e=p(t||[]),l?Tt(t,l)||(n=p(l),o=d(r=e,i=n),s=d(i,r),o=h(o,1),s=h(s,-1),o&&o.length&&f.addClass(u,o),s&&s.length&&f.removeClass(u,s)):c(e)),l=xt(t)?t.map(function(t){return Bt(t)}):Bt(t)}o.$observe("class",function(t){e(a.$eval(o[n]))}),"ngClass"!==n&&a.$watch("$index",function(t,e){var n,i,r=1&t;r!=(1&e)&&(n=p(l),r===g?c(n):(i=h(n,-1),o.$removeClass(i)))}),a.$watch(o[n],e,!0)}};function d(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function p(t){var n=[];return xt(t)?(gt(t,function(t){n=n.concat(p(t))}),n):bt(t)?t.split(" "):_t(t)?(gt(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n):t}}]}var Io=No("",!0),ko=No("Odd",0),Po=No("Even",1),Ao=Vr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Do=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Oo={},Ro={blur:!0,focus:!0};gt("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var s=dn("ng-"+o);Oo[s]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(t,e){var i=n(e[s],null,!0);return function(n,t){t.on(o,function(t){function e(){i(n,{$event:t})}Ro[o]&&r.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});function $o(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=e.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,s=o?St(r):r;i.$parsers.push(function(t){if(!yt(t)){var e=[];return t&&gt(t.split(s),function(t){t&&e.push(o?St(t):t)}),e}}),i.$formatters.push(function(t){if(xt(t))return t.join(r)}),i.$isEmpty=function(t){return!t||!t.length}}}}function Fo(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=$(t.$eval(e.ngModelOptions)),H(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=St(this.$options.updateOn.replace(ts,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}}var zo=["$animate","$compile",function(u,l){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,i,e,r){var o,s,a;t.$watch(i.ngIf,function(t){t?s||r(function(t,e){s=e,t[t.length++]=l.$$createComment("end ngIf",i.ngIf),o={clone:t},u.enter(t,n.parent(),n)}):(a&&(a.remove(),a=null),s&&(s.$destroy(),s=null),o&&(a=dt(o.clone),u.leave(a).done(function(t){!1!==t&&(a=null)}),o=null))})}}}],Bo=["$templateRequest","$anchorScroll","$animate",function(m,v,y){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(t,e){var n=e.ngInclude||e.src,p=e.onload||"",g=e.autoscroll;return function(s,a,t,u,l){function c(){e&&(e.remove(),e=null),h&&(h.$destroy(),h=null),f&&(y.leave(f).done(function(t){!1!==t&&(e=null)}),e=f,f=null)}var h,e,f,d=0;s.$watch(n,function(i){function r(t){!1===t||!H(g)||g&&!s.$eval(g)||v()}var o=++d;i?(m(i,!0).then(function(t){var e,n;s.$$destroyed||o===d&&(e=s.$new(),u.template=t,n=l(e,function(t){c(),y.enter(t,null,a).done(r)}),f=n,(h=e).$emit("$includeContentLoaded",i),s.$eval(p))},function(){s.$$destroyed||o===d&&(c(),s.$emit("$includeContentError",i))}),s.$emit("$includeContentRequested",i)):(c(),u.template=null)})}}}}],jo=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){if(g.call(e[0]).match(/SVG/))return e.empty(),void r(oe(i.template,p.document).childNodes)(t,function(t){e.append(t)},{futureParentElement:e});e.html(i.template),r(e.contents())(t)}}}],qo=Vr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ho="ng-valid",Vo="ng-invalid",Uo="ng-pristine",Go="ng-dirty",Wo="ng-untouched",Yo="ng-touched",Xo="ng-pending",Zo="ng-not-empty",Ko=x("ngModel"),Jo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(o,e,r,s,a,n,u,l,c,t){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=t(r.name||"",!1)(o),this.$$parentForm=Wr;var h,f=a(r.ngModel),d=f.assign,p=f,g=d,m=null,v=this;this.$$setOptions=function(t){if((v.$options=t)&&t.getterSetter){var n=a(r.ngModel+"()"),i=a(r.ngModel+"($$$p)");p=function(t){var e=f(t);return wt(e)&&(e=n(t)),e},g=function(t,e){wt(f(t))?i(t,{$$$p:e}):d(t,e)}}else if(!f.assign)throw Ko("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,kt(s))},this.$render=q,this.$isEmpty=function(t){return yt(t)||""===t||null===t||t!=t},this.$$updateEmptyClasses=function(t){v.$isEmpty(t)?(n.removeClass(s,Zo),n.addClass(s,"ng-empty")):(n.removeClass(s,"ng-empty"),n.addClass(s,Zo))};var y=0;es({ctrl:this,$element:s,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:n}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,n.removeClass(s,Go),n.addClass(s,Uo)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,n.removeClass(s,Uo),n.addClass(s,Go),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,n.setClass(s,Wo,Yo)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,n.setClass(s,Yo,Wo)},this.$rollbackViewValue=function(){u.cancel(m),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){var t,e,n,i,r;T(v.$modelValue)||(t=v.$$lastCommittedViewValue,e=v.$$rawModelValue,n=v.$valid,i=v.$modelValue,r=v.$options&&v.$options.allowInvalid,v.$$runValidators(e,t,function(t){r||n===t||(v.$modelValue=t?e:void 0,v.$modelValue!==i&&v.$$writeModelToScope())}))},this.$$runValidators=function(i,r,e){var o,s,a,n=++y;function u(t,e){n===y&&v.$setValidity(t,e)}function t(t){n===y&&e(t)}!function(){var t=v.$$parserName||"parse";{if(!yt(h))return h||(gt(v.$validators,function(t,e){u(e,null)}),gt(v.$asyncValidators,function(t,e){u(e,null)})),u(t,h),h;u(t,null)}return!0}()?t(!1):(o=!0,gt(v.$validators,function(t,e){var n=t(i,r);o=o&&n,u(e,n)}),o||(gt(v.$asyncValidators,function(t,e){u(e,null)}),0)?(s=[],a=!0,gt(v.$asyncValidators,function(t,e){var n=t(i,r);if(!P(n))throw Ko("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n);u(e,void 0),s.push(n.then(function(){u(e,!0)},function(){u(e,a=!1)}))}),s.length?c.all(s).then(function(){t(a)},q):t(!0)):t(!1))},this.$commitViewValue=function(){var t=v.$viewValue;u.cancel(m),(v.$$lastCommittedViewValue!==t||""===t&&v.$$hasNativeValidators)&&(v.$$updateEmptyClasses(t),v.$$lastCommittedViewValue=t,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=v.$$lastCommittedViewValue;if(h=!yt(e)||void 0)for(var t=0;t<v.$parsers.length;t++)if(yt(e=v.$parsers[t](e))){h=!1;break}T(v.$modelValue)&&(v.$modelValue=p(o));var n=v.$modelValue,i=v.$options&&v.$options.allowInvalid;function r(){v.$modelValue!==n&&v.$$writeModelToScope()}v.$$rawModelValue=e,i&&(v.$modelValue=e,r()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(t){i||(v.$modelValue=t?e:void 0,r())})},this.$$writeModelToScope=function(){g(o,v.$modelValue),gt(v.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){v.$viewValue=t,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(t){var e,n=0,i=v.$options;i&&H(i.debounce)&&(S(e=i.debounce)?n=e:S(e[t])?n=e[t]:S(e.default)&&(n=e.default)),u.cancel(m),n?m=u(function(){v.$commitViewValue()},n):l.$$phase?v.$commitViewValue():o.$apply(function(){v.$commitViewValue()})},o.$watch(function(){var t=p(o);if(t!==v.$modelValue&&(v.$modelValue==v.$modelValue||t==t)){v.$modelValue=v.$$rawModelValue=t,h=void 0;for(var e=v.$formatters,n=e.length,i=t;n--;)i=e[n](i);v.$viewValue!==i&&(v.$$updateEmptyClasses(i),v.$viewValue=v.$$lastCommittedViewValue=i,v.$render(),v.$$runValidators(v.$modelValue,v.$viewValue,q))}return t})}],Qo=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Jo,priority:1,compile:function(t){return t.addClass(Uo).addClass(Wo).addClass(Ho),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,e,n,i){var r=i[0];r.$options&&r.$options.updateOn&&e.on(r.$options.updateOn,function(t){r.$$debounceViewValueCommit(t&&t.type)}),e.on("blur",function(){r.$touched||(o.$$phase?t.$evalAsync(r.$setTouched):t.$apply(r.$setTouched))})}}}}}],ts=/(\s+|^)default(\s+|$)/;function es(t){var r=t.ctrl,n=t.$element,i={},o=t.set,s=t.unset,a=t.$animate;function u(t,e){e&&!i[t]?(a.addClass(n,t),i[t]=!0):!e&&i[t]&&(a.removeClass(n,t),i[t]=!1)}function l(t,e){t=t?"-"+Pt(t,"-"):"",u(Ho+t,!0===e),u(Vo+t,!1===e)}i[Vo]=!(i[Ho]=n.hasClass(Ho)),r.$setValidity=function(t,e,n){(yt(e)?function(t,e,n){r[t]||(r[t]={});o(r[t],e,n)}:function(t,e,n){r[t]&&s(r[t],e,n);ns(r[t])&&(r[t]=void 0)})("$pending",t,n);Et(e)?e?(s(r.$error,t,n),o(r.$$success,t,n)):(o(r.$error,t,n),s(r.$$success,t,n)):(s(r.$error,t,n),s(r.$$success,t,n));r.$pending?(u(Xo,!0),r.$valid=r.$invalid=void 0,l("",null)):(u(Xo,!1),r.$valid=ns(r.$error),r.$invalid=!r.$valid,l("",r.$valid));var i;i=r.$pending&&r.$pending[t]?void 0:!r.$error[t]&&(!!r.$$success[t]||null);l(t,i),r.$$parentForm.$setValidity(t,i,r)}}function ns(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var is=Vr({terminal:!0,priority:1e3}),rs=x("ngOptions"),os=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ss=["$compile","$document","$parse",function(x,w,u){function C(t,e,h){var f=t.match(os);if(!f)throw rs("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,kt(e));function d(t,e){return m(t,x(t,e))}var n=f[5]||f[7],i=f[6],r=/ as /.test(f[0])&&f[1],p=f[9],o=u(f[2]?f[1]:n),g=r&&u(r)||o,s=p&&u(p),m=p?function(t,e){return s(h,e)}:function(t){return Ae(t)},v=u(f[2]||f[1]),y=u(f[3]||""),_=u(f[4]||""),b=u(f[8]),a={},x=i?function(t,e){return a[i]=e,a[n]=t,a}:function(t){return a[n]=t,a};function w(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function C(t){var e;if(!i&&D(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:p,getTrackByValue:d,getWatchables:u(b,function(t){for(var e=[],n=C(t=t||[]),i=n.length,r=0;r<i;r++){var o,s,a=t===n?r:n[r],u=t[a],l=x(u,a),c=m(u,l);e.push(c),(f[2]||f[1])&&(o=v(h,l),e.push(o)),f[4]&&(s=_(h,l),e.push(s))}return e}),getOptions:function(){for(var t=[],e={},n=b(h)||[],i=C(n),r=i.length,o=0;o<r;o++){var s=n===i?o:i[o],a=x(n[s],s),u=g(h,a),l=m(u,a),c=new w(l,u,v(h,a),y(h,a),_(h,a));t.push(c),e[l]=c}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[d(t)]},getViewValueFromOption:function(t){return p?$(t.viewValue):t.viewValue}}}}}var E=p.document.createElement("option"),S=p.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=q},post:function(t,o,e,n){for(var s,a=n[0],u=n[1],l=e.multiple,i=0,r=o.children(),c=r.length;i<c;i++)if(""===r[i].value){s=r.eq(i);break}var h,f=!!s,d=!1,p=pt(E.cloneNode(!1));function g(){f?d&&s.removeAttr("selected"):s.remove()}function m(){p.remove()}p.val("?");var v=C(e.ngOptions,o,t),y=w[0].createDocumentFragment();function _(t,e){var n=E.cloneNode(!1);e.appendChild(n),function(t,e){(t.element=e).disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label);e.value=t.selectValue}(t,n)}function b(){var t=h&&a.readValue();if(h)for(var e=h.items.length-1;0<=e;e--){var n=h.items[e];H(n.group)?we(n.element.parentNode):we(n.element)}h=v.getOptions();var i,r={};f&&o.prepend(s),h.items.forEach(function(t){var e;H(t.group)?((e=r[t.group])||(e=S.cloneNode(!1),y.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),_(t,e)):_(t,y)}),o[0].appendChild(y),u.$render(),u.$isEmpty(t)||(i=a.readValue(),(v.trackBy||l?Tt(t,i):t===i)||(u.$setViewValue(i),u.$render()))}l?(u.$isEmpty=function(t){return!t||0===t.length},a.writeValue=function(t){h.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=h.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},a.readValue=function(){var t=o.val()||[],n=[];return gt(t,function(t){var e=h.selectValueMap[t];e&&!e.disabled&&n.push(h.getViewValueFromOption(e))}),n},v.trackBy&&t.$watchCollection(function(){if(xt(u.$viewValue))return u.$viewValue.map(function(t){return v.getTrackByValue(t)})},function(){u.$render()})):(a.writeValue=function(t){var e=h.selectValueMap[o.val()],n=h.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(m(),g(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):null===t||f?(m(),f||o.prepend(s),o.val(""),d&&(s.prop("selected",!0),s.attr("selected",!0))):(g(),o.prepend(p),o.val("?"),p.prop("selected",!0),p.attr("selected",!0))},a.readValue=function(){var t=h.selectValueMap[o.val()];return t&&!t.disabled?(g(),m(),h.getViewValueFromOption(t)):null},v.trackBy&&t.$watch(function(){return v.getTrackByValue(u.$viewValue)},function(){u.$render()})),f?(s.remove(),x(s)(t),s[0].nodeType===$t?(d=!1,a.registerOption=function(t,e){""===e.val()&&(d=!0,(s=e).removeClass("ng-scope"),u.$render(),e.on("$destroy",function(){s=void 0,d=!1}))}):(s.removeClass("ng-scope"),d=!0)):s=pt(E.cloneNode(!1)),o.empty(),b(),t.$watchCollection(v.getWatchables,b)}}}}],as=["$locale","$interpolate","$log",function(p,g,m){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(r,o,s){var a,t=s.count,u=s.$attr.when&&o.attr(s.$attr.when),l=s.offset||0,c=r.$eval(u)||{},h={},e=g.startSymbol(),n=g.endSymbol(),i=e+t+"-"+l+n,f=_.noop;function d(t){o.text(t||"")}gt(s,function(t,e){var n,i=y.exec(e);i&&(n=(i[1]?"-":"")+w(i[2]),c[n]=o.attr(s.$attr[e]))}),gt(c,function(t,e){h[e]=g(t.replace(v,i))}),r.$watch(t,function(t){var e,n=parseFloat(t),i=T(n);i||n in c||(n=p.pluralCat(n-l)),n===a||i&&T(a)||(f(),yt(e=h[n])?(null!=t&&m.debug("ngPluralize: no rule defined for '"+n+"' in "+u),f=q,d()):f=r.$watch(e,d),a=n)})}}}],us=["$parse","$animate","$compile",function(u,I,l){function k(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))}var P="$$NG_REMOVED",A=x("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var w=e.ngRepeat,C=l.$$createComment("end ngRepeat",w),n=w.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw A("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",w);var i=n[1],r=n[2],E=n[3],o=n[4];if(!(n=i.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw A("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i);var s,S,M,L,T=n[3]||n[1],N=n[2];if(E&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(E)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(E)))throw A("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",E);var a={$id:Ae};return o?s=u(o):(M=function(t,e){return Ae(e)},L=function(t){return t}),function(y,_,t,e,b){s&&(S=function(t,e,n){return N&&(a[N]=t),a[T]=e,a.$index=n,s(y,a)});var x=Dt();y.$watchCollection(r,function(t){var i,e,n,r,o,s,a,u,l,c,h,f,d,p=_[0],g=Dt();if(E&&(y[E]=t),D(t))l=t,u=S||M;else for(var m in u=S||L,l=[],t)B.call(t,m)&&"$"!==m.charAt(0)&&l.push(m);for(r=l.length,h=new Array(r),i=0;i<r;i++)if(o=t===l?i:l[i],s=t[o],a=u(o,s,i),x[a])c=x[a],delete x[a],g[a]=c,h[i]=c;else{if(g[a])throw gt(h,function(t){t&&t.scope&&(x[t.id]=t)}),A("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",w,a,s);h[i]={id:a,scope:void 0,clone:void 0},g[a]=!0}for(var v in x){if(f=dt((c=x[v]).clone),I.leave(f),f[0].parentNode)for(i=0,e=f.length;i<e;i++)f[i][P]=!0;c.scope.$destroy()}for(i=0;i<r;i++)if(o=t===l?i:l[i],s=t[o],(c=h[i]).scope){for(n=p;(n=n.nextSibling)&&n[P];);c.clone[0]!==n&&I.move(dt(c.clone),null,p),p=(d=c).clone[d.clone.length-1],k(c.scope,i,T,s,N,o,r)}else b(function(t,e){c.scope=e;var n=C.cloneNode(!1);t[t.length++]=n,I.enter(t,null,p),p=n,c.clone=t,g[c.id]=c,k(c.scope,i,T,s,N,o,r)});x=g})}}}}],ls="ng-hide-animate",cs=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){i[t?"removeClass":"addClass"](e,"ng-hide",{tempClasses:ls})})}}}],hs=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){i[t?"addClass":"removeClass"](e,"ng-hide",{tempClasses:ls})})}}}],fs=Vr(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&gt(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),ds=["$animate","$compile",function(l,c){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,r){var i=n.ngSwitch||n.on,o=[],s=[],a=[],u=[];t.$watch(i,function(t){for(var e,n;a.length;)l.cancel(a.pop());for(e=0,n=u.length;e<n;++e){var i=dt(s[e].clone);u[e].$destroy(),(a[e]=l.leave(i)).done(function(e,n){return function(t){!1!==t&&e.splice(n,1)}}(a,e))}s.length=0,u.length=0,(o=r.cases["!"+t]||r.cases["?"])&&gt(o,function(r){r.transclude(function(t,e){u.push(e);var n=r.element;t[t.length++]=c.$$createComment("end ngSwitchWhen");var i={clone:t};s.push(i),l.enter(t,n.parent(),n)})})})}}}],ps=Vr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){gt(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})})}}),gs=Vr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ms=x("ngTransclude"),vs=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var a=e(t.contents());return t.empty(),function(t,n,e,i,r){if(!r)throw ms("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",kt(n));e.ngTransclude===e.$attr.ngTransclude&&(e.ngTransclude="");var o=e.ngTransclude||e.ngTranscludeSlot;function s(){a(t,function(t){n.append(t)})}r(function(t,e){t.length?n.append(t):(s(),e.$destroy())},null,o),o&&!r.isSlotFilled(o)&&s()}}}}],ys=["$templateCache",function(r){return{restrict:"E",terminal:!0,compile:function(t,e){var n,i;"text/ng-template"===e.type&&(n=e.id,i=t[0].text,r.put(n,i))}}}],_s={$setViewValue:q,$render:q};function bs(){return{restrict:"E",require:["select","?ngModel"],controller:Is,priority:1,link:{pre:function(t,n,e,i){var r=i[1];if(!r)return;var o=i[0];{var s,a;o.ngModelCtrl=r,n.on("change",function(){t.$apply(function(){r.$setViewValue(o.readValue())})}),e.multiple&&(o.readValue=function(){var e=[];return gt(n.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(t){var e=new De(t);gt(n.find("option"),function(t){t.selected=H(e.get(t.value))})},a=NaN,t.$watch(function(){a!==r.$viewValue||Tt(s,r.$viewValue)||(s=Bt(r.$viewValue),r.$render()),a=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length})}},post:function(t,e,n,i){var r=i[1];if(!r)return;var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}function xs(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}}function ws(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){var r,o;i&&(o=n.ngPattern||n.pattern,n.$observe("pattern",function(t){if(bt(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw x("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,t,kt(e));r=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||yt(r)||r.test(e)})}}}function Cs(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){var r;i&&(r=-1,n.$observe("maxlength",function(t){var e=y(t);r=T(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r})}}}function Es(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){var r;i&&(r=0,n.$observe("minlength",function(t){r=y(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r})}}}var Ss,Ms,Ls,Ts,Ns,Is=["$element","$scope",function(n,t){var s=this,r=new De;s.ngModelCtrl=_s,s.unknownOption=pt(p.document.createElement("option")),s.renderUnknownOption=function(t){var e="? "+Ae(t)+" ?";s.unknownOption.val(e),n.prepend(s.unknownOption),n.val(e)},t.$on("$destroy",function(){s.renderUnknownOption=q}),s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.readValue=function(){return s.removeUnknownOption(),n.val()},s.writeValue=function(t){s.hasOption(t)?(s.removeUnknownOption(),n.val(t),""===t&&s.emptyOption.prop("selected",!0)):null==t&&s.emptyOption?(s.removeUnknownOption(),n.val("")):s.renderUnknownOption(t)},s.addOption=function(t,e){var n,i;e[0].nodeType!==$t&&(ht(t,'"option value"'),""===t&&(s.emptyOption=e),n=r.get(t)||0,r.put(t,n+1),s.ngModelCtrl.$render(),(i=e)[0].hasAttribute("selected")&&(i[0].selected=!0))},s.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.remove(t),""===t&&(s.emptyOption=void 0)):r.put(t,e-1))},s.hasOption=function(t){return!!r.get(t)},s.registerOption=function(t,n,i,e,r){var o;e?i.$observe("value",function(t){H(o)&&s.removeOption(o),o=t,s.addOption(t,n)}):r?t.$watch(r,function(t,e){i.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(i.value,n),n.on("$destroy",function(){s.removeOption(i.value),s.ngModelCtrl.$render()})}}],ks=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){var s,a;return H(e.ngValue)?s=!0:H(e.value)?s=n(e.value,!0):(a=n(t.text(),!0))||e.$set("value",t.text()),function(t,e,n){var i="$selectController",r=e.parent(),o=r.data(i)||r.parent().data(i);o&&o.registerOption(t,e,n,s,a)}}}}];function Ps(t,e,n){return t[e]||(t[e]=n())}p.angular.bootstrap?p.console&&console.log("WARNING: Tried to load angular more than once."):(lt||(Ms=z(),(r=yt(Ms)?p.jQuery:Ms?p[Ms]:void 0)&&r.fn.on?(mt((pt=r).fn,{scope:Ce.scope,isolateScope:Ce.isolateScope,controller:Ce.controller,injector:Ce.injector,inheritedData:Ce.inheritedData}),Ss=r.cleanData,r.cleanData=function(t){for(var e,n,i=0;null!=(n=t[i]);i++)(e=r._data(n,"events"))&&e.$destroy&&r(n).triggerHandler("$destroy");Ss(t)}):pt=ue,_.element=pt,lt=!0),mt(_,{bootstrap:ot,copy:$,extend:mt,merge:n,equals:Tt,element:pt,forEach:gt,injector:Ve,noop:q,bind:It,toJson:G,fromJson:W,identity:C,isUndefined:yt,isDefined:H,isString:bt,isFunction:wt,isObject:_t,isNumber:S,isElement:R,isArray:xt,version:qt,isDate:N,lowercase:w,uppercase:c,callbacks:{$$counter:0},getTestability:at,$$minErr:x,$$csp:F,reloadWithDebugInfo:st}),Ls=x("$injector"),Ts=x("ng"),(Ns=Ps(p,"angular",Object)).$$minErr=Ns.$$minErr||x,(m=Ps(Ns,"module",function(){var t={};return function(a,u,l){return function(t,e){if("hasOwnProperty"===t)throw Ts("badname","hasOwnProperty is not a valid {0} name",e)}(a,"module"),u&&t.hasOwnProperty(a)&&(t[a]=null),Ps(t,a,function(){if(!u)throw Ls("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var r=[],t=[],e=[],n=i("$injector","invoke","push",t),o={_invokeQueue:r,_configBlocks:t,_runBlocks:e,requires:u,name:a,provider:s("$provide","provider"),factory:s("$provide","factory"),service:s("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),decorator:s("$provide","decorator"),animation:s("$animateProvider","register"),filter:s("$filterProvider","register"),controller:s("$controllerProvider","register"),directive:s("$compileProvider","directive"),component:s("$compileProvider","component"),config:n,run:function(t){return e.push(t),this}};return l&&n(l),o;function i(t,e,n,i){return i=i||r,function(){return i[n||"push"]([t,e,arguments]),o}}function s(n,i){return function(t,e){return e&&wt(e)&&(e.$$moduleName=a),r.push([n,i,arguments]),o}}})}}))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:tr}),t.provider("$compile",cn).directive({a:Ur,input:Co,textarea:Co,form:Kr,script:ys,select:bs,option:ks,ngBind:So,ngBindHtml:Lo,ngBindTemplate:Mo,ngClass:Io,ngClassEven:Po,ngClassOdd:ko,ngCloak:Ao,ngController:Do,ngForm:Jr,ngHide:hs,ngIf:zo,ngInclude:Bo,ngInit:qo,ngNonBindable:is,ngPluralize:as,ngRepeat:us,ngShow:cs,ngStyle:fs,ngSwitch:ds,ngSwitchWhen:ps,ngSwitchDefault:gs,ngOptions:ss,ngTransclude:vs,ngModel:Qo,ngList:$o,ngChange:To,pattern:ws,ngPattern:ws,required:xs,ngRequired:xs,minlength:Es,ngMinlength:Es,maxlength:Cs,ngMaxlength:Cs,ngValue:wo,ngModelOptions:Fo}).directive({ngInclude:jo}).directive(Gr).directive(Oo),t.provider({$anchorScroll:Ue,$animate:nn,$animateCss:en,$$animateJs:Ke,$$animateQueue:Je,$$AnimateRunner:tn,$$animateAsyncRun:Qe,$browser:on,$cacheFactory:sn,$controller:yn,$document:_n,$exceptionHandler:bn,$filter:yr,$$forceReflow:xn,$interpolate:jn,$interval:qn,$http:$n,$httpParamSerializer:In,$httpParamSerializerJQLike:kn,$httpBackend:zn,$xhrFactory:Fn,$jsonpCallbacks:Hn,$location:ai,$log:ui,$parse:Yi,$rootScope:Qi,$q:Xi,$$q:Zi,$sce:or,$sceDelegate:rr,$sniffer:sr,$templateCache:an,$templateRequest:ur,$$testability:lr,$timeout:cr,$window:gr,$$rAF:Ji,$$jqLite:Pe,$$HashMap:Oe,$$cookieReader:vr})}]),_.module("ngLocale",[],["$provide",function(t){var r="one",o="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=0|t,i=function(t,e){var n,i,r=e;void 0===r&&(r=Math.min((n=t,-1==(i=(n+="").indexOf("."))?0:n.length-i-1),3));var o=Math.pow(10,r);return{v:r,f:(t*o|0)%o}}(t,e);return 1==n&&0==i.v?r:o}})}]),pt(p.document).ready(function(){rt(p.document,ot)}))}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(l){"use strict";function t(t,a,e){var u=e.baseHref(),i=t[0];return function(t,e,n){i.cookie=function(t,e,n){var i=(n=n||{}).expires,r=l.isDefined(n.path)?n.path:u;l.isUndefined(e)&&(i="Thu, 01 Jan 1970 00:00:00 GMT",e=""),l.isString(i)&&(i=new Date(i));var o=encodeURIComponent(t)+"="+encodeURIComponent(e);o+=r?";path="+r:"",o+=n.domain?";domain="+n.domain:"",o+=i?";expires="+i.toUTCString():"";var s=(o+=n.secure?";secure":"").length+1;return 4096<s&&a.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+s+" > 4096 bytes)!"),o}(t,e,n)}}l.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};function r(t){return t?l.extend({},e,t):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(t){var e=this.get(t);return e?l.fromJson(e):e},getAll:function(){return e()},put:function(t,e,n){i(t,e,r(n))},putObject:function(t,e,n){this.put(t,l.toJson(e),n)},remove:function(t,e){i(t,void 0,r(e))}}}]}]),l.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,e){n.putObject(t,e)},remove:function(t){n.remove(t)}}}]),t.$inject=["$document","$log","$browser"],l.module("ngCookies").provider("$$cookieWriter",function(){this.$get=t})}((window,window.angular)),function(l,t){"use strict";var ft,dt,z=1,pt="-add",gt="-remove",mt="ng-",C="ng-animate",B="$$ngAnimateChildren",vt=void 0===l.ontransitionend&&void 0!==l.onwebkittransitionend?(ft="WebkitTransition","webkitTransitionEnd transitionend"):(ft="transition","transitionend"),yt=void 0===l.onanimationend&&void 0!==l.onwebkitanimationend?(dt="WebkitAnimation","webkitAnimationEnd animationend"):(dt="animation","animationend"),r="Duration",_t="TimingFunction",o="PlayState",n=dt+"Delay",bt=dt+r,i=ft+"Delay",e=ft+r,s=t.$$minErr("ng");function c(t,e,n){if(!t)throw s("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function E(t,e){return t||e?t?e?(zt(t)&&(t=t.join(" ")),zt(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function xt(t,n,i){var r="";return t=zt(t)?t:t&&W(t)&&t.length?t.split(/\s+/):[],Ft(t,function(t,e){t&&0<t.length&&(r+=0<e?" ":"",r+=i?n+t:t+n)}),r}function j(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===z)return n}}function q(u){return function(t,e){var n,i,r,o,s,a;e.addClass&&(n=u,i=t,r=e.addClass,Ft(i,function(t){n.addClass(t,r)}),e.addClass=null),e.removeClass&&(o=u,s=t,a=e.removeClass,Ft(s,function(t){o.removeClass(t,a)}),e.removeClass=null)}}function wt(t){var e;return(t=t||{}).$$prepared||(e=t.domOperation||Bt,t.domOperation=function(){t.$$domOperationFired=!0,e(),e=Bt},t.$$prepared=!0),t}function Ct(t,e){Et(t,e),St(t,e)}function Et(t,e){e.from&&(t.css(e.from),e.from=null)}function St(t,e){e.to&&(t.css(e.to),e.to=null)}function H(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),s=(i.removeClass||"")+" "+(r.removeClass||""),a=function(r,t,e){var n={};r=i(r),t=i(t),Ft(t,function(t,e){n[e]=1}),e=i(e),Ft(e,function(t,e){n[e]=1===n[e]?null:-1});var o={addClass:"",removeClass:""};function i(t){W(t)&&(t=t.split(" "));var e={};return Ft(t,function(t){t.length&&(e[t]=!0)}),e}return Ft(n,function(t,e){var n,i;1===t?(n="addClass",i=!r[e]||r[e+gt]):-1===t&&(n="removeClass",i=r[e]||r[e+pt]),i&&(o[n].length&&(o[n]+=" "),o[n]+=e)}),o}(t.attr("class"),o,s);r.preparationClasses&&(i.preparationClasses=V(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var u=i.domOperation!==Bt?i.domOperation:null;return f(i,r),u&&(i.domOperation=u),a.addClass?i.addClass=a.addClass:i.addClass=null,a.removeClass?i.removeClass=a.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function Mt(t){return t instanceof X?t[0]:t}function Lt(t,e){return Nt(t,[i,e?"-"+e+"s":""]),1}function Tt(t,e){var n=e?"paused":"",i=dt+o;return Nt(t,[i,n]),[i,n]}function Nt(t,e){var n=e[0],i=e[1];t.style[n]=i}function V(t,e){return t?e?t+" "+e:t:e}var a=["$interpolate",function(o){return{link:function(t,e,n){var i=n.ngAnimateChildren;function r(t){t="on"===t||"true"===t,e.data(B,t)}W(i)&&0===i.length?e.data(B,!0):(r(o(i)(t)),n.$observe("ngAnimateChildren",r))}}}],It="$$animateCss",h={transitionDuration:e,transitionDelay:i,transitionProperty:ft+"Property",animationDuration:bt,animationDelay:n,animationIterationCount:dt+"IterationCount"},kt={transitionDuration:e,transitionDelay:i,animationDuration:bt,animationDelay:n};function Pt(t,e){return[e?n:i,t+"s"]}function At(t,e,n){var s=Object.create(null),a=t.getComputedStyle(e)||{};return Ft(n,function(t,e){var n,i,r,o=a[t];o&&(("-"===(n=o.charAt(0))||"+"===n||0<=n)&&(i=0,r=o.split(/\s*,\s*/),Ft(r,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,i=i?Math.max(t,i):t}),o=i),0===o&&(o=null),s[e]=o)}),s}function Dt(t){return 0===t||null!=t}function Ot(t,e){var n=ft,i=t+"s";return e?n+=r:i+=" linear all",[n,i]}function u(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function Rt(e,n,t){Ft(t,function(t){e[t]=U(e[t])?e[t]:n.style.getPropertyValue(t)})}var $t,f,Ft,zt,U,d,x,G,W,Y,X,Bt,p=["$animateProvider",function(t){var ct=u(),ht=u();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(tt,et,nt,it,n,rt,e,ot){var st=q(et),r=0;function at(t,e){var n="$$ngAnimateParentKey",i=t.parentNode;return(i[n]||(i[n]=++r))+"-"+t.getAttribute("class")+"-"+e}var i=[];function ut(t){i.push(t),e.waitUntilQuiet(function(){ct.flush(),ht.flush();for(var t=n(),e=0;e<i.length;e++)i[e](t);i.length=0})}function lt(t,e,n){var i,r,o,s,a=(i=t,r=n,o=h,(s=ct.get(r))||"infinite"===(s=At(tt,i,o)).animationIterationCount&&(s.animationIterationCount=1),ct.put(r,s),s),u=a.animationDelay,l=a.transitionDelay;return a.maxDelay=u&&l?Math.max(u,l):u||l,a.maxDuration=Math.max(a.animationDuration*a.animationIterationCount,a.transitionDuration),a}return function(l,t){var c=t||{};c.$$prepared||(c=wt($t(c)));var h={},f=Mt(l);if(!f||!f.parentNode||!ot.enabled())return K();var e,n,d,o,s,i,r,p,g,m,v=[],a=l.attr("class"),u=(n={},(e=c)&&(e.to||e.from)&&(n.to=e.to,n.from=e.from),n),y=[];if(0===c.duration||!rt.animations&&!rt.transitions)return K();var _=c.event&&zt(c.event)?c.event.join(" "):c.event,b="",x="";_&&c.structural?b=xt(_,mt,!0):_&&(b=_),c.addClass&&(x+=xt(c.addClass,pt)),c.removeClass&&(x.length&&(x+=" "),x+=xt(c.removeClass,gt)),c.applyClassesEarly&&x.length&&st(l,c);var w,C,E,S,M,L,T,N,I,k,P,A,D,O=[b,x].join(" ").trim(),R=a+" "+O,$=xt(O,"-active"),F=u.to&&0<Object.keys(u.to).length;if(!(0<(c.keyframeStyle||"").length)&&!F&&!O)return K();E=0<c.stagger?{transitionDelay:C=parseFloat(c.stagger),animationDelay:C,transitionDuration:0,animationDuration:0}:(w=at(f,R),S=f,M=O,L=w,T=kt,0<ct.count(L)&&((I=ht.get(L))||(N=xt(M,"-stagger"),et.addClass(S,N),(I=At(tt,S,T)).animationDuration=Math.max(I.animationDuration,0),I.transitionDuration=Math.max(I.transitionDuration,0),et.removeClass(S,N),ht.put(L,I))),I||{}),c.$$skipPreparationClasses||et.addClass(l,O),c.transitionStyle&&(P=[ft,c.transitionStyle],Nt(f,P),v.push(P)),0<=c.duration&&(k=0<f.style[ft].length,A=Ot(c.duration,k),Nt(f,A),v.push(A)),c.keyframeStyle&&(D=[dt,c.keyframeStyle],Nt(f,D),v.push(D));var z=E?0<=c.staggerIndex?c.staggerIndex:ct.count(w):0,B=0===z;B&&!c.skipBlocking&&Lt(f,9999);var j,q=lt(f,0,w),H=q.maxDelay,V=Math.max(H,0),U=q.maxDuration,G={};return G.hasTransitions=0<q.transitionDuration,G.hasAnimations=0<q.animationDuration,G.hasTransitionAll=G.hasTransitions&&"all"===q.transitionProperty,G.applyTransitionDuration=F&&(G.hasTransitions&&!G.hasTransitionAll||G.hasAnimations&&!G.hasTransitions),G.applyAnimationDuration=c.duration&&G.hasAnimations,G.applyTransitionDelay=Dt(c.delay)&&(G.applyTransitionDuration||G.hasTransitions),G.applyAnimationDelay=Dt(c.delay)&&G.hasAnimations,G.recalculateTimingStyles=0<x.length,(G.applyTransitionDuration||G.applyAnimationDuration)&&(U=c.duration?parseFloat(c.duration):U,G.applyTransitionDuration&&(G.hasTransitions=!0,q.transitionDuration=U,k=0<f.style[ft+"Property"].length,v.push(Ot(U,k))),G.applyAnimationDuration&&(G.hasAnimations=!0,q.animationDuration=U,v.push([bt,U+"s"]))),0!==U||G.recalculateTimingStyles?(null!=c.delay&&("boolean"!=typeof c.delay&&(j=parseFloat(c.delay),V=Math.max(j,0)),G.applyTransitionDelay&&v.push(Pt(j)),G.applyAnimationDelay&&v.push(Pt(j,!0))),null==c.duration&&0<q.transitionDuration&&(G.recalculateTimingStyles=G.recalculateTimingStyles||B),p=1e3*V,g=1e3*U,c.skipBlocking||(G.blockTransition=0<q.transitionDuration,G.blockKeyframeAnimation=0<q.animationDuration&&0<E.animationDelay&&0===E.animationDuration),c.from&&(c.cleanupStyles&&Rt(h,f,Object.keys(c.from)),Et(l,c)),G.blockTransition||G.blockKeyframeAnimation?Z(U):c.skipBlocking||Lt(f,!1),{$$willAnimate:!0,end:W,start:function(){if(!d)return i=new nt(r={end:W,cancel:Y,resume:null,pause:null}),ut(Q),i}}):K();function W(){X()}function Y(){X(!0)}function X(t){var e;d||s&&o||(o=!(d=!0),c.$$skipPreparationClasses||et.removeClass(l,O),et.removeClass(l,$),Tt(f,!1),Lt(f,!1),Ft(v,function(t){f.style[t[0]]=""}),st(l,c),Ct(l,c),Object.keys(h).length&&Ft(h,function(t,e){t?f.style.setProperty(e,t):f.style.removeProperty(e)}),c.onDone&&c.onDone(),y&&y.length&&l.off(y.join(" "),J),(e=l.data(It))&&(it.cancel(e[0].timer),l.removeData(It)),i&&i.complete(!t))}function Z(t){G.blockTransition&&Lt(f,t),G.blockKeyframeAnimation&&Tt(f,!!t)}function K(){return i=new nt({end:W,cancel:Y}),ut(Bt),X(),{$$willAnimate:!1,start:function(){return i},end:W}}function J(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-m,0)>=p&&U<=i&&(s=!0,X())}function Q(){var t,e;function n(){if(!d){if(Z(!1),Ft(v,function(t){var e=t[0],n=t[1];f.style[e]=n}),st(l,c),et.addClass(l,$),G.recalculateTimingStyles){if(R=f.className+" "+O,w=at(f,R),q=lt(f,0,w),H=q.maxDelay,V=Math.max(H,0),0===(U=q.maxDuration))return void X();G.hasTransitions=0<q.transitionDuration,G.hasAnimations=0<q.animationDuration}var t,e;G.applyAnimationDelay&&(H="boolean"!=typeof c.delay&&Dt(c.delay)?parseFloat(c.delay):H,V=Math.max(H,0),q.animationDelay=H,j=Pt(H,!0),v.push(j),f.style[j[0]]=j[1]),p=1e3*V,g=1e3*U,c.easing&&(e=c.easing,G.hasTransitions&&(t=ft+_t,v.push([t,e]),f.style[t]=e),G.hasAnimations&&(t=dt+_t,v.push([t,e]),f.style[t]=e)),q.transitionDuration&&y.push(vt),q.animationDuration&&y.push(yt),m=Date.now();var n,i,r=p+1.5*g,o=m+r,s=l.data(It)||[],a=!0;s.length&&((a=o>(n=s[0]).expectedEndTime)?it.cancel(n.timer):s.push(X)),a&&(i=it(u,r,!1),s[0]={timer:i,expectedEndTime:o},s.push(X),l.data(It,s)),y.length&&l.on(y.join(" "),J),c.to&&(c.cleanupStyles&&Rt(h,f,Object.keys(c.to)),St(l,c))}}function u(){var t=l.data(It);if(t){for(var e=1;e<t.length;e++)t[e]();l.removeData(It)}}d||(f.parentNode?(t=function(t){var e,n,i,r;s?o&&t&&(o=!1,X()):(o=!t,q.animationDuration&&(e=Tt(f,o),o?v.push(e):(i=e,r=(n=v).indexOf(i),0<=i&&n.splice(r,1))))},(e=0<z&&(q.transitionDuration&&0===E.transitionDuration||q.animationDuration&&0===E.animationDuration)&&Math.max(E.animationDelay,E.transitionDelay))?it(n,Math.floor(e*z*1e3),!1):n(),r.resume=function(){t(!0)},r.pause=function(){t(!1)}):X())}}}]}],g=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var y="ng-animate-shim",_="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(f,t,d,e,n,i,r){if(!n.animations&&!n.transitions)return Bt;var o,p=r[0].body,s=Mt(e),g=X((o=s).parentNode&&11===o.parentNode.nodeType||p.contains(s)?s:p);return function(t){return t.from&&t.to?function(t,e,n){var i=a(t),r=a(e),o=[];if(Ft(n,function(t){var e=function(e,r){var o=X(Mt(e).cloneNode(!0)),s=m(l(o));e.addClass(y),r.addClass(y),o.addClass("ng-anchor"),g.append(o);var i,t=function(){var t=f(o,{addClass:_,delay:!0,from:u(e)});return t.$$willAnimate?t:null}();if(!t&&!(i=c()))return h();var a=t||i;return{start:function(){var t,e=a.start();return e.done(function(){return e=null,!i&&(i=c())?((e=i.start()).done(function(){e=null,h(),t.complete()}),e):(h(),void t.complete())}),t=new d({end:n,cancel:n});function n(){e&&e.end()}}};function u(t){var n={},i=Mt(t).getBoundingClientRect();return Ft(["width","height","top","left"],function(t){var e=i[t];switch(t){case"top":e+=p.scrollTop;break;case"left":e+=p.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function l(t){return t.attr("class")||""}function c(){var t=m(l(r)),e=v(t,s),n=v(s,t),i=f(o,{to:u(r),addClass:"ng-anchor-in "+e,removeClass:_+" "+n,delay:!0});return i.$$willAnimate?i:null}function h(){o.remove(),e.removeClass(y),r.removeClass(y)}}(t.out,t.in);e&&o.push(e)}),!i&&!r&&0===o.length)return;return{start:function(){var e=[];i&&e.push(i.start()),r&&e.push(r.start()),Ft(o,function(t){e.push(t.start())});var n=new d({end:t,cancel:t});return d.all(e,function(t){n.complete(t)}),n;function t(){Ft(e,function(t){t.end()})}}}}(t.from,t.to,(t.classes,t.anchors)):a(t)};function m(t){return t.replace(/\bng-\S+\b/g,"")}function v(t,e){return W(t)&&(t=t.split(" ")),W(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function a(t){var e=t.element,n=t.options||{};t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=V(n.event,n.preparationClasses));var i=f(e,n);return i.$$willAnimate?i:null}}]}],m=["$animateProvider",function(b){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(v,y,t){var _=q(t);return function(t,e,n,i){var r=!1;3===arguments.length&&G(n)&&(i=n,n=null),i=wt(i),n||(n=t.attr("class")||"",i.addClass&&(n+=" "+i.addClass),i.removeClass&&(n+=" "+i.removeClass));var o,s,a,u,l,c=i.addClass,h=i.removeClass,f=function(t){t=zt(t)?t:t.split(" ");for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=b.$$registeredAnimations[r];o&&!n[r]&&(e.push(v.get(o)),n[r]=!0)}return e}(n);if(f.length&&(u="leave"===e?(a="leave","afterLeave"):(a="before"+e.charAt(0).toUpperCase()+e.substr(1),e),"enter"!==e&&"move"!==e&&(o=m(t,e,i,f,a)),s=m(t,e,i,f,u)),o||s)return{$$willAnimate:!0,end:function(){return l?l.end():(p(),(l=new y).complete(!0)),l},start:function(){if(l)return l;var e;l=new y;var t=[];return o&&t.push(function(t){e=o(t)}),t.length?t.push(function(t){d(),t(!0)}):d(),s&&t.push(function(t){e=s(t)}),l.setHost({end:function(){i()},cancel:function(){i(!0)}}),y.chain(t,n),l;function n(t){p(),l.complete(t)}function i(t){r||((e||Bt)(t),n(t))}}};function d(){i.domOperation(),_(t,i)}function p(){r=!0,d(),Ct(t,i)}function g(s,a,u,t,e){var n=[];return Ft(t,function(t){var o=t[e];o&&n.push(function(){function e(t){n||(n=!0,(r||Bt)(t),i.complete(!t))}var n=!1,i=new y({end:function(){e()},cancel:function(){e(!0)}}),r=function(t,e,n,i,r){var o;switch(n){case"animate":o=[e,i.from,i.to,r];break;case"setClass":o=[e,c,h,r];break;case"addClass":o=[e,c,r];break;case"removeClass":o=[e,h,r];break;default:o=[e,r]}o.push(i);var s=t.apply(t,o);if(s)if(x(s.start)&&(s=s.start()),s instanceof y)s.done(r);else if(x(s))return s;return Bt}(o,s,a,u,function(t){e(!1===t)});return i})}),n}function m(t,e,n,i,r){var o,s,a=g(t,e,n,i,r);if(0===a.length&&("beforeSetClass"===r?(o=g(t,"removeClass",n,i,"beforeRemoveClass"),s=g(t,"addClass",n,i,"beforeAddClass")):"setClass"===r&&(o=g(t,"removeClass",n,i,"removeClass"),s=g(t,"addClass",n,i,"addClass")),o&&(a=a.concat(o)),s&&(a=a.concat(s))),0!==a.length)return function(t){var n=[];return a.length&&Ft(a,function(t){n.push(t())}),n.length?y.all(n,t):t(),function(e){Ft(n,function(t){e?t.cancel():t.end()})}}}}}]}],v=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(o,s){return function(t){if(t.from&&t.to){var i=e(t.from),r=e(t.to);if(!i&&!r)return;return{start:function(){var t=[];i&&t.push(i.start()),r&&t.push(r.start()),s.all(t,function(t){e.complete(t)});var e=new s({end:n(),cancel:n()});return e;function n(){return function(){Ft(t,function(t){t.end()})}}}}}return e(t)};function e(t){var e=t.element,n=t.event,i=t.options,r=t.classes;return o(e,n,r,i)}}]}],Z="data-ng-animate",K="$ngAnimatePin",y=["$animateProvider",function(u){var i=" ",r=this.rules={skip:[],cancel:[],join:[]};function a(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(i),n=Object.create(null);return Ft(e,function(t){n[t]=!0}),n}(e);return t.split(i).some(function(t){return n[t]})}}function $(t,e,n,i){return r[t].some(function(t){return t(e,n,i)})}function F(t,e){var n=0<(t.addClass||"").length,i=0<(t.removeClass||"").length;return e?n&&i:n||i}r.join.push(function(t,e,n){return!e.structural&&F(e)}),r.skip.push(function(t,e,n){return!e.structural&&!F(e)}),r.skip.push(function(t,e,n){return"leave"===n.event&&e.structural}),r.skip.push(function(t,e,n){return n.structural&&2===n.state&&!e.structural}),r.cancel.push(function(t,e,n){return n.structural&&e.structural}),r.cancel.push(function(t,e,n){return 2===n.state&&e.structural}),r.cancel.push(function(t,e,n){if(n.structural)return!1;var i=e.addClass,r=e.removeClass,o=n.addClass,s=n.removeClass;return!(Y(i)&&Y(r)||Y(o)&&Y(s))&&(a(i,s)||a(r,o))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(_,b,x,w,t,C,E,e,n,i){var S=new t,M=new t,L=null;var r=b.$watch(function(){return 0===e.totalPendingRequests},function(t){t&&(r(),b.$$postDigest(function(){b.$$postDigest(function(){null===L&&(L=!0)})}))}),T=Object.create(null),o=u.classNameFilter(),N=o?function(t){return o.test(t)}:function(){return!0},I=q(n);function k(t,e){return H(t,e,{})}var P=l.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function s(t,e,n){var i=j(e);return t.filter(function(t){return!(t.node===i&&(!n||t.callback===n))})}function A(t,e){"close"!==t||e[0].parentNode||a.off(e)}var a={on:function(t,e,n){var i=j(e);T[t]=T[t]||[],T[t].push({node:i,callback:n}),X(e).on("$destroy",function(){S.get(i)||a.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||W(t)){var i=T[t];i&&(T[t]=1===arguments.length?null:s(i,e,n))}else for(var r in e=t,T)T[r]=s(T[r],e)},pin:function(t,e){c(d(t),"element","not an element"),c(d(e),"parentElement","not an element"),t.data(K,e)},push:function(t,e,n,i){return(n=n||{}).domOperation=i,function(c,r,t){var o,h,s=$t(t);(c=function(t){if(t instanceof X)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===z)return t;break;default:return X(j(t))}if(t.nodeType===z)return X(t)}(c))&&(o=Mt(c),h=c.parent());s=wt(s);var a=new E,e=function(){var e=!1;return function(t){e?t():b.$$postDigest(function(){e=!0,t()})}}();zt(s.addClass)&&(s.addClass=s.addClass.join(" "));s.addClass&&!W(s.addClass)&&(s.addClass=null);zt(s.removeClass)&&(s.removeClass=s.removeClass.join(" "));s.removeClass&&!W(s.removeClass)&&(s.removeClass=null);s.from&&!G(s.from)&&(s.from=null);s.to&&!G(s.to)&&(s.to=null);if(!o)return y(),a;var n=[o.className,s.addClass,s.removeClass].join(" ");if(!N(n))return y(),a;var u=0<=["enter","move","leave"].indexOf(r),i=w[0].hidden,l=!L||i||M.get(o),f=!l&&S.get(o)||{},d=!!f.state;l||d&&1===f.state||(l=!function(t,e){var n,i=X(w[0].body),r=O(t,i)||"HTML"===t[0].nodeName,o=O(t,x),s=!1,a=M.get(Mt(t)),u=X.data(t[0],K);u&&(e=u);e=Mt(e);for(;e&&(o=o||O(e,x),e.nodeType===z);){var l,c=S.get(e)||{};if(!s){var h=M.get(e);if(!0===h&&!1!==a){a=!0;break}!1===h&&(a=!1),s=c.structural}if(!Y(n)&&!0!==n||(l=X.data(e,B),U(l)&&(n=l)),s&&!1===n)break;if((r=r||O(e,i))&&o)break;e=o||!(u=X.data(e,K))?e.parentNode:Mt(u)}return(!s||n)&&!0!==a&&o&&r}(c,h));if(l)return i&&v(a,r,"start"),y(),i&&v(a,r,"close"),a;u&&function(t){var e=Mt(t).querySelectorAll("["+Z+"]");Ft(e,function(t){var e=parseInt(t.getAttribute(Z),10),n=S.get(t);if(n)switch(e){case 2:n.runner.end();case 1:S.remove(t)}})}(c);var p={structural:u,element:c,event:r,addClass:s.addClass,removeClass:s.removeClass,close:y,options:s,runner:a};if(d){if($("skip",c,p,f))return 2===f.state?(y(),a):(H(c,f,p),f.runner);if($("cancel",c,p,f))if(2===f.state)f.runner.end();else{if(!f.structural)return H(c,f,p),f.runner;f.close()}else if($("join",c,p,f)){if(2!==f.state)return function(t,e,n){var i="";e&&(i=xt(e,mt,!0)),n.addClass&&(i=V(i,xt(n.addClass,pt))),n.removeClass&&(i=V(i,xt(n.removeClass,gt))),i.length&&(n.preparationClasses=i,t.addClass(i))}(c,u?r:null,s),r=p.event=f.event,s=H(c,f,p),f.runner;k(c,p)}}else k(c,p);var g=p.structural;g=g||("animate"===p.event&&0<Object.keys(p.options.to||{}).length||F(p));if(!g)return y(),D(c),a;var m=(f.counter||0)+1;return p.counter=m,R(c,1,p),b.$$postDigest(function(){var t=!(e=S.get(o)),e=e||{},n=0<(c.parent()||[]).length&&("animate"===e.event||e.structural||F(e));if(t||e.counter!==m||!n)return t&&(I(c,s),Ct(c,s)),(t||u&&e.event!==r)&&(s.domOperation(),a.end()),void(n||D(c));r=!e.structural&&F(e,!0)?"setClass":e.event,R(c,2);var i=C(c,r,e.options);a.setHost(i),v(a,r,"start",{}),i.done(function(t){y(!t);var e=S.get(o);e&&e.counter===m&&D(Mt(c)),v(a,r,"close",{})})}),a;function v(t,a,u,l){e(function(){var t,e,n,i,r,o,s=(t=h,e=a,n=Mt(c),i=Mt(t),r=[],(o=T[e])&&Ft(o,function(t){(P.call(t.node,n)||"leave"===e&&P.call(t.node,i))&&r.push(t.callback)}),r);s.length?_(function(){Ft(s,function(t){t(c,u,l)}),A(u,c)}):A(u,c)}),t.progress(a,u,l)}function y(t){var e,n;e=c,(n=s).preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),I(c,s),Ct(c,s),s.domOperation(),a.complete(!t)}}(t,e,n)},enabled:function(t,e){var n,i=arguments.length;return 0===i?e=!!L:d(t)?(n=Mt(t),1===i?e=!M.get(n):M.put(n,!e)):e=L=!!t,e}};return a;function D(t){var e=Mt(t);e.removeAttribute(Z),S.remove(e)}function O(t,e){return Mt(t)===Mt(e)}function R(t,e,n){(n=n||{}).state=e;var i=Mt(t);i.setAttribute(Z,e);var r=S.get(i),o=r?f(r,n):n;S.put(i,o)}}]}],_=["$animateProvider",function(t){var _="ng-animate-ref",b=this.drivers=[],x="$$animationRunner";function w(t){return t.data(x)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(h,f,d,p,i,g){var m=[],v=q(h);function y(t){for(var o={children:[]},s=new i,e=0;e<t.length;e++){var n=t[e];s.put(n.domNode,t[e]={domNode:n.domNode,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)!function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode;var i=n.parentNode;s.put(n,e);var r;for(;i;){if(r=s.get(i)){r.processed||(r=t(r));break}i=i.parentNode}(r||o).children.push(e);return e}(t[e]);return function(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,s=[];for(e=0;e<i.length;e++){var a=i[e];r<=0&&(r=o,o=0,n.push(s),s=[]),s.push(a.fn),a.children.forEach(function(t){o++,i.push(t)}),r--}s.length&&n.push(s);return n}(o)}return function(e,n,i){i=wt(i);var t,r=0<=["enter","move","leave"].indexOf(n),o=new p({end:function(){c()},cancel:function(){c(!0)}});if(!b.length)return c(),o;t=o,e.data(x,t);var s,a=E(e.attr("class"),E(i.addClass,i.removeClass)),u=i.tempClasses;return u&&(a+=" "+u,i.tempClasses=null),r&&(s="ng-"+n+"-prepare",h.addClass(e,s)),m.push({element:e,classes:a,event:n,structural:r,options:i,beforeStart:function(){e.addClass(C),u&&h.addClass(e,u);s&&(h.removeClass(e,s),s=null)},close:c}),e.on("$destroy",l),1<m.length||f.$$postDigest(function(){var e=[];Ft(m,function(t){w(t.element)?e.push(t):t.close()}),m.length=0;var t=function(c){var h=[],f={};Ft(c,function(t,n){var e,i,r,o,s=Mt(t.element),a=t.event,u=0<=["enter","move"].indexOf(a),l=t.structural?(i=(e=s).hasAttribute(_)?[e]:e.querySelectorAll("[ng-animate-ref]"),r=[],Ft(i,function(t){var e=t.getAttribute(_);e&&e.length&&r.push(t)}),r):[];l.length?(o=u?"to":"from",Ft(l,function(t){var e=t.getAttribute(_);f[e]=f[e]||{},f[e][o]={animationID:n,element:X(t)}})):h.push(t)});var d={},p={};return Ft(f,function(t,e){var n,i,r,o,s,a,u=t.from,l=t.to;u&&l?(n=c[u.animationID],i=c[l.animationID],r=u.animationID.toString(),p[r]||((o=p[r]={structural:!0,beforeStart:function(){n.beforeStart(),i.beforeStart()},close:function(){n.close(),i.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}(n.classes,i.classes),from:n,to:i,anchors:[]}).classes.length?h.push(o):(h.push(n),h.push(i))),p[r].anchors.push({out:u.element,in:l.element})):(a=(s=u?u.animationID:l.animationID).toString(),d[a]||(d[a]=!0,h.push(c[s])))}),h}(e),n=[];Ft(t,function(a){n.push({domNode:Mt(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var t,e,n,i,r,o=a.close;function s(t){var e=w(t);e&&e.setHost(r)}!w(a.anchors?a.from.element||a.to.element:a.element)||(e=function(t){for(var e=b.length-1;0<=e;e--){var n=b[e],i=d.get(n)(t);if(i)return i}}(a))&&(t=e.start),t?((n=t()).done(function(t){o(!t)}),r=n,(i=a).from&&i.to?(s(i.from.element),s(i.to.element)):s(i.element)):o()}})}),g(y(n))}),o;function l(){var t=w(e);!t||"leave"===n&&i.$$domOperationFired||t.end()}function c(t){e.off("$destroy",l),e.removeData(x),v(e,i),Ct(e,i),i.domOperation(),u&&h.removeClass(e,u),e.removeClass(C),o.complete(!t)}}}]}];t.module("ngAnimate",[],function(){Bt=t.noop,$t=t.copy,f=t.extend,X=t.element,Ft=t.forEach,zt=t.isArray,W=t.isString,G=t.isObject,Y=t.isUndefined,U=t.isDefined,x=t.isFunction,d=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(a,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,i,r){var o,s;e.$watchCollection(t.ngAnimateSwap||t.for,function(t){o&&a.leave(o),s&&(s.$destroy(),s=null),!t&&0!==t||(s=e.$new(),r(s,function(t){o=t,a.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",a).factory("$$rAFScheduler",["$$rAF",function(n){var i,r;function t(t){i=i.concat(t),o()}return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=n(function(){r=null,t(),o()})},t;function o(){if(i.length){for(var t=i.shift(),e=0;e<t.length;e++)t[e]();r||n(function(){r||o()})}}}]).provider("$$animateQueue",y).provider("$$animation",_).provider("$animateCss",p).provider("$$animateCssDriver",g).provider("$$animateJs",m).provider("$$animateJsDriver",v)}(window,window.angular),function(_,b){"use strict";var x,w,C,E,S,M,L,T,N=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&w(f,c),function(t){var e=[];return L(t,T(e,function(t,e){return!/^unsafe:/.test(n(t,e))})),e.join("")}}],this.enableSvg=function(t){return E(t)?(e=t,this):e},x=b.bind,w=b.extend,C=b.forEach,E=b.isDefined,S=b.lowercase,M=b.noop,L=function(t,e){null==t?t="":"string"!=typeof t&&(t=""+t);o.innerHTML=t;var n=5;do{if(0===n)throw N("uinput","Failed to sanitize html because the input is unstable");n--,_.document.documentMode&&function t(e){if(e.nodeType===_.Node.ELEMENT_NODE)for(var n=e.attributes,i=0,r=n.length;i<r;i++){var o=n[i],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(e.removeAttributeNode(o),i--,r--)}var a=e.firstChild;a&&t(a);a=e.nextSibling;a&&t(a)}(o),t=o.innerHTML,o.innerHTML=t}while(t!==o.innerHTML);var i,r=o.firstChild;for(;r;){switch(r.nodeType){case 1:e.start(r.nodeName.toLowerCase(),function(t){for(var e={},n=0,i=t.length;n<i;n++){var r=t[n];e[r.name]=r.value}return e}(r.attributes));break;case 3:e.chars(r.textContent)}if(!((i=r.firstChild)||(1===r.nodeType&&e.end(r.nodeName.toLowerCase()),i=r.nextSibling)))for(;null==i&&(r=r.parentNode)!==o;)i=r.nextSibling,1===r.nodeType&&e.end(r.nodeName.toLowerCase());r=i}for(;r=o.firstChild;)o.removeChild(r)},T=function(t,o){var e=!1,s=x(t,t.push);return{start:function(r,t){r=S(r),!e&&h[r]&&(e=r),e||!0!==f[r]||(s("<"),s(r),C(t,function(t,e){var n=S(e),i="img"===r&&"src"===n||"background"===n;!0!==m[n]||!0===d[n]&&!o(t,i)||(s(" "),s(e),s('="'),s(y(t)),s('"'))}),s(">"))},end:function(t){t=S(t),e||!0!==f[t]||!0===r[t]||(s("</"),s(t),s(">")),t==e&&(e=!1)},chars:function(t){e||s(y(t))}}};var o,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g,r=v("area,br,col,hr,img,wbr"),t=v("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),s=v("rp,rt"),a=w({},s,t),u=w({},t,v("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),l=w({},s,v("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),c=v("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),h=v("script,style"),f=w({},r,u,l,a),d=v("background,cite,href,longdesc,src,xlink:href"),p=v("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),g=v("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),m=w({},d,g,p);function v(t,e){for(var n={},i=t.split(","),r=0;r<i.length;r++)n[e?S(i[r]):i[r]]=!0;return n}function y(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}!function(t){var e;if(!t.document||!t.document.implementation)throw N("noinert","Can't create an inert html document");var n,i=((e=t.document.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).getElementsByTagName("body");1===i.length?o=i[0]:(n=e.createElement("html"),o=e.createElement("body"),n.appendChild(o),e.appendChild(n))}(_)}),b.module("ngSanitize").filter("linky",["$sanitize",function(c){var h=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,f=/^mailto:/i,d=b.$$minErr("linky"),p=b.isDefined,g=b.isFunction,m=b.isObject,v=b.isString;return function(t,r,e){if(null==t||""===t)return t;if(!v(t))throw d("notstring","Expected string but received: {0}",t);for(var n,i,o,s=g(e)?e:m(e)?function(){return e}:function(){return{}},a=t,u=[];n=a.match(h);)i=n[0],n[2]||n[4]||(i=(n[3]?"http://":"mailto:")+i),o=n.index,l(a.substr(0,o)),function(t,e){var n,i=s(t);for(n in u.push("<a "),i)u.push(n+'="'+i[n]+'" ');!p(r)||"target"in i||u.push('target="',r,'" ');u.push('href="',t.replace(/"/g,"&quot;"),'">'),l(e),u.push("</a>")}(i,n[0].replace(f,"")),a=a.substring(o+n[0].length);return l(a),c(u.join(""));function l(t){var e,n;t&&u.push((e=t,T(n=[],M).chars(e),n.join("")))}}}])}(window,window.angular),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(function(){function t(e){"use strict";function t(){var t=e.preferredLanguage();angular.isString(t)?e.use(t):i.put(n,e.use())}var n=e.storageKey(),i=e.storage();t.displayName="fallbackFromIncorrectStorageValue",i?i.get(n)?e.use(i.get(n)).catch(t):t():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function e(t,r,e,o){"use strict";function n(){if(angular.isFunction(o.getLocale))return o.getLocale();var t,e,n=r.$get().navigator,i=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if((e=n.languages[t])&&e.length)return e;for(t=0;t<i.length;t++)if((e=n[i[t]])&&e.length)return e;return null}var P,c,A,D,O,R,$,i,F,z,B,j,q,H,V,U,G={},W=[],Y=t,X=[],Z="translate-cloak",K=!1,J=!1,Q=".",tt=!1,et=!1,nt=0,it=!0,s="default",a={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return 1<n.length?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return 1<n.length?n[0].toLowerCase()+"-"+n[1].toUpperCase():e},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}};n.displayName="angular-translate/service: getFirstBrowserLanguage";function rt(){var t=n()||"";return a[s]&&(t=a[s](t)),t}rt.displayName="angular-translate/service: getLocale";function ot(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function st(){return this.toString().replace(/^\s+|\s+$/g,"")}function at(t){if(t){for(var e,n=[],i=angular.lowercase(t),r=0,o=W.length;r<o;r++)n.push(angular.lowercase(W[r]));if(-1<ot(n,i))return t;if(c)for(var s in c)if(c.hasOwnProperty(s)){var a=!1,u=Object.prototype.hasOwnProperty.call(c,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(a=s.slice(0,-1)===t.slice(0,s.length-1)),(u||a)&&(e=c[s],-1<ot(n,angular.lowercase(e))))return e}var l=t.split("_");return 1<l.length&&-1<ot(n,angular.lowercase(l[0]))?l[0]:void 0}}function ut(t,e){if(!t&&!e)return G;if(t&&!e){if(angular.isString(t))return G[t]}else angular.isObject(G[t])||(G[t]={}),angular.extend(G[t],lt(e));return this}this.translations=ut,this.cloakClassName=function(t){return t?(Z=t,this):Z},this.nestedObjectDelimeter=function(t){return t?(Q=t,this):Q};var lt=function(t,e,n,i){var r,o,s;for(r in e=e||[],n=n||{},t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?lt(s,e.concat(r),n,r):(o=e.length?""+e.join(Q)+Q+r:r,e.length&&r===i&&(n[""+e.join(Q)]="@:"+o),n[o]=s));return n};lt.displayName="flatObject",this.addInterpolation=function(t){return X.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return z=t,this},this.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},this.preferredLanguage=function(t){return t?(ct(t),this):P};var ct=function(t){return t&&(P=t),P};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(q=t,this):q},this.translationNotFoundIndicatorRight=function(t){return t?(H=t,this):H},this.fallbackLanguage=function(t){return ht(t),this};var ht=function(t){return t?(angular.isString(t)?(D=!0,A=[t]):angular.isArray(t)&&(D=!1,A=t),angular.isString(P)&&ot(A,P)<0&&A.push(P),this):D?A[0]:A};this.use=function(t){if(t){if(!G[t]&&!B)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return O=t,this}return O},this.resolveClientLocale=rt;function ft(t){return t?(Y=t,this):i?i+Y:Y}this.storageKey=ft,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return B=t,j=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return $=t,this},this.storagePrefix=function(t){return t?(i=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return F=t,this},this.usePostCompiling=function(t){return K=!!t,this},this.forceAsyncReload=function(t){return J=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},s=t.standard,this},this.determinePreferredLanguage=function(t){var e=(t&&angular.isFunction(t)?t:rt)();return P=W.length&&at(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(W=t,e&&(c=e),this):W},this.useLoaderCache=function(t){return!1===t?V=void 0:!0===t?V=!0:void 0===t?V="$translationCache":t&&(V=t),this},this.directivePriority=function(t){return void 0===t?nt:(nt=t,this)},this.statefulFilter=function(t){return void 0===t?it:(it=t,this)},this.postProcess=function(t){return U=t||void 0,this},this.keepContent=function(t){return et=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,a,c,f){function g(t){return q&&(t=[q,t].join(" ")),H&&(t=[t,H].join(" ")),t}function h(t){function e(t,e){b[e].setLocale(O)}O=t,$&&p.put(w.storageKey(),O),c.$emit("$translateChangeSuccess",{language:t}),y.setLocale(O),e.displayName="eachInterpolatorLocaleSetter",angular.forEach(b,e),c.$emit("$translateChangeEnd",{language:t})}function d(n){if(!n)throw"No language key specified for loading.";var i=f.defer();c.$emit("$translateLoadingStart",{language:n}),_=!0;var t=V;function e(t){var e={};c.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(t)?angular.forEach(t,function(t){angular.extend(e,lt(t))}):angular.extend(e,lt(t)),_=!1,i.resolve({key:n,table:e}),c.$emit("$translateLoadingEnd",{language:n})}"string"==typeof t&&(t=a.get(t));var r=angular.extend({},j,{key:n,$http:angular.extend({},{cache:t},j.$http)});function o(t){c.$emit("$translateLoadingError",{language:t}),i.reject(t),c.$emit("$translateLoadingEnd",{language:t})}return e.displayName="onLoaderSuccess",o.displayName="onLoaderError",a.get(B)(r).then(e,o),i.promise}var p,m,v,e,y=a.get(z||"$translateDefaultInterpolation"),_=!1,b={},x={},w=function(t,o,s,a,u){!O&&P&&(O=P);var e=u&&u!==O?at(u)||u:O;if(u&&N(u),angular.isArray(t)){return function(t){for(var i={},e=[],n=0,r=t.length;n<r;n++)e.push(function(e){function t(t){i[e]=t,n.resolve([e,t])}var n=f.defer();return w(e,o,s,a,u).then(t,t),n.promise}(t[n]));return f.all(e).then(function(){return i})}(t)}var n=f.defer();t=t&&st.apply(t);var i,r,l,c,h=(l=P?x[P]:x[e],m=0,$&&!l&&(i=p.get(Y),l=x[i],A&&A.length&&(r=ot(A,i),m=0===r?1:0,ot(A,P)<0&&A.push(P))),l);return h?((c=function(){u||(e=O),M(t,o,s,a,e).then(n.resolve,n.reject)}).displayName="promiseResolved",h.finally(c)):M(t,o,s,a,e).then(n.resolve,n.reject),n.promise};if($&&(!(p=a.get($)).get||!p.put))throw new Error("Couldn't use storage '"+$+"', missing get() or put() method!");X.length&&((e=function(t){var e=a.get(t);e.setLocale(P||O),b[e.getInterpolationIdentifier()]=e}).displayName="interpolationFactoryAdder",angular.forEach(X,e));function C(t,e,n,i){return F?a.get(F)(t,O,e,n,i):t}var l=function(i,r,o,s){function t(t){var e,n;Object.prototype.hasOwnProperty.call(t,r)?(s.setLocale(i),"@:"===(e=t[r]).substr(0,2)?l(i,e.substr(2),o,s).then(u.resolve,u.reject):(n=s.interpolate(t[r],o,"service"),n=T(r,t[r],n,o,i),u.resolve(n)),s.setLocale(O)):u.reject()}var e,n,a,u=f.defer();return t.displayName="fallbackTranslationResolver",e=i,a=f.defer(),Object.prototype.hasOwnProperty.call(G,e)?a.resolve(G[e]):x[e]?((n=function(t){ut(t.key,t.table),a.resolve(t.table)}).displayName="translationTableResolver",x[e].then(n,a.reject)):a.reject(),a.promise.then(t,u.reject),u.promise},u=function(t,e,n,i,r){var o,s=G[t];if(s&&Object.prototype.hasOwnProperty.call(s,e)){if(i.setLocale(t),o=i.interpolate(s[e],n,"filter",r),o=T(e,s[e],o,n,t,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var a=o.$$unwrapTrustedValue();if("@:"===a.substr(0,2))return u(t,a.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return u(t,o.substr(2),n,i,r);i.setLocale(O)}return o},E=function(t,e,n,i,r){var o,s,a=f.defer();return t<A.length?(o=A[t],l(o,e,n,i).then(function(t){a.resolve(t)},function(){return E(t+1,e,n,i,r).then(a.resolve,a.reject)})):r?a.resolve(r):(s=C(e,n,r),F&&s?a.resolve(s):a.reject(g(e))),a.promise},S=function(t,e,n,i,r){var o,s;return t<A.length&&(o=A[t],(s=u(o,e,n,i,r))||""===s||(s=S(t+1,e,n,i))),s},M=function(t,e,n,i,r){var o,s,a,u=f.defer(),l=r?G[r]:G,c=n?b[n]:y;return l&&Object.prototype.hasOwnProperty.call(l,t)?"@:"===(o=l[t]).substr(0,2)?w(o.substr(2),e,n,i,r).then(u.resolve,u.reject):(s=c.interpolate(o,e,"service"),s=T(t,o,s,e,r),u.resolve(s)):(F&&!_&&(a=C(t,e,i)),r&&A&&A.length?E(0<v?v:m,t,e,c,i).then(function(t){u.resolve(t)},function(t){u.reject(g(t))}):F&&!_&&a?i?u.resolve(i):u.resolve(a):i?u.resolve(i):u.reject(g(t))),u.promise},L=function(t,e,n,i,r){var o,s,a,u=i?G[i]:G,l=y;return b&&Object.prototype.hasOwnProperty.call(b,n)&&(l=b[n]),s=u&&Object.prototype.hasOwnProperty.call(u,t)?"@:"===(o=u[t]).substr(0,2)?L(o.substr(2),e,n,i,r):(s=l.interpolate(o,e,"filter",r),T(t,o,s,e,i,r)):(F&&!_&&(a=C(t,e,r)),i&&A&&A.length?S((m=0)<v?v:m,t,e,l,r):F&&!_&&a?a:g(t))},T=function(t,e,n,i,r,o){var s=U;return s&&("string"==typeof s&&(s=a.get(s)),s)?s(t,e,n,i,r,o):n},N=function(t){G[t]||!B||x[t]||(x[t]=d(t).then(function(t){return ut(t.key,t.table),t}))};w.preferredLanguage=function(t){return t&&ct(t),P},w.cloakClassName=function(){return Z},w.nestedObjectDelimeter=function(){return Q},w.fallbackLanguage=function(t){if(null!=t){if(ht(t),B&&A&&A.length)for(var e=0,n=A.length;e<n;e++)x[A[e]]||(x[A[e]]=d(A[e]));w.use(w.use())}return D?A[0]:A},w.useFallbackLanguage=function(t){var e;null!=t&&(t?-1<(e=ot(A,t))&&(v=e):v=0)},w.proposedLanguage=function(){return R},w.storage=function(){return p},w.negotiateLocale=at,w.use=function(e){if(!e)return O;var n=f.defer();c.$emit("$translateChangeStart",{language:e});var t=at(e);return 0<W.length&&!t?f.reject(e):(t&&(e=t),R=e,!J&&G[e]||!B||x[e]?x[e]?x[e].then(function(t){return R===t.key&&h(t.key),n.resolve(t.key),t},function(t){return!O&&A&&0<A.length&&A[0]!==t?w.use(A[0]).then(n.resolve,n.reject):n.reject(t)}):(n.resolve(e),h(e)):(x[e]=d(e).then(function(t){return ut(t.key,t.table),n.resolve(t.key),R===e&&h(t.key),t},function(t){return c.$emit("$translateChangeError",{language:t}),n.reject(t),c.$emit("$translateChangeEnd",{language:t}),f.reject(t)}),x[e].finally(function(){var t;R===(t=e)&&(R=void 0),x[t]=void 0})),n.promise)},w.resolveClientLocale=rt,w.storageKey=function(){return ft()},w.isPostCompilingEnabled=function(){return K},w.isForceAsyncReloadEnabled=function(){return J},w.isKeepContent=function(){return et},w.refresh=function(e){if(!B)throw new Error("Couldn't refresh translation table, no loader registered!");var t,n=f.defer();function i(){n.resolve(),c.$emit("$translateRefreshEnd",{language:e})}function r(){n.reject(),c.$emit("$translateRefreshEnd",{language:e})}if(c.$emit("$translateRefreshStart",{language:e}),e){G[e]?((t=function(t){return ut(t.key,t.table),e===O&&h(O),i(),t}).displayName="refreshPostProcessor",d(e).then(t,r)):r()}else{var o=[],s={};if(A&&A.length)for(var a=0,u=A.length;a<u;a++)o.push(d(A[a])),s[A[a]]=!0;O&&!s[O]&&o.push(d(O));var l=function(t){G={},angular.forEach(t,function(t){ut(t.key,t.table)}),O&&h(O),i()};l.displayName="refreshPostProcessor",f.all(o).then(l,r)}return n.promise},w.instant=function(t,e,n,i,r){var o=i&&i!==O?at(i)||i:O;if(null===t||angular.isUndefined(t))return t;if(i&&N(i),angular.isArray(t)){for(var s={},a=0,u=t.length;a<u;a++)s[t[a]]=w.instant(t[a],e,n,i,r);return s}if(angular.isString(t)&&t.length<1)return t;t=t&&st.apply(t);var l=[];P&&l.push(P),o&&l.push(o),A&&A.length&&(l=l.concat(A));for(var c,h,f=0,d=l.length;f<d;f++){var p=l[f];if(G[p]&&void 0!==G[p][t]&&(h=L(t,e,n,o,r)),void 0!==h)break}return h||""===h||(q||H?h=g(t):(h=y.interpolate(t,e,"filter",r),F&&!_&&(c=C(t,e,r)),F&&!_&&c&&(h=c))),h},w.versionInfo=function(){return"2.13.0"},w.loaderCache=function(){return V},w.directivePriority=function(){return nt},w.statefulFilter=function(){return it},w.isReady=function(){return tt};var n=f.defer();n.promise.then(function(){tt=!0}),w.onReady=function(t){var e=f.defer();return angular.isFunction(t)&&e.promise.then(t),tt?e.resolve():n.promise.then(e.resolve),e.promise},w.getAvailableLanguageKeys=function(){return 0<W.length?W:null},w.getTranslationTable=function(t){return(t=t||w.use())&&G[t]?angular.copy(G[t]):null};var i=c.$on("$translateReady",function(){n.resolve(),i(),i=null}),r=c.$on("$translateChangeEnd",function(){n.resolve(),r(),r=null});if(B){if(angular.equals(G,{})&&w.use()&&w.use(w.use()),A&&A.length)for(var o=function(t){return ut(t.key,t.table),c.$emit("$translateChangeEnd",{language:t.key}),t},s=0,I=A.length;s<I;s++){var k=A[s];!J&&G[k]||(x[k]=d(k).then(o))}}else c.$emit("$translateReady",{language:w.use()});return w}]}function n(o,s){"use strict";var t={};return t.setLocale=function(t){0},t.getInterpolationIdentifier=function(){return"default"},t.useSanitizeValueStrategy=function(t){return s.useStrategy(t),this},t.interpolate=function(t,e,n,i){var r;return e=e||{},e=s.sanitize(e,"params",i,n),r=angular.isNumber(t)?""+t:angular.isString(t)?(r=o(t)(e),s.sanitize(r,"text",i,n)):""},t}function i(y,_,b,x,w){"use strict";return{restrict:"AE",scope:!0,priority:y.directivePriority(),compile:function(t,f){var d=f.translateValues?f.translateValues:void 0,p=f.translateInterpolation?f.translateInterpolation:void 0,g=t[0].outerHTML.match(/translate-value-+/i),m="^(.*)("+_.startSymbol()+".*"+_.endSymbol()+")(.*)",v="^(.*)"+_.startSymbol()+"(.*)"+_.endSymbol()+"(.*)";return function(r,u,l){r.interpolateParams={},r.preText="",r.postText="",r.translateNamespace=C(r);var o={},s=function(t){var e,n,i;angular.isFunction(s._unwatchOld)&&(s._unwatchOld(),s._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)?(n=(e=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(u.text())).match(m),angular.isArray(n)?(r.preText=n[1],r.postText=n[3],o.translate=_(n[2])(r.$parent),i=e.match(v),angular.isArray(i)&&i[2]&&i[2].length&&(s._unwatchOld=r.$watch(i[2],function(t){o.translate=t,a()}))):o.translate=e||void 0):o.translate=t,a()};!function(t,e,n){if(e.translateValues&&angular.extend(t,x(e.translateValues)(r.$parent)),g)for(var i in n){Object.prototype.hasOwnProperty.call(e,i)&&"translateValue"===i.substr(0,14)&&"translateValues"!==i&&(t[angular.lowercase(i.substr(14,1))+i.substr(15)]=n[i])}}(r.interpolateParams,l,f);var e=!0;for(var t in l.$observe("translate",function(t){void 0===t?s(""):""===t&&e||(o.translate=t,a()),e=!1}),l)l.hasOwnProperty(t)&&"translateAttr"===t.substr(0,13)&&13<t.length&&function(e){l.$observe(e,function(t){o[e]=t,a()})}(t);if(l.$observe("translateDefault",function(t){r.defaultText=t,a()}),d&&l.$observe("translateValues",function(t){t&&r.$parent.$watch(function(){angular.extend(r.interpolateParams,x(t)(r.$parent))})}),g){for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&"translateValue"===n.substr(0,14)&&"translateValues"!==n&&function(n){l.$observe(n,function(t){var e=angular.lowercase(n.substr(14,1))+n.substr(15);r.interpolateParams[e]=t})}(n)}var a=function(){for(var t in o)o.hasOwnProperty(t)&&void 0!==o[t]&&i(t,o[t],r,r.interpolateParams,r.defaultText,r.translateNamespace)},i=function(e,t,n,i,r,o){t?(o&&"."===t.charAt(0)&&(t=o+t),y(t,i,p,r,n.translateLanguage).then(function(t){c(t,n,!0,e)},function(t){c(t,n,!1,e)})):c(t,n,!1,e)},c=function(t,e,n,i){var r,o,s,a;n||void 0!==e.defaultText&&(t=e.defaultText),"translate"===i?(!n&&(n||y.isKeepContent()||void 0!==l.translateKeepContent)||u.empty().append(e.preText+t+e.postText),r=y.isPostCompilingEnabled(),s=(o=void 0!==f.translateCompile)&&"false"!==f.translateCompile,(r&&!o||s)&&b(u.contents())(e)):("data-"===(a=l.$attr[i]).substr(0,5)&&(a=a.substr(5)),a=a.substr(15),u.attr(a,t))};(d||g||l.translateDefault)&&r.$watch("interpolateParams",a,!0),r.$on("translateLanguageChanged",a);var h=w.$on("$translateChangeSuccess",a);u.text().length?l.translate?s(l.translate):s(""):l.translate&&s(l.translate),a(),r.$on("$destroy",h)}}}}function C(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?C(t.$parent):void 0}function r(u,l){"use strict";return{restrict:"A",priority:u.directivePriority(),link:function(n,i,r){function t(){angular.forEach(o,function(t,e){t&&(a[e]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),u(t,s,r.translateInterpolation,void 0,n.translateLanguage).then(function(t){i.attr(e,t)},function(t){i.attr(e,t)}))}),angular.forEach(a,function(t,e){o[e]||(i.removeAttr(e),delete a[e])})}var o,s,a={};c(n,r.translateAttr,function(t){o=t},t),c(n,r.translateValues,function(t){s=t},t),r.translateValues&&n.$watch(r.translateValues,t,!0),n.$on("translateLanguageChanged",t);var e=l.$on("$translateChangeSuccess",t);t(),n.$on("$destroy",e)}}}function c(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function o(o,s){"use strict";return{compile:function(t){function i(){t.addClass(o.cloakClassName())}function r(){t.removeClass(o.cloakClassName())}return o.onReady(function(){r()}),i(),function(t,e,n){n.translateCloak&&n.translateCloak.length&&(n.$observe("translateCloak",function(t){o(t).then(r,i)}),s.$on("$translateChangeSuccess",function(){o(n.translateCloak).then(r,i)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=C(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function C(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?C(t.$parent):void 0}function a(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function u(r,o){"use strict";function t(t,e,n,i){return angular.isObject(e)||(e=r(e)(this)),o.instant(t,e,n,i)}return o.statefulFilter()&&(t.$stateful=!0),t}function l(t){"use strict";return t("translations")}return t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],i.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],r.$inject=["$translate","$rootScope"],o.$inject=["$translate","$rootScope"],u.$inject=["$parse","$translate"],l.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,i,f,d=null,p=!1,g=!1;(f={sanitize:function(t,e){return"text"===e&&(t=o(t)),t},escape:function(t,e){return"text"===e&&(t=r(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=a(t,o)),t},escapeParameters:function(t,e){return"params"===e&&(t=a(t,r)),t},sce:function(t,e,n){return"text"===e?t=s(t):"params"===e&&"filter"!==n&&(t=a(t,r)),t},sceParameters:function(t,e){return"params"===e&&(t=a(t,s)),t}}).escaped=f.escapeParameters,this.addStrategy=function(t,e){return f[t]=e,this},this.removeStrategy=function(t){return delete f[t],this},this.useStrategy=function(t){return p=!0,d=t,this},this.$get=["$injector","$log",function(l,c){var e,h={};return l.has("$sanitize")&&(n=l.get("$sanitize")),l.has("$sce")&&(i=l.get("$sce")),{useStrategy:(e=this,function(t){e.useStrategy(t)}),sanitize:function(t,e,n,i){if(d||p||g||(c.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),g=!0),n||null===n||(n=d),!n)return t;i=i||"service";var r,o,s,a,u=angular.isArray(n)?n:[n];return r=t,o=e,s=i,a=u,angular.forEach(a,function(e){if(angular.isFunction(e))r=e(r,o,s);else if(angular.isFunction(f[e]))r=f[e](r,o,s);else{if(!angular.isString(f[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!h[f[e]])try{h[f[e]]=l.get(f[e])}catch(t){throw h[f[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}r=h[f[e]](r,o,s)}}),r}}}];var r=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},o=function(t){if(!n)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return n(t)},s=function(t){if(!i)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return i.trustAsHtml(t)},a=function(t,n,i){if(angular.isDate(t))return t;if(angular.isObject(t)){var r=angular.isArray(t)?[]:{};if(i){if(-1<i.indexOf(t))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else i=[];return i.push(t),angular.forEach(t,function(t,e){angular.isFunction(t)||(r[e]=a(t,n,i))}),i.splice(-1,1),r}return angular.isNumber(t)?t:n(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",r),r.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",a),a.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",u),u.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",l),l.displayName="$translationCache","pascalprecht.translate"}),function(){"use strict";function t(o){return{restrict:"A",link:function(e,t,n){function i(t){t&&o(function(){r.focus()},e.$eval(n.focusDelay)||0)}var r=t[0];n.focusIf?e.$watch(n.focusIf,i):i(!0)}}}angular.module("focus-if",[]).directive("focusIf",t),t.$inject=["$timeout"]}(),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return i={},r.m=n=[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t},o=l(n(1)),s=l(n(3)),a=l(n(4));function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t){return t&&t.__esModule?t:{default:t}}var c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,s.default),r(h,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===i(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,a.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return f("action",t)}},{key:"defaultTarget",value:function(t){var e=f("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return f("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),h);function h(t,e){!function(t){if(!(t instanceof h))throw new TypeError("Cannot call a class as a function")}(this);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return n.resolveOptions(e),n.listenClick(t),n}function f(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}t.exports=c},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t},o=n(2),s=o&&o.__esModule?o:{default:o};function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=(r(l,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),l);function l(t){!function(t){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this),this.resolveOptions(t),this.initSelection()}t.exports=u},function(t,e){t.exports=function(t){var e,n,i,r="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((e=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),e||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),n=window.getSelection(),(i=document.createRange()).selectNodeContents(t),n.removeAllRanges(),n.addRange(i),n.toString());return r}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var l=n(5),c=n(6);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!l.string(e))throw new TypeError("Second argument must be a String");if(!l.fn(n))throw new TypeError("Third argument must be a Function");if(l.node(t))return a=e,u=n,(s=t).addEventListener(a,u),{destroy:function(){s.removeEventListener(a,u)}};if(l.nodeList(t))return i=t,r=e,o=n,Array.prototype.forEach.call(i,function(t){t.addEventListener(r,o)}),{destroy:function(){Array.prototype.forEach.call(i,function(t){t.removeEventListener(r,o)})}};if(l.string(t))return c(document.body,t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,r,o,s,a,u}},function(t,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var s=n(7);function o(t,e,n,i,r){var o=function(e,n,t,i){return function(t){t.delegateTarget=s(t.target,n),t.delegateTarget&&i.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,o,r),{destroy:function(){t.removeEventListener(n,o,r)}}}t.exports=function(t,e,n,i,r){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,i,r)}))}},function(t,e){var n;"undefined"==typeof Element||Element.prototype.matches||((n=Element.prototype).matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0);function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i}),function(){"use strict";var t,i,e="ngclipboard";"object"==typeof module&&module.exports?(t=require("angular"),i=require("clipboard"),module.exports=e):(t=window.angular,i=window.ClipboardJS),t.module(e,[]).directive("ngclipboard",function(){return{restrict:"A",scope:{ngclipboardSuccess:"&",ngclipboardError:"&"},link:function(e,t){var n=new i(t[0]);n.on("success",function(t){e.$apply(function(){e.ngclipboardSuccess({e:t})})}),n.on("error",function(t){e.$apply(function(){e.ngclipboardError({e:t})})}),t.on("$destroy",function(){n.destroy()})}}})}(),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(function(){function t(r,o){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var t=[],e=n.files.length,i=0;i<e;i++)t.push(function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var e=[t.prefix,n.key,t.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[e]&&(e=n.fileMap[e]),o(angular.extend({url:e,method:"GET",params:""},n.$http)).then(function(t){return t.data},function(){return r.reject(n.key)})}({prefix:n.files[i].prefix,key:n.key,suffix:n.files[i].suffix}));return r.all(t).then(function(t){for(var e=t.length,n={},i=0;i<e;i++)for(var r in t[i])n[r]=t[i][r];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(){var t=(e.prototype.register=function(t,e){angular.isArray(e)&&(e=e[e.length-1]),this.directiveFactoriesByName[t]=e,this.onDirectiveRegistered?this.onDirectiveRegistered(t,e):this.directiveBuffer.push({name:t,factory:e})},e.prototype.$get=function(){function t(t){for(n.onDirectiveRegistered=t;0<n.directiveBuffer.length;){var e=n.directiveBuffer.pop();n.onDirectiveRegistered(e.name,e.factory)}}var n=this;return t.getTypeByName=function(t){return n.directiveFactoriesByName[t]},t},e);function e(){this.directiveBuffer=[],this.directiveFactoriesByName={},this.onDirectiveRegistered=null}function f(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}angular.module("ngComponentRouter",[]).directive("ngOutlet",["$animate","$q","$rootRouter",function(l,c,t){var h=t;return{restrict:"AE",transclude:"element",terminal:!0,priority:400,require:["?^^ngOutlet","ngOutlet"],link:function(o,s,t,e,a){var n=function(){function t(t,e){this.controller=t,this.router=e}return t.prototype.cleanupLastView=function(){var t=this;this.previousLeaveAnimation&&(l.cancel(this.previousLeaveAnimation),this.previousLeaveAnimation=null),this.currentScope&&(this.currentScope.$destroy(),this.currentScope=null),this.currentElement&&(this.previousLeaveAnimation=l.leave(this.currentElement),this.previousLeaveAnimation.then(function(){return t.previousLeaveAnimation=null}),this.currentElement=null)},t.prototype.reuse=function(t){var e=c.when(!0),n=this.currentInstruction;return this.currentInstruction=t,this.currentController&&this.currentController.$routerOnReuse&&(e=c.when(this.currentController.$routerOnReuse(this.currentInstruction,n))),e},t.prototype.routerCanReuse=function(t){var e=!(!this.currentInstruction||this.currentInstruction.componentType!==t.componentType)&&(this.currentController&&this.currentController.$routerCanReuse?this.currentController.$routerCanReuse(t,this.currentInstruction):t===this.currentInstruction||angular.equals(t.params,this.currentInstruction.params));return c.when(e)},t.prototype.routerCanDeactivate=function(t){return this.currentController&&this.currentController.$routerCanDeactivate?c.when(this.currentController.$routerCanDeactivate(t,this.currentInstruction)):c.when(!0)},t.prototype.deactivate=function(t){return this.currentController&&this.currentController.$routerOnDeactivate?c.when(this.currentController.$routerOnDeactivate(t,this.currentInstruction)):c.when()},t.prototype.activate=function(t){var e=this;this.previousInstruction=this.currentInstruction,this.currentInstruction=t;var n=this.controller.$$componentName=t.componentType;if("string"!=typeof n)throw new Error("Component is not a string for "+t.urlPath);this.controller.$$template="<"+f(n)+' $router="::$$router"></'+f(n)+">",this.controller.$$router=this.router.childRouter(t.componentType),this.controller.$$outlet=this;var i=o.$new();i.$$router=this.controller.$$router,this.deferredActivation=c.defer();var r=a(i,function(t){l.enter(t,null,e.currentElement||s),e.cleanupLastView()});return this.currentElement=r,this.currentScope=i,this.deferredActivation.promise},t}(),i=e[0],r=e[1],u=i&&i.$$router||h;r.$$currentComponent=null,u.registerPrimaryOutlet(new n(r,u))},controller:function(){},controllerAs:"$$ngOutlet"}}]).directive("ngOutlet",["$compile",function(o){return{restrict:"EA",priority:-400,require:"ngOutlet",link:function(t,e,n,i){var r=i.$$template;e.html(r),o(e.contents())(t)}}}]).directive("ngLink",["$rootRouter","$parse",function(c,h){return{require:"?^^ngOutlet",restrict:"A",link:function(t,e,n,i){var r=i&&i.$$router||c;if(!r)return;var o=null,s=n.ngLink||"";function a(t){return o=r.generate(t),"./"+angular.stringifyInstruction(o)}var u=h(s);{var l;u.constant?(l=u(),e.attr("href",a(l))):t.$watch(function(){return u(t)},function(t){return e.attr("href",a(t))},!0)}e.on("click",function(t){1===t.which&&o&&(c.navigateByInstruction(o),t.preventDefault())})}}}]).directive("$router",["$q",function(a){return{require:"^ngOutlet",priority:-1e3,link:function(t,e,n,i){var r=a.when(),o=i.$$outlet,s=o.currentController=e.controller(i.$$componentName);s.$routerOnActivate&&(r=a.when(s.$routerOnActivate(o.currentInstruction,o.previousInstruction))),r.then(o.deferredActivation.resolve,o.deferredActivation.reject)}}}]),angular.module("ng").provider("$$directiveIntrospector",t).config(["$compileProvider","$$directiveIntrospectorProvider",function(t,n){var i=t.directive;t.directive=function(t,e){return n.register(t,e),i.apply(this,arguments)}}]),angular.module("ngComponentRouter").value("$route",null).value("$routerRootComponent",new Object).factory("$rootRouter",["$q","$location","$$directiveIntrospector","$browser","$rootScope","$injector","$routerRootComponent",function(e,n,i,t,r,o,s){function a(){return function(t){return t}}function S(t){return"string"==typeof t}function u(t){return"function"==typeof t}function M(t){return Array.isArray(t)}function L(t){return t.name||"Root"}var l=function(t){return e.when(t)},c=function(t,e){return t.then(null,e)},h=function(t){return e.all(t)},f={create:function(t,e){return e=e?e.replace(/g/g,""):"",new RegExp(t,e+"g")},firstMatch:function(t,e){return t.lastIndex=0,t.exec(e)},matcher:function(t,e){return t.lastIndex=0,{re:t,input:e}}},d={annotations:function(t){return t.annotations||[]}},T={create:function(){return{}},set:function(t,e,n){return t[e]=n},get:function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},contains:function(t,e){return t.hasOwnProperty(e)},keys:function(t){return Object.keys(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},delete:function(t,e){delete t[e]},forEach:function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},equals:function(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0},merge:function(t,e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}},N=(Array,function(t){return JSON.stringify(t)}),v=function(t){return t?t[0]:null},I=function(t){return 0<(t&&t.length)?t[t.length-1]:null},y=function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null;return t.slice(e,null===n?void 0:n)},p={charCodeAt:function(t,e){return t.charCodeAt(e)},equals:function(t,e){return t===e},split:function(t,e){return t.split(e)},replaceAll:function(t,e,n){return t.replace(e,n)},replaceAllMapped:function(t,e,n){return t.replace(e,function(t){return t.splice(-2,2),n.apply(null,t)})},contains:function(t,e){return-1!=t.indexOf(e)}};function g(){}var k=Error,m={callNext:function(t,e){t.fn(e)},callEmit:function(t,e){t.fn(e)},subscribe:function(t,e){t.fn=e}};function _(){}_.prototype.subscribe=function(){},_.prototype.path=function(){return n.url()},_.prototype.go=function(t,e){return n.url(t+e)};var b={Injectable:function(){},OpaqueToken:function(){},Inject:function(){}},x=function(){function t(t){var n=this;this.map={},this.keys={},t&&T.forEach(t,function(t,e){n.map[e]=t?t.toString():null,n.keys[e]=!0})}return t.prototype.get=function(t){return T.delete(this.keys,t),this.map[t]},t.prototype.getUnused=function(){var e=this,n={};return T.keys(this.keys).forEach(function(t){return n[t]=T.get(e.map,t)}),n},t}();b.TouchMap=x,b.normalizeString=function(t){return t?t.toString():null};var w=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};function C(t){var n=[];return t?(T.forEach(t,function(t,e){n.push(!0===t?e:e+"="+t)}),n):[]}function E(t,e){return void 0===e&&(e="&"),C(t).join(e)}b.convertUrlParamsToArray=C,b.serializeParams=E;var P=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i={}),this.path=t,this.child=e,this.auxiliary=n,this.params=i}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return 0<this.auxiliary.length?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){var t=E(this.params,";");return 0<t.length?";"+t:""},t.prototype._childString=function(){return this.child?"/"+this.child.toString():""},t}(),A=function(r){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=null),r.call(this,t,e,n,i)}return w(t,r),t.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},t.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},t.prototype._queryParamsToString=function(){return this.params?"?"+E(this.params):""},t}(b.Url=P);b.RootUrl=A,b.pathSegmentsToUrl=function(t){for(var e=new P(t[t.length-1]),n=t.length-2;0<=n;--n)e=new P(t[n],e);return e};var D=f.create("^[^\\/\\(\\)\\?;=&#]+");function O(t){var e=f.firstMatch(D,t);return e?e[0]:""}var R=function(){function t(){}return t.prototype.peekStartsWith=function(t){return this._remaining.startsWith(t)},t.prototype.capture=function(t){if(!this._remaining.startsWith(t))throw new k('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return""==(this._remaining=t)||"/"==t?new P(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=O(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var n=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment());var i=null;return this.peekStartsWith("?")&&(i=this.parseQueryParams()),new A(t,n,e,i)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=O(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var n=[];this.peekStartsWith("(")&&(n=this.parseAuxiliaryRoutes());var i=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),i=this.parseSegment()),new P(t,i,n,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseParam(t);0<this._remaining.length&&this.peekStartsWith("&");)this.capture("&"),this.parseParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};0<this._remaining.length&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e,n,i=O(this._remaining);i&&(this.capture(i),e=!0,this.peekStartsWith("=")&&(this.capture("="),(n=O(this._remaining))&&(e=n,this.capture(e))),t[i]=e)},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&0<this._remaining.length;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();b.UrlParser=R,b.parser=new R;var $=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(o<3?r(s):3<o?r(e,n,s):r(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s},F=function(){function t(t){this.name=t}return t=$([a()],t)}();b.RouteLifecycleHook=F;var z=function(){function t(t){this.fn=t}return t=$([a()],t)}();b.CanActivate=z,b.routerCanReuse=new F("routerCanReuse"),b.routerCanDeactivate=new F("routerCanDeactivate"),b.routerOnActivate=new F("routerOnActivate"),b.routerOnReuse=new F("routerOnReuse"),b.routerOnDeactivate=new F("routerOnDeactivate");var B=b;b.hasLifecycleHook=function(t,e){return e instanceof Type&&t.name in e.prototype},b.getCanActivateHook=function(t){for(var e=d.annotations(t),n=0;n<e.length;n+=1){var i=e[n];if(i instanceof B.CanActivate)return i.fn}return null};var w=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},$=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(o<3?r(s):3<o?r(e,n,s):r(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s},j=b;b.RouteDefinition=j.RouteDefinition;var q=function(){function t(t){this.configs=t}return t=$([a()],t)}();b.RouteConfig=q;var H=function(){function t(t){var e=t.name,n=t.useAsDefault,i=t.path,r=t.regex,o=t.serializer,s=t.data;this.name=e,this.useAsDefault=n,this.path=i,this.regex=r,this.serializer=o,this.data=s}return t=$([a()],t)}(),V=function(u){function t(t){var e=t.name,n=t.useAsDefault,i=t.path,r=t.regex,o=t.serializer,s=t.data,a=t.component;u.call(this,{name:e,useAsDefault:n,path:i,regex:r,serializer:o,data:s}),this.aux=null,this.component=a}return w(t,u),t=$([a()],t)}(b.AbstractRoute=H);b.Route=V;var U=function(u){function t(t){var e=t.name,n=t.useAsDefault,i=t.path,r=t.regex,o=t.serializer,s=t.data,a=t.component;u.call(this,{name:e,useAsDefault:n,path:i,regex:r,serializer:o,data:s}),this.component=a}return w(t,u),t=$([a()],t)}(H);b.AuxRoute=U;var G=function(u){function t(t){var e=t.name,n=t.useAsDefault,i=t.path,r=t.regex,o=t.serializer,s=t.data,a=t.loader;u.call(this,{name:e,useAsDefault:n,path:i,regex:r,serializer:o,data:s}),this.aux=null,this.loader=a}return w(t,u),t=$([a()],t)}(H);b.AsyncRoute=G;var W=function(u){function t(t){var e=t.name,n=t.useAsDefault,i=t.path,r=t.regex,o=t.serializer,s=t.data,a=t.redirectTo;u.call(this,{name:e,useAsDefault:n,path:i,regex:r,serializer:o,data:s}),this.redirectTo=a}return w(t,u),t=$([a()],t)}(H);b.Redirect=W;var Y=b;function X(t,e){return function(){return t().then(function(t){return e.configFromComponent(t),t})}}b.normalizeRouteConfig=function(t,e){if(t instanceof Y.AsyncRoute){var n=X(t.loader,e);return new Y.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t instanceof Y.Route||t instanceof Y.Redirect||t instanceof Y.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new k('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.as&&t.name)throw new k('Route config should contain exactly one "as" or "name" property.');if(t.as&&(t.name=t.as),t.loader){n=X(t.loader,e);return new Y.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t.aux)return new Y.AuxRoute({path:t.aux,component:t.component,name:t.name});if(t.component){if("object"!=typeof t.component)return new Y.Route(t);var i=t.component;if("constructor"==i.type)return new Y.Route({path:t.path,component:i.constructor,name:t.name,data:t.data,useAsDefault:t.useAsDefault});if("loader"==i.type)return new Y.AsyncRoute({path:t.path,loader:i.loader,name:t.name,data:t.data,useAsDefault:t.useAsDefault});throw new k('Invalid component type "'+i.type+'". Valid types are "constructor" and "loader".')}return t.redirectTo?new Y.Redirect({path:t.path,redirectTo:t.redirectTo}):t},b.assertComponentExists=function(t,e){if(!u(t))throw new k('Component for route "'+e+'" is not defined, or is not a class.')};var Z=b,K=function(){function t(t,e){void 0===e&&(e=null),this._loader=t,this._resolvedComponent=null,this.data=e?new Z.RouteData(e):Z.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){var e=this;return this._resolvedComponent?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(t){return e.componentType=t})},t}();b.AsyncRouteHandler=K;var Z=b,J=function(){function t(t,e){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=l(t),this.data=e?new Z.RouteData(e):Z.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();b.SyncRouteHandler=J;function Q(){}var w=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},tt=b,Z=b,et=function(i){function t(t,e,n){i.call(this),this.instruction=t,this.remaining=e,this.remainingAux=n}return w(t,i),t}(b.RouteMatch=Q);b.PathMatch=et;var nt=function(n){function t(t,e){n.call(this),this.redirectTo=t,this.specificity=e}return w(t,n),t}(Q);b.RedirectMatch=nt;var it=function(){function t(t,e){this._pathRecognizer=t,this.redirectTo=e,this.hash=this._pathRecognizer.hash}return Object.defineProperty(t.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(t){throw new k("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=null;return this._pathRecognizer.matchUrl(t)&&(e=new nt(this.redirectTo,this._pathRecognizer.specificity)),l(e)},t.prototype.generate=function(t){throw new k("Tried to generate a redirect.")},t}();b.RedirectRule=it;var rt=function(){function t(t,e){this._routePath=t,this.handler=e,this._cache=new Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(t.prototype,"path",{get:function(){return this._routePath.toString()},set:function(t){throw new k("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var n=this,i=this._routePath.matchUrl(t);return i?this.handler.resolveComponentType().then(function(t){var e=n._getInstruction(i.urlPath,i.urlParams,i.allParams);return new et(e,i.rest,i.auxiliary)}):null},t.prototype.generate=function(t){var e=this._routePath.generateUrl(t),n=e.urlPath,i=e.urlParams;return this._getInstruction(n,tt.convertUrlParamsToArray(i),t)},t.prototype.generateComponentPathValues=function(t){return this._routePath.generateUrl(t)},t.prototype._getInstruction=function(t,e,n){if(!this.handler.componentType)throw new k("Tried to get instruction before the type was loaded.");var i=t+"?"+e.join("&");if(this._cache.has(i))return this._cache.get(i);var r=new Z.ComponentInstruction(t,e,this.handler.data,this.handler.componentType,this.terminal,this.specificity,n);return this._cache.set(i,r),r},t}();b.RouteRule=rt;var ot=b,st=b,at=b,ut=b,lt=b,ct=b,ht=function(){function t(){this.rulesByName=new Map,this.auxRulesByName=new Map,this.auxRulesByPath=new Map,this.rules=[],this.defaultRule=null}return t.prototype.config=function(t){var e;if(t.name&&t.name[0].toUpperCase()!=t.name[0]){var n=t.name[0].toUpperCase()+t.name.substring(1);throw new k('Route "'+t.path+'" with name "'+t.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+n+'".')}if(t instanceof st.AuxRoute){e=new ut.SyncRouteHandler(t.component,t.data);var i=this._getRoutePath(t),r=new ot.RouteRule(i,e);return this.auxRulesByPath.set(i.toString(),r),t.name&&this.auxRulesByName.set(t.name,r),r.terminal}var o=!1;if(t instanceof st.Redirect){var s=this._getRoutePath(t),a=new ot.RedirectRule(s,t.redirectTo);return this._assertNoHashCollision(a.hash,t.path),this.rules.push(a),!0}t instanceof st.Route?(e=new ut.SyncRouteHandler(t.component,t.data),o=!!t.useAsDefault&&t.useAsDefault):t instanceof st.AsyncRoute&&(e=new at.AsyncRouteHandler(t.loader,t.data),o=!!t.useAsDefault&&t.useAsDefault);var u=this._getRoutePath(t),l=new ot.RouteRule(u,e);if(this._assertNoHashCollision(l.hash,t.path),o){if(this.defaultRule)throw new k("Only one route can be default");this.defaultRule=l}return this.rules.push(l),t.name&&this.rulesByName.set(t.name,l),l.terminal},t.prototype.recognize=function(n){var i=[];return this.rules.forEach(function(t){var e=t.recognize(n);e&&i.push(e)}),0==i.length&&n&&0<n.auxiliary.length?[l(new ot.PathMatch(null,null,n.auxiliary))]:i},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRulesByPath.get(t.path);return e?[e.recognize(t)]:[l(null)]},t.prototype.hasRoute=function(t){return this.rulesByName.has(t)},t.prototype.componentLoaded=function(t){return this.hasRoute(t)&&!!this.rulesByName.get(t).handler.componentType},t.prototype.loadComponent=function(t){return this.rulesByName.get(t).handler.resolveComponentType()},t.prototype.generate=function(t,e){var n=this.rulesByName.get(t);return n?n.generate(e):null},t.prototype.generateAuxiliary=function(t,e){var n=this.auxRulesByName.get(t);return n?n.generate(e):null},t.prototype._assertNoHashCollision=function(e,n){this.rules.forEach(function(t){if(e==t.hash)throw new k("Configuration '"+n+"' conflicts with existing route '"+t.path+"'")})},t.prototype._getRoutePath=function(t){if(t.regex){if(isFunction(t.serializer))return new ct.RegexRoutePath(t.regex,t.serializer);throw new k("Route provides a regex property, '"+t.regex+"', but no serializer property")}if(t.path){var e=t instanceof st.AuxRoute&&t.path.startsWith("/")?t.path.substring(1):t.path;return new lt.ParamRoutePath(e)}throw new k("Route must provide either a path or regex property")},t}();b.RuleSet=ht;function ft(t,e,n,i,r){this.urlPath=t,this.urlParams=e,this.allParams=n,this.auxiliary=i,this.rest=r}b.MatchedUrl=ft;function dt(t,e){this.urlPath=t,this.urlParams=e}b.GeneratedUrl=dt;var pt=b,tt=b,gt=b,mt=function(){function t(){this.name="",this.specificity="",this.hash="..."}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),vt=function(){function t(t){this.path=t,this.name="",this.specificity="2",this.hash=t}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),yt=function(){function t(t){this.name=t,this.specificity="1",this.hash=":"}return t.prototype.match=function(t){return 0<t.length},t.prototype.generate=function(t){if(!T.contains(t.map,this.name))throw new k("Route generator for '"+this.name+"' was not included in parameters passed.");return pt.normalizeString(t.get(this.name))},t.paramMatcher=/^:([^\/]+)$/g,t}(),_t=function(){function t(t){this.name=t,this.specificity="0",this.hash="*"}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return pt.normalizeString(t.get(this.name))},t.wildcardMatcher=/^\*([^\/]+)$/g,t}(),bt=function(){function n(t){this.routePath=t,this.terminal=!0,this._assertValidPath(t),this._parsePathString(t),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var e=this._segments[this._segments.length-1];this.terminal=!(e instanceof mt)}return n.prototype.matchUrl=function(t){for(var e=t,n={},i=[],r=0;r<this._segments.length;r+=1){var o=this._segments[r],s=e;if(o instanceof mt)break;if(s){if(o instanceof _t){n[o.name]=s.toString(),i.push(s.toString()),e=null;break}if(i.push(s.path),o instanceof yt)n[o.name]=s.path;else if(!o.match(s.path))return null;e=s.child}else if(!o.match(""))return null}if(this.terminal&&e)return null;var a,u=i.join("/"),l=[],c=[],h=n;return s&&((a=t instanceof tt.RootUrl?t:s).params?(h=T.merge(a.params,n),c=tt.convertUrlParamsToArray(a.params)):h=n,l=s.auxiliary),new gt.MatchedUrl(u,c,h,l,e)},n.prototype.generateUrl=function(t){for(var e=new pt.TouchMap(t),n=[],i=0;i<this._segments.length;i++){var r=this._segments[i];r instanceof mt||n.push(r.generate(e))}var o=n.join("/"),s=e.getUnused();return new gt.GeneratedUrl(o,s)},n.prototype.toString=function(){return this.routePath},n.prototype._parsePathString=function(t){t.startsWith("/")&&(t=t.substring(1));var e=t.split("/");this._segments=[];for(var n=e.length-1,i=0;i<=n;i++){var r,o=e[i];if(r=f.firstMatch(yt.paramMatcher,o))this._segments.push(new yt(r[1]));else if(r=f.firstMatch(_t.wildcardMatcher,o))this._segments.push(new _t(r[1]));else if("..."==o){if(i<n)throw new k('Unexpected "..." before the end of the path for "'+t+'".');this._segments.push(new mt)}else this._segments.push(new vt(o))}},n.prototype._calculateSpecificity=function(){var t,e,n=this._segments.length;if(0==n)e+="2";else for(e="",t=0;t<n;t++)e+=this._segments[t].specificity;return e},n.prototype._calculateHash=function(){for(var t=this._segments.length,e=[],n=0;n<t;n++)e.push(this._segments[n].hash);return e.join("/")},n.prototype._assertValidPath=function(t){if(p.contains(t,"#"))throw new k('Path "'+t+'" should not include "#". Use "HashLocationStrategy" instead.');var e=f.firstMatch(n.RESERVED_CHARS,t);if(e)throw new k('Path "'+t+'" contains "'+e[0]+'" which is not allowed in a route config.')},n.RESERVED_CHARS=f.create("//|\\(|\\)|;|\\?|="),n}();b.ParamRoutePath=bt;var gt=b,xt=function(){function t(t,e){this._reString=t,this._serializer=e,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=f.create(this._reString)}return t.prototype.matchUrl=function(t){var e=t.toString(),n={},i=f.matcher(this._regex,e),r=RegExpMatcherWrapper.next(i);if(!r)return null;for(var o=0;o<r.length;o+=1)n[o.toString()]=r[o];return new gt.MatchedUrl(e,[],n,[],null)},t.prototype.generateUrl=function(t){return this._serializer(t)},t.prototype.toString=function(){return this._reString},t}();b.RegexRoutePath=xt;var w=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},wt=function(){function t(t){this.params=t}return t.prototype.get=function(t){return normalizeBlank(T.get(this.params,t))},t}();b.RouteParams=wt;var Ct=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return normalizeBlank(T.get(this.data,t))},t}();b.RouteData=Ct,b.BLANK_ROUTE_DATA=new Ct;var Et=function(){function t(t,e,n){this.component=t,this.child=e,this.auxInstruction=n}return Object.defineProperty(t.prototype,"urlPath",{get:function(){return this.component?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return this.component?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){var t="";return this.component&&(t+=this.component.specificity),this.child&&(t+=this.child.specificity),t},enumerable:!0,configurable:!0}),t.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},t.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(this.child?this.child._toNonRootUrl():"")},t.prototype.toUrlQuery=function(){return 0<this.urlParams.length?"?"+this.urlParams.join("&"):""},t.prototype.replaceChild=function(t){return new St(this.component,t,this.auxInstruction)},t.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(this.child?this.child._toNonRootUrl():"")},t.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(this.child?this.child._toLinkUrl():"")},t.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(this.child?this.child._toLinkUrl():"")},t.prototype._stringifyPathMatrixAuxPrefixed=function(){var t=this._stringifyPathMatrixAux();return 0<t.length&&(t="/"+t),t},t.prototype._stringifyMatrixParams=function(){return 0<this.urlParams.length?";"+this.urlParams.join(";"):""},t.prototype._stringifyPathMatrixAux=function(){return this.component?this.urlPath+this._stringifyMatrixParams()+this._stringifyAux():""},t.prototype._stringifyAux=function(){var n=[];return T.forEach(this.auxInstruction,function(t,e){n.push(t._stringifyPathMatrixAux())}),0<n.length?"("+n.join("//")+")":""},t}(),St=function(i){function t(t,e,n){i.call(this,t,e,n)}return w(t,i),t.prototype.resolveComponent=function(){return l(this.component)},t}(b.Instruction=Et),Mt=function(n){function t(t,e){n.call(this,t,e,{})}return w(t,n),t.prototype.toLinkUrl=function(){return""},t.prototype._toLinkUrl=function(){return""},t}(b.ResolvedInstruction=St);b.DefaultInstruction=Mt;var Lt=function(i){function t(t,e,n){void 0===e&&(e=""),void 0===n&&(n=[]),i.call(this,null,null,{}),this._resolver=t,this._urlPath=e,this._urlParams=n}return w(t,i),Object.defineProperty(t.prototype,"urlPath",{get:function(){return this.component?this.component.urlPath:this._urlPath?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return this.component?this.component.urlParams:this._urlParams?this._urlParams:[]},enumerable:!0,configurable:!0}),t.prototype.resolveComponent=function(){var e=this;return this.component?l(this.component):this._resolver().then(function(t){return e.child=t.child,e.component=t.component})},t}(Et);b.UnresolvedInstruction=Lt;var Tt=function(r){function t(t,e,n,i){r.call(this,t,e,n),this._specificity=i}return w(t,r),Object.defineProperty(t.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),t}(St);b.RedirectInstruction=Tt;function Nt(t,e,n,i,r,o,s){void 0===s&&(s=null),this.urlPath=t,this.urlParams=e,this.componentType=i,this.terminal=r,this.specificity=o,this.params=s,this.reuse=!1,this.routeData=n||b.BLANK_ROUTE_DATA}b.ComponentInstruction=Nt;var It=b,st=b,ot=b,kt=b,Z=b,Pt=b,tt=b,At=l(null);b.ROUTER_PRIMARY_COMPONENT=new It.OpaqueToken("RouterPrimaryComponent");var Dt=function(){function t(t){this._rootComponent=t,this._rules=new Map}return t.prototype.config=function(t,e){((e=Pt.normalizeRouteConfig(e,this))instanceof st.Route||e instanceof st.AuxRoute)&&Pt.assertComponentExists(e.component,e.path);var n=this._rules.get(t);n||(n=new kt.RuleSet,this._rules.set(t,n));var i=n.config(e);e instanceof st.Route&&(i?function(t,e){if(!u(t))return;var n=d.annotations(t);if(n)for(var i=0;i<n.length;i++){if(n[i]instanceof st.RouteConfig)throw new k('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(e){var n=this;if(u(e)&&!this._rules.has(e)){var t=d.annotations(e);if(t)for(var i=0;i<t.length;i++){var r=t[i];r instanceof st.RouteConfig&&r.configs.forEach(function(t){return n.config(e,t)})}}},t.prototype.recognize=function(t,e){var n=tt.parser.parse(t);return this._recognize(n,[])},t.prototype._recognize=function(t,o,e){var s=this;void 0===e&&(e=!1);var n=I(o),i=n?n.component.componentType:this._rootComponent,r=this._rules.get(i);if(!r)return At;var a=e?r.recognizeAuxiliary(t):r.recognize(t),u=a.map(function(t){return t.then(function(t){if(t instanceof ot.PathMatch){var e=0<o.length?[I(o)]:[],n=s._auxRoutesToUnresolved(t.remainingAux,e),i=new Z.ResolvedInstruction(t.instruction,null,n);if(!t.instruction||t.instruction.terminal)return i;var r=o.concat([i]);return s._recognize(t.remaining,r).then(function(t){return t?t instanceof Z.RedirectInstruction?t:(i.child=t,i):null})}if(t instanceof ot.RedirectMatch){i=s.generate(t.redirectTo,o.concat([null]));return new Z.RedirectInstruction(i.component,i.child,i.auxInstruction,t.specificity)}})});return t&&""!=t.path||0!=a.length?h(u).then(Ot):l(this.generateDefault(i))},t.prototype._auxRoutesToUnresolved=function(t,e){var n=this,i={};return t.forEach(function(t){i[t.path]=new Z.UnresolvedInstruction(function(){return n._recognize(t,e,!0)})}),i},t.prototype.generate=function(t,e,n){void 0===n&&(n=!1);var i,r,o=(i=[],t.forEach(function(t){S(t)?i=i.concat(t.split("/")):i.push(t)}),i);if(""==v(o))o.shift(),r=v(e),e=[];else if(r=0<e.length?e.pop():null,"."==v(o))o.shift();else if(".."==v(o))for(;".."==v(o);){if(e.length<=0)throw new k('Link "'+N(t)+'" has too many "../" segments.');r=e.pop(),o=y(o,1)}else{var s,a,u=v(o),l=this._rootComponent,c=null;1<e.length?(s=e[e.length-1],a=e[e.length-2],l=s.component.componentType,c=a.component.componentType):1==e.length&&(l=e[0].component.componentType,c=this._rootComponent);var h=this.hasRoute(u,l),f=!!c&&this.hasRoute(u,c);if(f&&h){var d='Link "'+N(t)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new k(d)}f&&(r=e.pop())}if(""==o[o.length-1]&&o.pop(),0<o.length&&""==o[0]&&o.shift(),o.length<1){d='Link "'+N(t)+'" must include a route name.';throw new k(d)}for(var p=this._generate(o,e,r,n,t),g=e.length-1;0<=g;g--){var m=e[g];if(!m)break;p=m.replaceChild(p)}return p},t.prototype._generate=function(e,n,i,r,o){var s=this;void 0===r&&(r=!1);var t=this._rootComponent,a=null,u={},l=I(n);if(l&&l.component&&(t=l.component.componentType),0==e.length){var c=this.generateDefault(t);if(!c)throw new k('Link "'+N(o)+'" does not resolve to a terminal instruction.');return c}i&&!r&&(u=T.merge(i.auxInstruction,u),a=i.component);var h=this._rules.get(t);if(!h)throw new k('Component "'+L(t)+'" has no route config.');var f,d=0,p={};if(d<e.length&&S(e[d])){var g,m=e[d];if(""==m||"."==m||".."==m)throw new k('"'+m+'/" is only allowed at the beginning of a link DSL.');(d+=1)<e.length&&(g=e[d],"object"!=typeof(f=g)||null===f||M(g)||(p=g,d+=1));var v=(r?h.auxRulesByName:h.rulesByName).get(m);if(!v)throw new k('Component "'+L(t)+'" has no route named "'+m+'".');if(!v.handler.componentType){var y=v.generateComponentPathValues(p);return new Z.UnresolvedInstruction(function(){return v.handler.resolveComponentType().then(function(t){return s._generate(e,n,i,r,o)})},y.urlPath,tt.convertUrlParamsToArray(y.urlParams))}a=r?h.generateAuxiliary(m,p):h.generate(m,p)}for(;d<e.length&&M(e[d]);){var _=[l],b=this._generate(e[d],_,null,!0,o);u[b.component.urlPath]=b,d+=1}var x,w,C,E=new Z.ResolvedInstruction(a,null,u);return a&&a.componentType&&(C=null,a.terminal?e.length:(x=n.concat([E]),w=e.slice(d),C=this._generate(w,x,null,!1,o)),E.child=C),E},t.prototype.hasRoute=function(t,e){var n=this._rules.get(e);return!!n&&n.hasRoute(t)},t.prototype.generateDefault=function(e){var n=this;if(!e)return null;var t=this._rules.get(e);if(!t||!t.defaultRule)return null;var i=null;if(t.defaultRule.handler.componentType){var r=t.defaultRule.generate({});return t.defaultRule.terminal||(i=this.generateDefault(t.defaultRule.handler.componentType)),new Z.DefaultInstruction(r,i)}return new Z.UnresolvedInstruction(function(){return t.defaultRule.handler.resolveComponentType().then(function(t){return n.generateDefault(e)})})},t}();function Ot(t){if(0==(t=t.filter(function(t){return!!t})).length)return null;if(1==t.length)return t[0];var e=t[0];return t.slice(1).reduce(function(t,e){return-1==function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=1){var r=p.charCodeAt(t,i),o=p.charCodeAt(e,i)-r;if(0!=o)return o}return t.length-e.length}(e.specificity,t.specificity)?e:t},e)}b.RouteRegistry=Dt;var w=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Rt=b,$t=l(!0),Ft=l(!1),zt=function(){function t(t,e,n){this.registry=t,this.parent=e,this.hostComponent=n,this.navigating=!1,this._currentInstruction=null,this._currentNavigation=$t,this._outlet=null,this._auxRouters=new Map,this._subject=new g}return t.prototype.childRouter=function(t){return this._childRouter=new jt(this,t)},t.prototype.auxRouter=function(t){return new jt(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(t.name)throw new k("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(this._outlet)throw new k("Primary outlet is already registered.");return this._outlet=t,this._currentInstruction?this.commit(this._currentInstruction,!1):$t},t.prototype.unregisterPrimaryOutlet=function(t){if(t.name)throw new k("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(!e)throw new k("registerAuxOutlet expects to be called with an outlet with a name.");var n,i=this.auxRouter(this.hostComponent);return this._auxRouters.set(e,i),i._outlet=t,this._currentInstruction&&(n=this._currentInstruction.auxInstruction[e])?i.commit(n):$t},t.prototype.isRouteActive=function(t){for(var e=this;e.parent&&t.child;)e=e.parent,t=t.child;return!!this._currentInstruction&&this._currentInstruction.component==t.component},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(e,n){var i=this;return void 0===n&&(n=!1),this._currentNavigation=this._currentNavigation.then(function(t){return i.lastNavigationAttempt=e,i._startNavigating(),i._afterPromiseFinishNavigating(i.recognize(e).then(function(t){return!!t&&i._navigate(t,n)}))})},t.prototype.navigateByInstruction=function(e,n){var i=this;return void 0===n&&(n=!1),e?this._currentNavigation=this._currentNavigation.then(function(t){return i._startNavigating(),i._afterPromiseFinishNavigating(i._navigate(e,n))}):Ft},t.prototype._settleInstruction=function(e){var i=this;return e.resolveComponent().then(function(t){var n=[];return e.component&&(e.component.reuse=!1),e.child&&n.push(i._settleInstruction(e.child)),T.forEach(e.auxInstruction,function(t,e){n.push(i._settleInstruction(t))}),h(n)})},t.prototype._navigate=function(e,n){var i=this;return this._settleInstruction(e).then(function(t){return i._routerCanReuse(e)}).then(function(t){return i._canActivate(e)}).then(function(t){return!!t&&i._routerCanDeactivate(e).then(function(t){if(t)return i.commit(e,n).then(function(t){return i._emitNavigationFinish(e.toRootUrl()),!0})})})},t.prototype._emitNavigationFinish=function(t){m.callEmit(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return c(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._routerCanReuse=function(e){var n=this;return this._outlet?e.component?this._outlet.routerCanReuse(e.component).then(function(t){if((e.component.reuse=t)&&n._childRouter&&e.child)return n._childRouter._routerCanReuse(e.child)}):$t:Ft},t.prototype._canActivate=function(t){return function t(n,i){var e=$t;if(!n.component)return e;n.child&&(e=t(n.child,i?i.child:null));return e.then(function(t){if(0==t)return!1;if(n.component.reuse)return!0;var e=Rt.getCanActivateHook(n.component.componentType);return!e||e(n.component,i?i.component:null)})}(t,this._currentInstruction)},t.prototype._routerCanDeactivate=function(t){var e=this;if(!this._outlet)return $t;var n=null,i=!1,r=null;return t&&(n=t.child,r=t.component,i=!t.component||t.component.reuse),(i?$t:this._outlet.routerCanDeactivate(r)).then(function(t){return 0!=t&&(!e._childRouter||e._childRouter._routerCanDeactivate(n))})},t.prototype.commit=function(n,t){var e=this;void 0===t&&(t=!1),this._currentInstruction=n;var i,r=$t;this._outlet&&n.component&&(r=(i=n.component).reuse?this._outlet.reuse(i):this.deactivate(n).then(function(t){return e._outlet.activate(i)}),n.child&&(r=r.then(function(t){if(e._childRouter)return e._childRouter.commit(n.child)})));var o=[];return this._auxRouters.forEach(function(t,e){n.auxInstruction[e]&&o.push(t.commit(n.auxInstruction[e]))}),r.then(function(t){return h(o)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t){return m.subscribe(this._subject,t)},t.prototype.deactivate=function(t){var e=this,n=null,i=null;t&&(n=t.child,i=t.component);var r=$t;return this._childRouter&&(r=this._childRouter.deactivate(n)),this._outlet&&(r=r.then(function(t){return e._outlet.deactivate(i)})),r},t.prototype.recognize=function(t){var e=this._getAncestorInstructions();return this.registry.recognize(t,e)},t.prototype._getAncestorInstructions=function(){for(var t=[this._currentInstruction],e=this;e=e.parent;)t.unshift(e._currentInstruction);return t},t.prototype.renavigate=function(){return this.lastNavigationAttempt?this.navigateByUrl(this.lastNavigationAttempt):this._currentNavigation},t.prototype.generate=function(t){var e=this._getAncestorInstructions();return this.registry.generate(t,e)},t}(),Bt=function(s){function t(t,e,n){var o=this;s.call(this,t,null,n),this._location=e,this._locationSub=this._location.subscribe(function(r){o.recognize(r.url).then(function(i){o.navigateByInstruction(i,!!r.pop).then(function(t){var e,n;r.pop&&"hashchange"!=r.type||(e=i.toUrlPath(),n=i.toUrlQuery(),0<e.length&&"/"!=e[0]&&(e="/"+e),"hashchange"==r.type?i.toRootUrl()!=o._location.path()&&o._location.replaceState(e,n):o._location.go(e,n))})})}),this.registry.configFromComponent(n),this.navigateByUrl(e.path())}return w(t,s),t.prototype.commit=function(t,e){var n=this;void 0===e&&(e=!1);var i=t.toUrlPath(),r=t.toUrlQuery();0<i.length&&"/"!=i[0]&&(i="/"+i);var o=s.prototype.commit.call(this,t);return e||(o=o.then(function(t){n._location.go(i,r)})),o},t.prototype.dispose=function(){this._locationSub&&(m.dispose(this._locationSub),this._locationSub=null)},t}(b.Router=zt);b.RootRouter=Bt;var jt=function(n){function t(t,e){n.call(this,t.registry,t,e),this.parent=t}return w(t,n),t.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},t.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},t}(zt);b.getCanActivateHook=function(t){var n=i.getTypeByName(t);return n&&n.$canActivate&&function(t,e){return o.invoke(n.$canActivate,null,{$nextInstruction:t,$prevInstruction:e})}},b.assertComponentExists=function(){},angular.stringifyInstruction=function(t){return t.toRootUrl()};var Dt=b.RouteRegistry,Bt=b.RootRouter,qt=new Dt(s),Ht=new _;i(function(e,t){angular.isArray(t.$routeConfig)&&t.$routeConfig.forEach(function(t){qt.config(e,t)})});var Vt=new Bt(qt,Ht,s);return r.$watch(function(){return n.url()},function(t){Vt.lastNavigationAttempt!==t&&Vt.navigateByUrl(t)}),Vt.subscribe(function(){r.$broadcast("$routeChangeSuccess",{})}),Vt}])}(),function(t){function s(t,e){if(e.crs&&function(t){if("name"===t.type){if(t.properties&&t.properties.name)return!0;throw new Error('Invalid CRS. Properties must contain "name" key')}if("link"!==t.type)throw new Error('Invald CRS. Type attribute must be "name" or "link"');if(t.properties&&t.properties.href&&t.properties.type)return!0;throw new Error('Invalid CRS. Properties must contain "href" and "type" key')}(e.crs)&&(t.crs=e.crs),e.bbox&&(t.bbox=e.bbox),e.extraGlobal)for(var n in t.properties={},e.extraGlobal)t.properties[n]=e.extraGlobal[n]}function a(t){for(var e in t.geom={},t)t.hasOwnProperty(e)&&-1!==n.indexOf(e)&&(t.geom[e]=t[e],delete t[e]);!function(t){for(var e in t)t.hasOwnProperty(e)&&("string"==typeof t[e]?c.push(t[e]):"object"==typeof t[e]&&(c.push(t[e][0]),c.push(t[e][1])));if(0===c.length)throw new Error("No geometry attributes specified")}(t.geom)}function u(t,e,n){var i={type:"Feature"};return i.geometry=function(t,e){var n={};for(var i in e.geom){var r=e.geom[i];"string"==typeof r&&t.hasOwnProperty(r)?"GeoJSON"===i?n=t[r]:(n.type=i,n.coordinates=t[r]):Array.isArray(r)&&t.hasOwnProperty(r[0])&&t.hasOwnProperty(r[1])&&(n.type=i,n.coordinates=[Number(t[r[1]]),Number(t[r[0]])])}return n}(t,e),i.properties=n.call(t),i}function l(n){var e;return n.exclude||n.include?n.include?e=function(e){n.include.forEach(function(t){e[t]=this[t]},this)}:n.exclude&&(e=function(t){for(var e in this)this.hasOwnProperty(e)&&-1===c.indexOf(e)&&-1===n.exclude.indexOf(e)&&(t[e]=this[e])}):e=function(t){for(var e in this)this.hasOwnProperty(e)&&-1===c.indexOf(e)&&(t[e]=this[e])},function(){var t={};return e.call(this,t),n.extra&&function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}(t,n.extra),t}}t.version="0.4.1",t.defaults={},t.parse=function(t,e,n){var i,r,o=function(t,e){var n=t||{};for(var i in e)e.hasOwnProperty(i)&&!n[i]&&(n[i]=e[i]);return n}(e,this.defaults);return c.length=0,a(o),r=l(o),Array.isArray(t)?(i={type:"FeatureCollection",features:[]},t.forEach(function(t){i.features.push(u(t,o,r))}),s(i,o)):i=u(t,o,r),n&&"function"==typeof n?void n(i):i};var n=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeoJSON"],c=[]}("object"==typeof module?module.exports:window.GeoJSON={}),function(t,e){"function"==typeof define&&define.amd?define([],e(window)):"object"==typeof exports?"object"==typeof window&&window.DOMImplementation&&window.XMLSerializer&&window.DOMParser?module.exports=e(window):module.exports=e(require("xmldom"),!0):t.JXON=e(window)}(this,function(o,c){var n,T={valueKey:"_",attrKey:"$",attrPrefix:"$",lowerCaseTags:!1,trueIsEmpty:!1,autoDate:!1,ignorePrefixedNodes:!1,parseValues:!1},N=[],e=/^\s*$/,i=/^(?:true|false)$/i;return new function(){function S(t){return T.parseValues?e.test(t)?null:i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):T.autoDate&&isFinite(Date.parse(t))?new Date(t):t:t}function M(){}function L(t,e,n,i){var r,o,s=N.length,a=t.hasChildNodes(),u=t.nodeType===t.ELEMENT_NODE&&t.hasAttributes(),l=Boolean(2&e),c=0,h="",f=l?{}:!!T.trueIsEmpty||"";if(a)for(var d,p=0;p<t.childNodes.length;p++)4===(d=t.childNodes.item(p)).nodeType?h+=d.nodeValue:3===d.nodeType?h+=d.nodeValue.trim():1!==d.nodeType||T.ignorePrefixedNodes&&d.prefix||N.push(d);var g,m=N.length,v=S(h);l||!a&&!u||(f=0===e?null===(g=v)?new M:g instanceof Object?g:new g.constructor(g):{});for(var y=s;y<m;y++)r=N[y].nodeName,T.lowerCaseTags&&(r=r.toLowerCase()),o=L(N[y],e,n,i),f.hasOwnProperty(r)?(f[r].constructor!==Array&&(f[r]=[f[r]]),f[r].push(o)):(f[r]=o,c++);if(u){for(var _,b,x=t.attributes.length,w=i?"":T.attrPrefix,C=i?{}:f,E=0;E<x;c++,E++)b=(_=t.attributes.item(E)).name,T.lowerCaseTags&&(b=b.toLowerCase()),C[w+b]=S(_.value.trim());i&&(n&&Object.freeze(C),f[T.attrKey]=C,c-=x-1)}return 3===e||(2===e||1===e&&0<c)&&h?f[T.valueKey]=v:!l&&0===c&&h&&(f=v),n&&(l||0<c)&&Object.freeze(f),N.length=s,f}this.config=function(t){for(var e in t)T[e]=t[e];T.parserErrorHandler&&(n=new o.DOMParser({errorHandler:T.parserErrorHandler,locator:{}}))},M.prototype.toString=function(){return"null"},M.prototype.valueOf=function(){return null},this.xmlToJs=this.build=function(t,e,n,i){var r=1<arguments.length&&"number"==typeof e?3&e:1;return L(t,r,n||!1,3<arguments.length?i:3==r)},this.jsToXml=this.unbuild=function(t,e,n,i){var r=(o.document&&o.document.implementation||new o.DOMImplementation).createDocument(e||null,n||"",i||null);return function t(e,n,i){var r,o,s;if(i.constructor===String||i.constructor===Number||i.constructor===Boolean){if(n.appendChild(e.createTextNode(i.toString())),i===i.valueOf())return}else i.constructor===Date&&n.appendChild(e.createTextNode(i.toISOString()));for(var a in i)if(void 0!==(r=i[a])&&(null===r&&(r={}),!(isFinite(a)||r instanceof Function)))if(a===T.valueKey)null!==r&&!0!==r&&n.appendChild(e.createTextNode(r.constructor===Date?r.toISOString():String(r)));else if(a===T.attrKey)for(var u in r)n.setAttribute(u,r[u]);else if(a===T.attrPrefix+"xmlns")c&&n.setAttribute(a.slice(1),r);else if(a.charAt(0)===T.attrPrefix)n.setAttribute(a.slice(1),r);else if(r.constructor===Array)for(var l in r)r.hasOwnProperty(l)&&(o=(s=r[l]&&r[l][T.attrPrefix+"xmlns"]||n.namespaceURI)?e.createElementNS(s,a):e.createElement(a),t(e,o,r[l]||{}),n.appendChild(o));else o=(s=(r||{})[T.attrPrefix+"xmlns"]||n.namespaceURI)?e.createElementNS(s,a):e.createElement(a),r instanceof Object?t(e,o,r):null===r||!0===r&&T.trueIsEmpty||o.appendChild(e.createTextNode(r.toString())),n.appendChild(o)}(r,r.documentElement||r,t),r},this.stringToXml=function(t){return(n=n||new o.DOMParser).parseFromString(t,"application/xml")},this.xmlToString=function(t){return void 0!==t.xml?t.xml:(new o.XMLSerializer).serializeToString(t)},this.stringToJs=function(t){var e=this.stringToXml(t);return this.xmlToJs(e)},this.jsToString=this.stringify=function(t,e,n,i){return this.xmlToString(this.jsToXml(t,e,n,i))},this.each=function(t,e,n){t instanceof Array?t.forEach(e,n):[t].forEach(e,n)}}}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).togpx=t()}(function(){return function o(s,a,u){function l(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};s[n][0].call(r.exports,function(t){var e=s[n][1][t];return l(e||t)},r,r.exports,o,s,a,u)}return a[n].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){var i=t("jxon");i.config({attrPrefix:"@"}),e.exports=function(t,s){var e;function a(t,e){s.featureLink&&(t.link={"@href":s.featureLink(e.properties)})}"string"==typeof(s=function(t,e){for(var n in t)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}({creator:"togpx",metadata:void 0,featureTitle:function t(e){if(!e)return"";if("object"==typeof e.tags){var n=t(e.tags);if(""!==n)return n}if(e.name)return e.name;if(e.ref)return e.ref;if(e.id)return e.id;return""},featureDescription:function t(e){if(!e)return"";if("object"==typeof e.tags)return t(e.tags);var n="";for(var i in e)"object"!=typeof e[i]&&(n+=i+"="+e[i]+"\n");return n.substr(0,n.length-1)},featureLink:void 0,featureCoordTimes:function(t){return t.properties&&(t.properties.times||t.properties.coordTimes)||null}},s||{})).featureCoordTimes&&(e=s.featureCoordTimes,s.featureCoordTimes=function(t){return t.properties[e]});var u={gpx:{"@xmlns":"http://www.topografix.com/GPX/1/1","@xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","@xsi:schemaLocation":"http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd","@version":"1.1",metadata:null,wpt:[],trk:[]}};return s.creator&&(u.gpx["@creator"]=s.creator),s.metadata?u.gpx.metadata=s.metadata:delete s.metadata,("FeatureCollection"===t.type?t.features:"Feature"===t.type?[t]:[{type:"Feature",properties:{},geometry:t}]).forEach(function n(i){switch(i.geometry.type){case"Point":case"MultiPoint":var t=i.geometry.coordinates;"Point"==i.geometry.type&&(t=[t]),t.forEach(function(t){o={"@lat":t[1],"@lon":t[0],name:s.featureTitle(i.properties),desc:s.featureDescription(i.properties)},void 0!==t[2]&&(o.ele=t[2]),a(o,i),u.gpx.wpt.push(o)});break;case"LineString":case"MultiLineString":var t=i.geometry.coordinates,r=s.featureCoordTimes(i);"LineString"==i.geometry.type&&(t=[t]),o={name:s.featureTitle(i.properties),desc:s.featureDescription(i.properties)},a(o,i),o.trkseg=[],t.forEach(function(t){var i={trkpt:[]};t.forEach(function(t,e){var n={"@lat":t[1],"@lon":t[0]};void 0!==t[2]&&(n.ele=t[2]),r&&r[e]&&(n.time=r[e]),i.trkpt.push(n)}),o.trkseg.push(i)}),u.gpx.trk.push(o);break;case"Polygon":case"MultiPolygon":o={name:s.featureTitle(i.properties),desc:s.featureDescription(i.properties)},a(o,i),o.trkseg=[];t=i.geometry.coordinates,r=s.featureCoordTimes(i);"Polygon"==i.geometry.type&&(t=[t]),t.forEach(function(t){t.forEach(function(t){var n={trkpt:[]},i=0;t.forEach(function(t){var e={"@lat":t[1],"@lon":t[0]};void 0!==t[2]&&(e.ele=t[2]),r&&r[i]&&(e.time=r[i]),i++,n.trkpt.push(e)}),o.trkseg.push(n)})}),u.gpx.trk.push(o);break;case"GeometryCollection":i.geometry.geometries.forEach(function(t){var e={properties:i.properties,geometry:t};n(e)});break;default:console.log("warning: unsupported geometry type: "+i.geometry.type)}}),gpx_str=i.stringify(u),gpx_str}},{jxon:2}],2:[function(t,e,n){var i,r;i=this,r=function(o,c){var n,T={valueKey:"_",attrKey:"$",attrPrefix:"$",lowerCaseTags:!1,trueIsEmpty:!1,autoDate:!1,ignorePrefixedNodes:!1,parseValues:!1},N=[],e=/^\s*$/,i=/^(?:true|false)$/i;return new function(){function S(t){return T.parseValues?e.test(t)?null:i.test(t)?"true"===t.toLowerCase():isFinite(t)?parseFloat(t):T.autoDate&&isFinite(Date.parse(t))?new Date(t):t:t}function M(){}function L(t,e,n,i){var r,o,s=N.length,a=t.hasChildNodes(),u=t.nodeType===t.ELEMENT_NODE&&t.hasAttributes(),l=Boolean(2&e),c=0,h="",f=l?{}:!!T.trueIsEmpty||"";if(a)for(var d,p=0;p<t.childNodes.length;p++)4===(d=t.childNodes.item(p)).nodeType?h+=d.nodeValue:3===d.nodeType?h+=d.nodeValue.trim():1!==d.nodeType||T.ignorePrefixedNodes&&d.prefix||N.push(d);var g,m=N.length,v=S(h);l||!a&&!u||(f=0===e?null===(g=v)?new M:g instanceof Object?g:new g.constructor(g):{});for(var y=s;y<m;y++)r=N[y].nodeName,T.lowerCaseTags&&(r=r.toLowerCase()),o=L(N[y],e,n,i),f.hasOwnProperty(r)?(f[r].constructor!==Array&&(f[r]=[f[r]]),f[r].push(o)):(f[r]=o,c++);if(u){for(var _,b,x=t.attributes.length,w=i?"":T.attrPrefix,C=i?{}:f,E=0;E<x;c++,E++)b=(_=t.attributes.item(E)).name,T.lowerCaseTags&&(b=b.toLowerCase()),C[w+b]=S(_.value.trim());i&&(n&&Object.freeze(C),f[T.attrKey]=C,c-=x-1)}return 3===e||(2===e||1===e&&0<c)&&h?f[T.valueKey]=v:!l&&0===c&&h&&(f=v),n&&(l||0<c)&&Object.freeze(f),N.length=s,f}this.config=function(t){for(var e in t)T[e]=t[e];T.parserErrorHandler&&(n=new o.DOMParser({errorHandler:T.parserErrorHandler,locator:{}}))},M.prototype.toString=function(){return"null"},M.prototype.valueOf=function(){return null},this.xmlToJs=this.build=function(t,e,n,i){var r=1<arguments.length&&"number"==typeof e?3&e:1;return L(t,r,n||!1,3<arguments.length?i:3==r)},this.jsToXml=this.unbuild=function(t,e,n,i){var r=(o.document&&o.document.implementation||new o.DOMImplementation).createDocument(e||null,n||"",i||null);return function t(e,n,i){var r,o,s;if(i.constructor===String||i.constructor===Number||i.constructor===Boolean){if(n.appendChild(e.createTextNode(i.toString())),i===i.valueOf())return}else i.constructor===Date&&n.appendChild(e.createTextNode(i.toISOString()));for(var a in i)if(void 0!==(r=i[a])&&(null===r&&(r={}),!(isFinite(a)||r instanceof Function)))if(a===T.valueKey)null!==r&&!0!==r&&n.appendChild(e.createTextNode(r.constructor===Date?r.toISOString():String(r)));else if(a===T.attrKey)for(var u in r)n.setAttribute(u,r[u]);else if(a===T.attrPrefix+"xmlns")c&&n.setAttribute(a.slice(1),r);else if(a.charAt(0)===T.attrPrefix)n.setAttribute(a.slice(1),r);else if(r.constructor===Array)for(var l in r)r.hasOwnProperty(l)&&(o=(s=r[l]&&r[l][T.attrPrefix+"xmlns"]||n.namespaceURI)?e.createElementNS(s,a):e.createElement(a),t(e,o,r[l]||{}),n.appendChild(o));else o=(s=(r||{})[T.attrPrefix+"xmlns"]||n.namespaceURI)?e.createElementNS(s,a):e.createElement(a),r instanceof Object?t(e,o,r):null===r||!0===r&&T.trueIsEmpty||o.appendChild(e.createTextNode(r.toString())),n.appendChild(o)}(r,r.documentElement||r,t),r},this.stringToXml=function(t){return(n=n||new o.DOMParser).parseFromString(t,"application/xml")},this.xmlToString=function(t){return void 0!==t.xml?t.xml:(new o.XMLSerializer).serializeToString(t)},this.stringToJs=function(t){var e=this.stringToXml(t);return this.xmlToJs(e)},this.jsToString=this.stringify=function(t,e,n,i){return this.xmlToString(this.jsToXml(t,e,n,i))},this.each=function(t,e,n){t instanceof Array?t.forEach(e,n):[t].forEach(e,n)}}},"object"==typeof n?"object"==typeof window&&window.DOMImplementation&&window.XMLSerializer&&window.DOMParser?e.exports=r(window):e.exports=r(t("xmldom"),!0):i.JXON=r(window)},{xmldom:3}],3:[function(t,e,n){},{}]},{},[1])(1)}),function(t,e){for(var n in e)t[n]=e[n]}(window,function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={};return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=21)}([function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(t){t.end()}var s=n(6),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=i;var u=n(3);u.inherits=n(1);var l=n(16),c=n(10);u.inherits(i,l);for(var h=a(c.prototype),f=0;f<h.length;f++){var d=h[f];i.prototype[d]||(i.prototype[d]=c.prototype[d])}Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),i.prototype._destroy=function(t,e){this.push(null),this.end(),s(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,n,e){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==typeof t&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t.isBuffer}).call(n,e(4).Buffer)},function(t,P,A){"use strict";(function(t){function n(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return r(this,t)}function i(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=o(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!h.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|l(e,n),r=(t=a(t,i)).write(e,n);return r!==i&&(t=t.slice(0,r)),t}(t,e,n):function(t,e){if(h.isBuffer(e)){var n=0|s(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):o(t,e);if("Buffer"===e.type&&N(e.data))return o(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function r(t,e){if(u(e),t=a(t,e<0?0:0|s(e)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function o(t,e){var n=e.length<0?0:0|s(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function s(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function l(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return E(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return S(t).length;default:if(i)return E(t).length;e=(""+e).toLowerCase(),i=!0}}function e(t,e,n){var i,r,o,s=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var r="",o=e;o<n;++o)r+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[o]);return r}(this,e,n);case"utf8":case"utf-8":return m(this,e,n);case"ascii":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}(this,e,n);case"latin1":case"binary":return function(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}(this,e,n);case"base64":return i=this,o=n,0===(r=e)&&o===i.length?L.fromByteArray(i):L.fromByteArray(i.slice(r,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}(this,e,n);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function c(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function f(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=h.from(e,i)),h.isBuffer(e))return 0===e.length?-1:d(t,e,n,i,r);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):d(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function d(t,e,n,i,r){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=s=2,u/=2,n/=2}if(r)for(var l=-1,c=n;c<a;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*s}else-1!==l&&(c-=c-l),l=-1;else for(a<n+u&&(n=a-u),c=n;0<=c;c--){for(var h=!0,f=0;f<u;f++)if(o(t,c+f)!==o(e,f)){h=!1;break}if(h)return c}return-1}function p(t,e,n,i){return M(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function g(t,e,n,i){return M(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function m(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,u,l=t[r],c=null,h=239<l?4:223<l?3:191<l?2:1;if(r+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&l)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(c=u);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(c=u)}null===c?(c=65533,h=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=I));return n}(i)}function v(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function y(t,e,n,i,r,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function _(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function b(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function x(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function w(t,e,n,i,r){return r||x(t,0,n,4),T.write(t,e,n,i,23,4),n+4}function C(t,e,n,i,r){return r||x(t,0,n,8),T.write(t,e,n,i,52,8),n+8}function E(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;s<i;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!r){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(e-=3)&&o.push(239,191,189);if(r=null,n<128){if(--e<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function S(t){return L.toByteArray(function(t){if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(k,"")).length<2)return"";for(var e;t.length%4!=0;)t+="=";return t}(t))}function M(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}var L=A(23),T=A(24),N=A(15);P.Buffer=h,P.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},P.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),P.kMaxLength=n(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,n){return i(null,t,e,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,n){return i=null,o=e,s=n,u(r=t),r<=0||void 0===o?a(i,r):"string"==typeof s?a(i,r).fill(o,s):a(i,r).fill(o);var i,r,o,s},h.allocUnsafe=function(t){return r(null,t)},h.allocUnsafeSlow=function(t){return r(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!N(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;for(var n=h.allocUnsafe(e),i=0,r=0;r<t.length;++r){var o=t[r];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},h.byteLength=l,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)c(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)c(this,e,e+3),c(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)c(this,e,e+7),c(this,e+1,e+6),c(this,e+2,e+5),c(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?m(this,0,t):e.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=P.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,i,r){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=e)return 0;if(r<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(i,r),l=t.slice(e,n),c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return f(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return f(this,t,e,n,!1)},h.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||r<n)&&(n=r),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,s,a,u,l,c,h=!1;;)switch(i){case"hex":return function(t,e,n,i){n=Number(n)||0;var r=t.length-n;(!i||(i=Number(i))>r)&&(i=r);var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<i&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}(this,t,e,n);case"utf8":case"utf-8":return l=e,c=n,M(E(t,(u=this).length-l),u,l,c);case"ascii":return p(this,t,e,n);case"latin1":case"binary":return p(this,t,e,n);case"base64":return o=this,s=e,a=n,M(S(t),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,t,e,n);default:if(h)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),h=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;h.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else for(var i=e-t,r=new h(i,void 0),o=0;o<i;++o)r[o]=this[o+t];return r},h.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},h.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var i=this[t+--e],r=1;0<e&&(r*=256);)i+=this[t+--e]*r;return i},h.prototype.readUInt8=function(t,e){return e||v(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||v(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||v(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||v(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*e)),i},h.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||v(t,e,this.length);for(var i=e,r=1,o=this[t+--i];0<i&&(r*=256);)o+=this[t+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||v(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||v(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,e){e||v(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,e){return e||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||v(t,4,this.length),T.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||v(t,4,this.length),T.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||v(t,8,this.length),T.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||v(t,8,this.length),T.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||y(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||y(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;0<=--r&&(o*=256);)this[e+r]=t/o&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):_(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):b(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):b(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,n,i){var r;t=+t,e|=0,i||y(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},h.prototype.writeIntBE=function(t,e,n,i){var r;t=+t,e|=0,i||y(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var o=n-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):_(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||y(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):b(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,n){return w(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return w(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return C(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return C(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,i){if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),e=e||0,0<i&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;0<=r;--r)t[r+e]=this[r+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},h.prototype.fill=function(t,e,n,i){if("string"==typeof t){var r;if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length&&(r=t.charCodeAt(0))<256&&(t=r),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(a=e;a<n;++a)this[a]=t;else for(var o=h.isBuffer(t)?t:E(new h(t,i).toString()),s=o.length,a=0;a<n-e;++a)this[a+e]=o[a%s];return this};var k=/[^+\/0-9A-Za-z-_]/g}).call(P,A(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(){p&&f&&(p=!1,f.length?d=f.concat(d):g=-1,d.length&&s())}function s(){if(!p){var t=r(o);p=!0;for(var e=d.length;e;){for(f=d,d=[];++g<e;)f&&f[g].run();g=-1,e=d.length}f=null,p=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(t){c=i}}();var f,d=[],p=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||p||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";(function(a){!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?t.exports=function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,n)});case 4:return a.nextTick(function(){t.call(null,e,n,i)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return a.nextTick(function(){t.apply(null,r)})}}:t.exports=a.nextTick}).call(e,n(5))},function(t,e,n){function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return s(t,e,n)}var o=n(4),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(i(o,e),e.Buffer=r),i(s,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=s(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(t){return"function"==typeof t}function l(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}((t.exports=i).EventEmitter=i).prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,o,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(c(n=this._events[t]))return!1;if(u(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(l(n))for(r=Array.prototype.slice.call(arguments,1),i=(s=n.slice()).length,o=0;o<i;o++)s[o].apply(this,r);return!0},i.prototype.on=i.prototype.addListener=function(t,e){var n;if(!u(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,u(e.listener)?e.listener:e),this._events[t]?l(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,l(this._events[t])&&!this._events[t].warned&&(n=c(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!u(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,r,o;if(!u(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(n=this._events[t]).length,i=-1,n===e||u(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(l(n)){for(o=r;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){i=o;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(u(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?u(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(u(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(((e=t.exports=n(16)).Stream=e).Readable=e).Writable=n(10),e.Duplex=n(0),e.Transform=n(19),e.PassThrough=n(31)},function(E,t,S){"use strict";(function(t,e,n){function h(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}function v(){}function i(t,e){c=c||S(0),t=t||{},this.objectMode=!!t.objectMode,e instanceof c&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;{var o;(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0})(n),e?function(t,e,n,i,r){--e.pendingcb,n?(_(r,i),_(l,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),l(t,e))}(t,n,i,e,r):((o=u(n))||n.corked||n.bufferProcessing||!n.bufferedRequest||a(t,n),i?f(s,t,n,o,r):s(t,n,o,r))}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function r(t){if(c=c||S(0),!(g.call(r,this)||this instanceof c))return new r(t);this._writableState=new i(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),b.call(this)}function y(t,e,n,i,r,o){var s,a,u,l;n||(u=i,l=r,(a=e).objectMode||!1===a.decodeStrings||"string"!=typeof u||(u=x.from(u,l)),i!==(s=u)&&(n=!0,r="buffer",i=s));var c=e.objectMode?1:i.length;e.length+=c;var h,f=e.length<e.highWaterMark;return f||(e.needDrain=!0),e.writing||e.corked?(h=e.lastBufferedRequest,e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):d(t,e,!1,c,i,r,o),f}function d(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function s(t,e,n,i){var r,o;n||(r=t,0===(o=e).length&&o.needDrain&&(o.needDrain=!1,r.emit("drain"))),e.pendingcb--,i(),l(t,e)}function a(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0,a=!0;n;)(r[s]=n).isBuf||(a=!1),n=n.next,s+=1;r.allBuffers=a,d(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new h(e)}else{for(;n;){var u=n.chunk,l=n.encoding,c=n.callback;if(d(t,e,!1,e.objectMode?1:u.length,u,l,c),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function u(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function o(e,n){e._final(function(t){n.pendingcb--,t&&e.emit("error",t),n.prefinished=!0,e.emit("prefinish"),l(e,n)})}function l(t,e){var n,i,r=u(e);return r&&(n=t,(i=e).prefinished||i.finalCalled||("function"==typeof n._final?(i.pendingcb++,i.finalCalled=!0,_(o,n,i)):(i.prefinished=!0,n.emit("prefinish"))),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}var _=S(6);E.exports=r;var c,f=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?e:_;r.WritableState=i;var p=S(3);p.inherits=S(1);var g,m={deprecate:S(30)},b=S(17),x=S(7).Buffer,w=n.Uint8Array||function(){},C=S(18);p.inherits(r,b),i.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(i.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(r,Symbol.hasInstance,{value:function(t){return!!g.call(this,t)||t&&t._writableState instanceof i}})):g=function(t){return t instanceof this},r.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},r.prototype.write=function(t,e,n){var i,r,o,s,a,u,l,c,h,f,d,p=this._writableState,g=!1,m=(i=t,(x.isBuffer(i)||i instanceof w)&&!p.objectMode);return m&&!x.isBuffer(t)&&(d=t,t=x.from(d)),"function"==typeof e&&(n=e,e=null),e=m?"buffer":e||p.defaultEncoding,"function"!=typeof n&&(n=v),p.ended?(c=this,h=n,f=new Error("write after end"),c.emit("error",f),_(h,f)):(m||(r=this,o=p,a=n,l=!(u=!0),null===(s=t)?l=new TypeError("May not write null values to stream"):"string"==typeof s||void 0===s||o.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(r.emit("error",l),_(a,l),u=!1),u))&&(p.pendingcb++,g=y(this,p,m,t,e,n)),g},r.prototype.cork=function(){this._writableState.corked++},r.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||a(this,t))},r.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},r.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},r.prototype._writev=null,r.prototype.end=function(t,e,n){var i,r,o,s=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),s.corked&&(s.corked=1,this.uncork()),s.ending||s.finished||(i=this,o=n,(r=s).ending=!0,l(i,r),o&&(r.finished?_(o):i.once("finish",o)),r.ended=!0,i.writable=!1)},Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),r.prototype.destroy=C.destroy,r.prototype._undestroy=C.undestroy,r.prototype._destroy=function(t,e){this.end(),e(t)}}).call(t,S(5),S(28).setImmediate,S(2))},function(t,e,n){"use strict";function i(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(d.isEncoding===p||!p(t)))throw new Error("Unknown encoding: "+t);return e||t}function r(t){var e;switch(this.encoding=i(t),this.encoding){case"utf16le":this.text=a,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=c,e=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"".repeat(n);if(1<t.lastNeed&&1<e.length){if(128!=(192&e[1]))return t.lastNeed=1,"".repeat(n+1);if(2<t.lastNeed&&2<e.length&&128!=(192&e[2]))return t.lastNeed=2,"".repeat(n+2)}}(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function a(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(55296<=i&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0==n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function f(t){return t&&t.length?this.write(t):""}var d=n(7).Buffer,p=d.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};(e.StringDecoder=r).prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"".repeat(this.lastTotal-this.lastNeed):e},r.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=o(e[i]);return 0<=r?(0<r&&(t.lastNeed=r-1),r):--i<n?0:0<=(r=o(e[i]))?(0<r&&(t.lastNeed=r-2),r):--i<n?0:0<=(r=o(e[i]))?(0<r&&(2===r?r=0:t.lastNeed=r-3),r):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){var i=n(13).isArray;t.exports={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){"spaces"in t&&("number"==typeof t.spaces||"string"==typeof t.spaces)||(t.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||i(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}},function(t,e){t.exports={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}}},function(t,e,n){function o(t,e){var n,i;if(g.compact){if(!m[g[t+"Key"]]&&(_(g.alwaysArray)?-1!==g.alwaysArray.indexOf(g[t+"Key"]):g.alwaysArray)&&(m[g[t+"Key"]]=[]),m[g[t+"Key"]]&&!_(m[g[t+"Key"]])&&(m[g[t+"Key"]]=[m[g[t+"Key"]]]),t+"Fn"in g&&"string"==typeof e&&(e=g[t+"Fn"](e,m)),"instruction"===t&&("instructionFn"in g||"instructionNameFn"in g))for(n in e){e.hasOwnProperty(n)&&("instructionFn"in g?e[n]=g.instructionFn(e[n],n,m):(i=e[n],delete e[n],e[g.instructionNameFn(n,i,m)]=i))}_(m[g[t+"Key"]])?m[g[t+"Key"]].push(e):m[g[t+"Key"]]=e}else{m[g.elementsKey]||(m[g.elementsKey]=[]);var r={};if("instruction"===(r[g.typeKey]=t)){for(n in e)if(e.hasOwnProperty(n))break;r[g.nameKey]="instructionNameFn"in g?g.instructionNameFn(n,e,m):n,g.instructionHasAttributes?(r[g.attributesKey]=e[n][g.attributesKey],"instructionFn"in g&&(r[g.attributesKey]=g.instructionFn(r[g.attributesKey],n,m))):("instructionFn"in g&&(e[n]=g.instructionFn(e[n],n,m)),r[g.instructionKey]=e[n])}else t+"Fn"in g&&(e=g[t+"Fn"](e,m)),r[g[t+"Key"]]=e;g.addParent&&(r[g.parentKey]=m),m[g.elementsKey].push(r)}}function s(t){var e,n;if("attributesFn"in g&&t&&(t=g.attributesFn(t,m)),(g.trim||"attributeValueFn"in g||"attributeNameFn"in g)&&t)for(e in t){t.hasOwnProperty(e)&&(g.trim&&(t[e]=t[e].trim()),"attributeValueFn"in g&&(t[e]=g.attributeValueFn(t[e],e,m)),"attributeNameFn"in g)&&(n=t[e],delete t[e],t[g.attributeNameFn(e,t[e],m)]=n)}return t}function a(t){var e={};if(t.body&&("xml"===t.name.toLowerCase()||g.instructionHasAttributes)){for(var n,i=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=i.exec(t.body));)e[n[1]]=n[2]||n[3]||n[4];e=s(e)}if("xml"===t.name.toLowerCase()){if(g.ignoreDeclaration)return;m[g.declarationKey]={},Object.keys(e).length&&(m[g.declarationKey][g.attributesKey]=e),g.addParent&&(m[g.declarationKey][g.parentKey]=m)}else{if(g.ignoreInstruction)return;g.trim&&(t.body=t.body.trim());var r={};g.instructionHasAttributes&&Object.keys(e).length?(r[t.name]={},r[t.name][g.attributesKey]=e):r[t.name]=t.body,o("instruction",r)}}function u(t,e){if("object"==typeof t&&(e=t.attributes,t=t.name),e=s(e),"elementNameFn"in g&&(t=g.elementNameFn(t,m)),g.compact){var n,i={};if(!g.ignoreAttributes&&e&&Object.keys(e).length)for(n in i[g.attributesKey]={},e)e.hasOwnProperty(n)&&(i[g.attributesKey][n]=e[n]);t in m||(_(g.alwaysArray)?-1===g.alwaysArray.indexOf(t):!g.alwaysArray)||(m[t]=[]),m[t]&&!_(m[t])&&(m[t]=[m[t]]),_(m[t])?m[t].push(i):m[t]=i}else m[g.elementsKey]||(m[g.elementsKey]=[]),(i={})[g.typeKey]="element",i[g.nameKey]=t,!g.ignoreAttributes&&e&&Object.keys(e).length&&(i[g.attributesKey]=e),g.alwaysChildren&&(i[g.elementsKey]=[]),m[g.elementsKey].push(i);i[g.parentKey]=m,m=i}function l(t){g.ignoreText||(t.trim()||g.captureSpacesBetweenElements)&&(g.trim&&(t=t.trim()),g.nativeType&&(t=function(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}(t)),g.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",t))}function c(t){g.ignoreComment||(g.trim&&(t=t.trim()),o("comment",t))}function h(t){var e=m[g.parentKey];g.addParent||delete m[g.parentKey],m=e}function f(t){g.ignoreCdata||(g.trim&&(t=t.trim()),o("cdata",t))}function d(t){g.ignoreDoctype||(t=t.replace(/^ /,""),g.trim&&(t=t.trim()),o("doctype",t))}function p(t){t.note=t}var g,m,v=n(22),y=n(12),_=n(13).isArray;t.exports=function(t,e){var n,i,r=v.parser(!0,{}),o={};return m=o,i=e,g=y.copyOptions(i),y.ensureFlagExists("ignoreDeclaration",g),y.ensureFlagExists("ignoreInstruction",g),y.ensureFlagExists("ignoreAttributes",g),y.ensureFlagExists("ignoreText",g),y.ensureFlagExists("ignoreComment",g),y.ensureFlagExists("ignoreCdata",g),y.ensureFlagExists("ignoreDoctype",g),y.ensureFlagExists("compact",g),y.ensureFlagExists("alwaysChildren",g),y.ensureFlagExists("addParent",g),y.ensureFlagExists("trim",g),y.ensureFlagExists("nativeType",g),y.ensureFlagExists("sanitize",g),y.ensureFlagExists("instructionHasAttributes",g),y.ensureFlagExists("captureSpacesBetweenElements",g),y.ensureAlwaysArrayExists(g),y.ensureKeyExists("declaration",g),y.ensureKeyExists("instruction",g),y.ensureKeyExists("attributes",g),y.ensureKeyExists("text",g),y.ensureKeyExists("comment",g),y.ensureKeyExists("cdata",g),y.ensureKeyExists("doctype",g),y.ensureKeyExists("type",g),y.ensureKeyExists("name",g),y.ensureKeyExists("elements",g),y.ensureKeyExists("parent",g),y.checkFnExists("doctype",g),y.checkFnExists("instruction",g),y.checkFnExists("cdata",g),y.checkFnExists("comment",g),y.checkFnExists("text",g),y.checkFnExists("instructionName",g),y.checkFnExists("elementName",g),y.checkFnExists("attributeName",g),y.checkFnExists("attributeValue",g),y.checkFnExists("attributes",g),r.opt={strictEntities:!0},r.onopentag=u,r.ontext=l,r.oncomment=c,r.onclosetag=h,r.onerror=p,r.oncdata=f,r.ondoctype=d,r.onprocessinginstruction=a,r.write(t).close(),o[g.elementsKey]&&(n=o[g.elementsKey],delete o[g.elementsKey],o[g.elementsKey]=n,delete o.text),o}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(A,t,D){"use strict";(function(t,m){function e(t,e){g=g||D(0),t=t||{},this.objectMode=!!t.objectMode,e instanceof g&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(M=M||D(11).StringDecoder,this.decoder=new M(t.encoding),this.encoding=t.encoding)}function n(t){if(g=g||D(0),!(this instanceof n))return new n(t);this._readableState=new e(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),w.call(this)}function r(t,e,n,i,r){var o,s,a,u,l,c,h=t._readableState;return null===e?(h.reading=!1,function(t,e){{var n;e.ended||(!e.decoder||(n=e.decoder.end())&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length),e.ended=!0,d(t))}}(t,h)):(r||(a=h,function(t){return C.isBuffer(t)||t instanceof E}(u=e)||"string"==typeof u||void 0===u||a.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),o=l),o?t.emit("error",o):h.objectMode||e&&0<e.length?("string"==typeof e||h.objectMode||Object.getPrototypeOf(e)===C.prototype||(s=e,e=C.from(s)),i?h.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):f(t,h,e,!0):h.ended?t.emit("error",new Error("stream.push() after EOF")):(h.reading=!1,h.decoder&&!n?(e=h.decoder.write(e),h.objectMode||0!==e.length?f(t,h,e,!1):p(t,h)):f(t,h,e,!1))):i||(h.reading=!1)),!(c=h).ended&&(c.needReadable||c.length<c.highWaterMark||0===c.length)}function f(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&d(t)),p(t,e)}function o(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=(P<=(n=t)?n=P:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var n}function d(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(T("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?_(i,t):i(t))}function i(t){T("emit readable"),t.emit("readable"),v(t)}function p(t,e){e.readingMore||(e.readingMore=!0,_(s,t,e))}function s(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(T("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function a(t){T("readable nexttick read 0"),t.read(0)}function u(t,e){e.reading||(T("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),v(t),e.flowing&&!e.reading&&t.read(0)}function v(t){var e=t._readableState;for(T("flow",e.flowing);e.flowing&&null!==t.read(););}function l(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):(i=t,r=e.buffer,o=e.decoder,i<r.head.data.length?(s=r.head.data.slice(0,i),r.head.data=r.head.data.slice(i)):s=i===r.head.data.length?r.shift():(o?function(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0==(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=o.slice(s);break}++i}return e.length-=i,r}:function(t,e){var n=C.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0==(t-=s)){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i).data=o.slice(s);break}++r}return e.length-=r,n})(i,r),n=s),n);var n,i,r,o,s}function c(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,_(h,e,t))}function h(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function y(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}var _=D(6);A.exports=n;var g,b=D(15);n.ReadableState=e;var x=(D(8).EventEmitter,function(t,e){return t.listeners(e).length}),w=D(17),C=D(7).Buffer,E=t.Uint8Array||function(){},S=D(3);S.inherits=D(1);var M,L=D(26),T=void 0,T=L&&L.debuglog?L.debuglog("stream"):function(){},N=D(27),I=D(18);S.inherits(n,w);var k=["error","close","destroy","pause","resume"];Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),n.prototype.destroy=I.destroy,n.prototype._undestroy=I.undestroy,n.prototype._destroy=function(t,e){this.push(null),e(t)},n.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=C.from(t,e),e=""),n=!0),r(this,t,e,!1,n)},n.prototype.unshift=function(t){return r(this,t,null,!0,!1)},n.prototype.isPaused=function(){return!1===this._readableState.flowing},n.prototype.setEncoding=function(t){return M=M||D(11).StringDecoder,this._readableState.decoder=new M(t),this._readableState.encoding=t,this};var P=8388608;n.prototype.read=function(t){T("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return T("read: emitReadable",e.length,e.ended),(0===e.length&&e.ended?c:d)(this),null;if(0===(t=o(t,e))&&e.ended)return 0===e.length&&c(this),null;var i,r=e.needReadable;return T("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&T("length less than watermark",r=!0),e.ended||e.reading?T("reading or ended",r=!1):r&&(T("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=o(n,e))),null===(i=0<t?l(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&c(this)),null!==i&&this.emit("data",i),i},n.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},n.prototype.pipe=function(n,t){function i(t,e){T("onunpipe"),t===c&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,T("cleanup"),n.removeListener("close",a),n.removeListener("finish",u),n.removeListener("drain",d),n.removeListener("error",s),n.removeListener("unpipe",i),c.removeListener("end",r),c.removeListener("end",l),c.removeListener("data",o),p=!0,!h.awaitDrain||n._writableState&&!n._writableState.needDrain||d())}function r(){T("onend"),n.end()}function o(t){T("ondata"),(g=!1)!==n.write(t)||g||((1===h.pipesCount&&h.pipes===n||1<h.pipesCount&&-1!==y(h.pipes,n))&&!p&&(T("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,g=!0),c.pause())}function s(t){T("onerror",t),l(),n.removeListener("error",s),0===x(n,"error")&&n.emit("error",t)}function a(){n.removeListener("finish",u),l()}function u(){T("onfinish"),n.removeListener("close",a),l()}function l(){T("unpipe"),c.unpipe(n)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=n;break;case 1:h.pipes=[h.pipes,n];break;default:h.pipes.push(n)}h.pipesCount+=1,T("pipe count=%d opts=%j",h.pipesCount,t);var e=(!t||!1!==t.end)&&n!==m.stdout&&n!==m.stderr?r:l;h.endEmitted?_(e):c.once("end",e),n.on("unpipe",i);var f,d=(f=c,function(){var t=f._readableState;T("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&x(f,"data")&&(t.flowing=!0,v(f))});n.on("drain",d);var p=!1,g=!1;return c.on("data",o),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?b(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(n,"error",s),n.once("close",a),n.once("finish",u),n.emit("pipe",c),h.flowing||(T("pipe resume"),c.resume()),n},n.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=y(e.pipes,t);return-1===s||(e.pipes.splice(s,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},n.prototype.addListener=n.prototype.on=function(t,e){var n,i=w.prototype.on.call(this,t,e);return"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"===t&&((n=this._readableState).endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&d(this):_(a,this))),i},n.prototype.resume=function(){var t,e,n=this._readableState;return n.flowing||(T("resume"),n.flowing=!0,t=this,(e=n).resumeScheduled||(e.resumeScheduled=!0,_(u,t,e))),this},n.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(e){var n=this._readableState,i=!1,r=this;for(var t in e.on("end",function(){var t;T("wrapped end"),n.decoder&&!n.ended&&(t=n.decoder.end())&&t.length&&r.push(t),r.push(null)}),e.on("data",function(t){T("wrapped data"),n.decoder&&(t=n.decoder.write(t)),n.objectMode&&null==t||!(n.objectMode||t&&t.length)||r.push(t)||(i=!0,e.pause())}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<k.length;o++)e.on(k[o],r.emit.bind(r,k[o]));return r._read=function(t){T("wrapped _read",t),i&&(i=!1,e.resume())},r},n._fromList=l}).call(t,D(2),D(5))},function(t,e,n){t.exports=n(8).EventEmitter},function(t,e,n){"use strict";function o(t,e){t.emit("error",e)}var s=n(6);t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;i||r?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||s(o,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(s(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";function i(n){this.afterTransform=function(t,e){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("write callback called multiple times"));i.writechunk=null,(i.writecb=null)!==n&&void 0!==n&&t.push(n),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(n,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t){if(!(this instanceof r))return new r(t);s.call(this,t),this._transformState=new i(this);var n=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,e){o(n,t,e)}):o(n)})}function o(t,e,n){if(e)return t.emit("error",e);null!=n&&t.push(n);var i=t._writableState,r=t._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=r;var s=n(0),a=n(3);a.inherits=n(1),a.inherits(r,s),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var i,r=this._transformState;r.writecb=n,r.writechunk=t,r.writeencoding=e,r.transforming||(i=this._readableState,(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark))},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;s.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){function u(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function l(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,_,y));var i,r,o,s,a="";for(i in t)t.hasOwnProperty(i)&&(s=e.noQuotesForNativeAttributes&&"string"!=typeof t[i]?"":'"',r=(r=""+t[i]).replace(/"/g,"&quot;"),o="attributeNameFn"in e?e.attributeNameFn(i,r,_,y):i,a+=e.spaces&&e.indentAttributes?u(e,n+1,!1):" ",a+=o+"="+s+("attributeValueFn"in e?e.attributeValueFn(r,i,_,y):r)+s);return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&(a+=u(e,n,!1)),a}function c(t,e,n){return y=t,_="xml",e.ignoreDeclaration?"":"<?xml"+l(t[e.attributesKey],e,n)+"?>"}function h(t,e,n){if(e.ignoreInstruction)return"";var i;for(i in t)if(t.hasOwnProperty(i))break;var r="instructionNameFn"in e?e.instructionNameFn(i,t[i],_,y):i;if("object"==typeof t[i])return"<?"+(_=r)+l((y=t)[i][e.attributesKey],e,n)+"?>";var o=t[i]?t[i]:"";return"instructionFn"in e&&(o=e.instructionFn(o,i,_,y)),"<?"+r+(o?" "+o:"")+"?>"}function f(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,_,y):t)+"--\x3e"}function d(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,_,y):t)+"]]>"}function p(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,_,y):t)+">"}function g(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,_,y):t)}function a(t,e,n){_=(y=t).name;var i="",r="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;return i+="<"+r,t[e.attributesKey]&&(i+=l(t[e.attributesKey],e,n)),t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"]||("fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement)?(i+=">",t[e.elementsKey]&&t[e.elementsKey].length&&(i+=o(t[e.elementsKey],e,n+1),_=(y=t).name),i+=e.spaces&&function(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return 1;break;case"cdata":if(e.indentCdata)return 1;break;case"instruction":if(e.indentInstruction)return 1;break;case"doctype":case"comment":case"element":default:return 1}}(t,e)?"\n"+Array(n+1).join(e.spaces):"",i+="</"+r+">"):i+="/>",i}function o(t,r,o,s){return t.reduce(function(t,e){var n=u(r,o,s&&!t);switch(e.type){case"element":return t+n+a(e,r,o);case"comment":return t+n+f(e[r.commentKey],r);case"doctype":return t+n+p(e[r.doctypeKey],r);case"cdata":return t+(r.indentCdata?n:"")+d(e[r.cdataKey],r);case"text":return t+(r.indentText?n:"")+g(e[r.textKey],r);case"instruction":var i={};return i[e[r.nameKey]]=e[r.attributesKey]?e:e[r.instructionKey],t+(r.indentInstruction?n:"")+h(i,r,o)}},"")}function m(t,e,n){var i;for(i in t)if(t.hasOwnProperty(i))switch(i){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function v(t,e,n,i){var r,o,s,a="";for(o in t)if(t.hasOwnProperty(o))for(s=b(t[o])?t[o]:[t[o]],r=0;r<s.length;++r){switch(o){case e.declarationKey:a+=c(s[r],e,n);break;case e.instructionKey:a+=(e.indentInstruction?u(e,n,i):"")+h(s[r],e,n);break;case e.attributesKey:case e.parentKey:break;case e.textKey:a+=(e.indentText?u(e,n,i):"")+g(s[r],e);break;case e.cdataKey:a+=(e.indentCdata?u(e,n,i):"")+d(s[r],e);break;case e.doctypeKey:a+=u(e,n,i)+p(s[r],e);break;case e.commentKey:a+=u(e,n,i)+f(s[r],e);break;default:a+=u(e,n,i)+function(t,e,n,i,r){y=t,_=e;var o="elementNameFn"in n?n.elementNameFn(e,t):e;if(null==t)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var s="";if(e){if(s+="<"+o,"object"!=typeof t)return s+(">"+g(t,n))+"</"+o+">";if(t[n.attributesKey]&&(s+=l(t[n.attributesKey],n,i)),!(m(t,n,!0)||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"]||("fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(e,t):n.fullTagEmptyElement)))return s+"/>";s+=">"}return s+=v(t,n,i+1,!1),y=t,(_=e)&&(s+=(r?u(n,i,!1):"")+"</"+o+">"),s}(s[r],o,e,n,m(s[r],e))}i=i&&!a}return a}var y,_,s=n(12),b=n(13).isArray;t.exports=function(t,e){var n,i;n=e,i=s.copyOptions(n),s.ensureFlagExists("ignoreDeclaration",i),s.ensureFlagExists("ignoreInstruction",i),s.ensureFlagExists("ignoreAttributes",i),s.ensureFlagExists("ignoreText",i),s.ensureFlagExists("ignoreComment",i),s.ensureFlagExists("ignoreCdata",i),s.ensureFlagExists("ignoreDoctype",i),s.ensureFlagExists("compact",i),s.ensureFlagExists("indentText",i),s.ensureFlagExists("indentCdata",i),s.ensureFlagExists("indentAttributes",i),s.ensureFlagExists("indentInstruction",i),s.ensureFlagExists("fullTagEmptyElement",i),s.ensureFlagExists("noQuotesForNativeAttributes",i),s.ensureSpacesExists(i),"number"==typeof i.spaces&&(i.spaces=Array(i.spaces+1).join(" ")),s.ensureKeyExists("declaration",i),s.ensureKeyExists("instruction",i),s.ensureKeyExists("attributes",i),s.ensureKeyExists("text",i),s.ensureKeyExists("comment",i),s.ensureKeyExists("cdata",i),s.ensureKeyExists("doctype",i),s.ensureKeyExists("type",i),s.ensureKeyExists("name",i),s.ensureKeyExists("elements",i),s.checkFnExists("doctype",i),s.checkFnExists("instruction",i),s.checkFnExists("cdata",i),s.checkFnExists("comment",i),s.checkFnExists("text",i),s.checkFnExists("instructionName",i),s.checkFnExists("elementName",i),s.checkFnExists("attributeName",i),s.checkFnExists("attributeValue",i),s.checkFnExists("attributes",i),s.checkFnExists("fullTagEmptyElement",i);var r="";return y=t,_="_root_",(e=i).compact?r=v(t,e,0,!0):(t[e.declarationKey]&&(r+=c(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&(r+=o(t[e.elementsKey],e,0,!r))),r}},function(t,e,n){var i=n(14),r=n(36),o=n(20),s=n(37);t.exports={xml2js:i,xml2json:r,js2xml:o,json2xml:s}},function(t,e,d){(function(n){!function(p){function i(t,e){if(!(this instanceof i))return new i(t,e);var n=this;(function(t){for(var e=0,n=I.length;e<n;e++)t[I[e]]=""})(n),n.q=n.c="",n.bufferCheckPosition=p.MAX_BUFFER_LENGTH,n.opt=e||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=$.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(p.XML_ENTITIES):Object.create(p.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(f)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),o(n,"onready")}function r(t,e){if(!(this instanceof r))return new r(t,e);s.apply(this),this._parser=new i(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,a.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t;n.on(e,t)},enumerable:!0,configurable:!1})})}function g(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function v(t,e){return t.test(e)}function o(t,e,n){t[e]&&t[e](n)}function y(t,e,n){t.textNode&&_(t),o(t,e,n)}function _(t){t.textNode=b(t.opt,t.textNode),t.textNode&&o(t,"ontext",t.textNode),t.textNode=""}function b(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function x(t,e){return _(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,o(t,"onerror",e),t}function w(t){return t.sawRoot&&!t.closedRoot&&C(t,"Unclosed root tag"),t.state!==$.BEGIN&&t.state!==$.BEGIN_WHITESPACE&&t.state!==$.TEXT&&x(t,"Unexpected end"),_(t),t.c="",t.closed=!0,o(t,"onend"),i.call(t,t.strict,t.opt),t}function C(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&x(t,e)}function E(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),i=n[0],r=n[1];return e&&"xmlns"===t&&(i="xmlns",r=""),{prefix:i,local:r}}function S(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))return t.attribName=t.attribValue="";var e,n,i,r,o;t.opt.xmlns?(n=(e=E(t.attribName,!0)).prefix,i=e.local,"xmlns"===n&&("xml"===i&&t.attribValue!==c?C(t,"xml: prefix must be bound to "+c+"\nActual: "+t.attribValue):"xmlns"===i&&t.attribValue!==h?C(t,"xmlns: prefix must be bound to "+h+"\nActual: "+t.attribValue):(r=t.tag,o=t.tags[t.tags.length-1]||t,r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[i]=t.attribValue)),t.attribList.push([t.attribName,t.attribValue])):(t.tag.attributes[t.attribName]=t.attribValue,y(t,"onattribute",{name:t.attribName,value:t.attribValue})),t.attribName=t.attribValue=""}function M(e,t){if(e.opt.xmlns){var n=e.tag,i=E(e.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(C(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=i.prefix);var r=e.tags[e.tags.length-1]||e;n.ns&&r.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){y(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],l=a[1],c=E(u,!0),h=c.prefix,f=c.local,d=""!==h&&n.ns[h]||"",p={name:u,value:l,prefix:h,local:f,uri:d};h&&"xmlns"!==h&&!d&&(C(e,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),e.tag.attributes[u]=p,y(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),y(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=$.TEXT:e.state=$.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function L(n){if(!n.tagName)return C(n,"Weird empty close tag."),n.textNode+="</>",n.state=$.TEXT,0;if(n.script){if("script"!==n.tagName)return n.script+="</"+n.tagName+">",n.tagName="",n.state=$.SCRIPT,0;y(n,"onscript",n.script),n.script=""}var t=n.tags.length,e=n.tagName;n.strict||(e=e[n.looseCase]());for(var i=e;t--&&n.tags[t].name!==i;)C(n,"Unexpected close tag");if(t<0)return C(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",n.state=$.TEXT,0;n.tagName=e;for(var r=n.tags.length;r-- >t;){var o=n.tag=n.tags.pop();n.tagName=n.tag.name,y(n,"onclosetag",n.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=n.tags[n.tags.length-1]||n;n.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var e=o.ns[t];y(n,"onclosenamespace",{prefix:t,uri:e})})}0===t&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=$.TEXT}function T(t,e){"<"===e?(t.state=$.OPEN_WAKA,t.startTagPosition=t.position):g(e)||(C(t,"Non-whitespace before first tag."),t.textNode=e,t.state=$.TEXT)}function N(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}p.parser=function(t,e){return new i(t,e)},p.SAXParser=i,p.SAXStream=r,p.createStream=function(t,e){return new r(t,e)},p.MAX_BUFFER_LENGTH=65536;var s,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];p.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),i.prototype={end:function(){w(this)},write:function(t){var e=this;if(this.error)throw this.error;if(e.closed)return x(e,"Cannot write after close. Assign an onready handler.");if(null===t)return w(e);"object"==typeof t&&(t=t.toString());for(var n,i,r,o,s,a,u,l,c,h=0,f="";f=N(t,h++),e.c=f;)switch(e.trackPosition&&(e.position++,"\n"===f?(e.line++,e.column=0):e.column++),e.state){case $.BEGIN:if(e.state=$.BEGIN_WHITESPACE,"\ufeff"===f)continue;T(e,f);continue;case $.BEGIN_WHITESPACE:T(e,f);continue;case $.TEXT:if(e.sawRoot&&!e.closedRoot){for(var d=h-1;f&&"<"!==f&&"&"!==f;)(f=N(t,h++))&&e.trackPosition&&(e.position++,"\n"===f?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(d,h-1)}"<"!==f||e.sawRoot&&e.closedRoot&&!e.strict?(g(f)||e.sawRoot&&!e.closedRoot||C(e,"Text data outside of root node."),"&"===f?e.state=$.TEXT_ENTITY:e.textNode+=f):(e.state=$.OPEN_WAKA,e.startTagPosition=e.position);continue;case $.SCRIPT:"<"===f?e.state=$.SCRIPT_ENDING:e.script+=f;continue;case $.SCRIPT_ENDING:"/"===f?e.state=$.CLOSE_TAG:(e.script+="<"+f,e.state=$.SCRIPT);continue;case $.OPEN_WAKA:"!"===f?(e.state=$.SGML_DECL,e.sgmlDecl=""):g(f)||(v(A,f)?(e.state=$.OPEN_TAG,e.tagName=f):"/"===f?(e.state=$.CLOSE_TAG,e.tagName=""):"?"===f?(e.state=$.PROC_INST,e.procInstName=e.procInstBody=""):(C(e,"Unencoded <"),e.startTagPosition+1<e.position&&(n=e.position-e.startTagPosition,f=new Array(n).join(" ")+f),e.textNode+="<"+f,e.state=$.TEXT));continue;case $.SGML_DECL:(e.sgmlDecl+f).toUpperCase()===k?(y(e,"onopencdata"),e.state=$.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+f==="--"?(e.state=$.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+f).toUpperCase()===P?(e.state=$.DOCTYPE,(e.doctype||e.sawRoot)&&C(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===f?(y(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=$.TEXT):(m(f)&&(e.state=$.SGML_DECL_QUOTED),e.sgmlDecl+=f);continue;case $.SGML_DECL_QUOTED:f===e.q&&(e.state=$.SGML_DECL,e.q=""),e.sgmlDecl+=f;continue;case $.DOCTYPE:">"===f?(e.state=$.TEXT,y(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=f,"["===f?e.state=$.DOCTYPE_DTD:m(f)&&(e.state=$.DOCTYPE_QUOTED,e.q=f));continue;case $.DOCTYPE_QUOTED:e.doctype+=f,f===e.q&&(e.q="",e.state=$.DOCTYPE);continue;case $.DOCTYPE_DTD:e.doctype+=f,"]"===f?e.state=$.DOCTYPE:m(f)&&(e.state=$.DOCTYPE_DTD_QUOTED,e.q=f);continue;case $.DOCTYPE_DTD_QUOTED:e.doctype+=f,f===e.q&&(e.state=$.DOCTYPE_DTD,e.q="");continue;case $.COMMENT:"-"===f?e.state=$.COMMENT_ENDING:e.comment+=f;continue;case $.COMMENT_ENDING:"-"===f?(e.state=$.COMMENT_ENDED,e.comment=b(e.opt,e.comment),e.comment&&y(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+f,e.state=$.COMMENT);continue;case $.COMMENT_ENDED:">"!==f?(C(e,"Malformed comment"),e.comment+="--"+f,e.state=$.COMMENT):e.state=$.TEXT;continue;case $.CDATA:"]"===f?e.state=$.CDATA_ENDING:e.cdata+=f;continue;case $.CDATA_ENDING:"]"===f?e.state=$.CDATA_ENDING_2:(e.cdata+="]"+f,e.state=$.CDATA);continue;case $.CDATA_ENDING_2:">"===f?(e.cdata&&y(e,"oncdata",e.cdata),y(e,"onclosecdata"),e.cdata="",e.state=$.TEXT):"]"===f?e.cdata+="]":(e.cdata+="]]"+f,e.state=$.CDATA);continue;case $.PROC_INST:"?"===f?e.state=$.PROC_INST_ENDING:g(f)?e.state=$.PROC_INST_BODY:e.procInstName+=f;continue;case $.PROC_INST_BODY:if(!e.procInstBody&&g(f))continue;"?"===f?e.state=$.PROC_INST_ENDING:e.procInstBody+=f;continue;case $.PROC_INST_ENDING:">"===f?(y(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=$.TEXT):(e.procInstBody+="?"+f,e.state=$.PROC_INST_BODY);continue;case $.OPEN_TAG:v(D,f)?e.tagName+=f:(function(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,y(t,"onopentagstart",n)}(e),">"===f?M(e):"/"===f?e.state=$.OPEN_TAG_SLASH:(g(f)||C(e,"Invalid character in tag name"),e.state=$.ATTRIB));continue;case $.OPEN_TAG_SLASH:">"===f?(M(e,!0),L(e)):(C(e,"Forward-slash in opening tag not followed by >"),e.state=$.ATTRIB);continue;case $.ATTRIB:if(g(f))continue;">"===f?M(e):"/"===f?e.state=$.OPEN_TAG_SLASH:v(A,f)?(e.attribName=f,e.attribValue="",e.state=$.ATTRIB_NAME):C(e,"Invalid attribute name");continue;case $.ATTRIB_NAME:"="===f?e.state=$.ATTRIB_VALUE:">"===f?(C(e,"Attribute without value"),e.attribValue=e.attribName,S(e),M(e)):g(f)?e.state=$.ATTRIB_NAME_SAW_WHITE:v(D,f)?e.attribName+=f:C(e,"Invalid attribute name");continue;case $.ATTRIB_NAME_SAW_WHITE:if("="===f)e.state=$.ATTRIB_VALUE;else{if(g(f))continue;C(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",y(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===f?M(e):v(A,f)?(e.attribName=f,e.state=$.ATTRIB_NAME):(C(e,"Invalid attribute name"),e.state=$.ATTRIB)}continue;case $.ATTRIB_VALUE:if(g(f))continue;m(f)?(e.q=f,e.state=$.ATTRIB_VALUE_QUOTED):(C(e,"Unquoted attribute value"),e.state=$.ATTRIB_VALUE_UNQUOTED,e.attribValue=f);continue;case $.ATTRIB_VALUE_QUOTED:if(f!==e.q){"&"===f?e.state=$.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=f;continue}S(e),e.q="",e.state=$.ATTRIB_VALUE_CLOSED;continue;case $.ATTRIB_VALUE_CLOSED:g(f)?e.state=$.ATTRIB:">"===f?M(e):"/"===f?e.state=$.OPEN_TAG_SLASH:v(A,f)?(C(e,"No whitespace between attributes"),e.attribName=f,e.attribValue="",e.state=$.ATTRIB_NAME):C(e,"Invalid attribute name");continue;case $.ATTRIB_VALUE_UNQUOTED:if(">"!==(c=f)&&!g(c)){"&"===f?e.state=$.ATTRIB_VALUE_ENTITY_U:e.attribValue+=f;continue}S(e),">"===f?M(e):e.state=$.ATTRIB;continue;case $.CLOSE_TAG:if(e.tagName)">"===f?L(e):v(D,f)?e.tagName+=f:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=$.SCRIPT):(g(f)||C(e,"Invalid tagname in closing tag"),e.state=$.CLOSE_TAG_SAW_WHITE);else{if(g(f))continue;v(A,f)?e.tagName=f:e.script?(e.script+="</"+f,e.state=$.SCRIPT):C(e,"Invalid tagname in closing tag.")}continue;case $.CLOSE_TAG_SAW_WHITE:if(g(f))continue;">"===f?L(e):C(e,"Invalid characters in closing tag");continue;case $.TEXT_ENTITY:case $.ATTRIB_VALUE_ENTITY_Q:case $.ATTRIB_VALUE_ENTITY_U:switch(e.state){case $.TEXT_ENTITY:i=$.TEXT,r="textNode";break;case $.ATTRIB_VALUE_ENTITY_Q:i=$.ATTRIB_VALUE_QUOTED,r="attribValue";break;case $.ATTRIB_VALUE_ENTITY_U:i=$.ATTRIB_VALUE_UNQUOTED,r="attribValue"}";"===f?(e[r]+=(l=a=s=void 0,a=(o=e).entity,u=a.toLowerCase(),l="",o.ENTITIES[a]?o.ENTITIES[a]:o.ENTITIES[u]?o.ENTITIES[u]:("#"===(a=u).charAt(0)&&(l="x"===a.charAt(1)?(a=a.slice(2),(s=parseInt(a,16)).toString(16)):(a=a.slice(1),(s=parseInt(a,10)).toString(10))),a=a.replace(/^0+/,""),isNaN(s)||l.toLowerCase()!==a?(C(o,"Invalid character entity"),"&"+o.entity+";"):String.fromCodePoint(s))),e.entity="",e.state=i):v(e.entity.length?R:O,f)?e.entity+=f:(C(e,"Invalid character in entity name"),e[r]+="&"+e.entity+f,e.entity="",e.state=i);continue;default:throw new Error(e,"Unknown state: "+e.state)}return e.position>=e.bufferCheckPosition&&function(t){for(var e=Math.max(p.MAX_BUFFER_LENGTH,10),n=0,i=0,r=I.length;i<r;i++){var o=t[I[i]].length;if(e<o)switch(I[i]){case"textNode":_(t);break;case"cdata":y(t,"oncdata",t.cdata),t.cdata="";break;case"script":y(t,"onscript",t.script),t.script="";break;default:x(t,"Max buffer length exceeded: "+I[i])}n=Math.max(n,o)}var s=p.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=s+t.position}(e),e},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;_(t=this),""!==t.cdata&&(y(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(y(t,"onscript",t.script),t.script="")}};try{s=d(25).Stream}catch(t){s=function(){}}var a=p.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});(r.prototype=Object.create(s.prototype,{constructor:{value:r}})).write=function(t){var e;return"function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(t)&&(this._decoder||(e=d(11).StringDecoder,this._decoder=new e("utf8")),t=this._decoder.write(t)),this._parser.write(t.toString()),this.emit("data",t),!0},r.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},r.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===a.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),s.prototype.on.call(n,e,t)};var u,l,k="[CDATA[",P="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",f={xml:c,xmlns:h},A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,D=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,O=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,$=0;for(var t in p.STATE={BEGIN:$++,BEGIN_WHITESPACE:$++,TEXT:$++,TEXT_ENTITY:$++,OPEN_WAKA:$++,SGML_DECL:$++,SGML_DECL_QUOTED:$++,DOCTYPE:$++,DOCTYPE_QUOTED:$++,DOCTYPE_DTD:$++,DOCTYPE_DTD_QUOTED:$++,COMMENT_STARTING:$++,COMMENT:$++,COMMENT_ENDING:$++,COMMENT_ENDED:$++,CDATA:$++,CDATA_ENDING:$++,CDATA_ENDING_2:$++,PROC_INST:$++,PROC_INST_BODY:$++,PROC_INST_ENDING:$++,OPEN_TAG:$++,OPEN_TAG_SLASH:$++,ATTRIB:$++,ATTRIB_NAME:$++,ATTRIB_NAME_SAW_WHITE:$++,ATTRIB_VALUE:$++,ATTRIB_VALUE_QUOTED:$++,ATTRIB_VALUE_CLOSED:$++,ATTRIB_VALUE_UNQUOTED:$++,ATTRIB_VALUE_ENTITY_Q:$++,ATTRIB_VALUE_ENTITY_U:$++,CLOSE_TAG:$++,CLOSE_TAG_SAW_WHITE:$++,SCRIPT:$++,SCRIPT_ENDING:$++},p.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(p.ENTITIES).forEach(function(t){var e=p.ENTITIES[t],n="number"==typeof e?String.fromCharCode(e):e;p.ENTITIES[t]=n}),p.STATE)p.STATE[p.STATE[t]]=t;function e(){var t,e,n=[],i=-1,r=arguments.length;if(!r)return"";for(var o="";++i<r;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||1114111<s||l(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,n.push(t,e)),(i+1===r||16384<n.length)&&(o+=u.apply(null,n),n.length=0)}return o}$=p.STATE,String.fromCodePoint||(u=String.fromCharCode,l=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:e,configurable:!0,writable:!0}):String.fromCodePoint=e)}(e)}).call(e,d(4).Buffer)},function(t,e,n){"use strict";function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function l(t,e,n){for(var i,r,o=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(c[(r=i)>>18&63]+c[r>>12&63]+c[r>>6&63]+c[63&r]);return o.join("")}e.byteLength=function(t){return 3*t.length/4-u(t)},e.toByteArray=function(t){for(var e,n=t.length,i=u(t),r=new f(3*n/4-i),o=0<i?n-4:n,s=0,a=0;a<o;a+=4)e=h[t.charCodeAt(a)]<<18|h[t.charCodeAt(a+1)]<<12|h[t.charCodeAt(a+2)]<<6|h[t.charCodeAt(a+3)],r[s++]=e>>16&255,r[s++]=e>>8&255,r[s++]=255&e;return 2===i?(e=h[t.charCodeAt(a)]<<2|h[t.charCodeAt(a+1)]>>4,r[s++]=255&e):1===i&&(e=h[t.charCodeAt(a)]<<10|h[t.charCodeAt(a+1)]<<4|h[t.charCodeAt(a+2)]>>2,r[s++]=e>>8&255,r[s++]=255&e),r},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r="",o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,a<s+16383?a:s+16383));return 1==i?(e=t[n-1],r+=c[e>>2],r+=c[e<<4&63],r+="=="):2==i&&(e=(t[n-2]<<8)+t[n-1],r+=c[e>>10],r+=c[e>>4&63],r+=c[e<<2&63],r+="="),o.push(r),o.join("")};for(var c=[],h=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)c[r]=i[r],h[i.charCodeAt(r)]=r;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;0<c;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;0<c;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),o-=l}return(d?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),2<=(e+=1<=s+h?f/u:f*Math.pow(2,1-h))*u&&(s++,u/=2),c<=s+h?(a=0,s=c):1<=s+h?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));8<=r;t[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;0<l;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*g}},function(t,e,n){function i(){c.call(this)}t.exports=i;var c=n(8).EventEmitter;n(1)(i,c),i.Readable=n(9),i.Writable=n(32),i.Duplex=n(33),i.Transform=n(34),i.PassThrough=n(35),(i.Stream=i).prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function r(){l||(l=!0,e.end())}function o(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(t){if(a(),0===c.listenerCount(this,"error"))throw t}function a(){u.removeListener("data",n),e.removeListener("drain",i),u.removeListener("end",r),u.removeListener("close",o),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",a),u.removeListener("close",a),e.removeListener("close",a)}var u=this;u.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(u.on("end",r),u.on("close",o));var l=!1;return u.on("error",s),e.on("error",s),u.on("end",a),u.on("close",a),e.on("close",a),e.emit("pipe",u),e}},function(t,e){},function(t,e,n){"use strict";var a=n(7).Buffer;function i(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.head=null,this.tail=null,this.length=0}t.exports=(i.prototype.push=function(t){var e={data:t,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},i.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},i.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},i.prototype.concat=function(t){if(0===this.length)return a.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,r=a.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,n=r,i=s,e.copy(n,i),s+=o.data.length,o=o.next;return r},i)},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(29),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,p){!function(n,i){"use strict";function r(t){delete u[t]}function o(t){if(l)setTimeout(o,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{r(t),l=!1}}}}var s,a,u,l,c,t,h,e,f;function d(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(f)&&o(+t.data.slice(f.length))}n.setImmediate||(a=1,l=!(u={}),c=n.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&t.setTimeout?t:n,s="[object process]"==={}.toString.call(n.process)?function(t){p.nextTick(function(){o(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(f="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",d,!1):n.attachEvent("onmessage",d),function(t){n.postMessage(f+t,"*")}):n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){o(t.data)},function(t){e.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(h=c.documentElement,function(t){var e=c.createElement("script");e.onreadystatechange=function(){o(t),e.onreadystatechange=null,h.removeChild(e),e=null},h.appendChild(e)}):function(t){setTimeout(o,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[a]=i,s(a),a++},t.clearImmediate=r)}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(2),n(5))},function(t,e,n){(function(n){function i(t){try{if(!n.localStorage)return}catch(t){return}var e=n.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(e,n(2))},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}t.exports=i;var r=n(19),o=n(3);o.inherits=n(1),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(10)},function(t,e,n){t.exports=n(0)},function(t,e,n){t.exports=n(9).Transform},function(t,e,n){t.exports=n(9).PassThrough},function(t,e,n){var a=n(12),u=n(14);t.exports=function(t,e){var n,i,r,o,s;return o=e,s=a.copyOptions(o),a.ensureSpacesExists(s),i=u(t,n=s),r="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(i,function(t,e){return t===r?"_":e},n.spaces):JSON.stringify(i,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(t,e,n){(function(i){var r=n(20);t.exports=function(t,e){t instanceof i&&(t=t.toString());var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch(t){throw new Error("The JSON structure is invalid")}else n=t;return r(n,e)}}).call(e,n(4).Buffer)}])),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).tokml=t()}(function(){return function o(s,a,u){function l(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};s[n][0].call(r.exports,function(t){var e=s[n][1][t];return l(e||t)},r,r.exports,o,s,a,u)}return a[n].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){var i=t("strxml"),v=i.tag,y=i.encode;function r(g,m){return function(t){if(!t.properties||!_.valid(t.geometry))return"";var e=_.any(t.geometry);if(!e)return"";var n,i,r,o,s,a,u,l,c,h,f,d="",p="";return!g.simplestyle||(n=function(t){var e="";t["marker-symbol"]&&(e=e+"ms"+t["marker-symbol"]);t["marker-color"]&&(e=e+"mc"+t["marker-color"].replace("#",""));t["marker-size"]&&(e=e+"ms"+t["marker-size"]);t.stroke&&(e=e+"s"+t.stroke.replace("#",""));t["stroke-width"]&&(e=e+"sw"+t["stroke-width"].toString().replace(".",""));t["stroke-opacity"]&&(e=e+"mo"+t["stroke-opacity"].toString().replace(".",""));t.fill&&(e=e+"f"+t.fill.replace("#",""));t["fill-opacity"]&&(e=e+"fo"+t["fill-opacity"].toString().replace(".",""));return e}(t.properties))&&(_.isPoint(t.geometry)&&((o=t.properties)["marker-size"]||o["marker-symbol"]||o["marker-color"])?(-1===m.indexOf(n)&&(i=t.properties,r=n,d=v("Style",v("IconStyle",v("Icon",v("href",function(t){var e=t["marker-size"]||"medium",n=t["marker-symbol"]?"-"+t["marker-symbol"]:"",i=(t["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+e.charAt(0)+n+"+"+i+".png"}(i))))+v("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]]),[["id",r]]),m.push(n)),p=v("styleUrl","#"+n)):(_.isPolygon(t.geometry)||_.isLine(t.geometry))&&function(t){for(var e in t)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[e])return!0}(t.properties)&&(-1===m.indexOf(n)&&(d=function(t,e){var n=v("LineStyle",[v("color",x(t.stroke,t["stroke-opacity"])||"ff555555")+v("width",void 0===t["stroke-width"]?2:t["stroke-width"])]),i="";(t.fill||t["fill-opacity"])&&(i=v("PolyStyle",[v("color",x(t.fill,t["fill-opacity"])||"88555555")]));return v("Style",n+i,[["id",e]])}(t.properties,n),m.push(n)),p=v("styleUrl","#"+n))),d+v("Placemark",((h=t.properties)[(f=g).name]?v("name",y(h[f.name])):"")+((l=t.properties)[(c=g).description]?v("description",y(l[c.description])):"")+(u=t.properties,v("ExtendedData",function(t){var e=[];for(var n in t)e.push([n,t[n]]);return e}(u).map(b).join("")))+((s=t.properties)[(a=g).timestamp]?v("TimeStamp",v("when",y(s[a.timestamp]))):"")+e+p)}}e.exports=function(t,e){return'<?xml version="1.0" encoding="UTF-8"?>'+v("kml",v("Document",(void 0!==(i=e=e||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"}).documentName?v("name",i.documentName):"")+(void 0!==(n=e).documentDescription?v("description",n.documentDescription):"")+function(t,e){if(!t.type)return"";var n=[];switch(t.type){case"FeatureCollection":return t.features?t.features.map(r(e,n)).join(""):"";case"Feature":return r(e,n)(t);default:return r(e,n)({type:"Feature",geometry:t,properties:{}})}}(t,e)),[["xmlns","http://www.opengis.net/kml/2.2"]]);var n,i};var _={Point:function(t){return v("Point",v("coordinates",t.coordinates.join(",")))},LineString:function(t){return v("LineString",v("coordinates",o(t.coordinates)))},Polygon:function(t){if(!t.coordinates.length)return"";var e=t.coordinates[0],n=t.coordinates.slice(1),i=v("outerBoundaryIs",v("LinearRing",v("coordinates",o(e)))),r=n.map(function(t){return v("innerBoundaryIs",v("LinearRing",v("coordinates",o(t))))}).join("");return v("Polygon",i+r)},MultiPoint:function(t){return t.coordinates.length?v("MultiGeometry",t.coordinates.map(function(t){return _.Point({coordinates:t})}).join("")):""},MultiPolygon:function(t){return t.coordinates.length?v("MultiGeometry",t.coordinates.map(function(t){return _.Polygon({coordinates:t})}).join("")):""},MultiLineString:function(t){return t.coordinates.length?v("MultiGeometry",t.coordinates.map(function(t){return _.LineString({coordinates:t})}).join("")):""},GeometryCollection:function(t){return v("MultiGeometry",t.geometries.map(_.any).join(""))},valid:function(t){return t&&t.type&&(t.coordinates||"GeometryCollection"===t.type&&t.geometries&&t.geometries.every(_.valid))},any:function(t){return _[t.type]?_[t.type](t):""},isPoint:function(t){return"Point"===t.type||"MultiPoint"===t.type},isPolygon:function(t){return"Polygon"===t.type||"MultiPolygon"===t.type},isLine:function(t){return"LineString"===t.type||"MultiLineString"===t.type}};function o(t){return t.map(function(t){return t.join(",")}).join(" ")}function b(t){return v("Data",v("value",y(t[1])),[["name",y(t[0])]])}function x(t,e){if("string"!=typeof t)return"";if(3===(t=t.replace("#","").toLowerCase()).length)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==t.length)return"";var n=t[0]+t[1],i=t[2]+t[3],r=t[4]+t[5],o="ff";return"number"==typeof e&&0<=e&&e<=1&&(-1<(o=(255*e).toString(16)).indexOf(".")&&(o=o.substr(0,o.indexOf("."))),o.length<2&&(o="0"+o)),o+r+i+n}},{strxml:2}],2:[function(t,e,n){function i(t){return t&&t.length?" "+t.map(function(t){return t[0]+'="'+t[1]+'"'}).join(" "):""}e.exports.attr=i,e.exports.tagClose=function(t,e){return"<"+t+i(e)+"/>"},e.exports.tag=function(t,e,n){return"<"+t+i(n)+">"+e+"</"+t+">"},e.exports.encode=function(t){return(null===t?"":t.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}},{}]},{},[1])(1)}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).omnivore=t()}(function(){return function o(s,a,u){function l(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};s[n][0].call(r.exports,function(t){var e=s[n][1][t];return l(e||t)},r,r.exports,o,s,a,u)}return a[n].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){function s(t,e){"setGeoJSON"in t?t.setGeoJSON(e):"addData"in t&&t.addData(e)}function r(t,e,n){var i="string"==typeof t?JSON.parse(t):t;for(var r in n=n||L.geoJson(),i.objects){var o=g.feature(i,i.objects[r]);o.features?s(n,o.features):s(n,o)}return n}function a(t,e,n){return n=n||L.geoJson(),e=e||{},i.csv2geojson(t,e,function(t,e){return t?n.fire("error",{error:t}):void s(n,e)}),n}function o(t,e,n){var i=h(t);return i?(s(n=n||L.geoJson(),m.gpx(i)),n):n.fire("error",{error:"Could not parse GPX"})}function u(t,e,n){var i=h(t);return i?(s(n=n||L.geoJson(),m.kml(i)),n):n.fire("error",{error:"Could not parse KML"})}function l(t,e,n){n=n||L.geoJson(),e=e||{};for(var i=p.decode(t,e.precision),r={type:"LineString",coordinates:[]},o=0;o<i.length;o++)r.coordinates[o]=[i[o][1],i[o][0]];return s(n,r),n}function c(t,e,n){return s(n=n||L.geoJson(),d(t)),n}function h(t){return"string"==typeof t?(new DOMParser).parseFromString(t,"text/xml"):t}var f=t("corslite"),i=t("csv2geojson"),d=t("wellknown"),p=t("polyline"),g=t("topojson"),m=t("togeojson");e.exports.polyline=function(t,n,e){var i=e||L.geoJson();return f(t,function(t,e){return t?i.fire("error",{error:t}):(l(e.responseText,n,i),void i.fire("ready"))}),i},e.exports.polyline.parse=l,e.exports.geojson=function(t,e,n){var i=n||L.geoJson();return f(t,function(t,e){return t?i.fire("error",{error:t}):(s(i,JSON.parse(e.responseText)),void i.fire("ready"))}),i},e.exports.topojson=function(t,e,n){var i=n||L.geoJson();return f(t,function(t,e){return t?i.fire("error",{error:t}):(r(e.responseText,0,i),void i.fire("ready"))}),i},e.exports.topojson.parse=r,e.exports.csv=function(t,r,e){var o=e||L.geoJson();return f(t,function(t,e){function n(){i=!0}var i;return t?o.fire("error",{error:t}):(o.on("error",n),a(e.responseText,r,o),o.off("error",n),void(i||o.fire("ready")))}),o},e.exports.csv.parse=a,e.exports.gpx=function(t,e,n){var r=n||L.geoJson();return f(t,function(t,e){function n(){i=!0}var i;return t?r.fire("error",{error:t}):(r.on("error",n),o(e.responseXML||e.responseText,0,r),r.off("error",n),void(i||r.fire("ready")))}),r},e.exports.gpx.parse=o,e.exports.kml=function(t,e,n){var r=n||L.geoJson();return f(t,function(t,e){function n(){i=!0}var i;return t?r.fire("error",{error:t}):(r.on("error",n),u(e.responseXML||e.responseText,0,r),r.off("error",n),void(i||r.fire("ready")))}),r},e.exports.kml.parse=u,e.exports.wkt=function(t,e,n){var i=n||L.geoJson();return f(t,function(t,e){return t?i.fire("error",{error:t}):(c(e.responseText,0,i),void i.fire("ready"))}),i},e.exports.wkt.parse=c},{corslite:4,csv2geojson:5,polyline:8,togeojson:9,topojson:10,wellknown:11}],2:[function(t,e,n){},{}],3:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(){g&&d&&(g=!1,d.length?p=d.concat(p):m=-1,p.length&&a())}function a(){if(!g){var t=o(s);g=!0;for(var e=p.length;e;){for(d=p,p=[];++m<e;)d&&d[m].run();m=-1,e=p.length}d=null,g=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,p=[],g=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||g||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],4:[function(t,e,n){void 0!==e&&(e.exports=function(t,e,n){function i(){var t;void 0===a.status||(200<=(t=a.status)&&t<300||304===t)?e.call(a,null,a):e.call(a,a,null)}var r,o=!1;if(void 0===window.XMLHttpRequest)return e(Error("Browser not supported"));void 0===n&&(n=(r=t.match(/^\s*https?:\/\/[^\/]*/))&&r[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:""));var s,a=new window.XMLHttpRequest;return!n||"withCredentials"in a||(a=new window.XDomainRequest,s=e,e=function(){var t,e;o?s.apply(this,arguments):(t=this,e=arguments,setTimeout(function(){s.apply(t,e)},0))}),"onload"in a?a.onload=i:a.onreadystatechange=function(){4===a.readyState&&i()},a.onerror=function(t){e.call(this,t||!0,null),e=function(){}},a.onprogress=function(){},a.ontimeout=function(t){e.call(this,t,null),e=function(){}},a.onabort=function(t){e.call(this,t,null),e=function(){}},a.open("GET",t,!0),a.send(null),o=!0,a})},{}],5:[function(t,e,n){"use strict";function i(t,e){var n,i,r;for(var o in t)(i=o.match(e))&&(!n||i[0].length/o.length>r)&&(r=i[0].length/o.length,n=o);return n}function m(t){return i(t,r)}function v(t){return i(t,o)}function s(t){return"object"==typeof t?Object.keys(t).length:0}function y(r){var o=[];return[",",";","\t","|"].forEach(function(t){var e=_.dsvFormat(t).parse(r);if(1<=e.length){for(var n=s(e[0]),i=0;i<e.length;i++)if(s(e[i])!==n)return;o.push({delimiter:t,arity:Object.keys(e[0]).length})}}),o.length?o.sort(function(t,e){return e.arity-t.arity})[0].delimiter:null}var _=t("d3-dsv"),b=t("sexagesimal"),r=/(Lat)(itude)?/gi,o=/(L)(on|ng)(gitude)?/i;e.exports={isLon:function(t){return!!t.match(o)},isLat:function(t){return!!t.match(r)},guessLatHeader:m,guessLonHeader:v,csv:_.csvParse,tsv:_.tsvParse,dsv:_,auto:function(t){var e,n=y(t);return n?(delete(e=_.dsvFormat(n).parse(t)).columns,e):null},csv2geojson:function(t,e,n){n||(n=e,e={}),e.delimiter=e.delimiter||",";var i=e.latfield||"",r=e.lonfield||"",o=e.crs||"",s=[],a={type:"FeatureCollection",features:s};if(""!==o&&(a.crs={type:"name",properties:{name:o}}),"auto"!==e.delimiter||"string"!=typeof t||(e.delimiter=y(t),e.delimiter)){var u="string"==typeof t?_.dsvFormat(e.delimiter).parse(t):t;if(u.length){var l,c,h,f,d,p,g=[],i=i||m(u[0]),r=r||v(u[0]);if(!i||!r){for(l=0;l<u.length;l++)s.push({type:"Feature",properties:u[l],geometry:null});n(g.length?g:null,a)}else{for(l=0;l<u.length;l++){void 0!==u[l][r]&&void 0!==u[l][i]&&(f=u[l][r],d=u[l][i],(p=b(f,"EW"))&&(f=p),(p=b(d,"NS"))&&(d=p),c=parseFloat(f),h=parseFloat(d),isNaN(c)||isNaN(h)?g.push({message:"A row contained an invalid value for latitude or longitude",row:u[l],index:l}):(e.includeLatLon||(delete u[l][r],delete u[l][i]),s.push({type:"Feature",properties:u[l],geometry:{type:"Point",coordinates:[parseFloat(c),parseFloat(h)]}})))}n(g.length?g:null,a)}}else n(null,a)}else n({type:"Error",message:"Could not autodetect delimiter"})},toLine:function(t){for(var e=t.features,n={type:"Feature",geometry:{type:"LineString",coordinates:[]}},i=0;i<e.length;i++)n.geometry.coordinates.push(e[i].geometry.coordinates);return n.properties=e.reduce(function(t,e){for(var n in e.properties)t[n]||(t[n]=[]),t[n].push(e.properties[n]);return t},{}),{type:"FeatureCollection",features:[n]}},toPolygon:function(t){for(var e=t.features,n={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},i=0;i<e.length;i++)n.geometry.coordinates[0].push(e[i].geometry.coordinates);return n.properties=e.reduce(function(t,e){for(var n in e.properties)t[n]||(t[n]=[]),t[n].push(e.properties[n]);return t},{}),{type:"FeatureCollection",features:[n]}}}},{"d3-dsv":6,sexagesimal:7}],6:[function(t,e,n){var i;i=this,function(t){"use strict";function u(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function e(o){function n(r,t){function e(){if(u<=l)return a;if(o)return o=!1,s;var t=l;if(34===r.charCodeAt(t)){for(var e=t;e++<u;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return l=e+2,13===(n=r.charCodeAt(e+1))?(o=!0,10===r.charCodeAt(e+2)&&++l):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;l<u;){var n,i=1;if(10===(n=r.charCodeAt(l++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(l)&&(++l,++i);else if(n!==f)continue;return r.slice(t,l-i)}return r.slice(t)}for(var n,o,s={},a={},i=[],u=r.length,l=0,c=0;(n=e())!==a;){for(var h=[];n!==s&&n!==a;)h.push(n),n=e();t&&null==(h=t(h,c++))||i.push(h)}return i}function e(t){return t.map(s).join(o)}function s(t){return null==t?"":i.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var i=new RegExp('["'+o+"\n]"),f=o.charCodeAt(0);return{parse:function(t,o){var s,a,e=n(t,function(t,e){return s?s(t,e-1):(a=t,void(s=o?(i=o,r=u(n=t),function(t,e){return i(r(t),e,n)}):u(t)));var n,i,r});return e.columns=a,e},parseRows:n,format:function(t,n){return null==n&&(e=t,i=Object.create(null),r=[],e.forEach(function(t){for(var e in t)e in i||r.push(i[e]=e)}),n=r),[n.map(s).join(o)].concat(t.map(function(e){return n.map(function(t){return s(e[t])}).join(o)})).join("\n");var e,i,r},formatRows:function(t){return t.map(e).join("\n")}}}var n=e(","),i=n.parse,r=n.parseRows,o=n.format,s=n.formatRows,a=e("\t"),l=a.parse,c=a.parseRows,h=a.format,f=a.formatRows;t.dsvFormat=e,t.csvParse=i,t.csvParseRows=r,t.csvFormat=o,t.csvFormatRows=s,t.tsvParse=l,t.tsvParseRows=c,t.tsvFormat=h,t.tsvFormatRows=f,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:i.d3=i.d3||{})},{}],7:[function(t,e,n){function i(t,e){var n=r(t,e);return n.whole+" "+(n.minutes?n.minutes+"' ":"")+(n.seconds?n.seconds+'" ':"")+n.dir}function r(t,e){var n=({lat:["N","S"],lon:["E","W"]}[e]||"")[0<=t?0:1],i=Math.abs(t),r=Math.floor(i),o=60*(i-r),s=Math.floor(o);return{whole:r,minutes:s,seconds:Math.floor(60*(o-s)),dir:n}}function a(t,e,n){if(e=e||"NSEW","string"!=typeof t)return{val:null,regex:n};var i=(n=n||/[\s\,]*([\-|\|\]?[0-9.]+)? *(?:([0-9.]+)['] *)?(?:([0-9.]+)(?:''|"||) *)?([NSEW])?/gi).exec(t);return!i||i[4]&&-1===e.indexOf(i[4])?{val:null,regex:n}:{val:((i[1]?parseFloat(i[1]):0)+(i[2]?parseFloat(i[2])/60:0)+(i[3]?parseFloat(i[3])/3600:0))*(i[4]&&"S"===i[4]||"W"===i[4]?-1:1),regex:n,raw:i[0],dim:i[4]}}e.exports=function(t,e){return a(t,e).val},e.exports.pair=function(t,e){var n=a(t=t.trim(),e);if(null===n.val)return null;var i,r,o,s=a(t,e,n.regex);return null===s.val||n.raw+s.raw!==t?null:n.dim?(i=n.val,r=s.val,"N"===(o=n.dim)||"S"===o?[i,r]:"W"===o||"E"===o?[r,i]:void 0):[n.val,s.val]},e.exports.format=i,e.exports.formatPair=function(t){return i(t.lat,"lat")+" "+i(t.lon,"lon")},e.exports.coordToDMS=r},{}],8:[function(t,e,n){"use strict";function a(t,e){t=Math.round(t*e),(t<<=1)<0&&(t=~t);for(var n="";32<=t;)n+=String.fromCharCode(63+(32|31&t)),t>>=5;return n+String.fromCharCode(t+63)}function i(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice().reverse());return e}var r={decode:function(t,e){for(var n,i=0,r=0,o=0,s=[],a=0,u=0,l=null,c=Math.pow(10,e||5);i<t.length;){for(l=null,u=a=0;u|=(31&(l=t.charCodeAt(i++)-63))<<a,a+=5,32<=l;);for(n=1&u?~(u>>1):u>>1,a=u=0;u|=(31&(l=t.charCodeAt(i++)-63))<<a,a+=5,32<=l;);r+=n,o+=1&u?~(u>>1):u>>1,s.push([r/c,o/c])}return s},encode:function(t,e){if(!t.length)return"";for(var n=Math.pow(10,e||5),i=a(t[0][0],n)+a(t[0][1],n),r=1;r<t.length;r++){var o=t[r],s=t[r-1];i+=a(o[0]-s[0],n),i+=a(o[1]-s[1],n)}return i},fromGeoJSON:function(t,e){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw new Error("Input must be a GeoJSON LineString");return r.encode(i(t.coordinates),e)},toGeoJSON:function(t,e){return{type:"LineString",coordinates:i(r.decode(t,e))}}};"object"==typeof e&&e.exports&&(e.exports=r)},{}],9:[function(i,n,a){(function(t){var e=function(){"use strict";function l(t){if(!t||!t.length)return 0;for(var e=0,n=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e)|0;return n}function N(t,e){return t.getElementsByTagName(e)}function I(t,e){return t.getAttribute(e)}function s(t,e){return parseFloat(I(t,e))}function k(t,e){var n=N(t,e);return n.length?n[0]:null}function c(t){for(var e=0,n=[];e<t.length;e++)n[e]=parseFloat(t[e]);return n}function P(t){return t&&((e=t).normalize&&e.normalize()),t&&t.textContent||"";var e}function A(t){return c(t.replace(n,"").split(","))}function D(t){for(var e=t.replace(r,"").split(o),n=[],i=0;i<e.length;i++)n.push(A(e[i]));return n}function h(t){var e,n=[s(t,"lon"),s(t,"lat")],i=k(t,"ele"),r=k(t,"gpxtpx:hr")||k(t,"hr"),o=k(t,"time");return i&&(e=parseFloat(P(i)),isNaN(e)||n.push(e)),{coordinates:n,time:o?P(o):null,heartRate:r?parseFloat(P(r)):null}}function f(){return{type:"FeatureCollection",features:[]}}function d(t){return void 0!==t.xml?t.xml:e.serializeToString(t)}var e,n=/\s*/g,r=/^\s*|\s*$/g,o=/\s+/;return"undefined"!=typeof XMLSerializer?e=new XMLSerializer:"object"!=typeof a||"object"!=typeof t||t.browser||(e=new(i("xmldom").XMLSerializer)),{kml:function(t){function S(t){var e,n;return"#"===(t=t||"").substr(0,1)&&(t=t.substr(1)),6!==t.length&&3!==t.length||(e=t),8===t.length&&(n=parseInt(t.substr(0,2),16)/255,e="#"+t.substr(2)),[e,isNaN(n)?void 0:n]}function M(t){var e=N(t,"coord"),n=[],i=[];0===e.length&&(e=N(t,"gx:coord"));for(var r=0;r<e.length;r++)n.push(c(P(e[r]).split(" ")));for(var o=N(t,"when"),s=0;s<o.length;s++)i.push(P(o[s]));return{coords:n,times:i}}function e(t){var e,n,i,r,o,s,a,u,l,c,h,f=function t(e){var n,i,r,o,s,a=[],u=[];if(k(e,"MultiGeometry"))return t(k(e,"MultiGeometry"));if(k(e,"MultiTrack"))return t(k(e,"MultiTrack"));if(k(e,"gx:MultiTrack"))return t(k(e,"gx:MultiTrack"));for(r=0;r<T.length;r++)if(i=N(e,T[r]))for(o=0;o<i.length;o++)if(n=i[o],"Point"===T[r])a.push({type:"Point",coordinates:A(P(k(n,"coordinates")))});else if("LineString"===T[r])a.push({type:"LineString",coordinates:D(P(k(n,"coordinates")))});else if("Polygon"===T[r]){for(var l=N(n,"LinearRing"),c=[],h=0;h<l.length;h++)c.push(D(P(k(l[h],"coordinates"))));a.push({type:"Polygon",coordinates:c})}else"Track"!==T[r]&&"gx:Track"!==T[r]||(s=M(n),a.push({type:"LineString",coordinates:s.coords}),s.times.length&&u.push(s.times));return{geoms:a,coordTimes:u}}(t),d={},p=P(k(t,"name")),g=P(k(t,"styleUrl")),m=P(k(t,"description")),v=k(t,"TimeSpan"),y=k(t,"ExtendedData"),_=k(t,"LineStyle"),b=k(t,"PolyStyle");if(!f.geoms.length)return[];if(p&&(d.name=p),"#"!==g[0]&&(g="#"+g),g&&L[g]&&(d.styleUrl=g,d.styleHash=L[g]),m&&(d.description=m),v&&(e=P(k(v,"begin")),n=P(k(v,"end")),d.timespan={begin:e,end:n}),_&&(r=(i=S(P(k(_,"color"))))[0],o=i[1],s=parseFloat(P(k(_,"width"))),r&&(d.stroke=r),isNaN(o)||(d["stroke-opacity"]=o),isNaN(s)||(d["stroke-width"]=s)),b&&(u=(a=S(P(k(b,"color"))))[0],l=a[1],c=P(k(b,"fill")),h=P(k(b,"outline")),u&&(d.fill=u),isNaN(l)||(d["fill-opacity"]=l),c&&(d["fill-opacity"]="1"===c?1:0),h&&(d["stroke-opacity"]="1"===h?1:0)),y){for(var x=N(y,"Data"),w=N(y,"SimpleData"),C=0;C<x.length;C++)d[x[C].getAttribute("name")]=P(k(x[C],"value"));for(C=0;C<w.length;C++)d[w[C].getAttribute("name")]=P(w[C])}f.coordTimes.length&&(d.coordTimes=1===f.coordTimes.length?f.coordTimes[0]:f.coordTimes);var E={type:"Feature",geometry:1===f.geoms.length?f.geoms[0]:{type:"GeometryCollection",geometries:f.geoms},properties:d};return I(t,"id")&&(E.id=I(t,"id")),[E]}for(var n=f(),L={},T=["Polygon","LineString","Point","Track","gx:Track"],i=N(t,"Placemark"),r=N(t,"Style"),o=N(t,"StyleMap"),s=0;s<r.length;s++)L["#"+I(r[s],"id")]=l(d(r[s])).toString(16);for(var a=0;a<o.length;a++)L["#"+I(o[a],"id")]=l(d(o[a])).toString(16);for(var u=0;u<i.length;u++)n.features=n.features.concat(e(i[u]));return n},gpx:function(t){function u(t,e){var n=N(t,e),i=[],r=[],o=[],s=n.length;if(s<2)return{};for(var a=0;a<s;a++){var u=h(n[a]);i.push(u.coordinates),u.time&&r.push(u.time),u.heartRate&&o.push(u.heartRate)}return{line:i,times:r,heartRates:o}}function l(t){for(var e=["name","desc","author","copyright","link","time","keywords"],n={},i=0;i<e.length;i++)n[e[i]]=P(k(t,e[i]));return function(t){var e={};for(var n in t)t[n]&&(e[n]=t[n]);return e}(n)}for(var e,n,i,r=N(t,"trk"),o=N(t,"rte"),s=N(t,"wpt"),a=f(),c=0;c<r.length;c++)(e=function(t){for(var e,n=N(t,"trkseg"),i=[],r=[],o=[],s=0;s<n.length;s++)(e=u(n[s],"trkpt")).line&&i.push(e.line),e.times&&e.times.length&&r.push(e.times),e.heartRates&&e.heartRates.length&&o.push(e.heartRates);if(0!==i.length){var a=l(t);return r.length&&(a.coordTimes=1===i.length?r[0]:r),o.length&&(a.heartRates=1===i.length?o[0]:o),{type:"Feature",properties:a,geometry:{type:1===i.length?"LineString":"MultiLineString",coordinates:1===i.length?i[0]:i}}}}(r[c]))&&a.features.push(e);for(c=0;c<o.length;c++)(e=function(t){var e=u(t,"rtept");if(e.line)return{type:"Feature",properties:l(t),geometry:{type:"LineString",coordinates:e.line}}}(o[c]))&&a.features.push(e);for(c=0;c<s.length;c++)a.features.push((n=s[c],i=void 0,(i=l(n)).sym=P(k(n,"sym")),{type:"Feature",properties:i,geometry:{type:"Point",coordinates:h(n).coordinates}}));return a}}}();void 0!==n&&(n.exports=e)}).call(this,i("_process"))},{_process:3,xmldom:2}],10:[function(t,e,n){var i;i=this,function(t){"use strict";function p(){}function g(t){if(!t)return p;var n,i,r=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+s,t[1]=(i+=t[1])*o+a}}function m(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=1+r:i=r}return n}function n(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:r(t,e)};return null==e.id&&delete n.id,n}function r(t,e){function r(t,e){e.length&&e.pop();for(var n,i=u[t<0?~t:t],r=0,o=i.length;r<o;++r)e.push(n=i[r].slice()),a(n,r);t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,o)}function n(t){return t=t.slice(),a(t,0),t}function i(t){for(var e=[],n=0,i=t.length;n<i;++n)r(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(o)}var a=g(t.transform),u=t.arcs,l={Point:function(t){return n(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(n)},LineString:function(t){return i(t.arcs)},MultiLineString:function(t){return t.arcs.map(i)},Polygon:function(t){return s(t.arcs)},MultiPolygon:function(t){return t.arcs.map(s)}};return function t(e){var n=e.type;return"GeometryCollection"===n?{type:n,geometries:e.geometries.map(t)}:n in l?{type:n,coordinates:l[n](e)}:null}(e)}function f(f,r){function t(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){o[t<0?~t:t]=1}),s.push(i)}}var o={},d={},p={},s=[],a=-1;return r.forEach(function(t,e){var n,i=f.arcs[t<0?~t:t];i.length<3&&!i[1][0]&&!i[1][1]&&(n=r[++a],r[a]=t,r[e]=n)}),r.forEach(function(t){var e,n,i,r,o,s,a,u,l=(i=t,o=f.arcs[i<0?~i:i],s=o[0],f.transform?(r=[0,0],o.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=o[o.length-1],i<0?[r,s]:[s,r]),c=l[0],h=l[1];(e=p[c])?(delete p[e.end],e.push(t),e.end=h,(n=d[h])?(delete d[n.start],a=n===e?e:e.concat(n),d[a.start=e.start]=p[a.end=n.end]=a):d[e.start]=p[e.end]=e):(e=d[h])?(delete d[e.start],e.unshift(t),e.start=c,(n=p[c])?(delete p[n.end],u=n===e?e:n.concat(e),d[u.start=n.start]=p[u.end=e.end]=u):d[e.start]=p[e.end]=e):d[(e=[t]).start=c]=p[e.end=h]=e}),t(p,d),t(d,p),r.forEach(function(t){o[t<0?~t:t]||s.push([t])}),s}function e(t,e,n){function i(t){var e=t<0?~t:t;(u[e]||(u[e]=[])).push({i:t,g:a})}function r(t){t.forEach(i)}function o(t){t.forEach(r)}var s=[];if(1<arguments.length){var a,u=[],l={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};(function t(e){"GeometryCollection"===e.type?e.geometries.forEach(t):e.type in l&&l[(a=e).type](e.arcs)})(e),u.forEach(arguments.length<3?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)})}else for(var c=0,h=t.arcs.length;c<h;++c)s.push(c);return{type:"MultiLineString",arcs:f(t,s)}}function o(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function i(a,t){function e(e){e.forEach(function(t){t.forEach(function(t){(l[t=t<0?~t:t]||(l[t]=[])).push(e)})}),n.push(e)}function u(t){return Math.abs(function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return o/2}(r(a,{type:"Polygon",arcs:[t]}).coordinates[0]))}var l={},n=[],i=[];return t.forEach(function(t){"Polygon"===t.type?e(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(e)}),n.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,i.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){l[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),n.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:i.map(function(t){var e,n=[];if(t.forEach(function(t){t.forEach(function(t){t.forEach(function(t){l[t<0?~t:t].length<2&&n.push(t)})})}),1<(e=(n=f(a,n)).length))for(var i,r,o=1,s=u(n[0]);o<e;++o)(i=u(n[o]))>s&&(r=n[0],n[0]=n[o],n[o]=r,s=i);return n})}}function u(t,e){return t[1][2]-e[1][2]}t.version="1.6.26",t.mesh=function(t){return r(t,e.apply(this,arguments))},t.meshArcs=e,t.merge=function(t){return r(t,i.apply(this,arguments))},t.mergeArcs=i,t.feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return n(e,t)})}:n(e,t)},t.neighbors=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=r[t];e?e.push(n):r[t]=[n]})}function i(t,e){t.forEach(function(t){n(t,e)})}var r={},e=t.map(function(){return[]}),o={LineString:n,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach(function(t){i(t,e)})}};for(var s in t.forEach(function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in o&&o[t.type](t.arcs,n)}),r)for(var a=r[s],u=a.length,l=0;l<u;++l)for(var c=l+1;c<u;++c){var h,f=a[l],d=a[c];(h=e[f])[s=m(h,d)]!==d&&h.splice(s,0,d),(h=e[d])[s=m(h,f)]!==f&&h.splice(s,0,f)}return e},t.presimplify=function(t,l){function c(t){d.remove(t),t[1][2]=l(t),d.push(t)}var e,s,a,h=g(t.transform),f=function(t){if(!t)return p;var r,o,s=t.scale[0],a=t.scale[1],u=t.translate[0],l=t.translate[1];return function(t,e){e||(r=o=0);var n=Math.round((t[0]-u)/s),i=Math.round((t[1]-l)/a);t[0]=n-r,t[1]=i-o,r=n,o=i}}(t.transform),d=(s=[],a=0,(e={}).push=function(t){return i(s[t._=a]=t,a++),a},e.pop=function(){if(!(a<=0)){var t,e=s[0];return 0<--a&&(t=s[a],r(s[t._=0]=t,0)),e}},e.remove=function(t){var e,n=t._;if(s[n]===t)return n!==--a&&(u(e=s[a],t)<0?i:r)(s[e._=n]=e,n),n},e);function i(t,e){for(;0<e;){var n=(e+1>>1)-1,i=s[n];if(0<=u(t,i))break;s[i._=e]=i,s[t._=e=n]=t}}function r(t,e){for(;;){var n=e+1<<1,i=n-1,r=e,o=s[r];if(i<a&&u(s[i],o)<0&&(o=s[r=i]),n<a&&u(s[n],o)<0&&(o=s[r=n]),r===e)break;s[o._=e]=o,s[t._=e=r]=t}}return l=l||o,t.arcs.forEach(function(t){for(var e,n,i=[],r=0,o=0,s=t.length;o<s;++o)n=t[o],h(t[o]=[n[0],n[1],1/0],o);for(o=1,s=t.length-1;o<s;++o)(e=t.slice(o-1,o+2))[1][2]=l(e),i.push(e),d.push(e);for(o=0,s=i.length;o<s;++o)(e=i[o]).previous=i[o-1],e.next=i[o+1];for(;e=d.pop();){var a=e.previous,u=e.next;e[1][2]<r?e[1][2]=r:r=e[1][2],a&&(a.next=u,a[2]=e[2],c(a)),u&&(u.previous=a,u[0]=e[0],c(u))}t.forEach(f)}),t}}("object"==typeof n&&void 0!==e?n:i.topojson=i.topojson||{})},{}],11:[function(t,e,n){function i(t){function o(t){var e=u.substring(c).match(t);return e?(c+=e[0].length,e[0]):null}function s(){o(/^\s*/)}function e(){s();for(var t,e=0,n=[],i=[n],r=n;t=o(/^(\()/)||o(/^(\))/)||o(/^(\,)/)||o(h);){if("("===t)i.push(r),r=[],i[i.length-1].push(r),e++;else if(")"===t){if(0===r.length)return null;if(!(r=i.pop()))return null;if(0===--e)break}else if(","===t)r=[],i[i.length-1].push(r);else{if(t.split(/\s/g).some(isNaN))return null;Array.prototype.push.apply(r,t.split(/\s/g).map(parseFloat))}s()}return 0!==e?null:n}function n(){for(var t,e,n=[];e=o(h)||o(/^(\,)/);)","===e?(n.push(t),t=[]):e.split(/\s/g).some(isNaN)||(t=t||[],Array.prototype.push.apply(t,e.split(/\s/g).map(parseFloat))),s();return t?(n.push(t),n.length?n:null):null}function i(){return function(){if(!o(/^(point)/i))return null;if(s(),!o(/^(\()/))return null;var t=n();return t?(s(),o(/^(\))/)?{type:"Point",coordinates:t[0]}:null):null}()||function(){if(!o(/^(linestring)/i))return null;if(s(),!o(/^(\()/))return null;var t=n();return t&&o(/^(\))/)?{type:"LineString",coordinates:t}:null}()||function(){if(!o(/^(polygon)/i))return null;s();var t=e();return t?{type:"Polygon",coordinates:t}:null}()||function(){if(!o(/^(multipoint)/i))return null;s(),u="MULTIPOINT ("+u.substring(u.indexOf("(")+1,u.length-1).replace(/\(/g,"").replace(/\)/g,"")+")";var t=e();return t?(s(),{type:"MultiPoint",coordinates:t}):null}()||function(){if(!o(/^(multilinestring)/i))return null;s();var t=e();return t?(s(),{type:"MultiLineString",coordinates:t}):null}()||function(){if(!o(/^(multipolygon)/i))return null;s();var t=e();return t?{type:"MultiPolygon",coordinates:t}:null}()||function(){var t,e=[];if(!o(/^(geometrycollection)/i))return null;if(s(),!o(/^(\()/))return null;for(;t=i();)e.push(t),s(),o(/^(\,)/),s();return o(/^(\))/)?{type:"GeometryCollection",geometries:e}:null}()}var r,a=t.split(";"),u=a.pop(),l=(a.shift()||"").split("=").pop(),c=0;return(r=i())&&l.match(/\d+/)&&(r.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+l}}),r}e.exports=i,e.exports.parse=i,e.exports.stringify=function t(e){function n(t){return t.join(" ")}function i(t){return t.map(n).join(", ")}function r(t){return t.map(i).map(o).join(", ")}function o(t){return"("+t+")"}switch("Feature"===e.type&&(e=e.geometry),e.type){case"Point":return"POINT ("+n(e.coordinates)+")";case"LineString":return"LINESTRING ("+i(e.coordinates)+")";case"Polygon":return"POLYGON ("+r(e.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+i(e.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+e.coordinates.map(r).map(o).join(", ")+")";case"MultiLineString":return"MULTILINESTRING ("+r(e.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+e.geometries.map(t).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}};var r=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,h=new RegExp("^"+r.source+"(\\s"+r.source+"){1,}")},{}]},{},[1])(1)}),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).turf=t()}(function(){return function o(s,a,u){function l(e,t){if(!a[e]){if(!s[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[e]={exports:{}};s[e][0].call(r.exports,function(t){return l(s[e][1][t]||t)},r,r.exports,o,s,a,u)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){e.exports={helpers:t("@turf/helpers"),distance:t("@turf/distance"),lineDistance:t("@turf/line-distance"),simplify:t("@turf/simplify"),buffer:t("@turf/buffer"),intersect:t("@turf/intersect"),within:t("@turf/within")}},{"@turf/buffer":3,"@turf/distance":4,"@turf/helpers":6,"@turf/intersect":8,"@turf/line-distance":10,"@turf/simplify":12,"@turf/within":13}],2:[function(t,e,n){e.exports=function(t){if(!t||!t.type)return null;var e=i[t.type];if(!e)return null;{if("geometry"===e)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if("feature"===e)return{type:"FeatureCollection",features:[t]};if("featurecollection"===e)return t}};var i={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},{}],3:[function(t,e,n){var s=t("@turf/helpers"),a=s.featureCollection,u=t("jsts"),l=t("@mapbox/geojson-normalize");e.exports=function(t,e,n){var o=s.distanceToDegrees(e,n),i=l(t),r=l(a(i.features.map(function(t){return e=t,n=o,i=(new u.io.GeoJSONReader).read(e.geometry).buffer(n),r=new u.io.GeoJSONWriter,{type:"Feature",geometry:i=r.write(i),properties:{}};var e,n,i,r})));return 1<r.features.length?r:1===r.features.length?r.features[0]:void 0}},{"@mapbox/geojson-normalize":2,"@turf/helpers":6,jsts:14}],4:[function(t,e,n){var h=t("@turf/invariant").getCoord,f=t("@turf/helpers").radiansToDistance;e.exports=function(t,e,n){var i=Math.PI/180,r=h(t),o=h(e),s=i*(o[1]-r[1]),a=i*(o[0]-r[0]),u=i*r[1],l=i*o[1],c=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(l);return f(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),n)}},{"@turf/helpers":6,"@turf/invariant":9}],5:[function(t,e,n){var l=t("@turf/meta").featureEach,c=t("@turf/meta").geomEach,h=t("@turf/invariant").getCoords,i=t("@turf/helpers"),f=i.point,d=i.lineString,p=i.polygon,g=i.featureCollection;function m(t){var n,e,i,r,o,s,a,u;switch(t.geometry?t.geometry.type:t.type){case"MultiPoint":return u=[],h(a=t).forEach(function(t){u.push(f(t,a.properties))}),g(u);case"MultiPolygon":return s=[],h(o=t).forEach(function(t){s.push(p(t,o.properties))}),g(s);case"MultiLineString":return r=[],h(i=t).forEach(function(t){r.push(d(t,i.properties))}),g(r);case"FeatureCollection":return e=[],l(t,function(t){switch(t.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":l(m(t),function(t){e.push(t)});break;default:e.push(t)}}),g(e);case"GeometryCollection":return n=[],c(t,function(t){switch(t.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":l(m(t),function(t){n.push(t)});break;default:var e={type:"Feature",properties:{},geometry:t};n.push(e)}}),g(n);case"Point":case"LineString":case"Polygon":return g([t])}}e.exports=m},{"@turf/helpers":6,"@turf/invariant":9,"@turf/meta":11}],6:[function(t,e,n){function o(t,e){if(!t)throw new Error("No geometry passed");return{type:"Feature",properties:e||{},geometry:t}}e.exports.feature=o,e.exports.point=function(t,e){if(!t)throw new Error("No coordinates passed");if(void 0===t.length)throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if("number"!=typeof t[0]||"number"!=typeof t[1])throw new Error("Coordinates must numbers");return o({type:"Point",coordinates:t},e)},e.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var n=0;n<t.length;n++){var i=t[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var r=0;r<i[i.length-1].length;r++)if(i[i.length-1][r]!==i[0][r])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:t},e)},e.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return o({type:"LineString",coordinates:t},e)},e.exports.featureCollection=function(t){if(!t)throw new Error("No features passed");return{type:"FeatureCollection",features:t}},e.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return o({type:"MultiLineString",coordinates:t},e)},e.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return o({type:"MultiPoint",coordinates:t},e)},e.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return o({type:"MultiPolygon",coordinates:t},e)},e.exports.geometryCollection=function(t,e){if(!t)throw new Error("No geometries passed");return o({type:"GeometryCollection",geometries:t},e)};var i={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373,feet:20908792.65};e.exports.radiansToDistance=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},e.exports.distanceToRadians=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},e.exports.distanceToDegrees=function(t,e){var n=i[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},{}],7:[function(t,e,n){var u=t("@turf/invariant");function l(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(i=!i)}return i}e.exports=function(t,e){var n=u.getCoord(t),i=e.geometry.coordinates;"Polygon"===e.geometry.type&&(i=[i]);for(var r=0,o=!1;r<i.length&&!o;r++)if(l(n,i[r][0])){for(var s=!1,a=1;a<i[r].length&&!s;)l(n,i[r][a],!0)&&(s=!0),a++;s||(o=!0)}return o}},{"@turf/invariant":9}],8:[function(t,e,n){var u=t("jsts");e.exports=function(t,e){var n="Feature"===t.type?t.geometry:t,i="Feature"===e.type?e.geometry:e,r=new u.io.GeoJSONReader,o=r.read(JSON.stringify(n)),s=r.read(JSON.stringify(i)),a=o.intersection(s);if(!a.isEmpty())return{type:"Feature",properties:{},geometry:(new u.io.GeoJSONWriter).write(a)}}},{jsts:14}],9:[function(t,e,n){function i(t){if(!t)throw new Error("No obj passed");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return function t(e){if(1<e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}(e),e;throw new Error("No valid coordinates")}e.exports.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.exports.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}},e.exports.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.exports.getCoord=function(t){if(!t)throw new Error("No obj passed");var e=i(t);if(1<e.length&&"number"==typeof e[0]&&"number"==typeof e[1])return e;throw new Error("Coordinate is not a valid Point")},e.exports.getCoords=i},{}],10:[function(t,e,n){var s=t("@turf/distance"),a=t("@turf/meta").featureEach,u=t("@turf/meta").coordReduce,l=t("@turf/meta").geomEach,c=t("@turf/flatten"),h=t("@turf/helpers").lineString,f=t("@turf/helpers").point;e.exports=function(t,o){if(!t)throw new Error("geojson is required");return l(t,function(t){if("Point"===t.type)throw new Error("geojson cannot be a Point");if("MultiPoint"===t.type)throw new Error("geojson cannot be a MultiPoint")}),n=function(t,e){var n=e.geometry.coordinates,i=f(n[0]),r=f(n[1]);return t+s(i,r,o)},r=i=0,function(t,r){var o=0;a(t,function(t){a(c(t),function(i){u(i,function(t,e){var n=h([t,e],i.properties);return r(n,o),o++,e})})})}(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)}),r;var n,i,r}},{"@turf/distance":4,"@turf/flatten":5,"@turf/helpers":6,"@turf/meta":11}],11:[function(t,e,n){function y(t,e,n){for(var i,r,o,s,a,u,l,c,h,f=0,d=0,p="FeatureCollection"===t.type,g="Feature"===t.type,m=p?t.features.length:1,v=0;v<m;v++)for(u=(h="GeometryCollection"===(c=p?t.features[v].geometry:g?t.geometry:t).type)?c.geometries.length:1,o=0;o<u;o++)if(l=(a=h?c.geometries[o]:c).coordinates,f=!n||"Polygon"!==a.type&&"MultiPolygon"!==a.type?0:1,"Point"===a.type)e(l,d),d++;else if("LineString"===a.type||"MultiPoint"===a.type)for(i=0;i<l.length;i++)e(l[i],d),d++;else if("Polygon"===a.type||"MultiLineString"===a.type)for(i=0;i<l.length;i++)for(r=0;r<l[i].length-f;r++)e(l[i][r],d),d++;else if("MultiPolygon"===a.type)for(i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)for(s=0;s<l[i][r].length-f;s++)e(l[i][r][s],d),d++;else{if("GeometryCollection"!==a.type)throw new Error("Unknown Geometry Type");for(i=0;i<a.geometries.length;i++)y(a.geometries[i],e,n)}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function a(t,e){for(var n,i,r,o,s,a,u=0,l="FeatureCollection"===t.type,c="Feature"===t.type,h=l?t.features.length:1,f=0;f<h;f++)for(o=(a="GeometryCollection"===(s=l?t.features[f].geometry:c?t.geometry:t).type)?s.geometries.length:1,i=0;i<o;i++)if("Point"===(r=a?s.geometries[i]:s).type||"LineString"===r.type||"MultiPoint"===r.type||"Polygon"===r.type||"MultiLineString"===r.type||"MultiPolygon"===r.type)e(r,u),u++;else{if("GeometryCollection"!==r.type)throw new Error("Unknown Geometry Type");for(n=0;n<r.geometries.length;n++)e(r.geometries[n],u),u++}}e.exports.coordEach=y,e.exports.coordReduce=function(t,n,i,e){var r=i;return y(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)},e),r},e.exports.propEach=o,e.exports.propReduce=function(t,n,i){var r=i;return o(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)}),r},e.exports.featureEach=s,e.exports.featureReduce=function(t,n,i){var r=i;return s(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)}),r},e.exports.coordAll=function(t){var e=[];return y(t,function(t){e.push(t)}),e},e.exports.geomEach=a,e.exports.geomReduce=function(t,n,i){var r=i;return a(t,function(t,e){r=0===e&&void 0===i?t:n(r,t,e)}),r}},{}],12:[function(t,e,n){var s=t("simplify-js"),r=["LineString","MultiLineString","Polygon","MultiPolygon"];function o(t,e,n){return"LineString"===t.geometry.type?{type:"LineString",coordinates:i(t.geometry.coordinates,e,n)}:"MultiLineString"===t.geometry.type?{type:"MultiLineString",coordinates:t.geometry.coordinates.map(function(t){return i(t,e,n)})}:"Polygon"===t.geometry.type?{type:"Polygon",coordinates:u(t.geometry.coordinates,e,n)}:"MultiPolygon"===t.geometry.type?{type:"MultiPolygon",coordinates:t.geometry.coordinates.map(function(t){return u(t,e,n)})}:t}function a(t,e){return{type:"Feature",geometry:t,properties:e}}function i(t,e,n){return s(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function u(t,r,o){return t.map(function(t){var e=t.map(function(t){return{x:t[0],y:t[1]}});if(e.length<4)throw new Error("Invalid polygon");for(var n,i=s(e,r,o).map(function(t){return[t.x,t.y]});(n=i).length<3||3===n.length&&n[2][0]===n[0][0]&&n[2][1]===n[0][1];)i=s(e,r-=.01*r,o).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}e.exports=function(t,n,i){return"Feature"===t.type?a(o(t,n,i),t.properties):"FeatureCollection"===t.type?{type:"FeatureCollection",features:t.features.map(function(t){var e=o(t,n,i);return-1<r.indexOf(e.type)?a(e,t.properties):e})}:"GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(function(t){return-1<r.indexOf(t.type)?o({type:"Feature",geometry:t},n,i):t})}:t}},{"simplify-js":15}],13:[function(t,e,n){var o=t("@turf/inside"),s=t("@turf/helpers").featureCollection;e.exports=function(t,e){for(var n=s([]),i=0;i<e.features.length;i++)for(var r=0;r<t.features.length;r++){o(t.features[r],e.features[i])&&n.features.push(t.features[r])}return n}},{"@turf/helpers":6,"@turf/inside":7}],14:[function(t,e,n){var i;i=this,function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(){}function h(){}function y(){}function n(){}function r(){}function o(){}function s(){}function _(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function u(){0===arguments.length?_.call(this):1===arguments.length&&_.call(this,arguments[0])}function f(){}function b(){var t,e,n,i,r,o;this.x=null,this.y=null,this.z=null,0===arguments.length?b.call(this,0,0):1===arguments.length?(t=arguments[0],b.call(this,t.x,t.y,t.z)):2===arguments.length?(e=arguments[0],n=arguments[1],b.call(this,e,n,b.NULL_ORDINATE)):3===arguments.length&&(i=arguments[0],r=arguments[1],o=arguments[2],this.x=i,this.y=r,this.z=o)}function l(){if(this.dimensionsToTest=2,0===arguments.length)l.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new h;this.dimensionsToTest=t}}function c(){}function d(){}function p(t){this.message=t||""}function m(){}function g(t){this.message=t||""}function v(t){this.message=t||""}function x(){this.array_=[],arguments[0]instanceof d&&this.addAll(arguments[0])}function w(){var t,e,n;x.apply(this),0===arguments.length||(1===arguments.length?(t=arguments[0],this.ensureCapacity(t.length),this.add(t,!0)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.ensureCapacity(e.length),this.add(e,n)))}function C(){var t,e,n,i,r,o,s,a;this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length?this.init():1===arguments.length?arguments[0]instanceof b?(t=arguments[0],this.init(t.x,t.x,t.y,t.y)):arguments[0]instanceof C&&(e=arguments[0],this.init(e)):2===arguments.length?(n=arguments[0],i=arguments[1],this.init(n.x,i.x,n.y,i.y)):4===arguments.length&&(r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],this.init(r,o,s,a))}function E(){}function S(){E.call(this,"Projective point not representable on the Cartesian plane.")}function M(){}function L(t,e){return t.interfaces_&&-1<t.interfaces_().indexOf(e)}function T(){}function N(t){this.str=t}function I(t){this.value=t}function k(){}function P(){var t,e,n,i,r;this.hi=0,(this.lo=0)===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]?(t=arguments[0],this.init(t)):arguments[0]instanceof P?(e=arguments[0],this.init(e)):"string"==typeof arguments[0]&&(n=arguments[0],P.call(this,P.parse(n))):2===arguments.length&&(i=arguments[0],r=arguments[1],this.init(i,r))}function A(){}function D(){}function O(){}function R(){var t,e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_;this.x=null,this.y=null,this.w=null,0===arguments.length?(this.x=0,this.y=0,this.w=1):1===arguments.length?(t=arguments[0],this.x=t.x,this.y=t.y,this.w=1):2===arguments.length?"number"==typeof arguments[0]&&"number"==typeof arguments[1]?(e=arguments[0],n=arguments[1],this.x=e,this.y=n,this.w=1):arguments[0]instanceof R&&arguments[1]instanceof R?(i=arguments[0],r=arguments[1],this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y):arguments[0]instanceof b&&arguments[1]instanceof b&&(o=arguments[0],s=arguments[1],this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y):3===arguments.length?(a=arguments[0],u=arguments[1],l=arguments[2],this.x=a,this.y=u,this.w=l):4===arguments.length&&(h=arguments[1],f=arguments[2],d=arguments[3],p=(c=arguments[0]).y-h.y,g=h.x-c.x,m=c.x*h.y-h.x*c.y,v=f.y-d.y,y=d.x-f.x,_=f.x*d.y-d.x*f.y,this.x=g*_-y*m,this.y=v*m-p*_,this.w=p*y-v*g)}function $(){}function F(){}function z(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function B(){}function j(){}function q(){}function H(){}function V(){}function U(){}function G(){}function W(){}function Y(){}function X(){}function Z(){}function K(){}function J(){this.array_=[],arguments[0]instanceof d&&this.addAll(arguments[0])}function Q(t){return null==t?Fo:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function it(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function ot(){}function st(){}function at(){this.array_=[],arguments[0]instanceof d&&this.addAll(arguments[0])}function ut(){}function lt(){}function ct(){}function ht(){}function ft(){this.geometries=null;var t=arguments[0];if(z.call(this,arguments[1]),null===t&&(t=[]),z.hasNullElements(t))throw new h;this.geometries=t}function dt(){ft.call(this,arguments[0],arguments[1])}function pt(){var t,e,n;this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length?(t=arguments[0],pt.call(this,t,j.MOD2_BOUNDARY_RULE)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n)}function gt(){this.count=null}function mt(){}function vt(){}function yt(){}function _t(){}function bt(){}function xt(){}function wt(){}function Ct(){this.points=null;var t=arguments[0];z.call(this,arguments[1]),this.init(t)}function Et(){}function St(){this.coordinates=null;var t=arguments[0];z.call(this,arguments[1]),this.init(t)}function Mt(){}function Lt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1];if(z.call(this,arguments[2]),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),z.hasNullElements(e))throw new h;if(t.isEmpty()&&z.hasNonEmptyElements(e))throw new h;this.shell=t,this.holes=e}function Tt(){ft.call(this,arguments[0],arguments[1])}function Nt(){var t,e;arguments[0]instanceof b&&arguments[1]instanceof Ht?(t=arguments[0],e=arguments[1],Nt.call(this,e.getCoordinateSequenceFactory().create(t),e)):L(arguments[0],D)&&arguments[1]instanceof Ht&&(Ct.call(this,arguments[0],arguments[1]),this.validateConstruction())}function It(){ft.call(this,arguments[0],arguments[1])}function kt(){var t;this.factory=null,this.isUserDataCopied=!1,0===arguments.length||1===arguments.length&&(t=arguments[0],this.factory=t)}function Pt(){}function At(){}function Dt(){}function Ot(){}function Rt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Rt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)this.coordinates[n]=new b}else if(L(arguments[0],D)){var i=arguments[0];if(null===i)return this.coordinates=new Array(0).fill(null),null;this.dimension=i.getDimension(),this.coordinates=new Array(i.size()).fill(null);for(n=0;n<this.coordinates.length;n++)this.coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this.coordinates=r,this.dimension=o,null===r&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this.coordinates=new Array(s).fill(null),this.dimension=a;for(n=0;n<s;n++)this.coordinates[n]=new b}}function $t(){}function Ft(n,i,r){var o=[0],s=!1;return n.push(o),{next:function(){var t,e=o[0];return!s&&e<i.length?(t=r?[i[e],r[e]]:i[e],o[0]++):(s=!0,n.splice(n.indexOf(o),1)),{done:s,value:t}}}}function zt(){return this._values.length}function Bt(){this.map_=new Uo}function jt(){var t,e,n;this.modelType=null,this.scale=null,0===arguments.length?this.modelType=jt.FLOATING:1===arguments.length&&(arguments[0]instanceof qt?(t=arguments[0],(this.modelType=t)===jt.FIXED&&this.setScale(1)):"number"==typeof arguments[0]?(e=arguments[0],this.modelType=jt.FIXED,this.setScale(e)):arguments[0]instanceof jt&&(n=arguments[0],this.modelType=n.modelType,this.scale=n.scale))}function qt(){this.name=null;var t=arguments[0];this.name=t,qt.nameToTypeMap.put(t,this)}function Ht(){var t,e,n,i,r,o,s;this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length?Ht.call(this,new jt,0):1===arguments.length?L(arguments[0],$)?(t=arguments[0],Ht.call(this,new jt,0,t)):arguments[0]instanceof jt&&(e=arguments[0],Ht.call(this,e,0,Ht.getDefaultCoordinateSequenceFactory())):2===arguments.length?(n=arguments[0],i=arguments[1],Ht.call(this,n,i,Ht.getDefaultCoordinateSequenceFactory())):3===arguments.length&&(r=arguments[0],o=arguments[1],s=arguments[2],this.precisionModel=r,this.coordinateSequenceFactory=s,this.SRID=o)}function Vt(t){this.geometryFactory=t||new Ht}function Ut(t){this.parser=new Vt(t)}function Gt(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new b,this.intPt[1]=new b,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function Wt(){Gt.apply(this)}function Yt(){}function Xt(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function Zt(){}function Kt(){var t,e,n,i,r,o,s;this.p0=null,this.p1=null,0===arguments.length?Kt.call(this,new b,new b):1===arguments.length?(t=arguments[0],Kt.call(this,t.p0,t.p1)):2===arguments.length?(e=arguments[0],n=arguments[1],this.p0=e,this.p1=n):4===arguments.length&&(i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],Kt.call(this,new b(i,r),new b(o,s)))}function Jt(){var t,e;this.matrix=null,0===arguments.length?(this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(lt.FALSE)):1===arguments.length&&("string"==typeof arguments[0]?(t=arguments[0],Jt.call(this),this.set(t)):arguments[0]instanceof Jt&&(e=arguments[0],Jt.call(this),this.matrix[M.INTERIOR][M.INTERIOR]=e.matrix[M.INTERIOR][M.INTERIOR],this.matrix[M.INTERIOR][M.BOUNDARY]=e.matrix[M.INTERIOR][M.BOUNDARY],this.matrix[M.INTERIOR][M.EXTERIOR]=e.matrix[M.INTERIOR][M.EXTERIOR],this.matrix[M.BOUNDARY][M.INTERIOR]=e.matrix[M.BOUNDARY][M.INTERIOR],this.matrix[M.BOUNDARY][M.BOUNDARY]=e.matrix[M.BOUNDARY][M.BOUNDARY],this.matrix[M.BOUNDARY][M.EXTERIOR]=e.matrix[M.BOUNDARY][M.EXTERIOR],this.matrix[M.EXTERIOR][M.INTERIOR]=e.matrix[M.EXTERIOR][M.INTERIOR],this.matrix[M.EXTERIOR][M.BOUNDARY]=e.matrix[M.EXTERIOR][M.BOUNDARY],this.matrix[M.EXTERIOR][M.EXTERIOR]=e.matrix[M.EXTERIOR][M.EXTERIOR]))}function Qt(){this.areaBasePt=null,this.triangleCent3=new b,this.areasum2=0,this.cg3=new b,this.lineCentSum=new b,this.totalLength=0,this.ptCount=0,this.ptCentSum=new b;var t=arguments[0];this.areaBasePt=null,this.add(t)}function te(t){this.message=t||""}function ee(){this.array_=[]}function ne(){this.treeSet=new at,this.list=new x}function ie(){var t,e,n;this.geomFactory=null,this.inputPts=null,1===arguments.length?(t=arguments[0],ie.call(this,ie.extractCoordinates(t),t.getFactory())):2===arguments.length&&(e=arguments[0],n=arguments[1],this.inputPts=ne.filterCoordinates(e),this.geomFactory=n)}function re(){this.origin=null;var t=arguments[0];this.origin=t}function oe(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function se(){var t,e,n,i;this.snapTolerance=0,this.srcPts=null,this.seg=new Kt,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ct&&"number"==typeof arguments[1]?(t=arguments[0],e=arguments[1],se.call(this,t.getCoordinates(),e)):arguments[0]instanceof Array&&"number"==typeof arguments[1]&&(n=arguments[0],i=arguments[1],this.srcPts=n,this._isClosed=se.isClosed(n),this.snapTolerance=i)}function ae(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function ue(){var t,e,n,i,r;oe.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length?(t=arguments[0],e=arguments[1],this.snapTolerance=t,this.snapPts=e):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.snapTolerance=n,this.snapPts=i,this.isSelfSnap=r)}function le(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function ce(){this.commonCoord=null,this.ccFilter=new he}function he(){this.commonBitsX=new le,this.commonBitsY=new le}function fe(){this.trans=null;var t=arguments[0];this.trans=t}function de(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function pe(){if(this.boundaryRule=j.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0!==arguments.length&&1===arguments.length){var t=arguments[0];if(null===t)throw new h;this.boundaryRule=t}}function ge(){}function me(){}function ve(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function ye(){}function _e(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function be(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function xe(){}function we(){}function Ce(){var t;this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length||1===arguments.length&&(t=arguments[0],this.level=t)}function Ee(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function Se(){var t;this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length?Se.call(this,Se.DEFAULT_NODE_CAPACITY):1===arguments.length&&(f.isTrue(1<(t=arguments[0]),"Node capacity must be greater than 1"),this.nodeCapacity=t)}function Me(){}function Le(){var t;0===arguments.length?Le.call(this,Le.DEFAULT_NODE_CAPACITY):1===arguments.length&&(t=arguments[0],Se.call(this,t))}function Te(){Ce.call(this,arguments[0])}function Ne(){}function Ie(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.segString=t,this.coord=new b(e),this.segmentIndex=n,this.segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function ke(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function Pe(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null;var t=arguments[this.currSegIndex=0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function Ae(){}function De(){this.nodeList=new ke(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Oe(){this.tempEnv1=new C,this.tempEnv2=new C,this.overlapSeg1=new Kt,this.overlapSeg2=new Kt}function Re(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=i}function $e(){}function Fe(){}function ze(){}function Be(){var t;this.segInt=null,0===arguments.length||1===arguments.length&&(t=arguments[0],this.setSegmentIntersector(t))}function je(){this.monoChains=new x,this.index=new Le,this.idCounter=0,this.nodedSegStrings=null,(this.nOverlaps=0)===arguments.length||1===arguments.length&&Be.call(this,arguments[0])}function qe(){Oe.apply(this),this.si=null;var t=arguments[0];this.si=t}function He(){var t,e;this.pt=null,1===arguments.length?_.call(this,arguments[0]):2===arguments.length&&(t=arguments[0],e=arguments[1],_.call(this,He.msgWithCoord(t,e)),this.name="TopologyException",this.pt=new b(e))}function Ve(){}function Ue(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function Ge(){this.li=new Wt,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function We(){this.nv=null;var t=arguments[0];this.nv=new Ge(We.toSegmentStrings(t))}function Ye(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function Xe(){}function Ze(){var t,e,n;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var i=arguments[0];this.init(i.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[Xe.ON]=r}else if(arguments[0]instanceof Ze){var o=arguments[0];if(this.init(o.location.length),null!==o)for(var s=0;s<this.location.length;s++)this.location[s]=o.location[s]}}else 3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this.init(3),this.location[Xe.ON]=t,this.location[Xe.LEFT]=e,this.location[Xe.RIGHT]=n)}function Ke(){var t,e,n,i,r,o,s,a,u,l,c;this.elt=new Array(2).fill(null),1===arguments.length?Number.isInteger(arguments[0])?(t=arguments[0],this.elt[0]=new Ze(t),this.elt[1]=new Ze(t)):arguments[0]instanceof Ke&&(e=arguments[0],this.elt[0]=new Ze(e.elt[0]),this.elt[1]=new Ze(e.elt[1])):2===arguments.length?(n=arguments[0],i=arguments[1],this.elt[0]=new Ze(M.NONE),this.elt[1]=new Ze(M.NONE),this.elt[n].setLocation(i)):3===arguments.length?(r=arguments[0],o=arguments[1],s=arguments[2],this.elt[0]=new Ze(r,o,s),this.elt[1]=new Ze(r,o,s)):4===arguments.length&&(a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3],this.elt[0]=new Ze(M.NONE,M.NONE,M.NONE),this.elt[1]=new Ze(M.NONE,M.NONE,M.NONE),this.elt[a].setLocations(u,l,c))}function Je(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new Ke(M.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function Qe(){Je.call(this,arguments[0],arguments[1])}function tn(){Je.call(this,arguments[0],arguments[1])}function en(){var t;this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(t=arguments[0],this.label=t)}function nn(){en.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new Ke(0,M.NONE)}function rn(){this.nodeMap=new rt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function on(){var t,e,n,i,r,o,s,a;this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length?(t=arguments[0],this.edge=t):3===arguments.length?(e=arguments[0],n=arguments[1],i=arguments[2],on.call(this,e,n,i,null)):4===arguments.length&&(r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],on.call(this,r),this.init(o,s),this.label=a)}function sn(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t,e=arguments[0],n=arguments[1];on.call(this,e),(this._isForward=n)?this.init(e.getCoordinate(0),e.getCoordinate(1)):(t=e.getNumPoints()-1,this.init(e.getCoordinate(t),e.getCoordinate(t-1))),this.computeDirectedLabel()}function an(){}function un(){var t;this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length?this.nodes=new rn(new an):1===arguments.length&&(t=arguments[0],this.nodes=new rn(t))}function ln(){this.geometryFactory=null,this.shellList=new x;var t=arguments[0];this.geometryFactory=t}function cn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function hn(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var t=arguments[0],e=arguments[1];this.op=t,this.geometryFactory=e}function fn(){}function dn(){this.geom=null;var t=arguments[0];this.geom=t}function pn(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[M.NONE,M.NONE]}function gn(){pn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function mn(){an.apply(this)}function vn(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function yn(){var t,e,n,i,r;this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length?(t=arguments[0],e=arguments[1],this.eventType=yn.DELETE,this.xValue=t,this.insertEvent=e):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.eventType=yn.INSERT,this.label=n,this.xValue=i,this.obj=r)}function _n(){}function bn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function xn(){_n.apply(this),this.events=new x,this.nOverlaps=null}function wn(){this.min=y.POSITIVE_INFINITY,this.max=y.NEGATIVE_INFINITY}function Cn(){}function En(){wn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function Sn(){wn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function Mn(){this.leaves=new x,this.root=null,this.level=0}function Ln(){var t,e,n;this.lines=null,this.isForcedToLineString=!1,1===arguments.length?(t=arguments[0],this.lines=t):2===arguments.length&&(e=arguments[0],n=arguments[1],this.lines=e,this.isForcedToLineString=n)}function Tn(){this.items=new x}function Nn(){this.index=null;var t=arguments[0];if(!L(t,Mt))throw new h;this.index=new kn(t)}function In(){this.counter=null;var t=arguments[0];this.counter=t}function kn(){this.index=new Mn;var t=arguments[0];this.init(t)}function Pn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new b(t),this.segmentIndex=e,this.dist=n}function An(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function Dn(){}function On(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new C,this.env2=new C;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Dn;this.startIndex=e.getChainStartIndices(this.pts)}function Rn(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this.depth[t][e]=Rn.NULL_VALUE}function $n(){var t,e,n;en.apply(this),this.pts=null,this.env=null,this.eiList=new An(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Rn,this.depthDelta=0,1===arguments.length?(t=arguments[0],$n.call(this,t,null)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.pts=e,this.label=n)}function Fn(){var t,e,n,i,r;un.apply(this),this.parentGeom=null,this.lineEdgeMap=new Bt,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new pe,2===arguments.length?(t=arguments[0],e=arguments[1],Fn.call(this,t,e,j.OGC_SFS_BOUNDARY_RULE)):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.argIndex=n,this.parentGeom=i,this.boundaryNodeRule=r,null!==i&&this.add(i))}function zn(){var t,e,n,i,r,o;this.li=new Wt,this.resultPrecisionModel=null,this.arg=null,1===arguments.length?(t=arguments[0],this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Fn(0,t)):2===arguments.length?(e=arguments[0],n=arguments[1],zn.call(this,e,n,j.OGC_SFS_BOUNDARY_RULE)):3===arguments.length&&(r=arguments[1],o=arguments[2],0<=(i=arguments[0]).getPrecisionModel().compareTo(r.getPrecisionModel())?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Fn(0,i,o),this.arg[1]=new Fn(1,r,o))}function Bn(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=Bn.orientation(t)}function jn(){this.edges=new x,this.ocaMap=new rt}function qn(){this.ptLocator=new pe,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new jn,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var t=arguments[0],e=arguments[1];zn.call(this,t,e),this.graph=new un(new mn),this.geomFact=t.getFactory()}function Hn(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function Vn(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function Un(){this.factory=null,this.interiorPoint=null;var t=arguments[this.maxWidth=0];this.factory=t.getFactory(),this.add(t)}function Gn(){this.poly=null,this.centreY=null,this.hiY=y.MAX_VALUE,this.loY=-y.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=Un.avg(this.loY,this.hiY)}function Wn(){this.centroid=null,this.minDistance=y.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function Yn(){this.centroid=null,this.minDistance=y.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function Xn(){this.tempEnv1=new C,this.selectedSegment=new Kt}function Zn(){this.items=new x,this.subnode=[null,null]}function Kn(){var t,e,n;this.min=null,this.max=null,0===arguments.length?(this.min=0,this.max=0):1===arguments.length?(t=arguments[0],this.init(t.min,t.max)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.init(e,n))}function Jn(){}function Qn(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function ti(){Zn.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function ei(){}function ni(){Zn.apply(this)}function ii(){this.root=null,this.minExtent=1,this.root=new ni}function ri(){}function oi(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new Kn;var t=arguments[0];this.ring=t,this.buildIndex()}function si(){Xn.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function ai(){}function ui(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function li(){this.input=null,this.extremalPts=null,this.centre=null;var t=arguments[this.radius=0];this.input=t}function ci(){var t,e,n;this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new Kt,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length?(t=arguments[0],ci.call(this,t,!1)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.inputGeom=e,this.isConvex=n)}function hi(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function fi(){oe.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function di(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function pi(){this._isMarked=!1,di.call(this,arguments[0])}function gi(){this.vertexMap=new Bt}function mi(){this._isStart=!1,pi.call(this,arguments[0])}function vi(){gi.apply(this)}function yi(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new ee,this.ringStartEdge=null,this.graph=new vi}function _i(){this.items=new x,this.subnode=new Array(4).fill(null)}function bi(){this.pt=new b,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function xi(){_i.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function wi(){_i.apply(this)}function Ci(){this.root=null,this.minExtent=1,this.root=new wi}function Ei(t){this.geometryFactory=t||new Ht}function Si(t){this.geometryFactory=t||new Ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ei(this.geometryFactory)}function Mi(){this.parser=new Ei(this.geometryFactory)}function Li(t){this.geometryFactory=t||new Ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Vt(this.geometryFactory)}function Ti(t){return[t.x,t.y]}function Ni(t,e){this.geometryFactory=t||new Ht,this.ol=e||"undefined"!=typeof ol&&ol}function Ii(){var t,e,n,i;this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length?(t=arguments[0],e=arguments[1],Ii.call(this,t,e,0,0)):4===arguments.length&&(n=arguments[0],i=arguments[1],this.noder=n,this.scaleFactor=i,this.isScaled=!this.isIntegerPrecision())}function ki(){var t,e,n;this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length?(t=arguments[0],this.inputGeom=t):2===arguments.length&&(e=arguments[0],n=arguments[1],this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2))}function Pi(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function Ai(){var t,e,n,i,r,o,s;this.quadrantSegments=Ai.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Ai.CAP_ROUND,this.joinStyle=Ai.JOIN_ROUND,this.mitreLimit=Ai.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Ai.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length||(1===arguments.length?(t=arguments[0],this.setQuadrantSegments(t)):2===arguments.length?(e=arguments[0],n=arguments[1],this.setQuadrantSegments(e),this.setEndCapStyle(n)):4===arguments.length&&(i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],this.setQuadrantSegments(i),this.setEndCapStyle(r),this.setJoinStyle(o),this.setMitreLimit(s)))}function Di(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Oi(){this.array_=[]}function Ri(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new Di}function $i(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=Zt.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Fi(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function zi(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new Kt,this.seg1=new Kt,this.offset0=new Kt,this.offset1=new Kt,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new Wt,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),8<=e.getQuadrantSegments()&&e.getJoinStyle()===Ai.JOIN_ROUND&&(this.closingSegLengthFactor=zi.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function Bi(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function ji(){this.subgraphs=null,this.seg=new Kt,this.cga=new Zt;var t=arguments[0];this.subgraphs=t}function qi(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new Kt(t),this.leftDepth=e}function Hi(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function Vi(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0;var t=arguments[this.numTests=0];this.li=t}function Ui(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new jn;var t=arguments[0];this.bufParams=t}function Gi(){this.li=new Wt,this.segStrings=null;var t=arguments[0];this.segStrings=t}function Wi(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,e<=0)throw new h;1!==e&&(this.pt=new b(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new b,this.p1Scaled=new b),this.initCorners(this.pt)}function Yi(){this.index=null;var t=arguments[0];this.index=t}function Xi(){Xn.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function Zi(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new x}function Ki(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new Wt,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function Ji(){var t,e,n;this.argGeom=null,this.distance=null,this.bufParams=new Ai,this.resultGeometry=null,this.saveException=null,1===arguments.length?(t=arguments[0],this.argGeom=t):2===arguments.length&&(e=arguments[0],n=arguments[1],this.argGeom=e,this.bufParams=n)}function Qi(){this.comps=null;var t=arguments[0];this.comps=t}function tr(){var t,e,n,i,r;this.component=null,this.segIndex=null,this.pt=null,2===arguments.length?(t=arguments[0],e=arguments[1],tr.call(this,t,tr.INSIDE_AREA,e)):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.component=n,this.segIndex=i,this.pt=r)}function er(){this.pts=null;var t=arguments[0];this.pts=t}function nr(){this.locations=null;var t=arguments[0];this.locations=t}function ir(){var t,e,n,i,r;this.geom=null,this.terminateDistance=0,this.ptLocator=new pe,this.minDistanceLocation=null,this.minDistance=y.MAX_VALUE,2===arguments.length?(t=arguments[0],e=arguments[1],ir.call(this,t,e,0)):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=i,this.terminateDistance=r)}function rr(){this.factory=null,this.directedEdges=new x,this.coordinates=null;var t=arguments[0];this.factory=t}function or(){this._isMarked=!1,this._isVisited=!1,this.data=null}function sr(){or.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.from=t,this.to=e,this.edgeDirection=i,this.p0=t.getCoordinate(),this.p1=n;var r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=$e.quadrant(r,o),this.angle=Math.atan2(o,r)}function ar(){sr.call(this,arguments[0],arguments[1],arguments[2],arguments[3])}function ur(){var t,e;or.apply(this),this.dirEdge=null,0===arguments.length||2===arguments.length&&(t=arguments[0],e=arguments[1],this.setDirectedEdges(t,e))}function lr(){this.outEdges=new x,this.sorted=!1}function cr(){var t,e,n;or.apply(this),this.pt=null,this.deStar=null,1===arguments.length?(t=arguments[0],cr.call(this,t,new lr)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.pt=e,this.deStar=n)}function hr(){ur.apply(this),this.line=null;var t=arguments[0];this.line=t}function fr(){this.nodeMap=new rt}function dr(){this.edges=new J,this.dirEdges=new J,this.nodeMap=new fr}function pr(){dr.apply(this)}function gr(){this.graph=new pr,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function mr(){this.edgeRing=null,this.next=null,this.label=-1,sr.call(this,arguments[0],arguments[1],arguments[2],arguments[3])}function vr(){ur.apply(this),this.line=null;var t=arguments[0];this.line=t}function yr(){this.geometryFactory=new Ht,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function _r(){}function br(){var t,e;this.edgeEnds=new x,1===arguments.length?(t=arguments[0],br.call(this,null,t)):2===arguments.length&&(e=arguments[1],on.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new Ke(e.getLabel())),this.insert(e))}function xr(){pn.apply(this)}function wr(){nn.call(this,arguments[0],arguments[1])}function Cr(){an.apply(this)}function Er(){this.nodes=new rn(new Cr)}function Sr(){this.li=new Wt,this.geomGraph=null,this.nodeGraph=new Er,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function Mr(){this.graph=null,this.rings=new x,this.totalEnv=new C,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function Lr(){var t,e,n;this.errorType=null,this.pt=null,1===arguments.length?(t=arguments[0],Lr.call(this,t,null)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.errorType=e,null!==n&&(this.pt=n.copy()))}function Tr(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function Nr(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Ir(){}function kr(){dr.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function Pr(){var t;this.lineStringAdder=new Ar(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length?Pr.call(this,!1):1===arguments.length&&(t=arguments[0],this.extractOnlyPolygonal=t)}function Ar(){this.p=null;var t=arguments[0];this.p=t}function Dr(){this.li=new Wt,this.ptLocator=new pe,this.arg=null,this.nodes=new rn(new Cr),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null;var t=arguments[0];this.arg=t}function Or(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function Rr(){this.li=new Wt,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new b(t.getMinX(),t.getMinY()),this.diagUp1=new b(t.getMaxX(),t.getMaxY()),this.diagDown0=new b(t.getMinX(),t.getMaxY()),this.diagDown1=new b(t.getMaxX(),t.getMinY())}function $r(){this._isDone=!1}function Fr(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function zr(){$r.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function Br(){$r.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function jr(){$r.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new b,this.p1=new b;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new Rr(this.rectEnv)}function qr(){var t,e,n,i,r;this._relate=null,2===arguments.length?(t=arguments[0],e=arguments[1],zn.call(this,t,e),this._relate=new Dr(this.arg)):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],zn.call(this,n,i,r),this._relate=new Dr(this.arg))}function Hr(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Hr.extractFactory(t),this.inputGeoms=t}function Vr(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Ur(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Gr(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new x)}function Wr(){var t,e,n,i;this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length?L(arguments[0],d)?(t=arguments[0],this.extract(t)):arguments[0]instanceof z&&(e=arguments[0],this.extract(e)):2===arguments.length&&(n=arguments[0],i=arguments[1],this.geomFact=i,this.extract(n))}function Yr(){kt.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function Xr(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function Zr(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new Kt;var t=arguments[0];this.pts=t}function Kr(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function Jr(){oe.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function Qr(){var t,e,n,i,r,o;this.parent=null,this.index=null,2===arguments.length?(t=arguments[0],e=arguments[1],Qr.call(this,t,e,null,-1)):4===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3],Kt.call(this,n,i),this.parent=r,this.index=o)}function to(){var t,e,n;this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length?(t=arguments[0],to.call(this,t,2)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.parentLine=e,this.minimumSize=n,this.init())}function eo(){this.index=new Ci}function no(){this.querySeg=null,this.items=new x;var t=arguments[0];this.querySeg=t}function io(){this.li=new Wt,this.inputIndex=new eo,this.outputIndex=new eo,this.line=null,this.linePts=null;var t=arguments[this.distanceTolerance=0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function ro(){this.inputIndex=new eo,this.outputIndex=new eo,this.distanceTolerance=0}function oo(){this.inputGeom=null,this.lineSimplifier=new ro,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function so(){oe.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function ao(){this.tps=null;var t=arguments[0];this.tps=t}function uo(){this.seg=null,this.segLen=null,this.splitPt=null;var t=arguments[this.minimumLen=0];this.seg=t,this.segLen=t.getLength()}function lo(){}function co(){}function ho(){}function fo(){var t,e,n,i,r,o;this.p=null,1===arguments.length?(t=arguments[0],this.p=new b(t)):2===arguments.length?(e=arguments[0],n=arguments[1],this.p=new b(e,n)):3===arguments.length&&(i=arguments[0],r=arguments[1],o=arguments[2],this.p=new b(i,r,o))}function po(){this._isOnConstraint=null,this.constraint=null,fo.call(this,arguments[0])}function go(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function mo(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=0<t.getTolerance()}function vo(){}function yo(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function _o(){var t,e,n;this.seg=null,1===arguments.length?"string"==typeof arguments[0]?_.call(this,arguments[0]):arguments[0]instanceof Kt&&(_.call(this,"Locate failed to converge (at edge: "+(t=arguments[0])+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new Kt(t)):2===arguments.length&&(e=arguments[0],n=arguments[1],_.call(this,_o.msgWithSpatial(e,n)),this.seg=new Kt(n))}function bo(){}function xo(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new Kt,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/xo.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new yo(this)}function wo(){}function Co(){this.triList=new x}function Eo(){this.triList=new x}function So(){this.coordList=new w,this.triCoords=new x}function Mo(){var t,e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v;this.ls=null,this.data=null,2===arguments.length?(t=arguments[0],e=arguments[1],this.ls=new Kt(t,e)):3===arguments.length?(n=arguments[0],i=arguments[1],r=arguments[2],this.ls=new Kt(n,i),this.data=r):6===arguments.length?(o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3],l=arguments[4],c=arguments[5],Mo.call(this,new b(o,s,a),new b(u,l,c))):7===arguments.length&&(h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],g=arguments[4],m=arguments[5],v=arguments[6],Mo.call(this,new b(h,f,d),new b(p,g,m),v))}function Lo(){}function To(){var t,e,n,i,r;this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length?(t=arguments[0],e=arguments[1],this.p=new b(t),this.left=null,this.right=null,this.count=1,this.data=e):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.p=new b(n,i),this.left=null,this.right=null,this.count=1,this.data=r)}function No(){var t;this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length?No.call(this,0):1===arguments.length&&(t=arguments[0],this.tolerance=t)}function Io(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function ko(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new co,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new x(t),this.tolerance=e,this.kdt=new No(e)}function Po(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Ao(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function Do(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Oo(){}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");for(var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=((i=1 in arguments&&parseInt(Number(arguments[1]),10)||0)<0?Math.max(n+i,0):Math.min(i,n)),r=((r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n)<0?Math.max(n+arguments[2],0):Math.min(r,n));i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)},e(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},y.isNaN=function(t){return Number.isNaN(t)},y.doubleToLongBits=function(t){return t},y.longBitsToDouble=function(t){return t},y.isInfinite=function(t){return!Number.isFinite(t)},y.MAX_VALUE=Number.MAX_VALUE,(_.prototype=Object.create(Error.prototype)).constructor=Error,a(u,_),e(u.prototype,{interfaces_:function(){return[]},getClass:function(){return u}}),e(f.prototype,{interfaces_:function(){return[]},getClass:function(){return f}}),f.shouldNeverReachHere=function(){if(0===arguments.length)f.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new u("Should never reach here"+(null!==t?": "+t:""))}},f.isTrue=function(){if(1===arguments.length)f.isTrue(arguments[0],null);else if(2===arguments.length){var t=arguments[1];if(!arguments[0])throw null===t?new u:new u(t)}},f.equals=function(){if(2===arguments.length)f.equals(arguments[0],arguments[1],null);else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];if(!e.equals(t))throw new u("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))}},e(b.prototype,{setOrdinate:function(t,e){switch(t){case b.X:this.x=e;break;case b.Y:this.y=e;break;case b.Z:this.z=e;break;default:throw new h}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!i.equalsWithTolerance(this.x,e.x,n)&&!!i.equalsWithTolerance(this.y,e.y,n)}},getOrdinate:function(t){switch(t){case b.X:return this.x;case b.Y:return this.y;case b.Z:return this.z}throw new h},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||y.isNaN(this.z)&&y.isNaN(t.z))},equals:function(t){return t instanceof b&&this.equals2D(t)},equalInZ:function(t,e){return i.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return f.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new b(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*t+b.hashCode(this.x))+b.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[n,r,s]},getClass:function(){return b}}),b.hashCode=function(){if(1===arguments.length){var t=y.doubleToLongBits(arguments[0]);return Math.trunc(t^t>>>32)}},e(l.prototype,{compare:function(t,e){var n=t,i=e,r=l.compare(n.x,i.x);if(0!==r)return r;var o=l.compare(n.y,i.y);return 0!==o?o:this.dimensionsToTest<=2?0:l.compare(n.z,i.z)},interfaces_:function(){return[o]},getClass:function(){return l}}),l.compare=function(t,e){return t<e?-1:e<t?1:y.isNaN(t)?y.isNaN(e)?0:-1:y.isNaN(e)?1:0},b.DimensionalComparator=l,b.serialVersionUID=0x5cbf2c235c7e5800,b.NULL_ORDINATE=y.NaN,b.X=0,b.Y=1,b.Z=2,c.prototype.hasNext=function(){},c.prototype.next=function(){},c.prototype.remove=function(){},d.prototype.add=function(){},d.prototype.addAll=function(){},d.prototype.isEmpty=function(){},d.prototype.iterator=function(){},d.prototype.size=function(){},d.prototype.toArray=function(){},d.prototype.remove=function(){},(p.prototype=new Error).name="IndexOutOfBoundsException",((m.prototype=Object.create(d.prototype)).constructor=m).prototype.get=function(){},m.prototype.set=function(){},m.prototype.isEmpty=function(){},(g.prototype=new Error).name="NoSuchElementException",(v.prototype=new Error).name="OperationNotSupported",((x.prototype=Object.create(m.prototype)).constructor=x).prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[m,d]},x.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(t,arguments[1]),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},x.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},x.prototype.iterator=function(){return new Ro(this)},x.prototype.get=function(t){if(t<0||t>=this.size())throw new p;return this.array_[t]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},x.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Ro=function(t){this.arrayList_=t,this.position_=0};Ro.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new g;return this.arrayList_.get(this.position_++)},Ro.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Ro.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Ro.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},a(w,x),e(w.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2!==arguments.length)return x.prototype.addAll.apply(this,arguments);for(var t=arguments[1],e=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),t),e=!0;return e},clone:function(){for(var t=x.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];x.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof b&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&1<=this.size())if(this.get(this.size()-1).equals2D(i))return null;x.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var r=arguments[0],o=arguments[1];return this.add(r,o),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];if(arguments[2])for(var u=0;u<s.length;u++)this.add(s[u],a);else for(u=s.length-1;0<=u;u--)this.add(s[u],a);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof b){var l=arguments[0],c=arguments[1];if(!arguments[2]){var h=this.size();if(0<h){if(0<l)if(this.get(l-1).equals2D(c))return null;if(l<h)if(this.get(l).equals2D(c))return null}}x.prototype.add.call(this,l,c)}}else if(4===arguments.length){var f=arguments[0],d=arguments[1],p=arguments[2],g=arguments[3],m=1;g<p&&(m=-1);for(u=p;u!==g;u+=m)this.add(f[u],d);return!0}},closeRing:function(){0<this.size()&&this.add(new b(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=new Array(0).fill(null),e(C.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof C))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new C;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny;return new C(e,this.maxx<t.maxx?this.maxx:t.maxx,n,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof b){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof C){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&i>=this.miny&&i<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof b){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||i>this.maxy||i<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){var t,e;if(1===arguments.length){if(arguments[0]instanceof b){var n=arguments[0];this.expandToInclude(n.x,n.y)}else if(arguments[0]instanceof C){var i=arguments[0];if(i.isNull())return null;this.isNull()?(this.minx=i.getMinX(),this.maxx=i.getMaxX(),this.miny=i.getMinY(),this.maxy=i.getMaxY()):(i.minx<this.minx&&(this.minx=i.minx),i.maxx>this.maxx&&(this.maxx=i.maxx),i.miny<this.miny&&(this.miny=i.miny),i.maxy>this.maxy&&(this.maxy=i.maxy))}}else 2===arguments.length&&(t=arguments[0],e=arguments[1],this.isNull()?(this.minx=t,this.maxx=t,this.miny=e,this.maxy=e):(t<this.minx&&(this.minx=t),t>this.maxx&&(this.maxx=t),e<this.miny&&(this.miny=e),e>this.maxy&&(this.maxy=e)))},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return e<t?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof b){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new b((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){var t,e,n,i,r,o,s,a;0===arguments.length?this.setToNull():1===arguments.length?arguments[0]instanceof b?(t=arguments[0],this.init(t.x,t.x,t.y,t.y)):arguments[0]instanceof C&&(e=arguments[0],this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy):2===arguments.length?(n=arguments[0],i=arguments[1],this.init(n.x,i.x,n.y,i.y)):4===arguments.length&&(s=arguments[2],a=arguments[3],(r=arguments[0])<(o=arguments[1])?(this.minx=r,this.maxx=o):(this.minx=o,this.maxx=r),s<a?(this.miny=s,this.maxy=a):(this.miny=a,this.maxy=s))},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+b.hashCode(this.minx))+b.hashCode(this.maxx))+b.hashCode(this.miny))+b.hashCode(this.maxy)},interfaces_:function(){return[n,s]},getClass:function(){return C}}),C.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(u<l||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),u<l||c<a))}},C.serialVersionUID=0x51845cd552189800,a(S,E),e(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),e(M.prototype,{interfaces_:function(){return[]},getClass:function(){return M}}),M.toLocationSymbol=function(t){switch(t){case M.EXTERIOR:return"e";case M.BOUNDARY:return"b";case M.INTERIOR:return"i";case M.NONE:return"-"}throw new h},M.INTERIOR=0,M.BOUNDARY=1,M.EXTERIOR=2,M.NONE=-1,e(T.prototype,{interfaces_:function(){return[]},getClass:function(){return T}}),T.log10=function(t){var e=Math.log(t);return y.isInfinite(e)||y.isNaN(e)?e:e/T.LOG_10},T.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},T.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:n<t?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:o<i?o:i}},T.wrap=function(t,e){return t<0?e- -t%e:t%e},T.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2];return(n=arguments[0])<t&&(n=t),n<e&&(n=e),n}if(4===arguments.length){var n,i=arguments[1],r=arguments[2],o=arguments[3];return(n=arguments[0])<i&&(n=i),n<r&&(n=r),n<o&&(n=o),n}},T.average=function(t,e){return(t+e)/2},T.LOG_10=Math.log(10),N.prototype.append=function(t){this.str+=t},N.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},N.prototype.toString=function(t){return this.str},I.prototype.intValue=function(){return this.value},I.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},I.isNaN=function(t){return Number.isNaN(t)},k.isWhitespace=function(t){return t<=32&&0<=t||127==t},k.toUpperCase=function(t){return t.toUpperCase()},e(P.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=P.magnitude(n.hi),r=P.TEN.pow(i);(n=n.divide(r)).gt(P.TEN)?(n=n.divide(P.TEN),i+=1):n.lt(P.ONE)&&(n=n.multiply(P.TEN),--i);for(var o=i+1,s=new N,a=P.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n.hi);if(l<0)break;var c=!1,h=0,h=9<l?(c=!0,"9"):"0"+l;s.append(h),n=n.subtract(P.valueOf(l)).multiply(P.TEN),c&&n.selfAdd(P.TEN);var f=!0,d=P.magnitude(n.hi);if(d<0&&Math.abs(d)>=a-u&&(f=!1),!f)break}return e[0]=i,s.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof P){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof P){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n,i,r,o=arguments[0],s=arguments[1],a=null,u=null,l=null,c=null,h=this.hi/o;return c=(a=(l=P.SPLIT*h)-(a=l-h))*(u=(c=P.SPLIT*o)-(u=c-o))-(r=h*o)+a*(i=o-u)+(n=h-a)*u+n*i,c=h+(l=(this.hi-r-c+this.lo-h*s)/o),this.hi=c,this.lo=h-c+l,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof P){var t,e,n,i=arguments[0],r=null,o=null,s=null,a=null,u=(n=this.hi/i.hi)-(r=(s=P.SPLIT*n)-(r=s-n));return a=r*(o=(a=P.SPLIT*i.hi)-(o=a-i.hi))-(e=n*i.hi)+r*(t=i.hi-o)+u*o+u*t,new P(a=n+(s=(this.hi-e-a+this.lo-n*i.lo)/i.hi),n-a+s)}if("number"==typeof arguments[0]){var l=arguments[0];return y.isNaN(l)?P.createNaN():P.copy(this).selfDivide(l,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return P.valueOf(1);var e=new P(this),n=P.valueOf(1),i=Math.abs(t);if(1<i)for(;0<i;)i%2==1&&n.selfMultiply(e),0<(i/=2)&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ceil:function(){if(this.isNaN())return P.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new P(t,e)},compareTo:function(t){return this.hi<t.hi?-1:this.hi>t.hi?1:this.lo<t.lo?-1:this.lo>t.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof P){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return P.valueOf(0);if(this.isNegative())return P.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=P.valueOf(e),i=this.subtract(n.sqr()).hi*(.5*t);return n.add(i)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return o=(r=this.hi+e)-(s=r-this.hi),i=(a=(o=e-s+(this.hi-o))+this.lo)+(r-(n=r+a)),this.hi=n+i,this.lo=i+(n-this.hi),this}}else if(2===arguments.length){var u,l=arguments[0],c=arguments[1],n=null,i=null,h=null,r=null,o=null,s=null,a=null;r=this.hi+l,u=this.lo+c,o=r-(s=r-this.hi),h=u-(a=u-this.lo);var f=(n=r+(s=(o=l-s+(this.hi-o))+u))+(s=(h=c-a+(this.lo-h))+(i=s+(r-n))),d=s+(n-f);return this.hi=f,this.lo=d,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n,i,r=arguments[0],o=arguments[1],s=null,a=null,u=null,l=null,s=(u=P.SPLIT*this.hi)-this.hi,l=P.SPLIT*r;s=u-s,n=this.hi-s,a=l-r;var c=(u=this.hi*r)+(l=s*(a=l-a)-u+s*(i=r-a)+n*a+n*i+(this.hi*o+this.lo*r)),h=l+(s=u-c);return this.hi=c,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return P.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new P(t,e)},negate:function(){return this.isNaN()?this:new P(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof P){var t=arguments[0];return t.isNaN()?P.createNaN():P.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return y.isNaN(e)?P.createNaN():P.copy(this).selfMultiply(e,0)}},isNaN:function(){return y.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=P.magnitude(this.hi);return-3<=t&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e,n=new Array(1).fill(null),i=this.extractSignificantDigits(!0,n),r=n[0]+1,o=i;return"."===i.charAt(0)?o="0"+i:r<0?o="0."+P.stringOfChar("0",-r)+i:-1===i.indexOf(".")&&(e=r-i.length,o=i+P.stringOfChar("0",e)+".0"),this.isNegative()?"-"+o:o},reciprocal:function(){var t,e,n,i=null,r=null,o=null,s=null,a=(n=1/this.hi)-(i=(o=P.SPLIT*n)-(i=o-n)),r=(s=P.SPLIT*this.hi)-this.hi,u=n+(o=(1-(e=n*this.hi)-(s=i*(r=s-r)-e+i*(t=this.hi-r)+a*r+a*t)-n*this.lo)/this.hi);return new P(u,n-u+o)},toSciNotation:function(){if(this.isZero())return P.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=P.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var r="";1<n.length&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},abs:function(){return this.isNaN()?P.NaN:this.isNegative()?this.negate():new P(this)},isPositive:function(){return 0<this.hi||0===this.hi&&0<this.lo},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof P){var t=arguments[0];return P.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return P.copy(this).selfAdd(e)}},init:function(){var t,e,n,i;1===arguments.length?"number"==typeof arguments[0]?(t=arguments[0],this.hi=t,this.lo=0):arguments[0]instanceof P&&(e=arguments[0],this.hi=e.hi,this.lo=e.lo):2===arguments.length&&(n=arguments[0],i=arguments[1],this.hi=n,this.lo=i)},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?P.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return 0<this.hi?1:this.hi<0?-1:0<this.lo?1:this.lo<0?-1:0},interfaces_:function(){return[s,n,r]},getClass:function(){return P}}),P.sqr=function(t){return P.valueOf(t).selfMultiply(t)},P.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return P.parse(t)}if("number"==typeof arguments[0])return new P(arguments[0])},P.sqrt=function(t){return P.valueOf(t).sqrt()},P.parse=function(t){for(var e=0,n=t.length;k.isWhitespace(t.charAt(e));)e++;var i,r=!1;e<n&&("-"!==(i=t.charAt(e))&&"+"!==i||(e++,"-"===i&&(r=!0)));for(var o=new P,s=0,a=0,u=0;!(n<=e);){var l=t.charAt(e);if(e++,k.isDigit(l)){var c=l-"0";o.selfMultiply(P.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"!==l&&"E"!==l)throw new NumberFormatException("Unexpected character '"+l+"' at position "+e+" in string "+t);var h=t.substring(e);try{u=I.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}break}a=s}}var f,d=o,p=s-a-u;return 0==p?d=o:0<p?(f=P.TEN.pow(p),d=o.divide(f)):p<0&&(f=P.TEN.pow(-p),d=o.multiply(f)),r?d.negate():d},P.createNaN=function(){return new P(y.NaN,y.NaN)},P.copy=function(t){return new P(t)},P.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},P.stringOfChar=function(t,e){for(var n=new N,i=0;i<e;i++)n.append(t);return n.toString()},P.PI=new P(3.141592653589793,12246467991473532e-32),P.TWO_PI=new P(6.283185307179586,24492935982947064e-32),P.PI_2=new P(1.5707963267948966,6123233995736766e-32),P.E=new P(2.718281828459045,14456468917292502e-32),P.NaN=new P(y.NaN,y.NaN),P.EPS=123259516440783e-46,P.SPLIT=134217729,P.MAX_PRINT_DIGITS=32,P.TEN=P.valueOf(10),P.ONE=P.valueOf(1),P.SCI_NOT_EXPONENT_CHAR="E",P.SCI_NOT_ZERO="0.0E0",e(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),A.orientationIndex=function(t,e,n){var i=A.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=P.valueOf(e.x).selfAdd(-t.x),o=P.valueOf(e.y).selfAdd(-t.y),s=P.valueOf(n.x).selfAdd(-e.x),a=P.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},A.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},A.intersection=function(t,e,n,i){var r=P.valueOf(i.y).selfSubtract(n.y).selfMultiply(P.valueOf(e.x).selfSubtract(t.x)),o=P.valueOf(i.x).selfSubtract(n.x).selfMultiply(P.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=P.valueOf(i.x).selfSubtract(n.x).selfMultiply(P.valueOf(t.y).selfSubtract(n.y)),u=P.valueOf(i.y).selfSubtract(n.y).selfMultiply(P.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=P.valueOf(t.x).selfAdd(P.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=P.valueOf(e.x).selfSubtract(t.x).selfMultiply(P.valueOf(t.y).selfSubtract(n.y)),f=P.valueOf(e.y).selfSubtract(t.y).selfMultiply(P.valueOf(t.x).selfSubtract(n.x)),d=h.subtract(f).selfDivide(s).doubleValue();return new b(c,P.valueOf(n.y).selfAdd(P.valueOf(i.y).selfSubtract(n.y).selfMultiply(d)).doubleValue())},A.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(0<r){if(o<=0)return A.signum(s);i=r+o}else{if(!(r<0))return A.signum(s);if(0<=o)return A.signum(s);i=-r-o}var a=A.DP_SAFE_EPSILON*i;return a<=s||a<=-s?A.signum(s):2},A.signum=function(t){return 0<t?1:t<0?-1:0},A.DP_SAFE_EPSILON=1e-15,e(D.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[r]},getClass:function(){return D}}),D.X=0,D.Y=1,D.Z=2,D.M=3,O.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},O.getProperty=function(t){return{"line.separator":"\n"}[t]},e(R.prototype,{getY:function(){var t=this.y/this.w;if(y.isNaN(t)||y.isInfinite(t))throw new S;return t},getX:function(){var t=this.x/this.w;if(y.isNaN(t)||y.isInfinite(t))throw new S;return t},getCoordinate:function(){var t=new b;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return R}}),R.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,u=i.x-n.x,l=n.x*i.y-i.x*n.y,c=r*u-a*o,h=(o*l-u*s)/c,f=(a*s-r*l)/c;if(y.isNaN(h)||y.isInfinite(h)||y.isNaN(f)||y.isInfinite(f))throw new S;return new b(h,f)},e($.prototype,{create:function(){1===arguments.length&&(arguments[0]instanceof Array||L(arguments[0],D))},interfaces_:function(){return[]},getClass:function(){return $}}),e(F.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return F}}),e(z.prototype,{isGeometryCollection:function(){return this.getSortIndex()===z.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof z))return!1;return this.equalsExact(e)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(z.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===z.SORTINDEX_GEOMETRYCOLLECTION)throw new h},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new C(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===z.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===z.SORTINDEX_MULTIPOINT||this.getSortIndex()===z.SORTINDEX_MULTILINESTRING||this.getSortIndex()===z.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[r,n,s]},getClass:function(){return z}}),z.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},z.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},z.serialVersionUID=0x799ea46522854c00,z.SORTINDEX_POINT=0,z.SORTINDEX_MULTIPOINT=1,z.SORTINDEX_LINESTRING=2,z.SORTINDEX_LINEARRING=3,z.SORTINDEX_MULTILINESTRING=4,z.SORTINDEX_POLYGON=5,z.SORTINDEX_MULTIPOLYGON=6,z.SORTINDEX_GEOMETRYCOLLECTION=7,z.geometryChangedFilter={interfaces_:function(){return[F]},filter:function(t){t.geometryChangedAction()}},e(B.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return B}}),e(j.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return j}}),e(q.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[j]},getClass:function(){return q}}),e(H.prototype,{isInBoundary:function(t){return 0<t},interfaces_:function(){return[j]},getClass:function(){return H}}),e(V.prototype,{isInBoundary:function(t){return 1<t},interfaces_:function(){return[j]},getClass:function(){return V}}),e(U.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[j]},getClass:function(){return U}}),j.Mod2BoundaryNodeRule=q,j.EndPointBoundaryNodeRule=H,j.MultiValentEndPointBoundaryNodeRule=V,j.MonoValentEndPointBoundaryNodeRule=U,j.MOD2_BOUNDARY_RULE=new q,j.ENDPOINT_BOUNDARY_RULE=new H,j.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new V,j.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new U,j.OGC_SFS_BOUNDARY_RULE=j.MOD2_BOUNDARY_RULE,e(G.prototype,{interfaces_:function(){return[]},getClass:function(){return G}}),G.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},G.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(G.indexOf(i,e)<0)return i}return null},G.scroll=function(t,e){var n=G.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);O.arraycopy(t,n,i,0,t.length-n),O.arraycopy(t,0,i,t.length-n,n),O.arraycopy(i,0,t,0,t.length)},G.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},G.intersection=function(t,e){for(var n=new w,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},G.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},G.removeRepeatedPoints=function(t){return G.hasRepeatedPoints(t)?new w(t,!1).toCoordinateArray():t},G.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},G.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},G.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new b(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],n=0;n<a;n++)o[s+n]=new b(i[r+n])},G.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},G.envelope=function(t){for(var e=new C,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},G.toCoordinateArray=function(t){return t.toArray(G.coordArrayType)},G.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},G.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},G.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},G.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},G.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||0<e.compareTo(t[n]))&&(e=t[n]);return e},G.extract=function(t,e,n){e=T.clamp(e,0,t.length);var i=(n=T.clamp(n,-1,t.length))<0?0:n-e+1;e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},e(W.prototype,{compare:function(t,e){return G.compare(t,e)},interfaces_:function(){return[o]},getClass:function(){return W}}),e(Y.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=G.compare(n,i);return G.isEqualReversed(n,i)?0:r},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=G.increasingDirection(n),o=G.increasingDirection(i),s=0<r?0:n.length-1,a=0<o?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(i[a]);if(0!==l)return l;s+=r,a+=o}return 0},interfaces_:function(){return[o]},getClass:function(){return Y}}),G.ForwardComparator=W,G.BidirectionalComparator=Y,G.coordArrayType=new Array(0).fill(null),X.prototype.get=function(){},X.prototype.put=function(){},X.prototype.size=function(){},X.prototype.values=function(){},X.prototype.entrySet=function(){},Z.prototype=new X,(K.prototype=new d).contains=function(){},(J.prototype=new K).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(this.array_[e]===t)return!0}return!1},J.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},J.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},J.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},J.prototype.size=function(){return this.array_.length},J.prototype.isEmpty=function(){return 0===this.array_.length},J.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},J.prototype.iterator=function(){return new $o(this)};var $o=function(t){this.hashSet_=t,this.position_=0};$o.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new g;return this.hashSet_.array_[this.position_++]},$o.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},$o.prototype.remove=function(){throw new v};var Fo=0;(rt.prototype=new Z).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(0<n))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Fo,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(0<i)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:Fo,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;){var e;tt(t)==nt(tt(tt(t)))?1==Q(e=it(tt(tt(t))))?(et(tt(t),Fo),et(e,Fo),et(tt(tt(t)),1),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),Fo),et(tt(tt(t)),1),this.rotateRight(tt(tt(t)))):1==Q(e=nt(tt(tt(t))))?(et(tt(t),Fo),et(e,Fo),et(tt(tt(t)),1),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),Fo),et(tt(tt(t)),1),this.rotateLeft(tt(tt(t))))}this.root_.color=Fo},rt.prototype.values=function(){var t=new x,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new J,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){var e;null!=t&&(e=t.right,t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,(e.left=t).parent=e)},rt.prototype.rotateRight=function(t){var e;null!=t&&(e=t.left,t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,(e.right=t).parent=e)},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)e=(n=e).parent;return e},rt.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),st.prototype=new K,(at.prototype=new st).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++){if(0===this.array_[e].compareTo(t))return!0}return!1},at.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++){if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},at.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},at.prototype.remove=function(t){throw new v},at.prototype.size=function(){return this.array_.length},at.prototype.isEmpty=function(){return 0===this.array_.length},at.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},at.prototype.iterator=function(){return new zo(this)};var zo=function(t){this.treeSet_=t,this.position_=0};zo.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new g;return this.treeSet_.array_[this.position_++]},zo.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},zo.prototype.remove=function(){throw new v},ut.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},ut.asList=function(t){for(var e=new x,n=0,i=t.length;n<i;n++)e.add(t[n]);return e},e(lt.prototype,{interfaces_:function(){return[]},getClass:function(){return lt}}),lt.toDimensionSymbol=function(t){switch(t){case lt.FALSE:return lt.SYM_FALSE;case lt.TRUE:return lt.SYM_TRUE;case lt.DONTCARE:return lt.SYM_DONTCARE;case lt.P:return lt.SYM_P;case lt.L:return lt.SYM_L;case lt.A:return lt.SYM_A}throw new h},lt.toDimensionValue=function(t){switch(k.toUpperCase(t)){case lt.SYM_FALSE:return lt.FALSE;case lt.SYM_TRUE:return lt.TRUE;case lt.SYM_DONTCARE:return lt.DONTCARE;case lt.SYM_P:return lt.P;case lt.SYM_L:return lt.L;case lt.SYM_A:return lt.A}throw new h},lt.P=0,lt.L=1,lt.A=2,lt.FALSE=-1,lt.TRUE=-2,lt.DONTCARE=-3,lt.SYM_FALSE="F",lt.SYM_TRUE="T",lt.SYM_DONTCARE="*",lt.SYM_P="0",lt.SYM_L="1",lt.SYM_A="2",e(ct.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ct}}),e(ht.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),a(ft,z),e(ft.prototype,{computeEnvelopeInternal:function(){for(var t=new C,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return z.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var i=this.geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2!==arguments.length)return z.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var i=0;i<this.geometries.length;i++)if(!this.geometries[i].equalsExact(n.geometries[i],e))return!1;return!0},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();ut.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new at(ut.asList(this.geometries)),n=new at(ut.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],o=this.getNumGeometries(),s=r.getNumGeometries(),a=0;a<o&&a<s;){var u=this.getGeometryN(a),l=r.getGeometryN(a),c=u.compareToSameClass(l,i);if(0!==c)return c;a++}return a<o?1:a<s?-1:0}},apply:function(){if(L(arguments[0],B))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(L(arguments[0],ht)){var n=arguments[0];if(0===this.geometries.length)return null;for(e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(L(arguments[0],ct)){var i=arguments[0];i.filter(this);for(e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}else if(L(arguments[0],F)){var r=arguments[0];r.filter(this);for(e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),f.shouldNeverReachHere(),null},clone:function(){var t=z.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.serialVersionUID=-0x4f07bcb1f857d800,a(dt,ft),e(dt.prototype,{getSortIndex:function(){return z.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2!==arguments.length)return ft.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new pt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new dt(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return dt}}),dt.serialVersionUID=0x7155d2ab4afa8000,e(pt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof Ct?this.boundaryLineString(this.geom):this.geom instanceof dt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){return this.geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new x;this.endpointMap=new rt;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this.bnRule.isInBoundary(s)&&e.add(o.getKey())}return G.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return pt}}),pt.getBoundary=function(){return 1===arguments.length?new pt(arguments[0]).getBoundary():2===arguments.length?new pt(arguments[0],arguments[1]).getBoundary():void 0},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(xt.prototype,{interfaces_:function(){return[]},getClass:function(){return xt}}),xt.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return new String(n)},xt.getStackTrace=function(){if(1===arguments.length){var t=new yt,e=new mt;return arguments[0].printStackTrace(e),t.toString()}if(2===arguments.length){for(var n=arguments[1],i="",r=new bt(new vt(xt.getStackTrace(arguments[0]))),o=0;o<n;o++)try{i+=r.readLine()+xt.NEWLINE}catch(t){if(!(t instanceof _t))throw t;f.shouldNeverReachHere()}return i}},xt.split=function(t,e){for(var n=e.length,i=new x,r=""+t,o=r.indexOf(e);0<=o;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}0<r.length&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},xt.toString=function(){if(1===arguments.length){var t=arguments[0];return xt.SIMPLE_ORDINATE_FORMAT.format(t)}},xt.spaces=function(t){return xt.chars(" ",t)},xt.NEWLINE=O.getProperty("line.separator"),xt.SIMPLE_ORDINATE_FORMAT=new function(){},e(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),wt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,D.X)===t.getOrdinate(e-1,D.X)&&t.getOrdinate(0,D.Y)===t.getOrdinate(e-1,D.Y)},wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||y.isNaN(s)&&y.isNaN(a)))return!1}return!0},wt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(wt.copy(e,0,i,0,r),0<r)for(var o=r;o<n;o++)wt.copy(e,r-1,i,o,1);return i},wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)wt.swap(t,i,e-i)},wt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},wt.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)wt.copyCoord(t,e+o,n,i+o)},wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new N;i.append("(");for(var r=0;r<e;r++){0<r&&i.append(" ");for(var o=0;o<n;o++)0<o&&i.append(","),i.append(xt.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?wt.createClosedRing(t,e,4):e.getOrdinate(0,D.X)===e.getOrdinate(n-1,D.X)&&e.getOrdinate(0,D.Y)===e.getOrdinate(n-1,D.Y)?e:wt.createClosedRing(t,e,n+1)},wt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();wt.copy(e,0,i,0,r);for(var o=r;o<n;o++)wt.copy(e,0,i,o,1);return i},a(Ct,z),e(Ct.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new C:this.points.expandEnvelope(new C)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return z.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2!==arguments.length)return z.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var i=0;i<this.points.size();i++)if(!this.equal(this.points.getCoordinate(i),n.points.getCoordinate(i),e))return!1;return!0},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return 0<this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))&&wt.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return Zt.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return wt.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this.points.size()&&n<t.points.size();){var i=this.points.getCoordinate(e).compareTo(t.points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this.points.size()?1:n<t.points.size()?-1:0}if(2===arguments.length){t=arguments[0];return arguments[1].compare(this.points,t.points)}},apply:function(){if(L(arguments[0],B))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(L(arguments[0],ht)){var n=arguments[0];if(0===this.points.size())return null;for(e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else{(L(arguments[0],ct)||L(arguments[0],F))&&arguments[0].filter(this)}},getBoundary:function(){return new pt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof Ct},clone:function(){var t=z.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new Ct(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new h(t.size());this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return Ct}}),Ct.serialVersionUID=0x2b2b51ba435c8e00,e(Et.prototype,{interfaces_:function(){return[]},getClass:function(){return Et}}),a(St,z),e(St.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new C;var t=new C;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return z.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2!==arguments.length)return z.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){t=arguments[0];return arguments[1].compare(this.coordinates,t.coordinates)}},apply:function(){if(L(arguments[0],B)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(L(arguments[0],ht)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else{(L(arguments[0],ct)||L(arguments[0],F))&&arguments[0].filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=z.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new St(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),f.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[Et]},getClass:function(){return St}}),St.serialVersionUID=0x44077bad161cbc00,e(Mt.prototype,{interfaces_:function(){return[]},getClass:function(){return Mt}}),a(Lt,z),e(Lt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return z.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this.holes.length;r++)for(var o=this.holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(Zt.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(Zt.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){if((i=t.getX(n))!==e.getMinX()&&i!==e.getMaxX())return!1;if((r=t.getY(n))!==e.getMinY()&&r!==e.getMaxY())return!1}for(var i,r,o=t.getX(0),s=t.getY(0),n=1;n<=4;n++){if((i=t.getX(n))!==o==((r=t.getY(n))!==s))return!1;o=i,s=r}return!0},equalsExact:function(){if(2!==arguments.length)return z.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this.shell,r=n.shell;if(!i.equalsExact(r,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);ut.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);O.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=G.minCoordinate(e.getCoordinates());G.scroll(i,r),O.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],Zt.isCCW(e.getCoordinates())===n&&G.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[1],r=arguments[0],e=this.shell,n=r.shell,o=e.compareToSameClass(n,i);if(0!==o)return o;for(var s=this.getNumInteriorRing(),a=r.getNumInteriorRing(),u=0;u<s&&u<a;){var l=this.getInteriorRingN(u),c=r.getInteriorRingN(u),h=l.compareToSameClass(c,i);if(0!==h)return h;u++}return u<s?1:u<a?-1:0}},apply:function(){if(L(arguments[0],B)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(L(arguments[0],ht)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(L(arguments[0],ct)){arguments[0].filter(this)}else if(L(arguments[0],F)){var i=arguments[0];i.filter(this),this.shell.apply(i);for(e=0;e<this.holes.length;e++)this.holes[e].apply(i)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=z.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Lt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[Mt]},getClass:function(){return Lt}}),Lt.serialVersionUID=-0x307ffefd8dc97200,a(Tt,ft),e(Tt.prototype,{getSortIndex:function(){return z.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2!==arguments.length)return ft.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)},getCoordinate:function(){if(1!==arguments.length)return ft.prototype.getCoordinate.apply(this,arguments);var t=arguments[0];return this.geometries[t].getCoordinate()},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Tt(t,this.factory)},interfaces_:function(){return[Et]},getClass:function(){return Tt}}),Tt.serialVersionUID=-0x6fb1ed4162e0fc00,a(Nt,Ct),e(Nt.prototype,{getSortIndex:function(){return z.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return lt.FALSE},isClosed:function(){return!!this.isEmpty()||Ct.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return wt.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!Ct.prototype.isClosed.call(this))throw new h;if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<Nt.MINIMUM_VALID_SIZE)throw new h(this.getCoordinateSequence().size())},getGeometryType:function(){return"LinearRing"},copy:function(){return new Nt(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Nt}}),Nt.MINIMUM_VALID_SIZE=4,Nt.serialVersionUID=-0x3b229e262367a600,a(It,ft),e(It.prototype,{getSortIndex:function(){return z.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2!==arguments.length)return ft.prototype.equalsExact.apply(this,arguments);var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new x,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new It(t,this.factory)},interfaces_:function(){return[Mt]},getClass:function(){return It}}),It.serialVersionUID=-0x7a5aa1369171980,e(kt.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ft?this.editGeometryCollection(t,e):t instanceof Lt?this.editPolygon(t,e):t instanceof St||t instanceof Ct?e.edit(t,this.factory):(f.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),i=new x,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Tt?this.factory.createMultiPoint(i.toArray([])):n.getClass()===dt?this.factory.createMultiLineString(i.toArray([])):n.getClass()===It?this.factory.createMultiPolygon(i.toArray([])):this.factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this.factory.createPolygon();for(var r=new x,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this.factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return kt}}),kt.GeometryEditorOperation=Pt,e(At.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Pt]},getClass:function(){return At}}),e(Dt.prototype,{edit:function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Nt?e.createLinearRing(n):t instanceof Ct?e.createLineString(n):t instanceof St?0<n.length?e.createPoint(n[0]):e.createPoint():t},interfaces_:function(){return[Pt]},getClass:function(){return Dt}}),e(Ot.prototype,{edit:function(t,e){return t instanceof Nt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Ct?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof St?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Pt]},getClass:function(){return Ot}}),kt.NoOpGeometryOperation=At,kt.CoordinateOperation=Dt,kt.CoordinateSequenceOperation=Ot,e(Rt.prototype,{setOrdinate:function(t,e,n){switch(e){case D.X:this.coordinates[t].x=n;break;case D.Y:this.coordinates[t].y=n;break;case D.Z:this.coordinates[t].z=n;break;default:throw new h}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case D.X:return this.coordinates[t].x;case D.Y:return this.coordinates[t].y;case D.Z:return this.coordinates[t].z}return y.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}var e,n;2===arguments.length&&(e=arguments[0],(n=arguments[1]).x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z)},getCoordinateCopy:function(t){return new b(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Rt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Rt(t,this.dimension)},toString:function(){if(0<this.coordinates.length){var t=new N(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[D,s]},getClass:function(){return Rt}}),Rt.serialVersionUID=-0xcb44a778db18e00,e($t.prototype,{readResolve:function(){return $t.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Rt(arguments[0]);if(L(arguments[0],D))return new Rt(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return 3<e&&(e=3),e<2?new Rt(t):new Rt(t,e)}},interfaces_:function(){return[$,s]},getClass:function(){return $t}}),$t.instance=function(){return $t.instanceObject},$t.serialVersionUID=-0x38e49fa6cf6f2e00,$t.instanceObject=new $t;var Bo,jo,qo,Ho=Object.defineProperty,Vo=(jo={delete:function(t){return this.has(t)&&(this._keys.splice(Bo,1),this._values.splice(Bo,1),this._itp.forEach(function(t){Bo<t[0]&&t[0]--})),-1<Bo},has:function(t){return function(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(Bo=t.length;Bo--&&((n=t[Bo])!==(i=e)&&(n==n||i==i)););else Bo=t.indexOf(e);var n,i;return-1<Bo}.call(this,this._keys,t)},get:function(t){return this.has(t)?this._values[Bo]:void 0},set:function(t,e){return this.has(t)?this._values[Bo]=e:this._values[this._keys.push(t)-1]=e,this},keys:function(){return Ft(this._itp,this._keys)},values:function(){return Ft(this._itp,this._values)},entries:function(){return Ft(this._itp,this._keys,this._values)},forEach:function(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}},qo||Ho(jo,"size",{get:zt}),(jo.constructor=Go).prototype=jo,Go),Uo="undefined"!=typeof Map&&Map.prototype.values?Map:Vo;function Go(t){return this&&this.constructor===Go?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=qo,void(t&&function(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}.call(this,t))):new Go(t)}(Bt.prototype=new X).get=function(t){return this.map_.get(t)||null},Bt.prototype.put=function(t,e){return this.map_.set(t,e),e},Bt.prototype.values=function(){for(var t=new x,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},Bt.prototype.entrySet=function(){var e=new J;return this.map_.entries().forEach(function(t){return e.add(t)}),e},Bt.prototype.size=function(){return this.map_.size()},e(jt.prototype,{equals:function(t){if(!(t instanceof jt))return!1;return this.modelType===t.modelType&&this.scale===t.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new I(n).compareTo(new I(i))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===jt.FLOATING||this.modelType===jt.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===jt.FLOATING?t="Floating":this.modelType===jt.FLOATING_SINGLE?t="Floating-Single":this.modelType===jt.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return y.isNaN(t)?t:this.modelType!==jt.FLOATING_SINGLE&&this.modelType===jt.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof b){var e=arguments[0];if(this.modelType===jt.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===jt.FLOATING?t=16:this.modelType===jt.FLOATING_SINGLE?t=6:this.modelType===jt.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[s,n]},getClass:function(){return jt}}),jt.mostPrecise=function(t,e){return 0<=t.compareTo(e)?t:e},e(qt.prototype,{readResolve:function(){return qt.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[s]},getClass:function(){return qt}}),qt.serialVersionUID=-552860263173159e4,qt.nameToTypeMap=new Bt,jt.Type=qt,jt.serialVersionUID=0x6bee6404e9a25c00,jt.FIXED=new qt("FIXED"),jt.FLOATING=new qt("FLOATING"),jt.FLOATING_SINGLE=new qt("FLOATING SINGLE"),jt.maximumPreciseValue=9007199254740992,e(Ht.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new b(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new b(t.getMinX(),t.getMinY()),new b(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new b(t.getMinX(),t.getMinY()),new b(t.getMinX(),t.getMaxY()),new b(t.getMaxX(),t.getMaxY()),new b(t.getMaxX(),t.getMinY()),new b(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(L(arguments[0],D))return new Ct(arguments[0],this)}},createMultiLineString:function(){return 0===arguments.length?new dt(null,this):1===arguments.length?new dt(arguments[0],this):void 0},buildGeometry:function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Ht.toGeometryArray(t));var a=t.iterator().next();if(1<t.size()){if(a instanceof Lt)return this.createMultiPolygon(Ht.toPolygonArray(t));if(a instanceof Ct)return this.createMultiLineString(Ht.toLineStringArray(t));if(a instanceof St)return this.createMultiPoint(Ht.toPointArray(t));f.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof b){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(L(arguments[0],D))return new St(arguments[0],this)}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Lt(null,null,this);if(1===arguments.length){if(L(arguments[0],D)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Nt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){return new Lt(arguments[0],arguments[1],this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){return 0===arguments.length?new ft(null,this):1===arguments.length?new ft(arguments[0],this):void 0},createGeometry:function(t){return new kt(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(L(arguments[0],D))return new Nt(arguments[0],this)}},createMultiPolygon:function(){return 0===arguments.length?new It(null,this):1===arguments.length?new It(arguments[0],this):void 0},createMultiPoint:function(){if(0===arguments.length)return new Tt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Tt(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(L(arguments[0],D)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),i=0;i<e.size();i++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension());wt.copy(e,i,r,0,1),n[i]=this.createPoint(r)}return this.createMultiPoint(n)}}},interfaces_:function(){return[s]},getClass:function(){return Ht}}),Ht.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.getDefaultCoordinateSequenceFactory=function(){return $t.instance()},Ht.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ht.serialVersionUID=-0x5ea75f2051eeb400;var Wo={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(Vt.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=Wo.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Wo.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Xo[n]&&(e=Xo[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!Yo[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Yo[e].apply(this,[t])+")"}});var Yo={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Yo.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+Yo.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;n<i;++n)e.push(Yo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;n<i;++n)e.push(Yo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+Yo.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Yo.linestring.apply(this,[t.shell])+")");for(var n=0,i=t.holes.length;n<i;++n)e.push("("+Yo.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push("("+Yo.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t.geometries.length;n<i;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},Xo={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Wo.spaces);return this.geometryFactory.createPoint(new b(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Wo.trimParens,"$1"),i.push(Xo.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Wo.spaces),i.push(new b(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Wo.spaces),i.push(new b(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Wo.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Wo.trimParens,"$1"),i.push(Xo.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Wo.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Wo.trimParens,"$1"),n=Xo.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n.points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Wo.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Wo.trimParens,"$1"),i.push(Xo.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}};e(Ut.prototype,{write:function(t){return this.parser.write(t)}}),e(Ut,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(Gt.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new N;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=i,this.result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){var t,e;0===arguments.length?null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1)):1===arguments.length&&(t=arguments[0],e=this.getEdgeDistance(t,0),this.getEdgeDistance(t,1)<e?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0))},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==Gt.NO_INTERSECTION},getEdgeDistance:function(t,e){return Gt.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===Gt.COLLINEAR_INTERSECTION},toString:function(){return Ut.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+Ut.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return Gt}}),Gt.computeEdgeDistance=function(t,e,n){var i,r,o=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y),a=-1;return t.equals(e)?a=0:t.equals(n)?a=s<o?o:s:(i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),0!==(a=s<o?i:r)||t.equals(e)||(a=Math.max(i,r))),f.isTrue(!(0===a&&!t.equals(e)),"Bad distance calculation"),a},Gt.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return f.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Gt.DONT_INTERSECT=0,Gt.DO_INTERSECT=1,Gt.COLLINEAR=2,Gt.NO_INTERSECTION=0,Gt.POINT_INTERSECTION=1,Gt.COLLINEAR_INTERSECTION=2,a(Wt,Gt),e(Wt.prototype,{isInSegmentEnvelopes:function(t){var e=new C(this.inputLines[0][0],this.inputLines[0][1]),n=new C(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return Gt.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,C.intersects(e,n,t)&&0===Zt.orientationIndex(e,n,t)&&0===Zt.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=Gt.POINT_INTERSECTION,null):void(this.result=Gt.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(e,n,i,r){var o=null;try{o=R.intersection(e,n,i,r)}catch(t){if(!(t instanceof S))throw t;o=Wt.nearestEndpoint(e,n,i,r)}return o},intersection:function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new b(Wt.nearestEndpoint(t,e,n,i))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=A.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);O.out.println("DD in env = "+s+"  --------------------- "+o),1e-4<r.distance(o)&&O.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new b(t),o=new b(e),s=new b(n),a=new b(i),u=new b;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,i){var r=C.intersects(t,e,n),o=C.intersects(t,e,i),s=C.intersects(n,i,t),a=C.intersects(n,i,e);return r&&o?(this.intPt[0]=n,this.intPt[1]=i,Gt.COLLINEAR_INTERSECTION):s&&a?(this.intPt[0]=t,this.intPt[1]=e,Gt.COLLINEAR_INTERSECTION):r&&s?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||a?Gt.COLLINEAR_INTERSECTION:Gt.POINT_INTERSECTION):r&&a?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||s?Gt.COLLINEAR_INTERSECTION:Gt.POINT_INTERSECTION):o&&s?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||r||a?Gt.COLLINEAR_INTERSECTION:Gt.POINT_INTERSECTION):o&&a?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||r||s?Gt.COLLINEAR_INTERSECTION:Gt.POINT_INTERSECTION):Gt.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,d=((l<o?o:l)+(a<h?a:h))/2,p=((c<s?s:c)+(u<f?u:f))/2;r.x=d,r.y=p,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!C.intersects(t,e,n,i))return Gt.NO_INTERSECTION;var r=Zt.orientationIndex(t,e,n),o=Zt.orientationIndex(t,e,i);if(0<r&&0<o||r<0&&o<0)return Gt.NO_INTERSECTION;var s=Zt.orientationIndex(n,i,t),a=Zt.orientationIndex(n,i,e);return 0<s&&0<a||s<0&&a<0?Gt.NO_INTERSECTION:0===r&&0===o&&0===s&&0===a?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this.intPt[0]=e:0===r?this.intPt[0]=new b(n):0===o?this.intPt[0]=new b(i):0===s?this.intPt[0]=new b(t):0===a&&(this.intPt[0]=new b(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,i)),Gt.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Wt}}),Wt.nearestEndpoint=function(t,e,n,i){var r=t,o=Zt.distancePointLine(t,n,i),s=Zt.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=Zt.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=Zt.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e(Yt.prototype,{interfaces_:function(){return[]},getClass:function(){return Yt}}),Yt.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return Yt.signOfDet2x2(i,r,o,s)},Yt.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null,r=1;if(0===t||0===i)return 0===e||0===n?0:0<e?0<n?-r:r:0<n?r:-r;if(0===e||0===n)return 0<i?0<t?r:-r:0<t?-r:r;if(0<e?0<i?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):i=e<=-i?(r=-r,n=-n,-i):(o=t,t=-n,n=o,o=e,e=-i,o):0<i?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):i=i<=e?(t=-t,e=-e,n=-n,-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,o),0<t){if(!(0<n))return r;if(!(t<=n))return r}else{if(0<n)return-r;if(!(n<=t))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-r;if(e<i)return r;if((n-=s*t)+n<t){if(e<i+i)return r}else{if(i+i<e)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(s=Math.floor(t/n))*i)<0)return r;if(i<e)return-r;if((t-=s*n)+t<n){if(i<e+e)return-r}else{if(e+e<i)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e(Xt.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,i=e.x;return i<n&&(n=e.x,i=t.x),this.p.x>=n&&this.p.x<=i&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.x-this.p.x,o=t.y-this.p.y,s=e.x-this.p.x,a=e.y-this.p.y,u=Yt.signOfDet2x2(r,o,s,a);if(0===u)return this.isPointOnSegment=!0,null;a<o&&(u=-u),0<u&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==M.EXTERIOR},getLocation:function(){return this.isPointOnSegment?M.BOUNDARY:this.crossingCount%2==1?M.INTERIOR:M.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return Xt}}),Xt.locatePointInRing=function(){if(arguments[0]instanceof b&&L(arguments[1],D)){for(var t=arguments[1],e=new Xt(arguments[0]),n=new b,i=new b,r=1;r<t.size();r++)if(t.getCoordinate(r,n),t.getCoordinate(r-1,i),e.countSegment(n,i),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof b&&arguments[1]instanceof Array){for(var o=arguments[1],e=new Xt(arguments[0]),r=1;r<o.length;r++){n=o[r],i=o[r-1];if(e.countSegment(n,i),e.isOnSegment())return e.getLocation()}return e.getLocation()}},e(Zt.prototype,{interfaces_:function(){return[]},getClass:function(){return Zt}}),Zt.orientationIndex=function(t,e,n){return A.orientationIndex(t,e,n)},Zt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(L(arguments[0],D)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new b,l=new b,c=new b;s.getCoordinate(0,l),s.getCoordinate(1,c);n=l.x;c.x-=n;for(e=0,i=1;i<a-1;i++)u.y=l.y,l.x=c.x,l.y=c.y,s.getCoordinate(i+1,c),c.x-=n,e+=l.x*(u.y-c.y);return e/2}},Zt.distanceLineLine=function(t,e,n,i){if(t.equals(e))return Zt.distancePointLine(t,n,i);if(n.equals(i))return Zt.distancePointLine(i,t,e);var r,o,s,a,u=!1;return!C.intersects(t,e,n,i)||0==(r=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x))?u=!0:(o=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/r,((a=o/r)<0||1<a||s<0||1<s)&&(u=!0)),u?T.min(Zt.distancePointLine(t,n,i),Zt.distancePointLine(e,n,i),Zt.distancePointLine(n,t,e),Zt.distancePointLine(i,t,e)):0},Zt.isPointInRing=function(t,e){return Zt.locatePointInRing(t,e)!==M.EXTERIOR},Zt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new b;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},Zt.isCCW=function(t){var e=t.length-1;if(e<3)throw new h;for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}for(var s=i;--s<0&&(s=e),t[s].equals2D(n)&&s!==i;);for(var a=i;t[a=(a+1)%e].equals2D(n)&&a!==i;);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=Zt.computeOrientation(u,n,l);return 0===c?u.x>l.x:0<c},Zt.locatePointInRing=function(t,e){return Xt.locatePointInRing(t,e)},Zt.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},Zt.computeOrientation=function(t,e,n){return Zt.orientationIndex(t,e,n)},Zt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new h;for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=Zt.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(1<=l)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},Zt.isOnLine=function(t,e){for(var n=new Wt,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},Zt.RIGHT=Zt.CLOCKWISE=-1,Zt.LEFT=Zt.COUNTERCLOCKWISE=1,Zt.STRAIGHT=Zt.COLLINEAR=0,e(Kt.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof Kt){var t=arguments[0],e=Zt.orientationIndex(this.p0,this.p1,t.p0),n=Zt.orientationIndex(this.p0,this.p1,t.p1);return 0<=e&&0<=n||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof b){var i=arguments[0];return Zt.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof Kt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new Wt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof b){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new b(t);var e=this.projectionFactor(t),n=new b;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Kt){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(1<=r&&1<=o)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),1<r&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),1<o&&(a=this.p1),new Kt(s,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return Zt.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return Kt.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?y.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=y.MAX_VALUE,r=null,o=this.closestPoint(t.p0),i=o.distance(t.p0);n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},closestPoint:function(t){var e=this.projectionFactor(t);return 0<e&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return R.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof S))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}return new b(n-u,i+a)},setCoordinates:function(){var t,e,n;1===arguments.length?(t=arguments[0],this.setCoordinates(t.p0,t.p1)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y)},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(1<e||y.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof Kt){var t=arguments[0];return Zt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof b)return Zt.distancePointLine(arguments[0],this.p0,this.p1)},pointAlong:function(t){var e=new b;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^(Math.trunc(n)^Math.trunc(n>>32))},interfaces_:function(){return[n,s]},getClass:function(){return Kt}}),Kt.midPoint=function(t,e){return new b((t.x+e.x)/2,(t.y+e.y)/2)},Kt.serialVersionUID=0x2d2172135f411c00,e(Jt.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])||Jt.isTrue(this.matrix[M.INTERIOR][M.BOUNDARY])||Jt.isTrue(this.matrix[M.BOUNDARY][M.INTERIOR])||Jt.isTrue(this.matrix[M.BOUNDARY][M.BOUNDARY]))&&this.matrix[M.EXTERIOR][M.INTERIOR]===lt.FALSE&&this.matrix[M.EXTERIOR][M.BOUNDARY]===lt.FALSE},isCoveredBy:function(){return(Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])||Jt.isTrue(this.matrix[M.INTERIOR][M.BOUNDARY])||Jt.isTrue(this.matrix[M.BOUNDARY][M.INTERIOR])||Jt.isTrue(this.matrix[M.BOUNDARY][M.BOUNDARY]))&&this.matrix[M.INTERIOR][M.EXTERIOR]===lt.FALSE&&this.matrix[M.BOUNDARY][M.EXTERIOR]===lt.FALSE},set:function(){var t,e,n;if(1===arguments.length)for(var i=arguments[0],r=0;r<i.length;r++){var o=Math.trunc(r/3),s=r%3;this.matrix[o][s]=lt.toDimensionValue(i.charAt(r))}else 3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this.matrix[t][e]=n)},isContains:function(){return Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&this.matrix[M.EXTERIOR][M.INTERIOR]===lt.FALSE&&this.matrix[M.EXTERIOR][M.BOUNDARY]===lt.FALSE},setAtLeast:function(){var t,e,n;if(1===arguments.length)for(var i=arguments[0],r=0;r<i.length;r++){var o=Math.trunc(r/3),s=r%3;this.setAtLeast(o,s,lt.toDimensionValue(i.charAt(r)))}else 3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],this.matrix[t][e]<n&&(this.matrix[t][e]=n))},setAtLeastIfValid:function(t,e,n){0<=t&&0<=e&&this.setAtLeast(t,e,n)},isWithin:function(){return Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&this.matrix[M.INTERIOR][M.EXTERIOR]===lt.FALSE&&this.matrix[M.BOUNDARY][M.EXTERIOR]===lt.FALSE},isTouches:function(t,e){return e<t?this.isTouches(e,t):(t===lt.A&&e===lt.A||t===lt.L&&e===lt.L||t===lt.L&&e===lt.A||t===lt.P&&e===lt.A||t===lt.P&&e===lt.L)&&this.matrix[M.INTERIOR][M.INTERIOR]===lt.FALSE&&(Jt.isTrue(this.matrix[M.INTERIOR][M.BOUNDARY])||Jt.isTrue(this.matrix[M.BOUNDARY][M.INTERIOR])||Jt.isTrue(this.matrix[M.BOUNDARY][M.BOUNDARY]))},isOverlaps:function(t,e){return t===lt.P&&e===lt.P||t===lt.A&&e===lt.A?Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&Jt.isTrue(this.matrix[M.INTERIOR][M.EXTERIOR])&&Jt.isTrue(this.matrix[M.EXTERIOR][M.INTERIOR]):t===lt.L&&e===lt.L&&1===this.matrix[M.INTERIOR][M.INTERIOR]&&Jt.isTrue(this.matrix[M.INTERIOR][M.EXTERIOR])&&Jt.isTrue(this.matrix[M.EXTERIOR][M.INTERIOR])},isEquals:function(t,e){return t===e&&Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&this.matrix[M.INTERIOR][M.EXTERIOR]===lt.FALSE&&this.matrix[M.BOUNDARY][M.EXTERIOR]===lt.FALSE&&this.matrix[M.EXTERIOR][M.INTERIOR]===lt.FALSE&&this.matrix[M.EXTERIOR][M.BOUNDARY]===lt.FALSE},toString:function(){for(var t=new N("123456789"),e=0;e<3;e++)for(var n=0;n<3;n++)t.setCharAt(3*e+n,lt.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new h;for(var e=0;e<3;e++)for(var n=0;n<3;n++)if(!Jt.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var n=0;n<3;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[M.INTERIOR][M.INTERIOR]===lt.FALSE&&this.matrix[M.INTERIOR][M.BOUNDARY]===lt.FALSE&&this.matrix[M.BOUNDARY][M.INTERIOR]===lt.FALSE&&this.matrix[M.BOUNDARY][M.BOUNDARY]===lt.FALSE},isCrosses:function(t,e){return t===lt.P&&e===lt.L||t===lt.P&&e===lt.A||t===lt.L&&e===lt.A?Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&Jt.isTrue(this.matrix[M.INTERIOR][M.EXTERIOR]):t===lt.L&&e===lt.P||t===lt.A&&e===lt.P||t===lt.A&&e===lt.L?Jt.isTrue(this.matrix[M.INTERIOR][M.INTERIOR])&&Jt.isTrue(this.matrix[M.EXTERIOR][M.INTERIOR]):t===lt.L&&e===lt.L&&0===this.matrix[M.INTERIOR][M.INTERIOR]},interfaces_:function(){return[r]},getClass:function(){return Jt}}),Jt.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===lt.SYM_DONTCARE||e===lt.SYM_TRUE&&(0<=t||t===lt.TRUE)||e===lt.SYM_FALSE&&t===lt.FALSE||e===lt.SYM_P&&t===lt.P||e===lt.SYM_L&&t===lt.L||e===lt.SYM_A&&t===lt.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[1];return new Jt(arguments[0]).matches(n)}},Jt.isTrue=function(t){return 0<=t||t===lt.TRUE};var Zo=Object.freeze({Coordinate:b,CoordinateList:w,Envelope:C,LineSegment:Kt,GeometryFactory:Ht,Geometry:z,Point:St,LineString:Ct,LinearRing:Nt,Polygon:Lt,GeometryCollection:ft,MultiPoint:Tt,MultiLineString:dt,MultiPolygon:It,Dimension:lt,IntersectionMatrix:Jt,PrecisionModel:jt});e(Qt.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i,r,o=t[n].distance(t[n+1]);0!==o&&(e+=o,i=(t[n].x+t[n+1].x)/2,this.lineCentSum.x+=o*i,r=(t[n].y+t[n+1].y)/2,this.lineCentSum.y+=o*r)}this.totalLength+=e,0===e&&0<t.length&&this.addPoint(t[0])},addHole:function(t){for(var e=Zt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new b;if(0<Math.abs(this.areasum2))t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(0<this.totalLength)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(0<this.ptCount))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){0<t.length&&this.setBasePoint(t[0]);for(var e=!Zt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var r=i?1:-1;Qt.centroid3(t,e,n,this.triangleCent3);var o=Qt.area2(t,e,n);this.cg3.x+=r*o*this.triangleCent3.x,this.cg3.y+=r*o*this.triangleCent3.y,this.areasum2+=r*o},add:function(){if(arguments[0]instanceof Lt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof z){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof St)this.addPoint(n.getCoordinate());else if(n instanceof Ct)this.addLineSegments(n.getCoordinates());else if(n instanceof Lt){this.add(n)}else if(n instanceof ft)for(var i=n,e=0;e<i.getNumGeometries();e++)this.add(i.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return Qt}}),Qt.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},Qt.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},Qt.getCentroid=function(t){return new Qt(t).getCentroid()},(te.prototype=new Error).name="EmptyStackException",(ee.prototype=new m).add=function(t){return this.array_.push(t),!0},ee.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},ee.prototype.push=function(t){return this.array_.push(t),t},ee.prototype.pop=function(t){if(0===this.array_.length)throw new te;return this.array_.pop()},ee.prototype.peek=function(){if(0===this.array_.length)throw new te;return this.array_[this.array_.length-1]},ee.prototype.empty=function(){return 0===this.array_.length},ee.prototype.isEmpty=function(){return this.empty()},ee.prototype.search=function(t){return this.array_.indexOf(t)},ee.prototype.size=function(){return this.array_.length},ee.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e(ne.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[B]},getClass:function(){return ne}}),ne.filterCoordinates=function(t){for(var e=new ne,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(ie.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return ut.sort(t,1,t.length,new re(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new w;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(3===(t=this.cleanRing(t)).length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){f.equals(t[0],t[t.length-1]);for(var e=new x,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r)}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,n){if(0!==Zt.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new at,i=0;i<e.length;i++)n.add(e[i]);for(i=0;i<t.length;i++)Zt.isPointInRing(t[i],e)||n.add(t[i]);var r=G.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;50<this.inputPts.length&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new ee,e=n.push(t[0]);e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&0<Zt.computeOrientation(n.peek(),e,t[i]);)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return ie}}),ie.extractCoordinates=function(t){var e=new ne;return t.apply(e),e.getCoordinates()},e(re.prototype,{compare:function(t,e){return re.polarCompare(this.origin,t,e)},interfaces_:function(){return[o]},getClass:function(){return re}}),re.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=Zt.computeOrientation(t,e,n);if(a===Zt.COUNTERCLOCKWISE)return 1;if(a===Zt.CLOCKWISE)return-1;var u=i*i+r*r,l=o*o+s*s;return u<l?-1:l<u?1:0},ie.RadialComparator=re,e(oe.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Nt&&!i.isEmpty()||(n=!1);for(var r=new x,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Nt||(n=!1),r.add(s))}if(n)return this.factory.createPolygon(i,r.toArray([]));var a=new x;return null!==i&&a.add(i),a.addAll(r),this.factory.buildGeometry(a)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new x,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Ht.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof St)return this.transformPoint(t,null);if(t instanceof Tt)return this.transformMultiPoint(t,null);if(t instanceof Nt)return this.transformLinearRing(t,null);if(t instanceof Ct)return this.transformLineString(t,null);if(t instanceof dt)return this.transformMultiLineString(t,null);if(t instanceof Lt)return this.transformPolygon(t,null);if(t instanceof It)return this.transformMultiPolygon(t,null);if(t instanceof ft)return this.transformGeometryCollection(t,null);throw new h(t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var i=n.size();return 0<i&&i<4&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return oe}}),e(se.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new b(o)),0===i&&this._isClosed&&t.set(t.size()-1,new b(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new w(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);0<=o&&t.add(o+1,new b(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=y.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this.seg.p0=e.get(r),this.seg.p1=e.get(r+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var o=this.seg.distance(t);o<this.snapTolerance&&o<n&&(n=o,i=r)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return se}}),se.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(ae.prototype,{snapTo:function(t,e){return new ue(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=new ue(t,this.extractTargetCoordinates(this.srcGeom),!0).transform(this.srcGeom),i=n;return e&&L(i,Mt)&&(i=n.buffer(0)),i},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new at,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=y.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.snap=function(t,e,n){var i=new Array(2).fill(null),r=new ae(t);i[0]=r.snapTo(e,n);var o=new ae(e);return i[1]=o.snapTo(i[0],n),i},ae.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t,e=arguments[0],n=ae.computeSizeBasedSnapTolerance(e),i=e.getPrecisionModel();return i.getType()!==jt.FIXED||n<(t=1/i.getScale()*2/1.415)&&(n=t),n}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(ae.computeOverlaySnapTolerance(r),ae.computeOverlaySnapTolerance(o))}},ae.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*ae.SNAP_PRECISION_FACTOR},ae.snapToSelf=function(t,e,n){return new ae(t).snapToSelf(e,n)},ae.SNAP_PRECISION_FACTOR=1e-9,a(ue,oe),e(ue.prototype,{snapLine:function(t,e){var n=new se(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return ue}}),e(le.prototype,{getCommon:function(){return y.longBitsToDouble(this.commonBits)},add:function(t){var e=y.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=le.signExpBits(this.commonBits),this.isFirst=!1,null):le.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=le.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=le.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=y.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Long.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return le}}),le.getBit=function(t,e){return 0!=(t&1<<e)?1:0},le.signExpBits=function(t){return t>>52},le.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},le.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;0<=i;i--){if(le.getBit(t,i)!==le.getBit(e,i))return n;n++}return 52},e(ce.prototype,{addCommonBits:function(t){var e=new fe(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new b(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new fe(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return ce}}),e(he.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new b(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[B]},getClass:function(){return he}}),e(fe.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ht]},getClass:function(){return fe}}),ce.CommonCoordinateFilter=he,ce.Translater=fe,e(de.prototype,{next:function(){if(this.atStart)return this.atStart=!1,de.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new g;var t=this.parent.getGeometryN(this.index++);return t instanceof ft?(this.subcollectionIterator=new de(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[c]},getClass:function(){return de}}),de.isAtomic=function(t){return!(t instanceof ft)},e(pe.prototype,{locateInternal:function(){if(arguments[0]instanceof b&&arguments[1]instanceof Lt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return M.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===M.EXTERIOR)return M.EXTERIOR;if(i===M.BOUNDARY)return M.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===M.INTERIOR)return M.EXTERIOR;if(s===M.BOUNDARY)return M.BOUNDARY}return M.INTERIOR}if(arguments[0]instanceof b&&arguments[1]instanceof Ct){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return M.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?Zt.isOnLine(a,l)?M.INTERIOR:M.EXTERIOR:M.BOUNDARY}if(arguments[0]instanceof b&&arguments[1]instanceof St){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?M.INTERIOR:M.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?Zt.locatePointInRing(t,e.getCoordinates()):M.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==M.EXTERIOR},updateLocationInfo:function(t){t===M.INTERIOR&&(this.isIn=!0),t===M.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof St&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Ct)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Lt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof dt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof It)for(var o=e,i=0;i<o.getNumGeometries();i++){var s=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof ft)for(var a=new de(e);a.hasNext();){var u=a.next();u!==e&&this.computeLocation(t,u)}},locate:function(t,e){return e.isEmpty()?M.EXTERIOR:e instanceof Ct||e instanceof Lt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?M.BOUNDARY:0<this.numBoundaries||this.isIn?M.INTERIOR:M.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return pe}}),e(ge.prototype,{interfaces_:function(){return[]},getClass:function(){return ge}}),ge.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new h;var n=Math.abs(t),i=Math.abs(e);return 0<=t?0<=e?i<=n?0:1:i<=n?7:6:0<=e?i<=n?3:2:i<=n?4:5}if(arguments[0]instanceof b&&arguments[1]instanceof b){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0==s&&0==a)throw new h;return ge.octant(s,a)}},e(me.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return me}}),e(ve.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:ge.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return Ut.toLineString(new Rt(this.pts))},interfaces_:function(){return[me]},getClass:function(){return ve}}),e(ye.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return ye}}),e(_e.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[ye,s]},getClass:function(){return _e}}),e(be.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),--this._size,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return be}}),e(xe.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return xe}}),e(we.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){},interfaces_:function(){return[]},getClass:function(){return we}}),e(Ce.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){f.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[ye,s]},getClass:function(){return Ce}}),Ce.serialVersionUID=0x5a1e55ec41369800;var Ko={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return Ko.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?ut.sort(n,e):ut.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new x;return e.add(t),e}};e(Ee.prototype,{expandToQueue:function(t,e){var n=Ee.isComposite(this.boundable1),i=Ee.isComposite(this.boundable2);if(n&&i)return Ee.area(this.boundable1)>Ee.area(this.boundable2)?this.expand(this.boundable1,this.boundable2,t,e):this.expand(this.boundable2,this.boundable1,t,e),null;if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(i)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new h},isLeaves:function(){return!(Ee.isComposite(this.boundable1)||Ee.isComposite(this.boundable2))},compareTo:function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},expand:function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=new Ee(r.next(),e,this.itemDistance);o.getDistance()<i&&n.add(o)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[n]},getClass:function(){return Ee}}),Ee.area=function(t){return t.getBounds().getArea()},Ee.isComposite=function(t){return t instanceof Ce},e(Se.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Ce?t+=this.size(n):n instanceof _e&&(t+=1)}return t}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof _e&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new x:t}if(1===arguments.length){for(var e=arguments[0],n=new x,i=e.getChildBoundables().iterator();i.hasNext();){var r,o=i.next();o instanceof Ce?null!==(r=this.itemsTree(o))&&n.add(r):o instanceof _e?n.add(o.getItem()):f.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){f.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new _e(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new x;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(f.isTrue(-2<n),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Ce?this.boundablesAtLevel(n,s,r):(f.isTrue(s instanceof _e),-1===n&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new x;return this.isEmpty()||this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,i)}else if(3===arguments.length)if(L(arguments[2],xe)&&arguments[0]instanceof Object&&arguments[1]instanceof Ce)for(var r=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof Ce?this.query(r,u,o):u instanceof _e?o.visitItem(u.getItem()):f.shouldNeverReachHere())}else if(L(arguments[2],m)&&arguments[0]instanceof Object&&arguments[1]instanceof Ce)for(var l=arguments[0],c=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),l)&&(u instanceof Ce?this.query(l,u,c):u instanceof _e?c.add(u.getItem()):f.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Ce&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){f.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n,i=e.next();i instanceof Ce&&(t<(n=this.depth(i))&&(t=n))}return t+1}},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=new x;n.add(this.createNode(e));var i=new x(t);Ko.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[s]},getClass:function(){return Se}}),Se.compareDoubles=function(t,e){return e<t?1:t<e?-1:0},Se.IntersectsOp=function(){},Se.serialVersionUID=-0x35ef64c82d4c5400,Se.DEFAULT_NODE_CAPACITY=10,e(Me.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Me}}),a(Le,Se),e(Le.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){f.isTrue(0<t.length);for(var n=new x,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new Te(t)},size:function(){return 0===arguments.length?Se.prototype.size.call(this):Se.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return Se.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void Se.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Le.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new x;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return Se.prototype.query.call(this,t)}var e,n,i,r,o,s,a,u;2===arguments.length?(e=arguments[0],n=arguments[1],Se.prototype.query.call(this,e,n)):3===arguments.length&&(L(arguments[2],xe)&&arguments[0]instanceof Object&&arguments[1]instanceof Ce?(i=arguments[0],r=arguments[1],o=arguments[2],Se.prototype.query.call(this,i,r,o)):L(arguments[2],m)&&arguments[0]instanceof Object&&arguments[1]instanceof Ce&&(s=arguments[0],a=arguments[1],u=arguments[2],Se.prototype.query.call(this,s,a,u)))},getComparator:function(){return Le.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return Se.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2!==arguments.length)return Se.prototype.remove.apply(this,arguments);var t=arguments[0],e=arguments[1];return Se.prototype.remove.call(this,t,e)},depth:function(){return 0===arguments.length?Se.prototype.depth.call(this):Se.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new x(t);Ko.sort(i,Le.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(L(arguments[0],Me)){var t=arguments[0],e=new Ee(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Ee){var n=arguments[0];return this.nearestNeighbour(n,y.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Le&&L(arguments[1],Me)){var i=arguments[0],r=arguments[1],e=new Ee(this.getRoot(),i.getRoot(),r);return this.nearestNeighbour(e)}if(arguments[0]instanceof Ee&&"number"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=null,u=new be;for(u.add(o);!u.isEmpty()&&0<s;){var l=u.poll(),c=l.getDistance();if(s<=c)break;l.isLeaves()?(s=c,a=l):l.expandToQueue(u,s)}return[a.getBoundable(0).getItem(),a.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[2],f=new _e(arguments[0],arguments[1]),e=new Ee(this.getRoot(),f,h);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[we,s]},getClass:function(){return Le}}),Le.centreX=function(t){return Le.avg(t.getMinX(),t.getMaxX())},Le.avg=function(t,e){return(t+e)/2},Le.centreY=function(t){return Le.avg(t.getMinY(),t.getMaxY())},a(Te,Ce),e(Te.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new C(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Te}}),Le.STRtreeNode=Te,Le.serialVersionUID=0x39920f7d5f261e0,Le.xComparator={interfaces_:function(){return[o]},compare:function(t,e){return Se.compareDoubles(Le.centreX(t.getBounds()),Le.centreX(e.getBounds()))}},Le.yComparator={interfaces_:function(){return[o]},compare:function(t,e){return Se.compareDoubles(Le.centreY(t.getBounds()),Le.centreY(e.getBounds()))}},Le.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Le.DEFAULT_NODE_CAPACITY=10,e(Ne.prototype,{interfaces_:function(){return[]},getClass:function(){return Ne}}),Ne.relativeSign=function(t,e){return t<e?-1:e<t?1:0},Ne.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Ne.relativeSign(e.x,n.x),r=Ne.relativeSign(e.y,n.y);switch(t){case 0:return Ne.compareValue(i,r);case 1:return Ne.compareValue(r,i);case 2:return Ne.compareValue(r,-i);case 3:return Ne.compareValue(-i,r);case 4:return Ne.compareValue(-i,-r);case 5:return Ne.compareValue(-r,-i);case 6:return Ne.compareValue(-r,i);case 7:return Ne.compareValue(i,-r)}return f.shouldNeverReachHere("invalid octant value"),0},Ne.compareValue=function(t,e){return t<0?-1:0<t?1:e<0?-1:0<e?1:0},e(Ie.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Ne.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[n]},getClass:function(){return Ie}}),e(ke.prototype,{getSplitCoordinates:function(){var t=new w;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),i=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new I(e+1))}},addEdgeCoordinates:function(t,e,n){e.segmentIndex,t.segmentIndex;var i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new b(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this.edge.getCoordinate(o));r&&n.add(new b(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new I(e[0])),i=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new b(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.getCoordinate(a);return r&&(o[s]=new b(e.coord)),new De(o,this.edge.getData())},add:function(t,e){var n=new Ie(this.edge,t,e,this.edge.getSegmentOctant(e)),i=this.nodeMap.get(n);return null!==i?(f.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new _("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new _("bad split edge end point at "+r)},interfaces_:function(){return[]},getClass:function(){return ke}}),e(Pe.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[c]},getClass:function(){return Pe}}),e(Ae.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[me]},getClass:function(){return Ae}}),e(De.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:ge.octant(t,e)},getData:function(){return this.data},addIntersection:function(){var t,e,n,i,r;2===arguments.length?(t=arguments[0],e=arguments[1],this.addIntersectionNode(t,e)):4===arguments.length&&(n=arguments[1],i=arguments[3],r=new b(arguments[0].getIntersection(i)),this.addIntersection(r,n))},toString:function(){return Ut.toLineString(new Rt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n,i=e,r=i+1;return r<this.pts.length&&(n=this.pts[r],t.equals2D(n)&&(i=r)),this.nodeList.add(t,i)},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[Ae]},getClass:function(){return De}}),De.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new x;return De.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();){i.next().getNodeList().addSplitEdges(n)}},e(Oe.prototype,{overlap:function(){var t,e,n;2===arguments.length||4===arguments.length&&(t=arguments[1],e=arguments[2],n=arguments[3],arguments[0].getLineSegment(t,this.overlapSeg1),e.getLineSegment(n,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2))},interfaces_:function(){return[]},getClass:function(){return Oe}}),e(Re.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,i){var r=this.pts[e],o=this.pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){var t,e;return null===this.env&&(t=this.pts[this.start],e=this.pts[this.end],this.env=new C(t,e)),this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,i,r,o){var s=this.pts[t],a=this.pts[e],u=n.pts[i],l=n.pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,o),h<r&&this.computeOverlapsInternal(t,c,n,h,r,o)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,o),h<r&&this.computeOverlapsInternal(c,e,n,h,r,o))},interfaces_:function(){return[]},getClass:function(){return Re}}),e($e.prototype,{interfaces_:function(){return[]},getClass:function(){return $e}}),$e.isNorthern=function(t){return t===$e.NE||t===$e.NW},$e.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},$e.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(e<t?t:e)?3:n},$e.isInHalfPlane=function(t,e){return e===$e.SE?t===$e.SE||t===$e.SW:t===e||t===e+1},$e.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new h;return 0<=t?0<=e?$e.NE:$e.SE:0<=e?$e.NW:$e.SW}if(arguments[0]instanceof b&&arguments[1]instanceof b){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new h;return i.x>=n.x?i.y>=n.y?$e.NE:$e.SE:i.y>=n.y?$e.NW:$e.SW}},$e.NE=0,$e.NW=1,$e.SW=2,$e.SE=3,e(Fe.prototype,{interfaces_:function(){return[]},getClass:function(){return Fe}}),Fe.getChainStartIndices=function(t){var e=0,n=new x;n.add(new I(e));do{var i=Fe.findChainEnd(t,e);n.add(new I(i)),e=i}while(e<t.length-1);return Fe.toIntArray(n)},Fe.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=$e.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r]))if($e.quadrant(t[r-1],t[r])!==i)break;r++}return r-1},Fe.getChains=function(){if(1===arguments.length)return Fe.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new x,i=Fe.getChainStartIndices(t),r=0;r<i.length-1;r++){var o=new Re(t,i[r],i[r+1],e);n.add(o)}return n}},Fe.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(ze.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return ze}}),e(Be.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[ze]},getClass:function(){return Be}}),a(je,Be),e(je.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return De.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Fe.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this.idCounter++),this.index.insert(n.getEnvelope(),n),this.monoChains.add(n)}},computeNodes:function(t){for(var e=(this.nodedSegStrings=t).iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new qe(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this.index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return je}}),a(qe,Oe),e(qe.prototype,{overlap:function(){if(4!==arguments.length)return Oe.prototype.overlap.apply(this,arguments);var t=arguments[1],e=arguments[2],n=arguments[3],i=arguments[0].getContext(),r=e.getContext();this.si.processIntersections(i,t,r,n)},interfaces_:function(){return[]},getClass:function(){return qe}}),je.SegmentOverlapAction=qe,a(He,_),e(He.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return He}}),He.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Ve.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Ve}}),e(Ue.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,i){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this.isCheckEndSegmentsOnly&&!(this.isEndSegment(t,e)||this.isEndSegment(n,i)))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=r,this.intSegments[1]=o,this.intSegments[2]=s,this.intSegments[3]=a,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[Ve]},getClass:function(){return Ue}}),Ue.createAllIntersectionsFinder=function(t){var e=new Ue(t);return e.setFindAllIntersections(!0),e},Ue.createAnyIntersectionFinder=function(t){return new Ue(t)},Ue.createIntersectionCounter=function(t){var e=new Ue(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(Ge.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new Ue(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new je;if(t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new He(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+Ut.toLineString(t[0],t[1])+" and "+Ut.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return Ge}}),Ge.computeIntersections=function(t){var e=new Ge(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(We.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return We}}),We.toSegmentStrings=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new ve(i.getCoordinates(),i))}return e},We.checkValid=function(t){new We(t).checkValid()},e(Ye.prototype,{map:function(t){for(var e=new x,n=0;n<t.getNumGeometries();n++){var i=this.mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Ht.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return Ye}}),Ye.map=function(t,e){return new Ye(e).map(t)},e(Xe.prototype,{interfaces_:function(){return[]},getClass:function(){return Xe}}),Xe.opposite=function(t){return t===Xe.LEFT?Xe.RIGHT:t===Xe.RIGHT?Xe.LEFT:t},Xe.ON=0,Xe.LEFT=1,Xe.RIGHT=2,e(Ze.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==M.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===M.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){var e;t.location.length>this.location.length&&((e=new Array(3).fill(null))[Xe.ON]=this.location[Xe.ON],e[Xe.LEFT]=M.NONE,e[Xe.RIGHT]=M.NONE,this.location=e);for(var n=0;n<this.location.length;n++)this.location[n]===M.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[Xe.LEFT];this.location[Xe.LEFT]=this.location[Xe.RIGHT],this.location[Xe.RIGHT]=t},toString:function(){var t=new N;return 1<this.location.length&&t.append(M.toLocationSymbol(this.location[Xe.LEFT])),t.append(M.toLocationSymbol(this.location[Xe.ON])),1<this.location.length&&t.append(M.toLocationSymbol(this.location[Xe.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[Xe.ON]=t,this.location[Xe.LEFT]=e,this.location[Xe.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:M.NONE},isArea:function(){return 1<this.location.length},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===M.NONE)return!0;return!1},setLocation:function(){var t,e,n;1===arguments.length?(t=arguments[0],this.setLocation(Xe.ON,t)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.location[e]=n)},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(M.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Ze}}),e(Ke.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){var t,e,n;1===arguments.length?(t=arguments[0],this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)):2===arguments.length&&(e=arguments[0],n=arguments[1],this.elt[e].setAllLocationsIfNull(n))},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ze(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Xe.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new N;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){var t,e,n,i,r;2===arguments.length?(t=arguments[0],e=arguments[1],this.elt[t].setLocation(Xe.ON,e)):3===arguments.length&&(n=arguments[0],i=arguments[1],r=arguments[2],this.elt[n].setLocation(i,r))},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new Ze(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return Ke}}),Ke.toLineLabel=function(t){for(var e=new Ke(M.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e},e(Je.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=Zt.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){var e=this.startDe=t,n=!0;do{if(null===e)throw new He("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new He("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var i=e.getLabel();f.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this.maxNodeDegree&&(this.maxNodeDegree=e),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this.pts.add(i[o])}else{r=i.length-2;n&&(r=i.length-1);for(o=r;0<=o;o--)this.pts.add(i[o])}},isHole:function(){return this._isHole},setInResult:function(){for(var t=this.startDe;t.getEdge().setInResult(!0),(t=t.getNext())!==this.startDe;);},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Zt.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();){if(n.next().containsPoint(t))return!1}return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Xe.RIGHT);if(n===M.NONE)return null;if(this.label.getLocation(e)===M.NONE)return this.label.setLocation(e,n),null}},setShell:function(t){null!==(this.shell=t)&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return Je}}),a(Qe,Je),e(Qe.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return Qe}}),a(tn,Je),e(tn.prototype,{buildMinimalRings:function(){var t,e=new x,n=this.startDe;do{null===n.getMinEdgeRing()&&(t=new Qe(n,this.geometryFactory),e.add(t)),n=n.getNext()}while(n!==this.startDe);return e},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return tn}}),e(en.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){f.isTrue(2<=this.label.getGeometryCount(),"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return en}}),a(nn,en),e(nn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){if(t.next().getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n,i=M.NONE,i=this.label.getLocation(e);return t.isNull(e)||(n=t.getLocation(e),i!==M.BOUNDARY&&(i=n)),i},setLabel:function(){if(2!==arguments.length)return en.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new Ke(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof nn){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof Ke)for(var e=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(e,n);this.label.getLocation(n)===M.NONE&&this.label.setLocation(n,i)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=M.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case M.BOUNDARY:n=M.INTERIOR;break;case M.INTERIOR:n=M.BOUNDARY;break;default:n=M.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return nn}}),e(rn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof b){var t=arguments[0];return null===(e=this.nodeMap.get(t))&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof nn){var e,n=arguments[0];return null===(e=this.nodeMap.get(n.getCoordinate()))?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new x,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===M.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return rn}}),e(on.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Zt.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){return this.compareDirection(t)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=$e.quadrant(this.dx,this.dy),f.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[n]},getClass:function(){return on}}),a(sn,on),e(sn.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new Ke(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new He("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this.label.isArea(e)&&this.label.getLocation(e,Xe.LEFT)===M.INTERIOR&&this.label.getLocation(e,Xe.RIGHT)===M.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){on.prototype.print.call(this,t),t.print(" "+this.depth[Xe.LEFT]+"/"+this.depth[Xe.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,M.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,M.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Xe.LEFT&&(i=-1);var r=Xe.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return sn}}),sn.depthFactor=function(t,e){return t===M.EXTERIOR&&e===M.INTERIOR?1:t===M.INTERIOR&&e===M.EXTERIOR?-1:0},e(an.prototype,{createNode:function(t){return new nn(t,null)},interfaces_:function(){return[]},getClass:function(){return an}}),e(un.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof nn){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof b){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){O.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===M.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,i){return!!t.equals(n)&&Zt.computeOrientation(t,e,i)===Zt.COLLINEAR&&$e.quadrant(t,e)===$e.quadrant(n,i)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){O.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var i=new sn(n,!0),r=new sn(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return un}}),un.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){e.next().getEdges().linkResultDirectedEdges()}},e(ln.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this.geometryFactory);e.add(i)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new He("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new x,r=t.iterator();r.hasNext();){var o,s,a=r.next();2<a.getMaxNodeDegree()?(a.linkDirectedEdgesForMinimalEdgeRings(),o=a.buildMinimalRings(),null!==(s=this.findShell(o))?(this.placePolygonHoles(s,o),e.add(s)):n.addAll(o)):i.add(a)}return i},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();){if(e.next().containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i,r=n.next();r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()&&(i=new tn(r,this.geometryFactory),e.add(i),i.setInResult())}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&Zt.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return f.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},add:function(){var t,e,n,i,r;1===arguments.length?(t=arguments[0],this.add(t.getEdgeEnds(),t.getNodes())):2===arguments.length&&(e=arguments[0],un.linkResultDirectedEdges(arguments[1]),n=this.buildMaximalEdgeRings(e),i=new x,r=this.buildMinimalEdgeRings(n,this.shellList,i),this.sortShellsAndHoles(r,this.shellList,i),this.placeFreeHoles(this.shellList,i))},interfaces_:function(){return[]},getClass:function(){return ln}}),e(cn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!qn.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){t.next().getEdges().findCoveredLineEdges()}for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n,i=e.next(),r=i.getEdge();i.isLineEdge()&&!r.isCoveredSet()&&(n=this.op.isCoveredByA(i.getCoordinate()),r.setCovered(n))}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(f.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(qn.isResultOfOp(i,e)&&e===qn.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return cn}}),e(hn.prototype,{filterCoveredNodeToPoint:function(t){var e,n=t.getCoordinate();this.op.isCoveredByLA(n)||(e=this.geometryFactory.createPoint(n),this.resultPointList.add(e))},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n,i=e.next();i.isInResult()||i.isIncidentEdgeInResult()||0!==i.getEdges().getDegree()&&t!==qn.INTERSECTION||(n=i.getLabel(),qn.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(i))}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return hn}}),e(fn.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return fn}}),e(dn.prototype,{locate:function(t){return dn.locate(t,this.geom)},interfaces_:function(){return[fn]},getClass:function(){return dn}}),dn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Zt.isPointInRing(t,e.getCoordinates())},dn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!dn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(dn.isPointInRing(t,r))return!1}return!0},dn.containsPoint=function(t,e){if(e instanceof Lt)return dn.containsPointInPolygon(t,e);if(e instanceof ft)for(var n=new de(e);n.hasNext();){var i=n.next();if(i!==e&&dn.containsPoint(t,i))return!0}return!1},dn.locate=function(t,e){return!e.isEmpty()&&dn.containsPoint(t,e)?M.INTERIOR:M.EXTERIOR},e(pn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=M.NONE,n=this.iterator();n.hasNext();){(r=(i=n.next()).getLabel()).isArea(t)&&r.getLocation(t,Xe.LEFT)!==M.NONE&&(e=r.getLocation(t,Xe.LEFT))}if(e===M.NONE)return null;for(var i,r,o=e,n=this.iterator();n.hasNext();){if((r=(i=n.next()).getLabel()).getLocation(t,Xe.ON)===M.NONE&&r.setLocation(t,Xe.ON,o),r.isArea(t)){var s=r.getLocation(t,Xe.LEFT),a=r.getLocation(t,Xe.RIGHT);if(a!==M.NONE){if(a!==o)throw new He("side location conflict",i.getCoordinate());s===M.NONE&&f.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),o=s}else f.isTrue(r.getLocation(t,Xe.LEFT)===M.NONE,"found single null side"),r.setLocation(t,Xe.RIGHT,o),r.setLocation(t,Xe.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){O.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){e.next().print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Xe.LEFT);f.isTrue(i!==M.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();f.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Xe.LEFT),u=s.getLocation(t,Xe.RIGHT);if(a===u)return!1;if(u!==r)return!1;r=a}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){if(this.edgeList.get(e)===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===M.NONE&&(this.ptInAreaLocation[t]=dn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new N;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){e.next().computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;o<2;o++)r.isLine(o)&&r.getLocation(o)===M.BOUNDARY&&(e[o]=!0);for(var s,a,n=this.iterator();n.hasNext();)for(r=(i=n.next()).getLabel(),o=0;o<2;o++){r.isAnyNull(o)&&(a=M.NONE,a=e[o]?M.EXTERIOR:(s=i.getCoordinate(),this.getLocation(o,s,t)),r.setAllLocationsIfNull(o,a))}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return pn}}),a(gn,pn),e(gn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,i=0;i<this.resultAreaEdgeList.size();i++){var r=this.resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new He("no outgoing dirEdge found",this.getCoordinate());f.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){this.insertEdgeEnd(t,t)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return $e.isNorthern(r)&&$e.isNorthern(o)?n:$e.isNorthern(r)||$e.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(f.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},print:function(t){O.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;0<=n;n--){var i=this.edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(Xe.LEFT)),i=t.getDepth(Xe.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new He("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var u=this.edgeList.get(a);u.getLabel(),u.setEdgeDepths(Xe.RIGHT,s),s=u.getDepth(Xe.LEFT)}return s}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;0<=r;r--){var o=this.resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this.SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this.SCANNING_FOR_INCOMING}}i===this.LINKING_TO_OUTGOING&&(f.isTrue(null!==e,"found null for first outgoing dirEdge"),f.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){e.next().isInResult()&&t++}return t}if(1===arguments.length){for(var n=arguments[0],t=0,e=this.iterator();e.hasNext();){e.next().getEdgeRing()===n&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=M.NONE,e=this.iterator();e.hasNext();){var n=(r=e.next()).getSym();if(!r.isLineEdge()){if(r.isInResult()){t=M.INTERIOR;break}if(n.isInResult()){t=M.EXTERIOR;break}}}if(t===M.NONE)return null;for(var i=t,e=this.iterator();e.hasNext();){var r,n=(r=e.next()).getSym();r.isLineEdge()?r.getEdge().setCovered(i===M.INTERIOR):(r.isInResult()&&(i=M.EXTERIOR),n.isInResult()&&(i=M.INTERIOR))}},computeLabelling:function(t){pn.prototype.computeLabelling.call(this,t),this.label=new Ke(M.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),i=0;i<2;i++){var r=n.getLocation(i);r!==M.INTERIOR&&r!==M.BOUNDARY||this.label.setLocation(i,M.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return gn}}),a(mn,an),e(mn.prototype,{createNode:function(t){return new nn(t,new gn)},interfaces_:function(){return[]},getClass:function(){return mn}}),e(vn.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return vn}}),e(yn.prototype,{isDelete:function(){return this.eventType===yn.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){return this.xValue<t.xValue?-1:this.xValue>t.xValue?1:this.eventType<t.eventType?-1:this.eventType>t.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===yn.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[n]},getClass:function(){return yn}}),yn.INSERT=1,yn.DELETE=2,e(_n.prototype,{interfaces_:function(){return[]},getClass:function(){return _n}}),e(bn.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(bn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return bn}}),bn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},a(xn,_n),e(xn.prototype,{prepareEvents:function(){Ko.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else{var i,r,o,s,a;3===arguments.length&&(arguments[2]instanceof bn&&L(arguments[0],m)&&L(arguments[1],m)?(i=arguments[0],r=arguments[1],o=arguments[2],this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)):"boolean"==typeof arguments[2]&&L(arguments[0],m)&&arguments[1]instanceof bn&&(s=arguments[0],a=arguments[1],arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)))}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new vn(n,r),s=new yn(e,n.getMinX(r),o);this.events.add(s),this.events.add(new yn(n.getMaxX(r),s))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s,a=this.events.get(o);a.isInsert()&&(s=a.getObject(),n.isSameLabel(a)||(r.computeIntersections(s,i),this.nOverlaps++))}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],t=arguments[0].iterator();t.hasNext();){e=t.next();this.addEdge(e,n)}},interfaces_:function(){return[]},getClass:function(){return xn}}),e(wn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return Ut.toLineString(new b(this.min,0),new b(this.max,0))},interfaces_:function(){return[]},getClass:function(){return wn}}),e(Cn.prototype,{compare:function(t,e){var n=(t.min+t.max)/2,i=(e.min+e.max)/2;return n<i?-1:i<n?1:0},interfaces_:function(){return[o]},getClass:function(){return Cn}}),wn.NodeComparator=Cn,a(En,wn),e(En.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return En}}),a(Sn,wn),e(Sn.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return Sn}}),e(Mn.prototype,{buildTree:function(){Ko.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new x;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new En(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){O.out.println(Ut.toLineString(new b(t.min,this.level),new b(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var i,r=t.get(n);null===(n+1<t.size()?t.get(n):null)?e.add(r):(i=new Sn(t.get(n),t.get(n+1)),e.add(i))}},interfaces_:function(){return[]},getClass:function(){return Mn}}),e(Ln.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof Nt){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof Ct&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[F]},getClass:function(){return Ln}}),Ln.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Ln.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Ln.getLines(e,n))}},Ln.getLines=function(){if(1===arguments.length)return Ln.getLines(arguments[0],!1);if(2===arguments.length){if(L(arguments[0],d)&&L(arguments[1],d)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();Ln.getLines(n,t)}return t}if(arguments[0]instanceof z&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1],o=new x;return i.apply(new Ln(o,r)),o}if(arguments[0]instanceof z&&L(arguments[1],d)){var s=arguments[0],a=arguments[1];return s instanceof Ct?a.add(s):s.apply(new Ln(a)),a}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&L(arguments[0],d)&&L(arguments[1],d)){for(var u=arguments[1],l=arguments[2],e=arguments[0].iterator();e.hasNext();){n=e.next();Ln.getLines(n,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof z&&L(arguments[1],d)){var c=arguments[1],h=arguments[2];return arguments[0].apply(new Ln(c,h)),c}}},e(Tn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[xe]},getClass:function(){return Tn}}),e(Nn.prototype,{locate:function(t){var e=new Xt(t),n=new In(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[fn]},getClass:function(){return Nn}}),e(In.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[xe]},getClass:function(){return In}}),e(kn.prototype,{init:function(t){for(var e=Ln.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new Kt(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this.index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Tn;return this.index.query(t,e,n),n.getItems()}var i,r,o;3===arguments.length&&(i=arguments[0],r=arguments[1],o=arguments[2],this.index.query(i,r,o))},interfaces_:function(){return[]},getClass:function(){return kn}}),Nn.SegmentVisitor=In,Nn.IntervalIndexedGeometry=kn,e(Pn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){return this.compare(t.segmentIndex,t.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[n]},getClass:function(){return Pn}}),e(An.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){e.next().print(t)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=0<e.dist||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new b(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new $n(o,new Ke(this.edge.label))},add:function(t,e,n){var i=new Pn(t,e,n),r=this.nodeMap.get(i);return null!==r?r:(this.nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){if(e.next().coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return An}}),e(Dn.prototype,{getChainStartIndices:function(t){var e=0,n=new x;n.add(new I(e));do{var i=this.findChainEnd(t,e);n.add(new I(i)),e=i}while(e<t.length-1);return Dn.toIntArray(n)},findChainEnd:function(t,e){for(var n=$e.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){if($e.quadrant(t[i-1],t[i])!==n)break;i++}return i-1},interfaces_:function(){return[]},getClass:function(){return Dn}}),Dn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(On.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return n<e?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[r],h=this.pts[o],f=s.pts[a],d=s.pts[u];if(o-r==1&&u-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+o)/2),g=Math.trunc((a+u)/2);r<p&&(a<g&&this.computeIntersectsForChain(r,p,s,a,g,l),g<u&&this.computeIntersectsForChain(r,p,s,g,u,l)),p<o&&(a<g&&this.computeIntersectsForChain(p,o,s,a,g,l),g<u&&this.computeIntersectsForChain(p,o,s,g,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return On}}),e(Rn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this.depth[t][e]!==Rn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===Rn.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.depth[i][r]===Rn.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this.depth[t][n]>e&&(i=1),this.depth[t][n]=i}}},getDelta:function(t){return this.depth[t][Xe.RIGHT]-this.depth[t][Xe.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?M.EXTERIOR:M.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){var t,e;if(1===arguments.length)for(var n=arguments[0],i=0;i<2;i++)for(var r=1;r<3;r++){var o=n.getLocation(i,r);o!==M.EXTERIOR&&o!==M.INTERIOR||(this.isNull(i,r)?this.depth[i][r]=Rn.depthAtLocation(o):this.depth[i][r]+=Rn.depthAtLocation(o))}else 3===arguments.length&&(t=arguments[0],e=arguments[1],arguments[2]===M.INTERIOR&&this.depth[t][e]++)},interfaces_:function(){return[]},getClass:function(){return Rn}}),Rn.depthAtLocation=function(t){return t===M.EXTERIOR?0:t===M.INTERIOR?1:Rn.NULL_VALUE},Rn.NULL_VALUE=-1,a($n,en),e($n.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new $n(t,Ke.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof $n))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return 0<this.pts.length?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)0<e&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){$n.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;0<=e;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new On(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new C;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,i){var r,o=new b(t.getIntersection(i)),s=e,a=t.getEdgeDistance(n,i),u=s+1;u<this.pts.length&&(r=this.pts[u],o.equals2D(r)&&(s=u,a=0)),this.eiList.add(o,s,a)},toString:function(){var t=new N;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)0<e&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return $n}}),$n.updateIM=function(){if(2!==arguments.length)return en.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Xe.ON),t.getLocation(1,Xe.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Xe.LEFT),t.getLocation(1,Xe.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Xe.RIGHT),t.getLocation(1,Xe.RIGHT),2))},a(Fn,un),e(Fn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e).getLabel(),i=1;n.getLocation(t,Xe.ON)===M.BOUNDARY&&i++;var r=Fn.determineBoundary(this.boundaryNodeRule,i);n.setLocation(t,r)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],i=arguments[2],r=new bn(arguments[0],!0,!1);r.setIsDoneIfProperInt(i);var o=this.createEdgeSetIntersector(),s=this.parentGeom instanceof Nt||this.parentGeom instanceof Lt||this.parentGeom instanceof It,a=n||!s;return o.computeIntersections(this.edges,r,a),this.addSelfIntersectionNodes(this.argIndex),r}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();){e.next().eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var i=new bn(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,i),i},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){var t,e;arguments[0]instanceof St?(t=arguments[0].getCoordinate(),this.insertPoint(this.argIndex,t,M.INTERIOR)):arguments[0]instanceof b&&(e=arguments[0],this.insertPoint(this.argIndex,e,M.INTERIOR))},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),M.EXTERIOR,M.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,M.INTERIOR,M.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],M.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],M.BOUNDARY)},addLineString:function(t){var e=G.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new $n(e,new Ke(this.argIndex,M.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),f.isTrue(2<=e.length,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===M.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=G.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=i[0],null;var r=e,o=n;Zt.isCCW(i)&&(r=n,o=e);var s=new $n(i,new Ke(this.argIndex,M.BOUNDARY,r,o));this.lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this.argIndex,i[0],M.BOUNDARY)},insertPoint:function(t,e,n){var i=this.nodes.addNode(e),r=i.getLabel();null===r?i.label=new Ke(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new xn},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return un.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof It&&(this.useBoundaryDeterminationRule=!1),t instanceof Lt)this.addPolygon(t);else if(t instanceof Ct)this.addLineString(t);else if(t instanceof St)this.addPoint(t);else if(t instanceof Tt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof It)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return L(this.parentGeom,Mt)&&50<this.parentGeom.getNumGeometries()?(null===this.areaPtLocator&&(this.areaPtLocator=new Nn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1!==arguments.length)return un.prototype.findEdge.apply(this,arguments);var t=arguments[0];return this.lineEdgeMap.get(t)},interfaces_:function(){return[]},getClass:function(){return Fn}}),Fn.determineBoundary=function(t,e){return t.isInBoundary(e)?M.BOUNDARY:M.INTERIOR},e(zn.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return zn}}),e(Bn.prototype,{compareTo:function(t){return Bn.compareOriented(this.pts,this._orientation,t.pts,t._orientation)},interfaces_:function(){return[n]},getClass:function(){return Bn}}),Bn.orientation=function(t){return 1===G.increasingDirection(t)},Bn.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=r)===s,f=(l+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}},e(jn.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);0<e&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)0<r&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new Bn(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new Bn(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return jn}}),a(qn,zn),e(qn.prototype,{insertUniqueEdge:function(t){var e,n,i,r=this.edgeList.findEqualEdge(t);null!==r?(e=r.getLabel(),n=t.getLabel(),r.isPointwiseEqual(t)||(n=new Ke(t.getLabel())).flip(),(i=r.getDepth()).isNull()&&i.add(e),i.add(n),e.merge(n)):this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,i){var r=new x;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?qn.createEmptyResult(i,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){t.next().getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this.ptLocator.locate(t,i)!==M.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new x,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new x;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),We.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new ln(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var i=new cn(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var r=new hn(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&qn.isResultOfOp(i.getLocation(0,Xe.RIGHT),i.getLocation(1,Xe.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(f.isTrue(!i.isNull(r,Xe.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,Xe.LEFT,i.getLocation(r,Xe.LEFT)),f.isTrue(!i.isNull(r,Xe.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,Xe.RIGHT,i.getLocation(r,Xe.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){t.next().getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return qn}}),qn.overlayOp=function(t,e,n){return new qn(t,e).getResultGeometry(n)},qn.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return qn.createEmptyResult(qn.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Ye.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Vn.overlayOp(t,e,qn.INTERSECTION)},qn.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return qn.createEmptyResult(qn.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Vn.overlayOp(t,e,qn.SYMDIFFERENCE)},qn.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case qn.INTERSECTION:o=Math.min(i,r);break;case qn.UNION:o=Math.max(i,r);break;case qn.DIFFERENCE:o=i;break;case qn.SYMDIFFERENCE:o=Math.max(i,r)}return o},qn.createEmptyResult=function(t,e,n,i){var r=null;switch(qn.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},qn.difference=function(t,e){return t.isEmpty()?qn.createEmptyResult(qn.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Vn.overlayOp(t,e,qn.DIFFERENCE))},qn.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return qn.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1];switch(r===M.BOUNDARY&&(r=M.INTERIOR),o===M.BOUNDARY&&(o=M.INTERIOR),arguments[2]){case qn.INTERSECTION:return r===M.INTERIOR&&o===M.INTERIOR;case qn.UNION:return r===M.INTERIOR||o===M.INTERIOR;case qn.DIFFERENCE:return r===M.INTERIOR&&o!==M.INTERIOR;case qn.SYMDIFFERENCE:return r===M.INTERIOR&&o!==M.INTERIOR||r!==M.INTERIOR&&o===M.INTERIOR}return!1}},qn.INTERSECTION=1,qn.UNION=2,qn.DIFFERENCE=3,qn.SYMDIFFERENCE=4,e(Hn.prototype,{selfSnap:function(t){return new ae(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new ce,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=qn.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||O.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=ae.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return ae.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return Hn}}),Hn.overlayOp=function(t,e,n){return new Hn(t,e).getResultGeometry(n)},Hn.union=function(t,e){return Hn.overlayOp(t,e,qn.UNION)},Hn.intersection=function(t,e){return Hn.overlayOp(t,e,qn.INTERSECTION)},Hn.symDifference=function(t,e){return Hn.overlayOp(t,e,qn.SYMDIFFERENCE)},Hn.difference=function(t,e){return Hn.overlayOp(t,e,qn.DIFFERENCE)},e(Vn.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=qn.overlayOp(this.geom[0],this.geom[1],t);n=!0}catch(t){if(!(t instanceof _))throw t;i=t}if(!n)try{e=Hn.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof _?i:t}return e},interfaces_:function(){return[]},getClass:function(){return Vn}}),Vn.overlayOp=function(t,e,n){return new Vn(t,e).getResultGeometry(n)},Vn.union=function(t,e){return Vn.overlayOp(t,e,qn.UNION)},Vn.intersection=function(t,e){return Vn.overlayOp(t,e,qn.INTERSECTION)},Vn.symDifference=function(t,e){return Vn.overlayOp(t,e,qn.SYMDIFFERENCE)},Vn.difference=function(t,e){return Vn.overlayOp(t,e,qn.DIFFERENCE)},e(Un.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e,n,i=null,r=0,o=this.horizontalBisector(t);i=0===o.getLength()?(r=0,o.getCoordinate()):(e=Vn.overlayOp(o,t,qn.INTERSECTION),r=(n=this.widestGeometry(e)).getEnvelopeInternal().getWidth(),Un.centre(n.getEnvelopeInternal())),(null===this.interiorPoint||r>this.maxWidth)&&(this.interiorPoint=i,this.maxWidth=r)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ft){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof z){var i=arguments[0];return i instanceof ft?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=Gn.getBisectorY(t);return this.factory.createLineString([new b(e.getMinX(),n),new b(e.getMaxX(),n)])},add:function(t){if(t instanceof Lt)this.addPolygon(t);else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return Un}}),Un.centre=function(t){return new b(Un.avg(t.getMinX(),t.getMaxX()),Un.avg(t.getMinY(),t.getMaxY()))},Un.avg=function(t,e){return(t+e)/2},e(Gn.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return Un.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return Gn}}),Gn.getBisectorY=function(t){return new Gn(t).getBisectorY()},Un.SafeBisectorFinder=Gn,e(Wn.prototype,{addEndpoints:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t instanceof Ct)this.addEndpoints(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else{var i;arguments[0]instanceof Array&&(i=arguments[0],this.add(i[0]),this.add(i[i.length-1]))}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t instanceof Ct)this.addInterior(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var i=arguments[0],n=1;n<i.length-1;n++)this.add(i[n])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new b(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return Wn}}),e(Yn.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t instanceof St)this.add(t.getCoordinate());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else{var i,r;arguments[0]instanceof b&&((r=(i=arguments[0]).distance(this.centroid))<this.minDistance&&(this.interiorPoint=new b(i),this.minDistance=r))}},interfaces_:function(){return[]},getClass:function(){return Yn}}),e(Xn.prototype,{select:function(){var t;1===arguments.length||2===arguments.length&&(t=arguments[1],arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment))},interfaces_:function(){return[]},getClass:function(){return Xn}}),e(Zn.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<2;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<2;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t,e=0,n=0;n<2;n++){null===this.subnode[n]||e<(t=this.subnode[n].depth())&&(e=t)}return e+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(Kn.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Kn){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[1];return arguments[0]>=this.min&&n<=this.max}},init:function(t,e){this.min=t,(this.max=e)<t&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Kn}}),Jn.exponent=function(t){return function(t,e){var n,i,r,o,s={32:8,64:11}[t];if(o||(n=e<0||1/e<0,isFinite(e)||(o={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[t],n&&(o.d+=1<<t/4-1),i=Math.pow(2,s)-1,r=0)),!o){for(i={32:127,64:1023}[t],r=Math.abs(e);2<=r;)i++,r/=2;for(;r<1&&0<i;)i--,r*=2;i<=0&&(r/=2),32===t&&254<i&&(o={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,s)-1,r=0)}return i}(64,t)-1023},Jn.powerOf2=function(t){return Math.pow(2,t)},e(Qn.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=Qn.computeLevel(t),this.interval=new Kn,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=Jn.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.computeLevel=function(t){var e=t.getWidth();return Jn.exponent(e)+1},a(ti,Zn),e(ti.prototype,{getInterval:function(){return this.interval},find:function(t){var e=Zn.getSubnodeIndex(t,this.centre);return-1===e||null===this.subnode[e]?this:this.subnode[e].find(t)},insert:function(t){f.isTrue(null===this.interval||this.interval.contains(t.interval));var e,n=Zn.getSubnodeIndex(t.interval,this.centre);t.level===this.level-1?this.subnode[n]=t:((e=this.createSubnode(n)).insert(t),this.subnode[n]=e)},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=Zn.getSubnodeIndex(t,this.centre);return-1===e?this:this.getSubnode(e).getNode(t)},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new ti(new Kn(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return ti}}),ti.createNode=function(t){var e=new Qn(t);return new ti(e.getInterval(),e.getLevel())},ti.createExpanded=function(t,e){var n=new Kn(e);null!==t&&n.expandToInclude(t.interval);var i=ti.createNode(n);return null!==t&&i.insert(t),i},e(ei.prototype,{interfaces_:function(){return[]},getClass:function(){return ei}}),ei.isZeroWidth=function(t,e){var n=e-t;if(0==n)return!0;var i=Math.max(Math.abs(t),Math.abs(e));return Jn.exponent(n/i)<=ei.MIN_BINARY_EXPONENT},ei.MIN_BINARY_EXPONENT=-50,a(ni,Zn),e(ni.prototype,{insert:function(t,e){var n=Zn.getSubnodeIndex(t,ni.origin);if(-1===n)return this.add(e),null;var i,r=this.subnode[n];null!==r&&r.getInterval().contains(t)||(i=ti.createExpanded(r,t),this.subnode[n]=i),this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getInterval().contains(e));(ei.isZeroWidth(e.getMin(),e.getMax())?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return ni}}),ni.origin=0,e(ii.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=ii.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new Kn(t,t))}if(arguments[0]instanceof Kn){var e=arguments[0],n=new x;return this.query(e,n),n}}else{var i,r;2===arguments.length&&(i=arguments[0],r=arguments[1],this.root.addAllItemsFromOverlapping(i,r))}},iterator:function(){var t=new x;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=ii.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&0<e&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(i=(n-=e/2)+e/2),new Kn(n,i))},e(ri.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return ri}}),e(oi.prototype,{testLineSegment:function(t,e){var n=e.p0,i=e.p1,r=n.x-t.x,o=n.y-t.y,s=i.x-t.x,a=i.y-t.y;!(0<o&&a<=0||0<a&&o<=0)||0<Yt.signOfDet2x2(r,o,s,a)/(a-o)&&this.crossings++},buildIndex:function(){this.tree=new ii;for(var t=G.removeRepeatedPoints(this.ring.getCoordinates()),e=Fe.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new C(y.NEGATIVE_INFINITY,y.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new si(this,t),r=n.iterator();r.hasNext();){var o=r.next();this.testMonotoneChain(e,i,o)}return this.crossings%2==1},interfaces_:function(){return[ri]},getClass:function(){return oi}}),a(si,Xn),e(si.prototype,{select:function(){if(1!==arguments.length)return Xn.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return si}}),oi.MCSelecter=si,e(ai.prototype,{interfaces_:function(){return[]},getClass:function(){return ai}}),ai.toDegrees=function(t){return 180*t/Math.PI},ai.normalize=function(t){for(;t>Math.PI;)t-=ai.PI_TIMES_2;for(;t<=-Math.PI;)t+=ai.PI_TIMES_2;return t},ai.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},ai.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return 0<i*(n.x-e.x)+r*(n.y-e.y)},ai.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},ai.interiorAngle=function(t,e,n){var i=ai.angle(e,t),r=ai.angle(e,n);return Math.abs(r-i)},ai.normalizePositive=function(t){if(t<0){for(;t<0;)t+=ai.PI_TIMES_2;ai.PI_TIMES_2<=t&&(t=0)}else{for(;ai.PI_TIMES_2<=t;)t-=ai.PI_TIMES_2;t<0&&(t=0)}return t},ai.angleBetween=function(t,e,n){var i=ai.angle(e,t),r=ai.angle(e,n);return ai.diff(i,r)},ai.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},ai.toRadians=function(t){return t*Math.PI/180},ai.getTurn=function(t,e){var n=Math.sin(e-t);return 0<n?ai.COUNTERCLOCKWISE:n<0?ai.CLOCKWISE:ai.NONE},ai.angleBetweenOriented=function(t,e,n){var i=ai.angle(e,t),r=ai.angle(e,n)-i;return r<=-Math.PI?r+ai.PI_TIMES_2:r>Math.PI?r-ai.PI_TIMES_2:r},ai.PI_TIMES_2=2*Math.PI,ai.PI_OVER_2=Math.PI/2,ai.PI_OVER_4=Math.PI/4,ai.COUNTERCLOCKWISE=Zt.COUNTERCLOCKWISE,ai.CLOCKWISE=Zt.CLOCKWISE,ai.NONE=Zt.COLLINEAR,e(ui.prototype,{area:function(){return ui.area(this.p0,this.p1,this.p2)},signedArea:function(){return ui.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new h;return ui.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return ui.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return ui.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return ui.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return ui.area3D(this.p0,this.p1,this.p2)},centroid:function(){return ui.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return ui.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return ui}}),ui.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},ui.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},ui.det=function(t,e,n,i){return t*i-e*n},ui.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,c=s*l-a*u,h=t.x-r,f=t.y-o,d=(l*h-a*f)/c,p=(-u*h+s*f)/c;return e.z+d*(n.z-e.z)+p*(i.z-e.z)},ui.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return s<r&&(s=r),s<o&&(s=o),s},ui.isAcute=function(t,e,n){return!!ai.isAcute(t,e,n)&&!!ai.isAcute(e,n,t)&&!!ai.isAcute(n,t,e)},ui.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,l=2*ui.det(o,s,a,u);return new b(i-ui.det(s,o*o+s*s,u,a*a+u*u)/l,r+ui.det(o,o*o+s*s,a,a*a+u*u)/l)},ui.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new R(t.x+n/2,t.y+i/2,1),o=new R(t.x-i+n/2,t.y+n+i/2,1);return new R(r,o)},ui.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new b(t.x+r*o,t.y+r*s)},ui.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,c=o*s-i*u,h=i*a-r*s,f=l*l+c*c+h*h;return Math.sqrt(f)/2},ui.centroid=function(t,e,n){return new b((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},ui.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o;return new b((i*t.x+r*e.x+o*n.x)/s,(i*t.y+r*e.y+o*n.y)/s)},e(li.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new b(t[0])],null}var e=this.input.convexHull().getCoordinates(),t=e;if(e[0].equals2D(e[e.length-1])&&(t=new Array(e.length-1).fill(null),G.copyDeep(e,0,t,0,e.length-1)),t.length<=2)return this.extremalPts=G.copyDeep(t),null;for(var n=li.lowestPoint(t),i=li.pointWitMinAngleWithX(t,n),r=0;r<t.length;r++){var o=li.pointWithMinAngleWithSegment(t,n,i);if(ai.isObtuse(n,o,i))return this.extremalPts=[new b(n),new b(i)],null;if(ai.isObtuse(o,n,i))n=o;else{if(!ai.isObtuse(o,i,n))return this.extremalPts=[new b(n),new b(i),new b(o)],null;i=o}}f.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new b((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=ui.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return li}}),li.pointWitMinAngleWithX=function(t,e){for(var n=y.MAX_VALUE,i=null,r=0;r<t.length;r++){var o,s,a,u=t[r];u!==e&&(o=u.x-e.x,(s=u.y-e.y)<0&&(s=-s),(a=s/Math.sqrt(o*o+s*s))<n&&(n=a,i=u))}return i},li.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},li.pointWithMinAngleWithSegment=function(t,e,n){for(var i=y.MAX_VALUE,r=null,o=0;o<t.length;o++){var s,a=t[o];a===e||a===n||(s=ai.angleBetween(e,a,n))<i&&(i=s,r=a)}return r},e(ci.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof Lt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=y.MAX_VALUE;for(var e=1,n=new Kt,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;var t;this.isConvex?this.computeWidthConvex(this.inputGeom):(t=new ie(this.inputGeom).getConvexHull(),this.computeWidthConvex(t))},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),r=i,o=n,s=o;i<=r;)i=r,o=s,s=ci.nextIndex(t,o),r=e.distancePerpendicular(t[s]);return i<this.minWidth&&(this.minPtIndex=o,this.minWidth=i,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new Kt(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=y.MAX_VALUE,i=-y.MAX_VALUE,r=y.MAX_VALUE,o=-y.MAX_VALUE,s=0;s<this.convexHullPts.length;s++){var a=ci.computeC(t,e,this.convexHullPts[s]);i<a&&(i=a),a<n&&(n=a);var u=ci.computeC(-e,t,this.convexHullPts[s]);o<u&&(o=u),u<r&&(r=u)}var l=ci.computeSegmentForLine(-t,-e,o),c=ci.computeSegmentForLine(-t,-e,r),h=ci.computeSegmentForLine(-e,t,i),f=ci.computeSegmentForLine(-e,t,n),d=h.lineIntersection(l),p=f.lineIntersection(l),g=f.lineIntersection(c),m=h.lineIntersection(c),v=this.inputGeom.getFactory().createLinearRing([d,p,g,m,d]);return this.inputGeom.getFactory().createPolygon(v,null)},interfaces_:function(){return[]},getClass:function(){return ci}}),ci.nextIndex=function(t,e){return++e>=t.length&&(e=0),e},ci.computeC=function(t,e,n){return t*n.y-e*n.x},ci.getMinimumDiameter=function(t){return new ci(t).getDiameter()},ci.getMinimumRectangle=function(t){return new ci(t).getMinimumRectangle()},ci.computeSegmentForLine=function(t,e,n){var i=null,r=null,r=Math.abs(e)>Math.abs(t)?(i=new b(0,n/e),new b(1,n/e-t/e)):(i=new b(n/t,0),new b(n/t-e/t,1));return new Kt(i,r)};var Jo=Object.freeze({Centroid:Qt,CGAlgorithms:Zt,ConvexHull:ie,InteriorPointArea:Un,InteriorPointLine:Wn,InteriorPointPoint:Yn,RobustLineIntersector:Wt,MCPointInRing:oi,MinimumBoundingCircle:li,MinimumDiameter:ci});e(hi.prototype,{getResultGeometry:function(){return new fi(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new h;this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.densifyPoints=function(t,e,n){for(var i=new Kt,r=new w,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var s=i.getLength(),a=Math.trunc(s/e)+1;if(1<a)for(var u=s/a,l=1;l<a;l++){var c=l*u/s,h=i.pointAlong(c);n.makePrecise(h),r.add(h,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},hi.densify=function(t,e){var n=new hi(t);return n.setDistanceTolerance(e),n.getResultGeometry()},a(fi,oe),e(fi.prototype,{transformMultiPolygon:function(t,e){var n=oe.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=oe.prototype.transformPolygon.call(this,t,e);return e instanceof It?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=hi.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof Ct&&1===i.length&&(i=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return fi}}),hi.DensifyTransformer=fi;var Qo=Object.freeze({Densifier:hi});e(di.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext();if(i.compareTo(t)!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);f.shouldNeverReachHere()},insertAfter:function(t){f.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){for(var t=0,e=this;t++,(e=e.oNext())!==this;);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=$e.quadrant(e,n),s=$e.quadrant(i,r);return s<o?1:o<s?-1:Zt.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){return this.compareAngularDirection(t)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return di}}),di.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},di.create=function(t,e){var n=new di(t),i=new di(e);return n.init(i),n},a(pi,di),e(pi.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return pi}}),pi.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},pi.isMarked=function(t){return t.isMarked()},pi.setMark=function(t,e){t.setMark(e)},pi.markBoth=function(t){t.mark(),t.sym().mark()},pi.mark=function(t){t.mark()},e(gi.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this.vertexMap.put(t,i);var r=this.vertexMap.get(e);return null!==r?r.insert(i.sym()):this.vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return di.init(n,i),n},createEdge:function(t){return new di(t)},addEdge:function(t,e){if(!gi.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),i=null;return null!==n&&(i=n.find(e)),null!==i?i:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return gi}}),gi.isValidEdge=function(t,e){return 0!==e.compareTo(t)},a(mi,pi),e(mi.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return mi}}),a(vi,gi),e(vi.prototype,{createEdge:function(t){return new mi(t)},interfaces_:function(){return[]},getClass:function(){return vi}}),e(yi.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym()).isStart()?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new w,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new w,n=t;for(this.ringStartEdge=null,pi.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this.ringStartEdge),null;e.add(i.orig().copy(),!1),pi.markBoth(n=i)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){for(var e=t;pi.isMarked(e)||this.nodeEdgeStack.add(e),(e=e.oNext())!==t;);},computeResult:function(){for(var t=this.graph.getVertexEdges().iterator();t.hasNext();){var e=t.next();pi.isMarked(e)||this.process(e)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();pi.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof z)arguments[0].apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Ct&&this.add(t)}});else if(L(arguments[0],d))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.add(e)}else if(arguments[0]instanceof Ct){var n=arguments[0];null===this.factory&&(this.factory=n.getFactory());for(var i=n.getCoordinateSequence(),r=!1,t=1;t<i.size();t++){var o=this.graph.addEdge(i.getCoordinate(t-1),i.getCoordinate(t));null!==o&&(r||(o.setStart(),r=!0))}}},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.dissolve=function(t){var e=new yi;return e.add(t),e.getResult()};var ts=Object.freeze({LineDissolver:yi}),es=Object.freeze({GeometryGraph:Fn});e(_i.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;e<4;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;i<4;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;n<4;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t,e=0,n=0;n<4;n++){null===this.subnode[n]||e<(t=this.subnode[n].depth())&&(e=t)}return e+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[s]},getClass:function(){return _i}}),_i.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i},e(bi.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=bi.computeQuadLevel(t),this.env=new C,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else{var e,n;2===arguments.length&&(e=arguments[1],n=Jn.powerOf2(arguments[0]),this.pt.x=Math.floor(e.getMinX()/n)*n,this.pt.y=Math.floor(e.getMinY()/n)*n,this.env.init(this.pt.x,this.pt.x+n,this.pt.y,this.pt.y+n))}},getEnvelope:function(){return this.env},getCentre:function(){return new b((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight();return Jn.exponent(n<e?e:n)+1},a(xi,_i),e(xi.prototype,{find:function(t){var e=_i.getSubnodeIndex(t,this.centrex,this.centrey);return-1===e||null===this.subnode[e]?this:this.subnode[e].find(t)},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=_i.getSubnodeIndex(t,this.centrex,this.centrey);return-1===e?this:this.getSubnode(e).getNode(t)},createSubnode:function(t){var e=0,n=0,i=0,r=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,i=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),i=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,i=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),i=this.centrey,r=this.env.getMaxY()}return new xi(new C(e,n,i,r),this.level-1)},insertNode:function(t){f.isTrue(null===this.env||this.env.contains(t.env));var e,n=_i.getSubnodeIndex(t.env,this.centrex,this.centrey);t.level===this.level-1?this.subnode[n]=t:((e=this.createSubnode(n)).insertNode(t),this.subnode[n]=e)},interfaces_:function(){return[]},getClass:function(){return xi}}),xi.createNode=function(t){var e=new bi(t);return new xi(e.getEnvelope(),e.getLevel())},xi.createExpanded=function(t,e){var n=new C(e);null!==t&&n.expandToInclude(t.env);var i=xi.createNode(n);return null!==t&&i.insertNode(t),i},a(wi,_i),e(wi.prototype,{insert:function(t,e){var n=_i.getSubnodeIndex(t,wi.origin.x,wi.origin.y);if(-1===n)return this.add(e),null;var i,r=this.subnode[n];null!==r&&r.getEnvelope().contains(t)||(i=xi.createExpanded(r,t),this.subnode[n]=i),this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getEnvelope().contains(e));var i=ei.isZeroWidth(e.getMinX(),e.getMaxX()),r=ei.isZeroWidth(e.getMinY(),e.getMaxY());(i||r?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return wi}}),wi.origin=new b(0,0),e(Ci.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=Ci.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Tn;return this.query(t,e),e.getItems()}var n,i;2===arguments.length&&(n=arguments[0],i=arguments[1],this.root.visit(n,i))},queryAll:function(){var t=new x;return this.root.addAllItems(t),t},remove:function(t,e){var n=Ci.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&0<e&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&0<n&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[we,s]},getClass:function(){return Ci}}),Ci.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(i=(n-=e/2)+e/2),r===o&&(o=(r-=e/2)+e/2),new C(n,i,r,o))},Ci.serialVersionUID=-0x678b60c967a25400;var ns=Object.freeze({Quadtree:Ci}),is=Object.freeze({STRtree:Le}),rs=Object.freeze({quadtree:ns,strtree:is}),os=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(Ei.prototype,{read:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!ss[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==os.indexOf(n)?ss[n].apply(this,[e.coordinates]):"GeometryCollection"===n?ss[n].apply(this,[e.geometries]):ss[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!as[e])throw new Error("Geometry is not supported");return as[e].apply(this,[t])}});var ss={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!ss[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=ss.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new b(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new b(t[0],t[1]),new b(t[2],t[1]),new b(t[2],t[3]),new b(t[0],t[3]),new b(t[0],t[1])])},Point:function(t){var e=new b(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ss.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=ss.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(ss.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=ss.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=ss.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(ss.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},as={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:as.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=as.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(as.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=as.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=as.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var i=0;i<t.holes.length;++i){var r=t.holes[i],o=as.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=as.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=i.getGeometryType();e.push(as[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}};e(Si.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===jt.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])}}),e(Mi.prototype,{write:function(t){return this.parser.write(t)}}),e(Li.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===jt.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;e<n;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var i=0,r=t.geometries.length;i<r;i++)this.reducePrecision(t.geometries[i])}}),e(Ni.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new b(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new b(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new b(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Ti);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Ti);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Ti)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Ti));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(Ti))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new this.ol.geom.GeometryCollection(e)}});var us=Object.freeze({GeoJSONReader:Si,GeoJSONWriter:Mi,OL3Parser:Ni,WKTReader:Li,WKTWriter:Ut});e(Ii.prototype,{rescale:function(){if(L(arguments[0],d))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){var n=arguments[0];2===n.length&&(new b(n[0]),new b(n[1]));for(t=0;t<n.length;t++)n[t].x=n[t].x/this.scaleFactor+this.offsetX,n[t].y=n[t].y/this.scaleFactor+this.offsetY;2===n.length&&n[0].equals2D(n[1])&&O.out.println(n)}},scale:function(){if(L(arguments[0],d)){for(var t=arguments[0],e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new De(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),n=0;n<r.length;n++)o[n]=new b(Math.round((r[n].x-this.offsetX)*this.scaleFactor),Math.round((r[n].y-this.offsetY)*this.scaleFactor),r[n].z);return G.removeRepeatedPoints(o)}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[ze]},getClass:function(){return Ii}});var ls=Object.freeze({MCIndexNoder:je,ScaledNoder:Ii,SegmentString:me});e(ki.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new at,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n).getCoordinate();if(e.contains(i))return this.nonSimpleLocation=i,!1;e.add(i)}return!0},isSimplePolygonal:function(t){for(var e=Ln.getLines(t).iterator();e.hasNext();){var n=e.next();if(!this.isSimpleLinearGeometry(n))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var s=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,s,r)}for(n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Fn(0,t),n=new Wt,i=e.computeSelfNodes(n,!0);return!(i.hasIntersection()&&(i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new Pi(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof Ct||t instanceof dt?this.isSimpleLinearGeometry(t):t instanceof Tt?this.isSimpleMultiPoint(t):L(t,Mt)?this.isSimplePolygonal(t):!(t instanceof ft)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return ki}}),e(Pi.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Pi}}),ki.EndpointInfo=Pi,e(Ai.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=Ai.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Ai.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),t<=0&&(this.quadrantSegments=1),this.joinStyle!==Ai.JOIN_ROUND&&(this.quadrantSegments=Ai.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ai.CAP_ROUND=1,Ai.CAP_FLAT=2,Ai.CAP_SQUARE=3,Ai.JOIN_ROUND=1,Ai.JOIN_MITRE=2,Ai.JOIN_BEVEL=3,Ai.DEFAULT_QUADRANT_SEGMENTS=8,Ai.DEFAULT_MITRE_LIMIT=5,Ai.DEFAULT_SIMPLIFY_FACTOR=.01,e(Di.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();f.isTrue(0<this.minIndex&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],i=Zt.computeOrientation(this.minCoord,n,e),r=!1;(e.y<this.minCoord.y&&n.y<this.minCoord.y&&i===Zt.COUNTERCLOCKWISE||e.y>this.minCoord.y&&n.y>this.minCoord.y&&i===Zt.CLOCKWISE)&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Xe.LEFT;return n[e].y<n[e+1].y&&(i=Xe.RIGHT),i},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode().getEdges();this.minDe=t.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}f.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===Xe.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Di}}),Oi.prototype.addLast=function(t){this.array_.push(t)},Oi.prototype.removeFirst=function(){return this.array_.shift()},Oi.prototype.isEmpty=function(){return 0===this.array_.length},e(Ri.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){t.next().setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){if((i=n.next()).isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new He("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i,n=t.getEdges().iterator();n.hasNext();){(i=n.next()).setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Xe.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();1<=e.getDepth(Xe.RIGHT)&&e.getDepth(Xe.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new J,n=new Oi,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s,a=o.next().getSym();a.isVisited()||(s=a.getNode(),e.contains(s)||(n.addLast(s),e.add(s)))}}},compareTo:function(t){return this.rightMostCoord.x<t.rightMostCoord.x?-1:this.rightMostCoord.x>t.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new C,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this.env=t}return this.env},addReachable:function(t){var e=new ee;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(Xe.LEFT,t.getDepth(Xe.RIGHT)),e.setDepth(Xe.RIGHT,t.getDepth(Xe.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this.dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[n]},getClass:function(){return Ri}}),e($i.prototype,{isDeletable:function(t,e,n,i){var r=this.inputLine[t],o=this.inputLine[e],s=this.inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this.inputLine.length;){var r=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=$i.DELETE,i=r=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){return Zt.computeOrientation(t,e,n)===this.angleOrientation&&Zt.distancePointLine(e,t,n)<i},isShallowSampled:function(t,e,n,i,r){var o=Math.trunc((i-n)/$i.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this.inputLine[s],r))return!1;return!0},isConcave:function(t,e,n){var i=Zt.computeOrientation(t,e,n)===this.angleOrientation;return i},simplify:function(t){this.distanceTol=Math.abs(t),t<0&&(this.angleOrientation=Zt.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);for(;this.deleteShallowConcavities(););return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===$i.DELETE;)e++;return e},isShallow:function(t,e,n,i){return Zt.distancePointLine(e,t,n)<i},collapseLine:function(){for(var t=new w,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==$i.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return $i}}),$i.simplify=function(t,e){return new $i(t).simplify(e)},$i.INIT=0,$i.DELETE=1,$i.KEEP=1,$i.NUM_PTS_TO_CHECK=10,e(Fi.prototype,{getCoordinates:function(){return this.ptList.toArray(Fi.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new b(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(n=t.length-1;0<=n;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new Ht).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new b(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return 2<=this.ptList.size()&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Fi}}),Fi.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(zi.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=Zt.computeOrientation(this.s0,this.s1,this.s2),i=n===Zt.CLOCKWISE&&this.side===Xe.LEFT||n===Zt.COUNTERCLOCKWISE&&this.side===Xe.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new Kt(t,e),i=new Kt;this.computeOffsetSegment(n,Xe.LEFT,this.distance,i);var r=new Kt;this.computeOffsetSegment(n,Xe.RIGHT,this.distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this.bufParams.getEndCapStyle()){case Ai.CAP_ROUND:this.segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,Zt.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case Ai.CAP_FLAT:this.segList.addPt(i.p1),this.segList.addPt(r.p1);break;case Ai.CAP_SQUARE:var u=new b;u.x=Math.abs(this.distance)*Math.cos(a),u.y=Math.abs(this.distance)*Math.sin(a);var l=new b(i.p1.x+u.x,i.p1.y+u.y),c=new b(r.p1.x+u.x,r.p1.y+u.y);this.segList.addPt(l),this.segList.addPt(c)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=R.intersection(e.p0,e.p1,n.p0,n.p1);(i<=0?1:o.distance(t)/Math.abs(i))>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof S))throw t;o=new b(0,0),r=!1}r?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===Zt.CLOCKWISE?a<=c&&(a+=2*Math.PI):c<=a&&(a-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,a,c,i,r),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*zi.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Ai.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Ai.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new b(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new b(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new b(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new b(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this.seg0.p1,o=ai.angle(r,this.seg0.p0),s=(ai.angle(r,this.seg1.p1),ai.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1))/2,a=ai.normalize(o+s),u=ai.normalize(a+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(s)),h=new Kt(r,new b(r.x+l*Math.cos(u),r.y+l*Math.sin(u))),f=h.pointAlongOffset(1,c),d=h.pointAlongOffset(1,-c);this.side===Xe.LEFT?(this.segList.addPt(f),this.segList.addPt(d)):(this.segList.addPt(d),this.segList.addPt(f))},computeOffsetSegment:function(t,e,n,i){var r=e===Xe.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var o=i===Zt.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this.filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new b;l<s;){var h=e+o*l;c.x=t.x+r*Math.cos(h),c.y=t.y+r*Math.sin(h),this.segList.addPt(c),l+=u}},addInsideTurn:function(t,e){var n,i;this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection()?this.segList.addPt(this.li.getIntersection(0)):(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*zi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR?this.segList.addPt(this.offset0.p1):(this.segList.addPt(this.offset0.p1),0<this.closingSegLengthFactor?(n=new b((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1)),this.segList.addPt(n),i=new b((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1)),this.segList.addPt(i)):this.segList.addPt(this.s1),this.segList.addPt(this.offset1.p0)))},createCircle:function(t){var e=new b(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Fi,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*zi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),2<=this.li.getIntersectionNum()&&(this.bufParams.getJoinStyle()===Ai.JOIN_BEVEL||this.bufParams.getJoinStyle()===Ai.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,Zt.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return zi}}),zi.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,zi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,zi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,zi.MAX_CLOSING_SEG_LEN_FACTOR=80,e(Bi.prototype,{getOffsetCurve:function(t,e){if(0===(this.distance=e))return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&G.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var r=$i.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Xe.LEFT),n.addFirstSegment();for(var s=o-2;0<=s;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=$i.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Xe.LEFT),n.addFirstSegment();for(s=2;s<=u;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);e===Xe.RIGHT&&(i=-i);var r=$i.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),i=$i.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Xe.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=$i.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Xe.LEFT);for(o=a-2;0<=o;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case Ai.CAP_ROUND:e.createCircle(t);break;case Ai.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if((this.distance=e)<0&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n,i=Math.abs(e),r=this.getSegGen(i);return t.length<=1?this.computePointCurve(t[0],r):this.bufParams.isSingleSided()?(n=e<0,this.computeSingleSidedBufferCurve(t,n,r)):this.computeLineBufferCurve(t,r),r.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Bi.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){var r=$i.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Xe.LEFT),n.addFirstSegment();for(var s=o-2;0<=s;s--)n.addNextSegment(r[s],!0)}else{var a=$i.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],Xe.LEFT),n.addFirstSegment();for(s=2;s<=u;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(t){return new zi(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Bi}}),Bi.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new b(t[n]);return e},e(ji.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=this.subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(L(arguments[2],m)&&arguments[0]instanceof b&&arguments[1]instanceof sn)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),n=0;n<u.length-1;n++){var l,c;this.seg.p0=u[n],this.seg.p1=u[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse(),Math.max(this.seg.p0.x,this.seg.p1.x)<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||Zt.computeOrientation(this.seg.p0,this.seg.p1,o)===Zt.RIGHT||(l=s.getDepth(Xe.LEFT),this.seg.p0.equals(u[n])||(l=s.getDepth(Xe.RIGHT)),c=new qi(this.seg,l),a.add(c))}else if(L(arguments[2],m)&&arguments[0]instanceof b&&L(arguments[1],m))for(var h=arguments[0],f=arguments[2],n=arguments[1].iterator();n.hasNext();){var d=n.next();d.isForward()&&this.findStabbedSegments(h,d,f)}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Ko.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return ji}}),e(qi.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:0!==(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg))?n:this.upwardSeg.compareTo(e.upwardSeg)},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[n]},getClass:function(){return qi}}),ji.DepthSegment=qi,e(Hi.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},addPolygon:function(t){var e=this.distance,n=Xe.LEFT;this.distance<0&&(e=-this.distance,n=Xe.RIGHT);var i=t.getExteriorRing(),r=G.removeRepeatedPoints(i.getCoordinates());if(this.distance<0&&this.isErodedCompletely(i,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,M.EXTERIOR,M.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=G.removeRepeatedPoints(s.getCoordinates());0<this.distance&&this.isErodedCompletely(s,-this.distance)||this.addPolygonRing(a,e,Xe.opposite(n),M.INTERIOR,M.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new ui(t[0],t[1],t[2]),i=n.inCentre();return Zt.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=G.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new De(t,new Ke(0,M.BOUNDARY,e,n));this.curveList.add(i)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<Nt.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=Nt.MINIMUM_VALID_SIZE&&Zt.isCCW(t)&&(o=r,s=i,n=Xe.opposite(n));var a=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof Lt)this.addPolygon(t);else if(t instanceof Ct)this.addLineString(t);else if(t instanceof St)this.addPoint(t);else if(t instanceof Tt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof It)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),e(Vi.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Vi.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[Ve]},getClass:function(){return Vi}}),Vi.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Ui.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e,n,i,r,o=this.edgeList.findEqualEdge(t);null!==o?(e=o.getLabel(),n=t.getLabel(),o.isPointwiseEqual(t)||(n=new Ke(t.getLabel())).flip(),e.merge(n),i=Ui.depthDelta(n),r=o.getDepthDelta()+i,o.setDepthDelta(r)):(this.edgeList.add(t),t.setDepthDelta(Ui.depthDelta(t.getLabel())))},buildSubgraphs:function(t,e){for(var n=new x,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new ji(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new x,n=t.getNodes().iterator();n.hasNext();){var i,r=n.next();r.isVisited()||((i=new Ri).create(r),e.add(i))}return Ko.sort(e,Ko.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new je,n=new Wt;return n.setPrecisionModel(t),e.setSegmentIntersector(new Vi(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var i=new Hi(t,e,new Bi(n,this.bufParams)).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this.graph=new un(new mn),this.graph.addEdges(this.edgeList.getEdges());var r=this.createSubgraphs(this.graph),o=new ln(this.geomFact);this.buildSubgraphs(r,o);var s=o.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(s)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r,o,s=i.next(),a=s.getCoordinates();2===a.length&&a[0].equals2D(a[1])||(r=s.getData(),o=new $n(s.getCoordinates(),new Ke(r)),this.insertUniqueEdge(o))}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.depthDelta=function(t){var e=t.getLocation(0,Xe.LEFT),n=t.getLocation(0,Xe.RIGHT);return e===M.INTERIOR&&n===M.EXTERIOR?1:e===M.EXTERIOR&&n===M.INTERIOR?-1:0},Ui.convertSegStrings=function(t){for(var e=new Ht,n=new x;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)},e(Gi.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this.segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this.segStrings)}else if(2===arguments.length)for(var n=arguments[0],t=arguments[1].iterator();t.hasNext();)for(var e=t.next().getCoordinates(),i=1;i<e.length-1;i++)if(e[i].equals(n))throw new _("found endpt/interior pt intersection at index "+i+" :pt "+n)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3];if(c===f&&h===d)return null;var p=c.getCoordinates()[h],g=c.getCoordinates()[h+1],m=f.getCoordinates()[d],v=f.getCoordinates()[d+1];if(this.li.computeIntersection(p,g,m,v),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,p,g)||this.hasInteriorIntersection(this.li,m,v)))throw new _("found non-noded intersection at "+p+"-"+g+" and "+m+"-"+v)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),t=0;t<n.length-2;t++)this.checkCollapse(n[t],n[t+1],n[t+2])},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new _("found non-noded collapse at "+Gi.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return Gi}}),Gi.fact=new Ht,e(Wi.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this.maxx<n||this.minx>i||this.maxy<r||this.miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return f.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){this.minx=t.x-.5,this.maxx=t.x+.5,this.miny=t.y-.5,this.maxy=t.y+.5,this.corner[0]=new b(this.maxx,this.maxy),this.corner[1]=new b(this.minx,this.maxy),this.corner[2]=new b(this.minx,this.miny),this.corner[3]=new b(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){var t;return null===this.safeEnv&&(t=Wi.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor,this.safeEnv=new C(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)),this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()||n&&i||t.equals(this.pt)||e.equals(this.pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Wi}}),Wi.SAFE_ENV_EXPANSION_FACTOR=.75,e(Yi.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new Xi(e,n,i);return this.index.query(r,{interfaces_:function(){return[xe]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Yi}}),a(Xi,Xn),e(Xi.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return Xn.prototype.select.apply(this,arguments);var t=arguments[1],e=arguments[0].getContext();return null!==this.parentEdge&&e===this.parentEdge&&t===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(e,t))},interfaces_:function(){return[]},getClass:function(){return Xi}}),Yi.HotPixelSnapAction=Xi,e(Zi.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[Ve]},getClass:function(){return Zi}}),e(Ki.prototype,{checkCorrectness:function(t){var e=new Gi(De.getNodedSubstrings(t));try{e.checkValid()}catch(t){if(!(t instanceof E))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return De.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new Zi(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(L(arguments[0],d))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof De)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new Wi(i[r],this.scaleFactor,this.li);this.pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new je,this.pointSnapper=new Yi(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=new Wi(e.next(),this.scaleFactor,this.li);this.pointSnapper.snap(n)}},interfaces_:function(){return[ze]},getClass:function(){return Ki}}),e(Ji.prototype,{bufferFixedPrecision:function(t){var e=new Ii(new Ki(new jt(1)),t.getScale()),n=new Ui(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=Ji.MAX_PRECISION_DIGITS;0<=t;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof He))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}var e,n;1===arguments.length&&(e=arguments[0],n=new jt(Ji.precisionScaleFactor(this.argGeom,this.distance,e)),this.bufferFixedPrecision(n))},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===jt.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Ui(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof _))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Ji(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof z&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2];return(r=new Ji(arguments[0])).setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof Ai&&arguments[0]instanceof z&&"number"==typeof arguments[1]){var i=arguments[1];return(r=new Ji(arguments[0],arguments[2])).getResultGeometry(i)}}else if(4===arguments.length){var r,o=arguments[1],s=arguments[2],a=arguments[3];return(r=new Ji(arguments[0])).setQuadrantSegments(s),r.setEndCapStyle(a),r.getResultGeometry(o)}},Ji.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=T.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(0<e?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},Ji.CAP_ROUND=Ai.CAP_ROUND,Ji.CAP_BUTT=Ai.CAP_FLAT,Ji.CAP_FLAT=Ai.CAP_FLAT,Ji.CAP_SQUARE=Ai.CAP_SQUARE,Ji.MAX_PRECISION_DIGITS=12;var cs=Object.freeze({BufferOp:Ji,BufferParameters:Ai});e(Qi.prototype,{filter:function(t){t instanceof Lt&&this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Qi}}),Qi.getPolygons=function(){if(1===arguments.length)return Qi.getPolygons(arguments[0],new x);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Lt?e.add(t):t instanceof ft&&t.apply(new Qi(e)),e}},e(tr.prototype,{isInsideArea:function(){return this.segIndex===tr.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return tr}}),tr.INSIDE_AREA=-1,e(er.prototype,{filter:function(t){t instanceof St&&this.pts.add(t)},interfaces_:function(){return[ct]},getClass:function(){return er}}),er.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof St?Ko.singletonList(t):er.getPoints(t,new x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof St?n.add(e):e instanceof ft&&e.apply(new er(n)),n}},e(nr.prototype,{filter:function(t){(t instanceof St||t instanceof Ct||t instanceof Lt)&&this.locations.add(new tr(t,0,t.getCoordinate()))},interfaces_:function(){return[ct]},getClass:function(){return nr}}),nr.getLocations=function(t){var e=new x;return t.apply(new nr(e)),e},e(ir.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=Qi.getPolygons(this.geom[e]);if(0<r.size()){var o=nr.getLocations(this.geom[i]);if(this.computeContainmentDistance(o,r,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[i]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&L(arguments[0],m)&&L(arguments[1],m)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),u),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof tr&&arguments[1]instanceof Lt){var f=arguments[0],d=arguments[1],p=arguments[2],g=f.getCoordinate();if(M.EXTERIOR!==this.ptLocator.locate(g,d))return p[this.minDistance=0]=f,p[1]=new tr(d,g),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Ln.getLines(this.geom[0]),n=Ln.getLines(this.geom[1]),i=er.getPoints(this.geom[0]),r=er.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ct&&arguments[1]instanceof St){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var i,r=t.getCoordinates(),o=e.getCoordinate(),s=0;s<r.length-1;s++){if((c=Zt.distancePointLine(o,r[s],r[s+1]))<this.minDistance&&(this.minDistance=c,i=new Kt(r[s],r[s+1]).closestPoint(o),n[0]=new tr(t,s,i),n[1]=new tr(e,0,o)),this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ct&&arguments[1]instanceof Ct){var a=arguments[0],u=arguments[1],l=arguments[2];if(a.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this.minDistance)return null;for(var c,h,f,d,r=a.getCoordinates(),p=u.getCoordinates(),s=0;s<r.length-1;s++)for(var g=0;g<p.length-1;g++){if((c=Zt.distanceLineLine(r[s],r[s+1],p[g],p[g+1]))<this.minDistance&&(this.minDistance=c,h=new Kt(r[s],r[s+1]),f=new Kt(p[g],p[g+1]),d=h.closestPoints(f),l[0]=new tr(a,s,d[0]),l[1]=new tr(u,g,d[1])),this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,n[0]=new tr(r,0,r.getCoordinate()),n[1]=new tr(s,0,s.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new h;return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return ir}}),ir.distance=function(t,e){return new ir(t,e).distance()},ir.isWithinDistance=function(t,e,n){return new ir(t,e,n).distance()<=n},ir.nearestPoints=function(t,e){return new ir(t,e).nearestPoints()};var hs=Object.freeze({DistanceOp:ir});e(rr.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new w,i=this.directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),t<e&&G.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return rr}}),e(or.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return or}}),or.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},or.setVisited=function(t,e){for(;t.hasNext();){t.next().setVisited(e)}},or.setMarked=function(t,e){for(;t.hasNext();){t.next().setMarked(e)}},a(sr,or),e(sr.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Zt.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){return this.compareDirection(t)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[n]},getClass:function(){return sr}}),sr.toEdges=function(t){for(var e=new x,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},a(ar,sr),e(ar.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return ar}}),a(ur,or),e(ur.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof cr){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return ur}}),e(lr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(Ko.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof ur){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){if(this.outEdges.get(e).getEdge()===t)return e}return-1}if(arguments[0]instanceof sr){var n=arguments[0];this.sortEdges();for(e=0;e<this.outEdges.size();e++){if(this.outEdges.get(e)===n)return e}return-1}if(Number.isInteger(arguments[0])){var i=arguments[0]%this.outEdges.size();return i<0&&(i+=this.outEdges.size()),i}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return lr}}),a(cr,or),e(cr.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){var t;0===arguments.length?this.pt=null:1===arguments.length&&(t=arguments[0],this.deStar.remove(t))},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return cr}}),cr.getEdgesBetween=function(t,e){var n=new J(sr.toEdges(t.getOutEdges().getEdges())),i=sr.toEdges(e.getOutEdges().getEdges());return n.retainAll(i),n},a(hr,ur),e(hr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return hr}}),e(fr.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return fr}}),e(dr.prototype,{findNodesOfDegree:function(t){for(var e=new x,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof ur){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof sr){var e=arguments[0];null!==(r=e.getSym())&&r.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof cr){for(var n=arguments[0],i=n.getOutEdges().getEdges().iterator();i.hasNext();){var r,o=i.next();null!==(r=o.getSym())&&this.remove(r),this.dirEdges.remove(o);var s=o.getEdge();null!==s&&this.edges.remove(s)}this.nodeMap.remove(n.getCoordinate()),n.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof ur){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof sr){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){var t,e,n;arguments[0]instanceof cr?(t=arguments[0],this.nodeMap.add(t)):arguments[0]instanceof ur?(e=arguments[0],this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))):arguments[0]instanceof sr&&(n=arguments[0],this.dirEdges.add(n))},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return dr}}),a(pr,dr),e(pr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=G.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),s=new ar(r,o,e[1],!0),a=new ar(o,r,e[e.length-2],!1),u=new hr(t);u.setDirectedEdges(s,a),this.add(u)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new cr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return pr}}),e(gr.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(f.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;or.setMarked(this.graph.nodeIterator(),!1),or.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){for(var e=new rr(this.factory),n=t;e.add(n),n.getEdge().setMarked(!0),null!==(n=n.getNext())&&n!==t;);return e},add:function(){var t;if(arguments[0]instanceof z)arguments[0].apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Ct&&this.add(t)}});else if(L(arguments[0],d)){var e=arguments[0];this.mergedLineStrings=null;for(var n=e.iterator();n.hasNext();){var i=n.next();this.add(i)}}else{arguments[0]instanceof Ct&&(t=arguments[0],null===this.factory&&(this.factory=t.getFactory()),this.graph.addEdge(t))}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return gr}});var fs=Object.freeze({LineMerger:gr}),ds=Object.freeze({OverlayOp:qn});a(mr,sr),e(mr.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return mr}}),a(vr,ur),e(vr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return vr}}),e(yr.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],r=yr.findDifferentPoint(n,i),o=e.findEdgeInSameDirection(i,r),s=e.findEdgeEnd(o),a=null;s.getLabel().getLocation(0,Xe.RIGHT)===M.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,Xe.RIGHT)===M.INTERIOR&&(a=s.getSym()),f.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(t,e){if(t instanceof Lt&&(r=t,this.visitInteriorRing(r.getExteriorRing(),e)),t instanceof It)for(var n=t,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.visitInteriorRing(r.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,Xe.RIGHT)===M.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){for(var e=t,n=t;f.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),(n=n.getNext())!==e;);},buildEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i,r,o=n.next();o.isInResult()&&null===o.getEdgeRing()&&((i=new tn(o,this.geometryFactory)).linkDirectedEdgesForMinimalEdgeRings(),r=i.buildMinimalRings(),e.addAll(r))}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,Xe.RIGHT)===M.INTERIOR)for(var o=0;o<i.size();o++)if(!(r=i.get(o)).isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new x;this.geomGraph.computeSplitEdges(t);var e=new un(new mn);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return yr}}),yr.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e(_r.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var s=new on(t,n.coord,o,new Ke(t.getLabel()));e.add(s)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var s=new Ke(t.getLabel());s.flip();var a=new on(t,n.coord,o,s);e.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),u=null,l=null;if(!a.hasNext())return null;for(var c=a.next();u=l,l=c,c=null,a.hasNext()&&(c=a.next()),null!==l&&(this.createEdgeEndForPrev(r,o,l,u),this.createEdgeEndForNext(r,o,l,c)),null!==l;);}},interfaces_:function(){return[]},getClass:function(){return _r}}),a(br,on),e(br.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();){e.next().print(t),t.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();){(o=r.next().getLabel().getLocation(t))===M.BOUNDARY&&n++,o===M.INTERIOR&&(i=!0)}var o=i?M.INTERIOR:M.NONE;0<n&&(o=Fn.determineBoundary(e,n)),this.label.setLocation(t,o)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===M.INTERIOR)return this.label.setLocation(t,e,M.INTERIOR),null;r===M.EXTERIOR&&this.label.setLocation(t,e,M.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,Xe.LEFT),this.computeLabelSide(t,Xe.RIGHT)},updateIM:function(t){$n.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();){n.next().getLabel().isArea()&&(e=!0)}this.label=e?new Ke(M.NONE,M.NONE,M.NONE):new Ke(M.NONE);for(var i=0;i<2;i++)this.computeLabelOn(i,t),e&&this.computeLabelSides(i)},interfaces_:function(){return[]},getClass:function(){return br}}),a(xr,pn),e(xr.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){e.next().updateIM(t)}},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new br(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return xr}}),a(wr,nn),e(wr.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return wr}}),a(Cr,an),e(Cr.prototype,{createNode:function(t){return new wr(t,new xr)},interfaces_:function(){return[]},getClass:function(){return Cr}}),e(Er.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next();this.nodes.addNode(i.getCoordinate()).setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=(new _r).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next(),a=this.nodes.addNode(s.coord);r===M.BOUNDARY?a.setLabelBoundary(e):a.getLabel().isNull(e)&&a.setLabel(e,M.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Er}}),e(Sr.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next().getEdges().iterator();e.hasNext();){var n=e.next();if(1<n.getEdgeEnds().size())return this.invalidPoint=n.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Sr}}),e(Mr.prototype,{buildIndex:function(){this.index=new Le;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),i=this.index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),s=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var a=Tr.findPtNotNode(n,o,this.graph);if(null!==a)if(Zt.isPointInRing(a,s))return this.nestedPt=a,!1}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Mr}}),e(Lr.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Lr.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return Lr}}),Lr.ERROR=0,Lr.REPEATED_POINT=1,Lr.HOLE_OUTSIDE_SHELL=2,Lr.NESTED_HOLES=3,Lr.DISCONNECTED_INTERIOR=4,Lr.SELF_INTERSECTION=5,Lr.RING_SELF_INTERSECTION=6,Lr.NESTED_SHELLS=7,Lr.DUPLICATE_RINGS=8,Lr.TOO_FEW_POINTS=9,Lr.INVALID_COORDINATE=10,Lr.RING_NOT_CLOSED=11,Lr.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(Tr.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Tr.isValid(t[e]))return this.validErr=new Lr(Lr.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Lt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new Mr(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}n.isNonNested()||(this.validErr=new Lr(Lr.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new Sr(t);return e.isNodeConsistentArea()?void(e.hasDuplicateRings()&&(this.validErr=new Lr(Lr.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new Lr(Lr.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),r=e.getCoordinates(),o=Tr.findPtNotNode(i,e,n);if(null!==o&&!Zt.isPointInRing(o,r))return o;var s=Tr.findPtNotNode(r,t,n);return null===s?(f.shouldNeverReachHere("points in shell and hole appear to be equal"),null):Zt.isPointInRing(s,i)?s:null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new yr(t);e.isInteriorsConnected()||(this.validErr=new Lr(Lr.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new at,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this.validErr=new Lr(Lr.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new oi(n),r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r),s=Tr.findPtNotNode(o.getCoordinates(),n,e);if(null===s)return null;if(!i.isInside(s))return this.validErr=new Lr(Lr.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this.validErr=new Lr(Lr.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof St){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Tt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Nt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var i=new Fn(0,n);if(this.checkTooFewPoints(i),null!==this.validErr)return null;var r=new Wt;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof Ct){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;i=new Fn(0,o);this.checkTooFewPoints(i)}else if(arguments[0]instanceof Lt){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this.validErr)return null;if(this.checkClosedRings(s),null!==this.validErr)return null;i=new Fn(0,s);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;if(this.checkHolesInShell(s,i),null!==this.validErr)return null;if(this.checkHolesNotNested(s,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof It){for(var a=arguments[0],u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkInvalidCoordinates(l),null!==this.validErr)return null;if(this.checkClosedRings(l),null!==this.validErr)return null}i=new Fn(0,a);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;for(u=0;u<a.getNumGeometries();u++){l=a.getGeometryN(u);if(this.checkHolesInShell(l,i),null!==this.validErr)return null}for(u=0;u<a.getNumGeometries();u++){l=a.getGeometryN(u);if(this.checkHolesNotNested(l,i),null!==this.validErr)return null}if(this.checkShellsNotNested(a,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof ft)for(var c=arguments[0],u=0;u<c.getNumGeometries();u++){var h=c.getGeometryN(u);if(this.checkValid(h),null!==this.validErr)return null}else if(arguments[0]instanceof z){var f=arguments[0];if(this.validErr=null,f.isEmpty())return null;if(f instanceof St)this.checkValid(f);else if(f instanceof Tt)this.checkValid(f);else if(f instanceof Nt)this.checkValid(f);else if(f instanceof Ct)this.checkValid(f);else if(f instanceof Lt)this.checkValid(f);else if(f instanceof It)this.checkValid(f);else{if(!(f instanceof ft))throw new UnsupportedOperationException(f.getClass().getName());this.checkValid(f)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),r=e.getExteriorRing(),o=r.getCoordinates(),s=Tr.findPtNotNode(i,r,n);if(null===s)return null;if(!Zt.isPointInRing(s,o))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new Lr(Lr.NESTED_SHELLS,s),null;for(var a=null,u=0;u<e.getNumInteriorRing();u++){var l=e.getInteriorRingN(u);if(null===(a=this.checkShellInsideHole(t,l,n)))return null}this.validErr=new Lr(Lr.NESTED_SHELLS,a)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){var e;t.isClosed()||(e=null,1<=t.getNumPoints()&&(e=t.getCoordinateN(0)),this.validErr=new Lr(Lr.RING_NOT_CLOSED,e))},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n).getExteriorRing(),r=0;r<t.getNumGeometries();r++)if(n!==r){var o=t.getGeometryN(r);if(this.checkShellNotNested(i,o,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Tr}}),Tr.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e).getEdgeIntersectionList(),r=0;r<t.length;r++){var o=t[r];if(!i.isIntersection(o))return o}return null},Tr.isValid=function(){if(arguments[0]instanceof z)return new Tr(arguments[0]).isValid();if(arguments[0]instanceof b){var t=arguments[0];return!(y.isNaN(t.x)||y.isInfinite(t.x)||y.isNaN(t.y)||y.isInfinite(t.y))}},e(Nr.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new w,e=this.deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();Nr.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),Tr.isValid(this.ring))},build:function(t){for(var e=t;this.add(e),e.setRing(this),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring"),e!==t;);},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){var t,e,n;arguments[0]instanceof Nt?(t=arguments[0],null===this.holes&&(this.holes=new x),this.holes.add(t)):arguments[0]instanceof Nr&&((e=arguments[0]).setShell(this),n=e.getRing(),null===this.holes&&(this.holes=new x),this.holes.add(n))},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null},computeHole:function(){var t=this.getRing();this._isHole=Zt.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return Ut.toLineString(new Rt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&O.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof E))throw t;O.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Nr}}),Nr.findDirEdgesInRing=function(t){for(var e=t,n=new x;n.add(e),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring"),e!==t;);return n},Nr.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(i=t.length-1;0<=i;i--)n.add(t[i],!1)},Nr.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u,l=a.next(),c=l.getRing(),h=c.getEnvelopeInternal();!h.equals(i)&&h.contains(i)&&(r=G.ptNotInList(n.getCoordinates(),c.getCoordinates()),u=!1,Zt.isPointInRing(r,c.getCoordinates())&&(u=!0),u&&(null===o||s.contains(h))&&(s=(o=l).getRing().getEnvelopeInternal()))}return o},e(Ir.prototype,{compare:function(t,e){var n=e;return t.getRing().getEnvelope().compareTo(n.getRing().getEnvelope())},interfaces_:function(){return[o]},getClass:function(){return Ir}}),Nr.EnvelopeComparator=Ir,a(kr,dr),e(kr.prototype,{findEdgeRing:function(t){var e=new Nr(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){return null}},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();kr.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=G.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),s=new mr(r,o,e[1],!0),a=new mr(o,r,e[e.length-2],!1),u=new vr(t);u.setDirectedEdges(s,a),this.add(u)},deleteCutEdges:function(){this.computeNextCWEdges(),kr.findLabeledEdgeRings(this.dirEdges);for(var t=new x,e=this.dirEdges.iterator();e.hasNext();){var n,i,r=e.next();r.isMarked()||(n=r.getSym(),r.getLabel()===n.getLabel()&&(r.setMarked(!0),n.setMarked(!0),i=r.getEdge(),t.add(i.getLine())))}return t},getEdgeRings:function(){this.computeNextCWEdges(),kr.label(this.dirEdges,-1);var t=kr.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new x,n=this.dirEdges.iterator();n.hasNext();){var i,r=n.next();r.isMarked()||r.isInRing()||(i=this.findEdgeRing(r),e.add(i))}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new cr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),r=kr.findIntersectionNodes(n,i);if(null!==r)for(var o=r.iterator();o.hasNext();){var s=o.next();kr.computeNextCCWEdges(s,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new J,n=new ee,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var r=n.pop();kr.deleteAllEdges(r);for(i=r.getOutEdges().getEdges().iterator();i.hasNext();){var o=i.next();o.setMarked(!0);var s=o.getSym();null!==s&&s.setMarked(!0);var a=o.getEdge();e.add(a.getLine());var u=o.getToNode();1===kr.getDegreeNonDeleted(u)&&n.push(u)}}return e},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.findLabeledEdgeRings=function(t){for(var e=new x,n=1,i=t.iterator();i.hasNext();){var r,o=i.next();o.isMarked()||0<=o.getLabel()||(e.add(o),r=Nr.findDirEdgesInRing(o),kr.label(r,n),n++)}return e},kr.getDegreeNonDeleted=function(t){for(var e=0,n=t.getOutEdges().getEdges().iterator();n.hasNext();){n.next().isMarked()||e++}return e},kr.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges().iterator();e.hasNext();){var n=e.next();n.setMarked(!0);var i=n.getSym();null!==i&&i.setMarked(!0)}},kr.label=function(t,e){for(var n=t.iterator();n.hasNext();){n.next().setLabel(e)}},kr.computeNextCWEdges=function(t){for(var e=null,n=null,i=t.getOutEdges().getEdges().iterator();i.hasNext();){var r=i.next();r.isMarked()||(null===e&&(e=r),null!==n&&n.getSym().setNext(r),n=r)}null!==n&&n.getSym().setNext(e)},kr.computeNextCCWEdges=function(t,e){for(var n=null,i=null,r=t.getOutEdges().getEdges(),o=r.size()-1;0<=o;o--){var s=r.get(o),a=s.getSym(),u=null;s.getLabel()===e&&(u=s);var l=null;a.getLabel()===e&&(l=a),null===u&&null===l||(null!==l&&(i=l),null!==u&&(null!==i&&(i.setNext(u),i=null),null===n&&(n=u)))}null!==i&&(f.isTrue(null!==n),i.setNext(n))},kr.getDegree=function(t,e){for(var n=0,i=t.getOutEdges().getEdges().iterator();i.hasNext();){i.next().getLabel()===e&&n++}return n},kr.findIntersectionNodes=function(t,e){var n=t,i=null;do{var r=n.getFromNode();1<kr.getDegree(r,e)&&(null===i&&(i=new x),i.add(r)),n=n.getNext(),f.isTrue(null!==n,"found null DE in ring"),f.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i},e(Pr.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new Ht),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Ht.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),Pr.assignHolesToShells(this.holeList,this.shellList),Ko.sort(this.shellList,new Nr.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(Pr.findDisjointShells(this.shellList),n=!1),this.polyList=Pr.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){var t;if(L(arguments[0],d))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();this.add(n)}else arguments[0]instanceof Ct?(t=arguments[0],this.geomFactory=t.getFactory(),null===this.graph&&(this.graph=new kr(this.geomFactory)),this.graph.addEdge(t)):arguments[0]instanceof z&&arguments[0].apply(this.lineStringAdder)},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new x,this.shellList=new x;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return Pr}}),Pr.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},Pr.extractPolygons=function(t,e){for(var n=new x,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},Pr.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();Pr.assignHoleToShell(i,e)}},Pr.assignHoleToShell=function(t,e){var n=Nr.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},Pr.findDisjointShells=function(t){Pr.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},e(Ar.prototype,{filter:function(t){t instanceof Ct&&this.p.add(t)},interfaces_:function(){return[F]},getClass:function(){return Ar}}),Pr.LineStringAdder=Ar;var ps=Object.freeze({Polygonizer:Pr});e(Dr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),i=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this.arg[e].getGeometry()),this.isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){var i;0<n.getDimension()?(i=this.ptLocator.locate(t.getCoordinate(),n),t.getLabel().setAllLocations(e,i)):t.getLabel().setAllLocations(e,M.EXTERIOR)},computeIM:function(){var t=new Jt;if(t.set(M.EXTERIOR,M.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new _r,i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){t.next().getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.find(o.coord);s.getLabel().isNull(t)&&(i===M.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,M.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.addNode(o.coord);i===M.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,M.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();f.isTrue(0<n.getGeometryCount(),"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){e.next().updateIM(t)}for(var n=this.nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t),i.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(M.INTERIOR,M.EXTERIOR,e.getDimension()),t.set(M.BOUNDARY,M.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(M.EXTERIOR,M.INTERIOR,n.getDimension()),t.set(M.EXTERIOR,M.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Dr}}),e(Or.prototype,{isContainedInBoundary:function(t){if(t instanceof Lt)return!1;if(t instanceof St)return this.isPointContainedInBoundary(t);if(t instanceof Ct)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new b,i=new b,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof St){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof b){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Or}}),Or.contains=function(t,e){return new Or(t).contains(e)},e(Rr.prototype,{intersects:function(t,e){var n,i=new C(t,e);if(!this.rectEnv.intersects(i))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;0<t.compareTo(e)&&(n=t,t=e,e=n);var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Rr}}),e($r.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ft)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return $r}}),e(Fr.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new zr(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new Br(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new jr(this.rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return Fr}}),Fr.intersects=function(t,e){return new Fr(t).intersects(e)},a(zr,$r),e(zr.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)||e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()||e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return zr}}),a(Br,$r),e(Br.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof Lt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new b,i=0;i<4;i++)if(this.rectSeq.getCoordinate(i,n),e.contains(n)&&dn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Br}}),a(jr,$r),e(jr.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=Ln.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return jr}}),a(qr,zn),e(qr.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return qr}}),qr.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||qr.relate(t,e).isCovers())},qr.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?Fr.intersects(t,e):e.isRectangle()?Fr.intersects(e,t):qr.relate(t,e).isIntersects())},qr.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&qr.relate(t,e).isTouches(t.getDimension(),e.getDimension())},qr.within=function(t,e){return e.contains(t)},qr.coveredBy=function(t,e){return qr.covers(e,t)},qr.relate=function(){if(2===arguments.length)return new qr(arguments[0],arguments[1]).getIntersectionMatrix();if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof z&&arguments[1]instanceof z){var t=arguments[2];return qr.relateWithCheck(arguments[0],arguments[1]).matches(t)}if(L(arguments[2],j)&&arguments[0]instanceof z&&arguments[1]instanceof z)return new qr(arguments[0],arguments[1],arguments[2]).getIntersectionMatrix()}},qr.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&qr.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},qr.disjoint=function(t,e){return!t.intersects(e)},qr.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),qr.relate(t,e)},qr.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&qr.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},qr.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Or.contains(t,e):qr.relate(t,e).isContains())};var gs=Object.freeze({RelateOp:qr});e(Hr.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this.skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new x,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.combine=function(){if(1===arguments.length)return new Hr(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Hr(Hr.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];return new Hr(Hr.createList(n,i,r)).combine()}},Hr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Hr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(n=new x).add(t),n.add(e),n}if(3===arguments.length){var n,i=arguments[0],r=arguments[1],o=arguments[2];return(n=new x).add(i),n.add(r),n.add(o),n}},e(Vr.prototype,{union:function(){for(var t=new pe,e=new at,n=0;n<this.pointGeom.getNumGeometries();n++){var i=this.pointGeom.getGeometryN(n).getCoordinate();t.locate(i,this.otherGeom)===M.EXTERIOR&&e.add(i)}if(0===e.size())return this.otherGeom;var r=G.toCoordinateArray(e),o=1===r.length?this.geomFact.createPoint(r[0]):this.geomFact.createMultiPointFromCoords(r);return Hr.combine(o,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Vr}}),Vr.union=function(t,e){return new Vr(t,e).union()},e(Ur.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Ur}}),Ur.extract=function(){if(2===arguments.length)return Ur.extract(arguments[0],arguments[1],new x);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return t.getSortIndex()===e?n.add(t):t instanceof ft&&t.apply(new Ur(e,n)),n}},e(Gr.prototype,{reduceToGeometries:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next(),r=null;L(i,m)?r=this.unionTree(i):i instanceof z&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new x,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this.geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Hr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Le(Gr.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Gr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Gr.getGeometry(e,n),Gr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),r=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,i);return this.unionSafe(r,s)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();)var i=n.next(),e=null===e?i.copy():e.union(i);return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Gr.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var i=new x,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),Hr.combine(i)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},interfaces_:function(){return[]},getClass:function(){return Gr}}),Gr.restrictToPolygons=function(t){if(L(t,Mt))return t;var e=Qi.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ht.toPolygonArray(e))},Gr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Gr.union=function(t){return new Gr(t).union()},Gr.STRTREE_NODE_CAPACITY=4,e(Wr.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return Vn.overlayOp(t,e,qn.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){var t;if(L(arguments[0],d))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();this.extract(n)}else arguments[0]instanceof z&&(t=arguments[0],null===this.geomFact&&(this.geomFact=t.getFactory()),Ur.extract(t,z.SORTINDEX_POLYGON,this.polygons),Ur.extract(t,z.SORTINDEX_LINESTRING,this.lines),Ur.extract(t,z.SORTINDEX_POINT,this.points))},union:function(){if(null===this.geomFact)return null;var t,e=null;0<this.points.size()&&(t=this.geomFact.buildGeometry(this.points),e=this.unionNoOpt(t));var n,i=null;0<this.lines.size()&&(n=this.geomFact.buildGeometry(this.lines),i=this.unionNoOpt(n));var r=null;0<this.polygons.size()&&(r=Gr.union(this.polygons));var o=this.unionWithNull(i,r),s=null;return s=null===e?o:null===o?e:Vr.union(e,o),null===s?this.geomFact.createGeometryCollection():s},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.union=function(){if(1===arguments.length){if(L(arguments[0],d))return new Wr(arguments[0]).union();if(arguments[0]instanceof z)return new Wr(arguments[0]).union()}else if(2===arguments.length){return new Wr(arguments[0],arguments[1]).union()}};var ms=Object.freeze({UnaryUnionOp:Wr}),vs=Object.freeze({IsValidOp:Tr,ConsistentAreaTester:Sr}),ys=Object.freeze({BoundaryOp:pt,IsSimpleOp:ki,buffer:cs,distance:hs,linemerge:fs,overlay:ds,polygonize:ps,relate:gs,union:ms,valid:vs});a(Yr,kt.CoordinateOperation),e(Yr.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new b(t[i]);this.targetPM.makePrecise(r),n[i]=r}var o=new w(n,!1).toCoordinateArray(),s=e instanceof Nt?4:e instanceof Ct?2:0,a=n;return this.removeCollapsed&&(a=null),o.length<s?a:o},interfaces_:function(){return[]},getClass:function(){return Yr}}),e(Xr.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),i=n;return this.changePrecisionModel||(i=this.changePM(n,t.getPrecisionModel())),i},reducePointwise:function(t){var e=null;e=this.changePrecisionModel?new kt(this.createFactory(t.getFactory(),this.targetPM)):new kt;var n=this.removeCollapsed;return 2<=t.getDimension()&&(n=!0),e.edit(t,new Yr(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new kt.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new Ht(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise||!L(e,Mt)||e.isValid()?e:this.fixPolygonalTopology(e)},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new kt:new kt(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return Xr}}),Xr.reduce=function(t,e){return new Xr(e).reduce(t)},Xr.reducePointwise=function(t,e){var n=new Xr(e);return n.setPointwise(!0),n.reduce(t)};var _s=Object.freeze({GeometryPrecisionReducer:Xr});e(Zr.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,i=t,r=t+1;r<e;r++){var o=this.seg.distance(this.pts[r]);n<o&&(n=o,i=r)}if(n<=this.distanceTolerance)for(r=t+1;r<e;r++)this.usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new w,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new b(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.simplify=function(t,e){var n=new Zr(t);return n.setDistanceTolerance(e),n.simplify()},e(Kr.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new Jr(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new h;this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return Kr}}),Kr.simplify=function(t,e){var n=new Kr(t);return n.setDistanceTolerance(e),n.getResultGeometry()},a(Jr,oe),e(Jr.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=oe.prototype.transformPolygon.call(this,t,e);return e instanceof It?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=0===n.length?new Array(0).fill(null):Zr.simplify(n,this.distanceTolerance);return this.factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var n=oe.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Lt,i=oe.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof Nt?i:null},interfaces_:function(){return[]},getClass:function(){return Jr}}),Kr.DPTransformer=Jr,a(Qr,Kt),e(Qr.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return Qr}}),e(to.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(to.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(to.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new Qr(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return to.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return to}}),to.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e},e(eo.prototype,{remove:function(t){this.index.remove(new C(t.p0,t.p1),t)},add:function(){var t;if(arguments[0]instanceof to)for(var e=arguments[0].getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else arguments[0]instanceof Kt&&(t=arguments[0],this.index.insert(new C(t.p0,t.p1),t))},query:function(t){var e=new C(t.p0,t.p1),n=new no(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return eo}}),e(no.prototype,{visitItem:function(t){C.intersects(t.p0,t.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[xe]},getClass:function(){return no}}),e(io.prototype,{flatten:function(t,e){var n=new Kt(this.linePts[t],this.linePts[e]);return this.remove(this.line,t,e),this.outputIndex.add(n),n},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var o=!0;this.line.getResultSize()<this.line.getMinimumSize()&&n+1<this.line.getMinimumSize()&&(o=!1);var s=new Array(1).fill(null),a=this.findFurthestPoint(this.linePts,t,e,s);s[0]>this.distanceTolerance&&(o=!1);var u=new Kt;if(u.p0=this.linePts[t],u.p1=this.linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this.line,i,u)&&(o=!1),o){r=this.flatten(t,e);return this.line.addToResult(r),null}this.simplifySection(t,a,n),this.simplifySection(a,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t).iterator();e.hasNext();){var n=e.next();if(this.hasInteriorIntersection(n,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new Kt;r.p0=t[e],r.p1=t[n];for(var o=-1,s=e,a=e+1;a<n;a++){var u=t[a],l=r.distance(u);o<l&&(o=l,s=a)}return i[0]=o,s},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var i=e;i<n;i++){var r=t.getSegment(i);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this.inputIndex.query(n).iterator();i.hasNext();){var r=i.next();if(this.hasInteriorIntersection(r,n)){if(io.isInLineSection(t,e,r))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return io}}),io.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]},e(ro.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(e=t.iterator();e.hasNext();){var n=new io(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return ro}}),e(oo.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new Bt,this.inputGeom.apply(new ao(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new so(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new h;this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return oo}}),oo.simplify=function(t,e){var n=new oo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},a(so,oe),e(so.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof Ct){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return oe.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return so}}),e(ao.prototype,{filter:function(t){if(t instanceof Ct){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new to(e,n);this.tps.linestringMap.put(e,i)}},interfaces_:function(){return[F]},getClass:function(){return ao}}),oo.LineStringTransformer=so,oo.LineStringMapBuilderFilter=ao;var bs=Object.freeze({DouglasPeuckerSimplifier:Kr,TopologyPreservingSimplifier:oo});e(uo.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=uo.pointAlongReverse(this.seg,e),null;this.splitPt=t}else{var n,i,r;2===arguments.length&&(n=arguments[0],i=arguments[1],r=this.getConstrainedLength(n)/this.segLen,i.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(r):this.splitPt=uo.pointAlongReverse(this.seg,r))}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return uo}}),uo.pointAlongReverse=function(t,e){var n=new b;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(lo.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return lo}}),e(co.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength()/2,r=new uo(n),o=co.projectedSplitPoint(t,e),s=2*o.distance(e)*.8;return i<s&&(s=i),r.setMinimumLength(s),r.splitAt(o),r.getSplitPoint()},interfaces_:function(){return[lo]},getClass:function(){return co}}),co.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},e(ho.prototype,{interfaces_:function(){return[]},getClass:function(){return ho}}),ho.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},ho.isInCircleDDNormalized=function(t,e,n,i){var r=P.valueOf(t.x).selfSubtract(i.x),o=P.valueOf(t.y).selfSubtract(i.y),s=P.valueOf(e.x).selfSubtract(i.x),a=P.valueOf(e.y).selfSubtract(i.y),u=P.valueOf(n.x).selfSubtract(i.x),l=P.valueOf(n.y).selfSubtract(i.y),c=r.multiply(a).selfSubtract(s.multiply(o)),h=s.multiply(l).selfSubtract(u.multiply(a)),f=u.multiply(o).selfSubtract(r.multiply(l)),d=r.multiply(r).selfAdd(o.multiply(o)),p=s.multiply(s).selfAdd(a.multiply(a)),g=u.multiply(u).selfAdd(l.multiply(l));return 0<d.selfMultiply(h).selfAdd(p.selfMultiply(f)).selfAdd(g.selfMultiply(c)).doubleValue()},ho.checkRobustInCircle=function(t,e,n,i){var r=ho.isInCircleNonRobust(t,e,n,i),o=ho.isInCircleDDSlow(t,e,n,i),s=ho.isInCircleCC(t,e,n,i),a=ui.circumcentre(t,e,n);O.out.println("p radius diff a = "+Math.abs(i.distance(a)-t.distance(a))/t.distance(a)),r===o&&r===s||(O.out.println("inCircle robustness failure (double result = "+r+", DD result = "+o+", CC result = "+s+")"),O.out.println(Ut.toLineString(new Rt([t,e,n,i]))),O.out.println("Circumcentre = "+Ut.toPoint(a)+" radius = "+t.distance(a)),O.out.println("p radius diff a = "+Math.abs(i.distance(a)/t.distance(a)-1)),O.out.println("p radius diff b = "+Math.abs(i.distance(a)/e.distance(a)-1)),O.out.println("p radius diff c = "+Math.abs(i.distance(a)/n.distance(a)-1)),O.out.println())},ho.isInCircleDDFast=function(t,e,n,i){var r=P.sqr(t.x).selfAdd(P.sqr(t.y)).selfMultiply(ho.triAreaDDFast(e,n,i)),o=P.sqr(e.x).selfAdd(P.sqr(e.y)).selfMultiply(ho.triAreaDDFast(t,n,i)),s=P.sqr(n.x).selfAdd(P.sqr(n.y)).selfMultiply(ho.triAreaDDFast(t,e,i)),a=P.sqr(i.x).selfAdd(P.sqr(i.y)).selfMultiply(ho.triAreaDDFast(t,e,n));return 0<r.selfSubtract(o).selfAdd(s).selfSubtract(a).doubleValue()},ho.isInCircleCC=function(t,e,n,i){var r=ui.circumcentre(t,e,n),o=t.distance(r);return i.distance(r)-o<=0},ho.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,u=n.x-i.x,l=n.y-i.y;return 0<(r*r+o*o)*(s*l-u*a)+(s*s+a*a)*(u*o-r*l)+(u*u+l*l)*(r*a-s*o)},ho.isInCircleDDSlow=function(t,e,n,i){var r=P.valueOf(i.x),o=P.valueOf(i.y),s=P.valueOf(t.x),a=P.valueOf(t.y),u=P.valueOf(e.x),l=P.valueOf(e.y),c=P.valueOf(n.x),h=P.valueOf(n.y),f=s.multiply(s).add(a.multiply(a)).multiply(ho.triAreaDDSlow(u,l,c,h,r,o)),d=u.multiply(u).add(l.multiply(l)).multiply(ho.triAreaDDSlow(s,a,c,h,r,o)),p=c.multiply(c).add(h.multiply(h)).multiply(ho.triAreaDDSlow(s,a,u,l,r,o)),g=r.multiply(r).add(o.multiply(o)).multiply(ho.triAreaDDSlow(s,a,u,l,c,h));return 0<f.subtract(d).add(p).subtract(g).doubleValue()},ho.isInCircleNonRobust=function(t,e,n,i){return 0<(t.x*t.x+t.y*t.y)*ho.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*ho.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*ho.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*ho.triArea(t,e,n)},ho.isInCircleRobust=function(t,e,n,i){return ho.isInCircleNormalized(t,e,n,i)},ho.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},ho.triAreaDDFast=function(t,e,n){var i=P.valueOf(e.x).selfSubtract(t.x).selfMultiply(P.valueOf(n.y).selfSubtract(t.y)),r=P.valueOf(e.y).selfSubtract(t.y).selfMultiply(P.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)},e(fo.prototype,{circleCenter:function(e,n){var i=new fo(this.getX(),this.getY()),t=new R(this.bisector(i,e),this.bisector(e,n)),r=null;try{r=new fo(t.getX(),t.getY())}catch(t){if(!(t instanceof S))throw t;O.err.println("a: "+i+"  b: "+e+"  c: "+n),O.err.println(t)}return r},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY(),r=new R(t.getX()+n/2,t.getY()+i/2,1),o=new R(t.getX()-i+n/2,t.getY()+n+i/2,1);return new R(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return ho.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,s=n.getX()-i,a=e.getY()-r,u=n.getY()-r,l=o*u-s*a,c=this.getX()-i,h=this.getY()-r,f=(u*c-s*h)/l,d=(-a*c+o*h)/l;return t.getZ()+f*(e.getZ()-t.getZ())+d*(n.getZ()-t.getZ())},midPoint:function(t){return new fo((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return 0<(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new fo(t*this.p.x,t*this.p.y)},cross:function(){return new fo(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new fo(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=e.sub(t),i=this.sub(t),r=n.crossProduct(i);return 0<r?fo.LEFT:r<0?fo.RIGHT:n.getX()*i.getX()<0||n.getY()*i.getY()<0?fo.BEHIND:n.magn()<i.magn()?fo.BEYOND:t.equals(this)?fo.ORIGIN:e.equals(this)?fo.DESTINATION:fo.BETWEEN},sum:function(t){return new fo(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return o<r&&(r=o),(o=this.distance(e,this))<r&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return fo}}),fo.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),o=n.z-e.z;return e.z+r/i*o}if(4===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2],l=arguments[3],c=a.x,h=a.y,f=u.x-c,d=l.x-c,p=u.y-h,g=l.y-h,m=f*g-d*p,v=s.x-c,y=s.y-h,_=(g*v-d*y)/m,b=(-p*v+f*y)/m;return a.z+_*(u.z-a.z)+b*(l.z-a.z)}},fo.LEFT=0,fo.RIGHT=1,fo.BEYOND=2,fo.BEHIND=3,fo.BETWEEN=4,fo.ORIGIN=5,fo.DESTINATION=6,a(po,fo),e(po.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return po}}),e(go.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new Kt(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return Ut.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return go}}),go.makeEdge=function(t,e){var n=new go,i=new go,r=new go,o=new go;((((n._rot=i)._rot=r)._rot=o)._rot=n).setNext(n),i.setNext(o),r.setNext(r),o.setNext(i);var s=n;return s.setOrig(t),s.setDest(e),s},go.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();go.splice(t,e),go.splice(t.sym(),n),go.splice(t,e.lNext()),go.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},go.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(o),n.setNext(s),i.setNext(a)},go.connect=function(t,e){var n=go.makeEdge(t.dest(),e.orig());return go.splice(n,t.lNext()),go.splice(n.sym(),e),n},e(mo.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);go.splice(n,e);for(var i=n;(e=(n=this.subdiv.connect(e,n.sym())).oPrev()).lNext()!==i;);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))go.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return mo}}),e(vo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return vo}}),e(yo.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[vo]},getClass:function(){return yo}}),a(_o,_),e(_o.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return _o}}),_o.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(bo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return bo}}),e(xo.prototype,{getTriangleVertices:function(t){var e=new Eo;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=go.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new x,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new w;o.addAll(n,!1),o.closeRing(),o.size()<4&&(O.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);go.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return go.splice(e.sym(),n),go.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);xo.getTriangleEdges(t,e);var n=new Array(3).fill(null);xo.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var n=go.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new ee;n.push(this.startingEdge);for(var i=new J;!n.empty();){var r,o=n.pop();i.contains(o)||null!==(r=this.fetchTriangleToVisit(o,n,e,i))&&t.visit(r)}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new C(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),i=n<e?10*e:10*n;this.frameVertex[0]=new fo((t.getMaxX()+t.getMinX())/2,t.getMaxY()+i),this.frameVertex[1]=new fo(t.getMinX()-i,t.getMinY()-i),this.frameVertex[2]=new fo(t.getMaxX()+i,t.getMinY()-i),this.frameEnv=new C(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new So;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new J,n=this.quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,s=!1;do{this.triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),o++,r=r.lNext()}while(r!==t);return s&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new x,n=new J,i=this.quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new Co;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new x,n=new ee;n.push(this.startingEdge);for(var i=new J;!n.empty();){var r,o=n.pop();i.contains(o)||(r=o.getPrimary(),!t&&this.isFrameEdge(r)||e.add(r),n.push(o.oNext()),n.push(o.sym().oNext()),i.add(o),i.add(o.sym()))}return e},delete:function(t){go.splice(t,t.oPrev()),go.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this.quadEdges.size(),r=e;;){if(i<++n)throw new _o(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new wo,!0);for(var e=new x,n=this.getVertexUniqueEdges(!1).iterator();n.hasNext();){var i=n.next();e.add(this.getVoronoiCellPolygon(i,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Ht.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);go.splice(n,e);for(var i=n;(e=(n=this.connect(e,n.sym())).oPrev()).lNext()!==i;);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof fo){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof b){var e=arguments[0];return this.locator.locate(new fo(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.locator.locate(new fo(n));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(n)&&(o=r.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(i))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return xo}}),xo.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new h},e(wo.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=new fo(ui.circumcentre(e,n,i)),o=0;o<3;o++)t[o].rot().setOrig(r)},interfaces_:function(){return[bo]},getClass:function(){return wo}}),e(Co.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[bo]},getClass:function(){return Co}}),e(Eo.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[bo]},getClass:function(){return Eo}}),e(So.prototype,{checkTriangleSize:function(t){2<=t.length?Ut.toLineString(t[0],t[1]):1<=t.length&&Ut.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;e<3;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(0<this.coordList.size()){this.coordList.closeRing();var i=this.coordList.toCoordinateArray();if(4!==i.length)return null;this.triCoords.add(i)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[bo]},getClass:function(){return So}}),xo.TriangleCircumcentreVisitor=wo,xo.TriangleEdgesListVisitor=Co,xo.TriangleVertexListVisitor=Eo,xo.TriangleCoordinatesVisitor=So,xo.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(Mo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Mo}}),e(Lo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Lo}}),e(To.prototype,{isRepeated:function(){return 1<this.count},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return To}}),e(No.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new To(e,n),this.root;if(0<this.tolerance){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){var t,e,n,i,r=arguments,o=this;if(1===arguments.length){var s=arguments[0],a=new x;return this.query(s,a),a}2===arguments.length&&(arguments[0]instanceof C&&L(arguments[1],m)?(n=r[0],i=r[1],o.queryNode(o.root,n,!0,{interfaces_:function(){return[Lo]},visit:function(t){i.add(t)}})):arguments[0]instanceof C&&L(arguments[1],Lo)&&(t=arguments[0],e=arguments[1],this.queryNode(this.root,t,!0,e)))},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,s=null,a=(s=n?(r=e.getMinX(),o=e.getMaxX(),t.getX()):(r=e.getMinY(),o=e.getMaxY(),t.getY()))<=o;r<s&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),a&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new Io(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,i=this.root,r=!0,o=!0;null!==n;){if(null!==n)if(t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n;o=r?t.x<n.getX():t.y<n.getY(),i=n,n=o?n.getLeft():n.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var s=new To(t,e);return o?i.setLeft(s):i.setRight(s),s},interfaces_:function(){return[]},getClass:function(){return No}}),No.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return No.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new w,r=e.iterator();r.hasNext();)for(var o=r.next(),s=n?o.getCount():1,a=0;a<s;a++)i.add(o.getCoordinate(),!0);return i.toCoordinateArray()}},e(Io.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new C(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Lo]},getClass:function(){return Io}}),No.BestMatchVisitor=Io,e(ko.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();for(var t=0;t++,0<this.enforceGabriel(this.segments)&&t<ko.MAX_SPLIT_ITER;);},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();){i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new Ht,e=new ie(this.getPointArray(),t);this.convexHull=e.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new b((e.x+n.x)/2,(e.y+n.y)/2),r=e.distance(i),o=new C(i);o.expandBy(r);for(var s=this.kdt.query(o),a=null,u=y.MAX_VALUE,l=s.iterator();l.hasNext();){var c,h=l.next().getCoordinate();h.equals2D(e)||h.equals2D(n)||(c=i.distance(h))<r&&(null===a||c<u)&&(a=h,u=c)}return a},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new x,n=0,i=new x,r=t.iterator();r.hasNext();){var o,s,a,u=r.next(),l=this.findNonGabrielPoint(u);null!==l&&(this.splitPt=this.splitFinder.findSplitPoint(u,l),o=this.createVertex(this.splitPt,u),this.insertSite(o),s=new Mo(u.getStartX(),u.getStartY(),u.getStartZ(),o.getX(),o.getY(),o.getZ(),u.getData()),a=new Mo(o.getX(),o.getY(),o.getZ(),u.getEndX(),u.getEndY(),u.getEndZ(),u.getData()),e.add(s),e.add(a),i.add(u),n+=1)}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new po(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=null;return(e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,i):new po(n)).setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=ko.computeVertexEnvelope(this.initialVertices),e=ko.computeVertexEnvelope(this.segVertices),n=new C(t);n.expandToInclude(e);var i=.2*n.getWidth(),r=.2*n.getHeight(),o=Math.max(i,r);this.computeAreaEnv=new C(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new xo(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new yo(this.subdiv)),this.incDel=new mo(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof po){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}var i;arguments[0]instanceof b&&(i=arguments[0],this.insertSite(this.createVertex(i)))},interfaces_:function(){return[]},getClass:function(){return ko}}),ko.computeVertexEnvelope=function(t){for(var e=new C,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},ko.MAX_SPLIT_ITER=99,e(Po.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Po.envelope(this.siteCoords),e=Po.toVertices(this.siteCoords);this.subdiv=new xo(t,this.tolerance),new mo(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){var t,e;arguments[0]instanceof z?(t=arguments[0],this.siteCoords=Po.extractUniqueCoordinates(t)):L(arguments[0],d)&&(e=arguments[0],this.siteCoords=Po.unique(G.toCoordinateArray(e)))},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Po}}),Po.extractUniqueCoordinates=function(t){if(null===t)return new w;var e=t.getCoordinates();return Po.unique(e)},Po.envelope=function(t){for(var e=new C,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},Po.unique=function(t){var e=G.copyDeep(t);return ut.sort(e),new w(e,!1)},Po.toVertices=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();e.add(new fo(i))}return e},e(Ao.prototype,{createSiteVertices:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var i=n.next();this.constraintVertexMap.containsKey(i)||e.add(new po(i))}return e},create:function(){if(null!==this.subdiv)return null;var t=Po.envelope(this.siteCoords),e=new x;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=Ao.createConstraintSegments(this.constraintLines));var n=new ko(this.createSiteVertices(this.siteCoords),this.tolerance);n.setConstraints(e,new x(this.constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this.subdiv=n.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Po.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new po(e[n]);this.constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return Ao}}),Ao.createConstraintSegments=function(){if(1===arguments.length){for(var t=Ln.getLines(arguments[0]),e=new x,n=t.iterator();n.hasNext();){var i=n.next();Ao.createConstraintSegments(i,e)}return e}if(2===arguments.length)for(var r=arguments[1],o=arguments[0].getCoordinates(),n=1;n<o.length;n++)r.add(new Mo(o[n-1],o[n]))},e(Do.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Po.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Po.toVertices(this.siteCoords);this.subdiv=new xo(t,this.tolerance),new mo(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return Do.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){var t,e;arguments[0]instanceof z?(t=arguments[0],this.siteCoords=Po.extractUniqueCoordinates(t)):L(arguments[0],d)&&(e=arguments[0],this.siteCoords=Po.unique(G.toCoordinateArray(e)))},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Do}}),Do.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new x,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o)).setUserData(o.getUserData()),null===s||s.isEmpty()||i.add(s)}return t.getFactory().createGeometryCollection(Ht.toGeometryArray(i))};var xs=Object.freeze({Vertex:fo}),ws=Object.freeze({ConformingDelaunayTriangulationBuilder:Ao,DelaunayTriangulationBuilder:Po,VoronoiDiagramBuilder:Do,quadedge:xs});e(Oo.prototype,{interfaces_:function(){return[]},getClass:function(){return Oo}}),Oo.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return qn.createEmptyResult(qn.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Vn.overlayOp(t,e,qn.UNION)},e(z.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&qr.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){return 0===arguments.length?Wr.union(this):1===arguments.length?Oo.union(this,arguments[0]):void 0},isValid:function(){return Tr.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return qn.createEmptyResult(qn.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return Ye.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Vn.overlayOp(this,t,qn.INTERSECTION)},covers:function(t){return qr.covers(this,t)},coveredBy:function(t){return qr.coveredBy(this,t)},touches:function(t){return qr.touches(this,t)},intersects:function(t){return qr.intersects(this,t)},within:function(t){return qr.within(this,t)},overlaps:function(t){return qr.overlaps(this,t)},disjoint:function(t){return qr.disjoint(this,t)},crosses:function(t){return qr.crosses(this,t)},buffer:function(){return 1===arguments.length?Ji.bufferOp(this,arguments[0]):2===arguments.length?Ji.bufferOp(this,arguments[0],arguments[1]):3===arguments.length?Ji.bufferOp(this,arguments[0],arguments[1],arguments[2]):void 0},convexHull:function(){return new ie(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return qr.relate.apply(qr,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=Qt.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();return t=0===e?new Yn(this).getInteriorPoint():1===e?new Wn(this).getInteriorPoint():new Un(this).getInteriorPoint(),this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return qn.createEmptyResult(qn.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Vn.overlayOp(this,t,qn.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new Ut).write(this)},toString:function(){this.toText()},contains:function(t){return qr.contains(this,t)},difference:function(t){return this.isEmpty()?qn.createEmptyResult(qn.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Vn.overlayOp(this,t,qn.DIFFERENCE))},isSimple:function(){return new ki(this).isSimple()},isWithinDistance:function(t,e){return!(e<this.getEnvelopeInternal().distance(t.getEnvelopeInternal()))&&ir.isWithinDistance(this,t,e)},distance:function(t){return ir.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}});t.version="1.3.0 (6e65adb)",t.algorithm=Jo,t.densify=Qo,t.dissolve=ts,t.geom=Zo,t.geomgraph=es,t.index=rs,t.io=us,t.noding=ls,t.operation=ys,t.precision=_s,t.simplify=bs,t.triangulate=ws,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:i.jsts=i.jsts||{})},{}],15:[function(t,e,n){!function(){"use strict";function r(t,e){var n=t.length-1,i=[t[0]];return function t(e,n,i,r,o){for(var s,a,u,l,c,h,f,d,p,g=r,m=n+1;m<i;m++){var v=(a=e[m],u=e[n],l=e[i],p=d=f=h=c=void 0,h=u.x,f=u.y,d=l.x-h,p=l.y-f,0===d&&0===p||(1<(c=((a.x-h)*d+(a.y-f)*p)/(d*d+p*p))?(h=l.x,f=l.y):0<c&&(h+=d*c,f+=p*c)),(d=a.x-h)*d+(p=a.y-f)*p);g<v&&(s=m,g=v)}r<g&&(1<s-n&&t(e,n,s,r,o),o.push(e[s]),1<i-s&&t(e,s,i,r,o))}(t,0,n,e,i),i.push(t[n]),i}function t(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return t=r(t=n?t:function(t,e){for(var n,i,r,o,s,a=t[0],u=[a],l=1,c=t.length;l<c;l++)n=t[l],r=a,0,o=(i=n).x-r.x,s=i.y-r.y,e<o*o+s*s&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,i),i)}void 0!==e?(e.exports=t,e.exports.default=t):"undefined"!=typeof self?self.simplify=t:window.simplify=t}()},{}]},{},[1])(1)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";var e=Object.freeze;function u(t){for(var e,n,i=1,r=arguments.length;i<r;i++)for(e in n=arguments[i])t[e]=n[e];return t}Object.freeze=function(t){return t};var o=Object.create||function(t){return n.prototype=t,new n};function n(){}function N(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var i=0;function I(t){return t._leaflet_id=t._leaflet_id||++i,t._leaflet_id}function r(t,e,n){var i,r,o,s=function(){i=!1,r&&(o.apply(n,r),r=!1)};return o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function s(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function a(){return!1}function l(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return c(t).split(/\s+/)}function f(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?o(t.options):{}),e)t.options[n]=e[n];return t.options}function d(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var p=/\{ *([\w_-]+) *\}/g;function g(t,i){return t.replace(p,function(t,e){var n=i[e];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(i)),n})}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var w=window.requestAnimationFrame||_("RequestAnimationFrame")||x,C=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function E(t,e,n){if(!n||w!==x)return w.call(window,N(t,e));t.call(e)}function S(t){t&&C.call(window,t)}var M=(Object.freeze||Object)({freeze:e,extend:u,create:o,bind:N,lastId:i,stamp:I,throttle:r,wrapNum:s,falseFn:a,formatNum:l,trim:c,splitWords:h,setOptions:f,getParamString:d,template:g,isArray:m,indexOf:v,emptyImageUrl:y,requestFn:w,cancelFn:C,requestAnimFrame:E,cancelAnimFrame:S});function T(){}T.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var n=e.__super__=this.prototype,i=o(n);for(var r in(i.constructor=e).prototype=i,this)this.hasOwnProperty(r)&&"prototype"!==r&&"__super__"!==r&&(e[r]=this[r]);return t.statics&&(u(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),u.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=u(o(i.options),t.options)),u(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},T.include=function(t){return u(this.prototype,t),this},T.mergeOptions=function(t){return u(this.prototype.options,t),this},T.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var k={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var r=0,o=(t=h(t)).length;r<o;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var r=0,o=(t=h(t)).length;r<o;r++)this._off(t[r],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}else{for(r=0,o=i.length;r<o;r++)i[r].fn=a;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=u({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var o=0,s=r.length;o<s;o++){var a=r[o];a.fn.call(a.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var r=N(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[I(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[I(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var P=T.extend(k);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var D=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function O(t,e,n){return t instanceof A?t:m(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function R(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function $(t,e){return!t||t instanceof R?t:new R(t,e)}function F(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(t,e){return t instanceof F?t:new F(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof B?t:m(t)&&"object"!=typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},R.prototype={extend:function(t){return t=O(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new A(this.min.x,this.max.y)},getTopRight:function(){return new A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t=("number"==typeof t[0]||t instanceof A?O:$)(t))instanceof R?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=$(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=$(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},F.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof B)n=e=t;else{if(!(t instanceof F))return t?this.extend(j(t)||z(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new F(new B(e.lat-i,e.lng-r),new B(n.lat+i,n.lng+r))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof B||"lat"in t?j:z)(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof F?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=z(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=z(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var q,H={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new R(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!(B.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+l(this.lat,t)+", "+l(this.lng,t)+")"},distanceTo:function(t){return V.distance(this,j(t))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return z([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0==i&&0==r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new F(new B(o.lat-i,o.lng-r),new B(s.lat-i,s.lng-r))}},V=u({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),U={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new A(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new R([-(q=6378137*Math.PI),-q],[q,q])};function G(t,e,n,i){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function W(t,e,n,i){return new G(t,e,n,i)}G.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y,X=u({},V,{code:"EPSG:3857",projection:U,transformation:W(Y=.5/(Math.PI*U.R),.5,-Y,.5)}),Z=u({},X,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){for(var n,i,r,o,s="",a=0,u=t.length;a<u;a++){for(n=0,i=(r=t[a]).length;n<i;n++)s+=(n?"L":"M")+(o=r[n]).x+" "+o.y;s+=e?It?"z":"x":""}return s||"M0 0"}var Q=document.documentElement.style,tt="ActiveXObject"in window,et=tt&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),it=Pt("webkit"),rt=Pt("android"),ot=Pt("android 2")||Pt("android 3"),st=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=rt&&Pt("Google")&&st<537&&!("AudioNode"in window),ut=!!window.opera,lt=Pt("chrome"),ct=Pt("gecko")&&!it&&!ut&&!tt,ht=!lt&&Pt("safari"),ft=Pt("phantom"),dt="OTransition"in Q,pt=0===navigator.platform.indexOf("Win"),gt=tt&&"transition"in Q,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,vt="MozPerspective"in Q,yt=!window.L_DISABLE_3D&&(gt||mt||vt)&&!dt&&!ft,_t="undefined"!=typeof orientation||Pt("mobile"),bt=_t&&it,xt=_t&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,Ct=!(it||!window.PointerEvent&&!wt),Et=!window.L_NO_TOUCH&&(Ct||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),St=_t&&ut,Mt=_t&&ct,Lt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Tt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",a,e),window.removeEventListener("testPassiveEventSupport",a,e)}catch(t){}return t},Nt=!!document.createElement("canvas").getContext,It=!(!document.createElementNS||!K("svg").createSVGRect),kt=!It&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Pt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var At=(Object.freeze||Object)({ie:tt,ielt9:et,edge:nt,webkit:it,android:rt,android23:ot,androidStock:at,opera:ut,chrome:lt,gecko:ct,safari:ht,phantom:ft,opera12:dt,win:pt,ie3d:gt,webkit3d:mt,gecko3d:vt,any3d:yt,mobile:_t,mobileWebkit:bt,mobileWebkit3d:xt,msPointer:wt,pointer:Ct,touch:Et,mobileOpera:St,mobileGecko:Mt,retina:Lt,passiveEvents:Tt,canvas:Nt,svg:It,vml:kt}),Dt=wt?"MSPointerDown":"pointerdown",Ot=wt?"MSPointerMove":"pointermove",Rt=wt?"MSPointerUp":"pointerup",$t=wt?"MSPointerCancel":"pointercancel",Ft=["INPUT","SELECT","OPTION"],zt={},Bt=!1,jt=0;function qt(t){zt[t.pointerId]=t,jt++}function Ht(t){zt[t.pointerId]&&(zt[t.pointerId]=t)}function Vt(t){delete zt[t.pointerId],jt--}function Ut(t,e){for(var n in t.touches=[],zt)t.touches.push(zt[n]);t.changedTouches=[t],e(t)}var Gt=wt?"MSPointerDown":Ct?"pointerdown":"touchstart",Wt=wt?"MSPointerUp":Ct?"pointerup":"touchend",Yt="_leaflet_";var Xt,Zt,Kt,Jt,Qt,te,ee=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ne=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ie="webkitTransition"===ne||"OTransition"===ne?ne+"End":"transitionend";function re(t){return"string"==typeof t?document.getElementById(t):t}function oe(t,e){var n,i=t.style[e]||t.currentStyle&&t.currentStyle[e];return i&&"auto"!==i||!document.defaultView||(i=(n=document.defaultView.getComputedStyle(t,null))?n[e]:null),"auto"===i?null:i}function se(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ce(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function he(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=ge(t);return 0<n.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){var n;if(void 0!==t.classList)for(var i=h(e),r=0,o=i.length;r<o;r++)t.classList.add(i[r]);else he(t,e)||pe(t,((n=ge(t))?n+" ":"")+e)}function de(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,c((" "+ge(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ge(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ye(t,e,n){var i=e||new A(0,0);t.style[ee]=(gt?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function _e(t,e){t._leaflet_pos=e,yt?ye(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function be(t){return t._leaflet_pos||new A(0,0)}function xe(){Te(window,"dragstart",Re)}function we(){Ie(window,"dragstart",Re)}function Ce(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ee(),Kt=(Zt=t).style.outline,t.style.outline="none",Te(window,"keydown",Ee))}function Ee(){Zt&&(Zt.style.outline=Kt,Kt=Zt=void 0,Ie(window,"keydown",Ee))}function Se(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function Me(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}te="onselectstart"in document?(Qt=function(){Te(window,"selectstart",Re)},function(){Ie(window,"selectstart",Re)}):(Jt=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Qt=function(){var t;Jt&&(t=document.documentElement.style,Xt=t[Jt],t[Jt]="none")},function(){Jt&&(document.documentElement.style[Jt]=Xt,Xt=void 0)});var Le=(Object.freeze||Object)({TRANSFORM:ee,TRANSITION:ne,TRANSITION_END:ie,get:re,getStyle:oe,create:se,remove:ae,empty:ue,toFront:le,toBack:ce,hasClass:he,addClass:fe,removeClass:de,setClass:pe,getClass:ge,setOpacity:me,testProp:ve,setTransform:ye,setPosition:_e,getPosition:be,disableTextSelection:Qt,enableTextSelection:te,disableImageDrag:xe,enableImageDrag:we,preventOutline:Ce,restoreOutline:Ee,getSizedParentNode:Se,getScale:Me});function Te(t,e,n,i){if("object"==typeof e)for(var r in e)ke(t,r,e[r],n);else for(var o=0,s=(e=h(e)).length;o<s;o++)ke(t,e[o],n,i);return this}var Ne="_leaflet_events";function Ie(t,e,n,i){if("object"==typeof e)for(var r in e)Pe(t,r,e[r],n);else if(e)for(var o=0,s=(e=h(e)).length;o<s;o++)Pe(t,e[o],n,i);else{for(var a in t[Ne])Pe(t,a,t[Ne][a]);delete t[Ne]}return this}function ke(e,t,n,i){var r=t+I(n)+(i?"_"+I(i):"");if(e[Ne]&&e[Ne][r])return this;var o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,C=function(t){return n.call(i||e,t||window.event)},E=C;function S(t){var e,n,i;if(Ct){if(!nt||"mouse"===t.pointerType)return;e=jt}else e=t.touches.length;1<e||(i=(n=Date.now())-(u||n),l=t.touches?t.touches[0]:t,c=0<i&&i<=250,u=n)}function M(t){if(c&&!l.cancelBubble){if(Ct){if(!nt||"mouse"===t.pointerType)return;var e,n,i={};for(n in l)e=l[n],i[n]=e&&e.bind?e.bind(l):e;l=i}l.type="dblclick",l.button=0,s(l),u=null}}function L(t){Ut(t,m)}function T(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Ut(t,y)}Ct&&0===t.indexOf("touch")?(h=e,d=C,p=r,"touchstart"===(f=t)?(_=h,b=d,x=p,w=N(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ft.indexOf(t.target.tagName)<0))return;Re(t)}Ut(t,b)}),_["_leaflet_touchstart"+x]=w,_.addEventListener(Dt,w,!1),Bt||(document.documentElement.addEventListener(Dt,qt,!0),document.documentElement.addEventListener(Ot,Ht,!0),document.documentElement.addEventListener(Rt,Vt,!0),document.documentElement.addEventListener($t,Vt,!0),Bt=!0)):"touchmove"===f?(y=d,(v=h)["_leaflet_touchmove"+p]=T,v.addEventListener(Ot,T,!1)):"touchend"===f&&(m=d,(g=h)["_leaflet_touchend"+p]=L,g.addEventListener(Rt,L,!1),g.addEventListener($t,L,!1))):!Et||"dblclick"!==t||Ct&&lt?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",C,!!Tt&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(C=function(t){t=t||window.event,Ue(e,t)&&E(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",C,!1)):("click"===t&&rt&&(C=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=je&&n-je;if(i&&100<i&&i<500||t.target._simulatedClick&&!t._simulated)return $e(t);je=n,e(t)}(t,E)}),e.addEventListener(t,C,!1)):"attachEvent"in e&&e.attachEvent("on"+t,C):(s=C,c=!1,(o=e)[Yt+Gt+(a=r)]=S,o[Yt+Wt+a]=M,o[Yt+"dblclick"+a]=s,o.addEventListener(Gt,S,!!Tt&&{passive:!1}),o.addEventListener(Wt,M,!!Tt&&{passive:!1}),o.addEventListener("dblclick",s,!1)),e[Ne]=e[Ne]||{},e[Ne][r]=C}function Pe(t,e,n,i){var r,o,s,a,u,l,c,h,f=e+I(n)+(i?"_"+I(i):""),d=t[Ne]&&t[Ne][f];if(!d)return this;Ct&&0===e.indexOf("touch")?(h=(l=t)["_leaflet_"+(c=e)+f],"touchstart"===c?l.removeEventListener(Dt,h,!1):"touchmove"===c?l.removeEventListener(Ot,h,!1):"touchend"===c&&(l.removeEventListener(Rt,h,!1),l.removeEventListener($t,h,!1))):!Et||"dblclick"!==e||Ct&&lt?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",d,!!Tt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,d,!1):"detachEvent"in t&&t.detachEvent("on"+e,d):(s=(r=t)[Yt+Gt+(o=f)],a=r[Yt+Wt+o],u=r[Yt+"dblclick"+o],r.removeEventListener(Gt,s,!!Tt&&{passive:!1}),r.removeEventListener(Wt,a,!!Tt&&{passive:!1}),nt||r.removeEventListener("dblclick",u,!1)),t[Ne][f]=null}function Ae(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ve(t),this}function De(t){return ke(t,"mousewheel",Ae),this}function Oe(t){return Te(t,"mousedown touchstart dblclick",Ae),ke(t,"click",He),this}function Re(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function $e(t){return Re(t),Ae(t),this}function Fe(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Me(e),i=n.boundingClientRect;return new A((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var ze=pt&&lt?2*window.devicePixelRatio:ct?window.devicePixelRatio:1;function Be(t){return nt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var je,qe={};function He(t){qe[t.type]=!0}function Ve(t){var e=qe[t.type];return qe[t.type]=!1,e}function Ue(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ge=(Object.freeze||Object)({on:Te,off:Ie,stopPropagation:Ae,disableScrollPropagation:De,disableClickPropagation:Oe,preventDefault:Re,stop:$e,getMousePosition:Fe,getWheelDelta:Be,fakeStop:He,skipped:Ve,isExternalTarget:Ue,addListener:Te,removeListener:Ie}),We=P.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=be(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(t){var e=new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),_e(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ye=P.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=N(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ne&&yt&&!St&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,ie,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=u({animate:n.animate},n.zoom),n.pan=u({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?clearTimeout(this._sizeTimer):this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(yt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(yt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(o));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():z(t);var n=O(e.paddingTopLeft||e.padding||[0,0]),i=O(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"==typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(!(t=z(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){return e=e||{},(t=O(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new We,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(fe(this._mapPane,"leaflet-pan-anim"),n=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend");var n},flyTo:function(s,a,t){if(!1===(t=t||{}).animate||!yt)return this.setView(s,a,t);this._stop();var u=this.project(this.getCenter()),l=this.project(s),e=this.getSize(),c=this._zoom;s=j(s),a=void 0===a?c:a;var h=Math.max(e.x,e.y),i=h*this.getZoomScale(c,a),f=l.distanceTo(u)||1,d=1.42,p=d*d;function n(t){var e=(i*i-h*h+(t?-1:1)*p*p*f*f)/(2*(t?i:h)*p*f),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function g(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}var v=n(0);var y=Date.now(),_=(n(1)-v)/d,b=t.duration?1e3*t.duration:1e3*_*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e,n,i,r=(Date.now()-y)/b,o=(1-Math.pow(1-r,1.5))*_;r<=1?(this._flyToFrame=E(t,this),this._move(this.unproject(u.add(l.subtract(u).multiplyBy((n=o,h*(m(v)*(g(i=v+d*n)/m(i))-g(v))/p/f))),c),this.getScaleZoom(h/(e=o,h*(m(v)/m(v+d*e))),c),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=z(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,z(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n,i,r=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=O(e.paddingBottomRight||e.padding||[0,0]),s=this.getCenter(),a=this.project(s),u=this.project(t),l=this.getPixelBounds(),c=l.getSize().divideBy(2),h=$([l.min.add(r),l.max.subtract(o)]);return h.contains(u)||(this._enforcingBounds=!0,n=a.subtract(u),i=O(u.x+n.x,u.y+n.y),(u.x<h.min.x||u.x>h.max.x)&&(i.x=a.x-n.x,0<n.x?i.x+=c.x-r.x:i.x-=c.x-o.x),(u.y<h.min.y||u.y>h.max.y)&&(i.y=a.y-n.y,0<n.y?i.y+=c.y-r.y:i.y-=c.y-o.y),this.panTo(this.unproject(i),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),o=i.subtract(r);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(N(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=N(this._handleGeolocationResponse,this),n=N(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e,n=new B(t.coords.latitude,t.coords.longitude),i=n.toBounds(2*t.coords.accuracy),r=this._locateOptions;r.setView&&(e=this.getBoundsZoom(i),this.setView(n,r.maxZoom?Math.min(e,r.maxZoom):e));var o={latlng:n,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(o[s]=t.coords[s]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=se("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new F(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=z(t),n=O(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=$(this.project(a,i),this.project(s,i)).getSize(),c=yt?this.options.zoomSnap:1,h=u.x/l.x,f=u.y/l.y,d=e?Math.max(h,f):Math.min(h,f),i=this.getScaleZoom(d,i);return c&&(i=Math.round(i/(c/100))*(c/100),i=e?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){var e=O(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Fe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=re(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Te(e,"scroll",this._onScroll,this),this._containerId=I(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&yt,fe(t,"leaflet-container"+(Et?" leaflet-touch":"")+(Lt?" leaflet-retina":"")+(et?" leaflet-oldie":"")+(ht?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=oe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){_e(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){_e(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?Ie:Te;e((this._targets[I(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),yt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[I(o)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(r&&!Ue(o,t))break;if(i.push(n),r)break}if(o===this._container)break;o=o.parentNode}return i.length||s||r||!Ue(o,t)||(i=[this]),i},_handleDOMEvent:function(t){var e;this._loaded&&!Ve(t)&&("mousedown"!==(e=t.type)&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ce(t.target||t.srcElement),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){var i;if("click"===t.type&&((i=u({},t)).type="preclick",this._fireDOMEvent(i,i.type,n)),!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&Re(t);var o,s={originalEvent:t};"keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(o=r.getLatLng&&(!r._radius||r._radius<=10),s.containerPoint=o?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=o?r.getLatLng():this.layerPointToLatLng(s.layerPoint));for(var a=0;a<n.length;a++)if(n[a].fire(e,s,!0),s.originalEvent._stopped||!1===n[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return be(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return $([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new R(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new R(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=$(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new A(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=yt?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){de(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=ee,n=this._proxy.style[e];ye(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ye(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(E(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(N(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&de(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),E(function(){this._moveEnd(!0)},this))}});function Xe(t){return new Ze(t)}var Ze=T.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}});Ye.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",o=this._controlContainer=se("div",r+"control-container",this._container);function t(t,e){var n=r+t+" "+r+e;i[t+e]=se("div",n,o)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=Ze.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ze.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(I(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):de(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return de(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=se("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Oe(e),De(e);var i=this._section=se("section",t+"-list");n&&(this._map.on("click",this.collapse,this),rt||Te(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=se("a",t+"-toggle",e);r.href="#",r.title="Layers",Et?(Te(r,"click",$e),Te(r,"click",this.expand,this)):Te(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=se("div",t+"-base",i),this._separator=se("div",t+"-separator",i),this._overlaysList=se("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&I(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(N(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];for(var t,e,n,i=0,r=0;r<this._layers.length;r++)n=this._layers[r],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,i+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<i,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(I(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+I(this),i),this._layerControlInputs.push(e),e.layerId=I(t.layer),Te(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("div");return n.appendChild(o),o.appendChild(e),o.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;0<=o;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;0<=r;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Je=Ze.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=se("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=se("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Oe(o),Te(o,"click",$e),Te(o,"click",r,this),Te(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";de(this._zoomInButton,e),de(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||fe(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||fe(this._zoomInButton,e)}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var Qe=Ze.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=se("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=se("div",e,n)),t.imperial&&(this._iScale=se("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;5280<r?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(10<=n?10:5<=n?5:3<=n?3:2<=n?2:1)}}),tn=Ze.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=se("div","leaflet-control-attribution"),Oe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&(new tn).addTo(this)}),Ze.Layers=Ke,Ze.Zoom=Je,Ze.Scale=Qe,Ze.Attribution=tn,Xe.layers=function(t,e,n){return new Ke(t,e,n)},Xe.zoom=function(t){return new Je(t)},Xe.scale=function(t){return new Qe(t)},Xe.attribution=function(t){return new tn(t)};var en=T.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}});en.addTo=function(t,e){return t.addHandler(e,this),this};var nn,rn={Events:k},on=Et?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},an={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},un=P.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){f(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Te(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(),Ie(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,n;t._simulated||!this._enabled||(this._moved=!1,he(this._element,"leaflet-zoom-anim")||un._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((un._dragging=this)._preventOutline&&Ce(this._element),xe(),Qt(),this._moving))||(this.fire("down"),e=t.touches?t.touches[0]:t,n=Se(this._element),this._startPoint=new A(e.clientX,e.clientY),this._parentScale=Me(n),Te(document,an[t.type],this._onMove,this),Te(document,sn[t.type],this._onUp,this))},_onMove:function(t){var e,n;!t._simulated&&this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:((n=new A((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Re(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=be(this._element).subtract(n),fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,S(this._animRequest),this._lastEvent=t,this._animRequest=E(this._updatePosition,this,!0))))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),_e(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in de(document.body,"leaflet-dragging"),this._lastTarget&&(de(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an)Ie(document,an[t],this._onMove,this),Ie(document,sn[t],this._onUp,this);we(),te(),this._moved&&this._moving&&(S(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,un._dragging=!1}});function ln(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function t(e,n,i,r,o){for(var s,a,u=0,l=r+1;l<=o-1;l++)u<(a=pn(e[l],e[r],e[o],!0))&&(s=l,u=a);i<u&&(n[s]=1,t(e,n,i,r,s),t(e,n,i,s,o))}(t,i,e,0,n-1);for(var r=[],o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t=function(t,e){for(var n,i,r,o,s=[t[0]],a=1,u=0,l=t.length;a<l;a++)n=t[a],e<(r=(i=t[u]).x-n.x)*r+(o=i.y-n.y)*o&&(s.push(t[a]),u=a);return u<l-1&&s.push(t[l-1]),s}(t,n),n)}function cn(t,e,n){return Math.sqrt(pn(t,e,n,!0))}function hn(t,e,n,i,r){var o,s,a,u=i?nn:dn(t,n),l=dn(e,n);for(nn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;a=dn(s=fn(t,e,o=u||l,n,r),n),o===u?(t=s,u=a):(e=s,l=a)}}function fn(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=i.min,c=i.max;return 8&n?(o=t.x+a*(c.y-t.y)/u,s=c.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=c.x,s=t.y+u*(c.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new A(o,s,r)}function dn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function pn(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return 0<l&&(1<(r=((t.x-o)*a+(t.y-s)*u)/l)?(o=n.x,s=n.y):0<r&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new A(o,s)}function gn(t){return!m(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function mn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(t)}var vn=(Object.freeze||Object)({simplify:ln,pointToSegmentDistance:cn,closestPointOnSegment:function(t,e,n){return pn(t,e,n)},clipSegment:hn,_getEdgeIntersection:fn,_getBitCode:dn,_sqClosestPointOnSegment:pn,isFlat:gn,_flat:mn});function yn(t,e,n){for(var i,r,o,s,a,u,l,c=[1,4,2,8],h=0,f=t.length;h<f;h++)t[h]._code=dn(t[h],e);for(o=0;o<4;o++){for(u=c[o],i=[],h=0,r=(f=t.length)-1;h<f;r=h++)s=t[h],a=t[r],s._code&u?a._code&u||((l=fn(a,s,u,e,n))._code=dn(l,e),i.push(l)):(a._code&u&&((l=fn(a,s,u,e,n))._code=dn(l,e),i.push(l)),i.push(s));t=i}return t}var _n,bn=(Object.freeze||Object)({clipPolygon:yn}),xn={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new R([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2),i=-n*Math.log(Math.max(a,1e-10));return new A(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&1e-7<Math.abs(l);u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new B(a*n,t.x*n/i)}},Cn=(Object.freeze||Object)({LonLat:xn,Mercator:wn,SphericalMercator:U}),En=u({},V,{code:"EPSG:3395",projection:wn,transformation:W(_n=.5/(Math.PI*wn.R),.5,-_n,.5)}),Sn=u({},V,{code:"EPSG:4326",projection:xn,transformation:W(1/180,1,-1/180,.5)}),Mn=u({},H,{projection:xn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});H.Earth=V,H.EPSG3395=En,H.EPSG3857=X,H.EPSG900913=Z,H.EPSG4326=Sn,H.Simple=Mn;var Ln=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[I(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[I(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,n=t.target;n.hasLayer(this)&&(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents&&(e=this.getEvents(),n.on(e,this),this.once("remove",function(){n.off(e,this)},this)),this.onAdd(n),this.getAttribution&&n.attributionControl&&n.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),n.fire("layeradd",{layer:this}))}});Ye.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=I(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=I(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&I(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[I(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=I(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers)var r=this._zoomBoundLayers[i].options,t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom);this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tn=Ln.extend({initialize:function(t,e){var n,i;if(f(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:I}),Nn=Tn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Tn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Tn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new F;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),In=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var r=O(i),o=O("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Lt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),kn=In.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return kn.imagePath||(kn.imagePath=this._detectIconPath()),(this.options.imagePath||kn.imagePath)+In.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=se("div","leaflet-default-icon-path",document.body),e=oe(t,"background-image")||oe(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Pn=en.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new un(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&de(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e,n=this._marker,i=n._map,r=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=be(n._icon),a=i.getPixelBounds(),u=i.getPixelOrigin(),l=$(a.min._subtract(u).add(o),a.max._subtract(u).subtract(o));l.contains(s)||(e=O((Math.max(l.max.x,s.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r),i.panBy(e,{animate:!1}),this._draggable._newPos._add(e),this._draggable._startPos._add(e),_e(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=be(e._icon),r=e._map.layerPointToLatLng(i);n&&_e(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),An=Ln.extend({options:{icon:new kn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(fe(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&_e(this._icon,t),this._shadow&&_e(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){var t;this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn)&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),t&&this.dragging.enable())},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Dn=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),On=Dn.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Dn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new R(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Rn=On.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=u({},n,{radius:e})),f(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Dn.prototype.setStyle,_project:function(){var t,e,n,i,r,o,s,a,u=this._latlng.lng,l=this._latlng.lat,c=this._map,h=c.options.crs;h.distance===V.distance?(t=Math.PI/180,e=this._mRadius/V.R/t,n=c.project([l+e,u]),i=c.project([l-e,u]),r=n.add(i).divideBy(2),o=c.unproject(r).lat,s=Math.acos((Math.cos(e*t)-Math.sin(l*t)*Math.sin(o*t))/(Math.cos(l*t)*Math.cos(o*t)))/t,!isNaN(s)&&0!==s||(s=e/Math.cos(Math.PI/180*l)),this._point=r.subtract(c.getPixelOrigin()),this._radius=isNaN(s)?0:r.x-c.project([o,u-s]).x,this._radiusY=r.y-n.y):(a=h.unproject(h.project(this._latlng).subtract([this._mRadius,0])),this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(a).x),this._updateBounds()}}),$n=Dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=pn,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,c=u.length;l<c;l++){var h=o(t,e=u[l-1],n=u[l],!0);h<i&&(i=h,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(e=t=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(i=t=0;t<u-1;t++)if(r=a[t],o=a[t+1],e<(i+=n=r.distanceTo(o)))return s=(i-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new F,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=gn(t),i=0,r=t.length;i<r;i++)n?(e[i]=j(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._pxBounds=new R([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof B,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,n,i,r,o,s=this._parts,a=e=0,u=this._rings.length;e<u;e++)for(n=0,i=(o=this._rings[e]).length;n<i-1;n++)(r=hn(o[n],o[n+1],t,n,!0))&&(s[a]=s[a]||[],s[a].push(r[0]),r[1]===o[n+1]&&n!==i-2||(s[a].push(r[1]),a++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=ln(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(s=(a=this._parts[n]).length)-1;i<s;r=i++)if((e||0!==i)&&cn(t,a[r],a[i])<=u)return!0;return!1}});$n._flat=mn;var Fn=$n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u,l=this._rings[0],c=l.length;if(!c)return null;for(t=o=s=a=0,e=c-1;t<c;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=$n.prototype._convertLatLngs.call(this,t),n=e.length;return 2<=n&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){$n.prototype._setLatLngs.call(this,t),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e),t=new R(t.min.subtract(n),t.max.add(n));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=yn(this._rings[r],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(u=(e=this._parts[r]).length)-1;o<u;s=o++)n=e[o],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||$n.prototype._containsPoint.call(this,t,!0)}}),zn=Nn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=m(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((i=r[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Bn(t,o);return s?(s.feature=Wn(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Bn(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||qn;if(!a&&!s)return null;switch(s.type){case"Point":return jn(l,t,n=c(a),e);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=c(a[r]),u.push(jn(l,t,n,e));return new Nn(u);case"LineString":case"MultiLineString":return i=Hn(a,"LineString"===s.type?0:1,c),new $n(i,e);case"Polygon":case"MultiPolygon":return i=Hn(a,"Polygon"===s.type?1:2,c),new Fn(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=Bn({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new Nn(u);default:throw new Error("Invalid GeoJSON object.")}}function jn(t,e,n,i){return t?t(e,n):new An(n,i&&i.markersInheritOptions&&i)}function qn(t){return new B(t[1],t[0],t[2])}function Hn(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?Hn(t[o],e-1,n):(n||qn)(t[o]),r.push(i);return r}function Vn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[l(t.lng,e),l(t.lat,e),l(t.alt,e)]:[l(t.lng,e),l(t.lat,e)]}function Un(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?Un(t[o],e-1,n,i):Vn(t[o],i));return!e&&n&&r.push(r[0]),r}function Gn(t,e){return t.feature?u({},t.feature,{geometry:e}):Wn(e)}function Wn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Yn={toGeoJSON:function(t){return Gn(this,{type:"Point",coordinates:Vn(this.getLatLng(),t)})}};function Xn(t,e){return new zn(t,e)}An.include(Yn),Rn.include(Yn),On.include(Yn),$n.include({toGeoJSON:function(t){var e=!gn(this._latlngs);return Gn(this,{type:(e?"Multi":"")+"LineString",coordinates:Un(this._latlngs,e?1:0,!1,t)})}}),Fn.include({toGeoJSON:function(t){var e=!gn(this._latlngs),n=e&&!gn(this._latlngs[0]),i=Un(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Gn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Tn.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(t){n.push(t.toGeoJSON(e).geometry.coordinates)}),Gn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(i){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(i);var r="GeometryCollection"===t,o=[];return this.eachLayer(function(t){var e,n;t.toGeoJSON&&(e=t.toGeoJSON(i),r?o.push(e.geometry):"FeatureCollection"===(n=Wn(e)).type?o.push.apply(o,n.features):o.push(n))}),r?Gn(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var Zn=Xn,Kn=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=z(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&ce(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:se("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=N(this.fire,this,"load"),e.onerror=N(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ye(this._image,n,e)},_reset:function(){var t=this._image,e=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();_e(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Jn=Kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:se("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=N(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=0<n.length?i:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var o=0;o<this._url.length;o++){var s=se("source");s.src=this._url[o],e.appendChild(s)}}}}),Qn=Kn.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=a,t.onmousemove=a}}),ti=Ln.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){f(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(N(ae,void 0,this._container),200)):ae(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&ce(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof Ln||(n=e,e=t),e instanceof Nn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,n,i,r;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),e=O(this.options.offset),n=this._getAnchor(),this._zoomAnimated?_e(this._container,t.add(n)):e=e.add(t).add(n),i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x,this._container.style.bottom=i+"px",this._container.style.left=r+"px")},_getAnchor:function(){return[0,0]}}),ei=ti.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){ti.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Dn||this._source.on("preclick",Ae))},onRemove:function(t){ti.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Dn||this._source.off("preclick",Ae))},getEvents:function(){var t=ti.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=this._container=se("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=se("div",e+"-content-wrapper",n);this._contentNode=se("div",e+"-content",i),Oe(i),De(this._contentNode),Te(i,"contextmenu",Ae),this._tipContainer=se("div",e+"-tip-container",n),this._tip=se("div",e+"-tip",this._tipContainer),this.options.closeButton&&((t=this._closeButton=se("a",e+"-close-button",n)).href="#close",t.innerHTML="&#215;",Te(t,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth,n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&r<i?(e.height=r+"px",fe(t,o)):de(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();_e(this._container,e.add(n))},_adjustPan:function(){var t,e,n,i,r,o,s,a,u,l,c,h;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),t=this._map,e=parseInt(oe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,(r=new A(this._containerLeft,-n-this._containerBottom))._add(be(this._container)),o=t.layerPointToContainerPoint(r),s=O(this.options.autoPanPadding),a=O(this.options.autoPanPaddingTopLeft||s),u=O(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=c=0,o.x+i+u.x>l.x&&(c=o.x+i-l.x+u.x),o.x-c-a.x<0&&(c=o.x-a.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-a.y<0&&(h=o.y-a.y),(c||h)&&t.fire("autopanstart").panBy([c,h]))},_onCloseButtonClick:function(t){this._close(),$e(t)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(t,e,n){return t instanceof ei||(t=new ei(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Ln.include({bindPopup:function(t,e){return t instanceof ei?(f(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new ei(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&($e(t),e instanceof Dn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ni=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){ti.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){ti.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=ti.prototype.getEvents.call(this);return Et&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=O(this.options.offset),l=this._getAnchor();t="top"===o?t.add(O(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t.subtract(O(s/2-u.x,-u.y,!0)):"center"===o?t.subtract(O(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t.add(O(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t.subtract(O(s+l.x-u.x,a/2-l.y-u.y,!0))),de(n,"leaflet-tooltip-right"),de(n,"leaflet-tooltip-left"),de(n,"leaflet-tooltip-top"),de(n,"leaflet-tooltip-bottom"),fe(n,"leaflet-tooltip-"+o),_e(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ye.include({openTooltip:function(t,e,n){return t instanceof ni||(t=new ni(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Ln.include({bindTooltip:function(t,e){return t instanceof ni?(f(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new ni(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,n;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Et&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t)},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var ii=In.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e,n=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;return i.html instanceof Element?(ue(n),n.appendChild(i.html)):n.innerHTML=!1!==i.html?i.html:"",i.bgPos&&(e=O(i.bgPos),n.style.backgroundPosition=-e.x+"px "+-e.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});In.Default=kn;var ri=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_t,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et){me(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r,o=this._tiles[i];o.current&&o.loaded&&(r=Math.min(1,(t-o.loaded)/200),me(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0))}n&&!this._noPrune&&this._pruneTiles(),e&&(S(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ae(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||((i=this._levels[t]={}).el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles){(e=this._tiles[t]).current&&!e.active&&(n=e.coords,this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2))}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new A(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i<s&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new A(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();yt?ye(t.el,r,i):_e(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new R(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new R(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new A(c.x,c.y))||(this._tiles[l].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(t,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var f=r.min.x;f<=r.max.x;f++){var d,p=new A(f,h);p.z=this._tileZoom,this._isValidTile(p)&&((d=this._tiles[this._tileCoordsToKey(p)])?d.current=!0:s.push(p))}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));for(var g=document.createDocumentFragment(),f=0;f<s.length;f++)this._addTile(s[f],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new F(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,et&&this.options.opacity<1&&me(t,this.options.opacity),rt&&!ot&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),N(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&E(N(this._tileReady,this,t,null,r)),_e(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(me(n.el,0),S(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(N(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new R(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),oi=ri.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Lt&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),rt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Te(n,"load",N(this._tileOnLoad,this,e,n)),Te(n,"error",N(this._tileOnError,this,e,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e,n={r:Lt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(e=this._globalTileRange.max.y-t.y,this.options.tms&&(n.y=e),n["-y"]=e),g(this._url,u(n,this.options))},_tileOnLoad:function(t,e){et?setTimeout(N(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=a,e.onerror=a,e.complete||(e.src=y,ae(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return at||e.el.setAttribute("src",y),ri.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ri.prototype._tileReady.call(this,t,e,n)}});function si(t,e){return new oi(t,e)}var ai=oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=u({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);var r=(e=f(this,e)).detectRetina&&Lt?2:1,o=this.getTileSize();n.width=o.x*r,n.height=o.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,oi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=$(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(1.3<=this._wmsVersion&&this._crs===Sn?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=oi.prototype.getTileUrl.call(this,t);return a+d(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return u(this.wmsParams,t),e||this.redraw(),this}});oi.WMS=ai,si.wms=function(t,e){return new ai(t,e)};var ui=Ln.extend({options:{padding:.1,tolerance:0},initialize:function(t){f(this,t),I(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=be(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e).subtract(o),a=r.multiplyBy(-n).add(i).add(r).subtract(s);yt?ye(this._container,a,n):_e(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new R(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),li=ui.extend({getEvents:function(){var t=ui.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,ae(this._container),Ie(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,n,i;this._map._animatingZoom&&this._bounds||(ui.prototype._update.call(this),t=this._bounds,e=this._container,n=t.getSize(),i=Lt?2:1,_e(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Lt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);var e=(this._layers[I(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[I(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,n=t.options.dashArray.split(/[, ]+/),i=[],r=0;r<n.length;r++){if(e=Number(n[r]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e,n=this._redrawBounds;this._ctx.save(),n&&(e=n.getSize(),this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){var e,n,i,r;this._drawing&&!t._empty()&&(e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),1!=(r=(Math.max(Math.round(t._radiusY),1)||i)/i)&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!=r&&n.restore(),this._fillStroke(n,t))},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(He(t),this._fireEvent([n],t))},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(de(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(fe(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e,n,i=t._order;i&&(e=i.next,n=i.prev,e&&((e.prev=n)?n.next=e:e&&(this._drawFirst=e),i.prev=this._drawLast,(this._drawLast.next=i).next=null,this._drawLast=i,this._requestRedraw(t)))},_bringToBack:function(t){var e,n,i=t._order;i&&(e=i.next,(n=i.prev)&&((n.next=e)?e.prev=n:n&&(this._drawLast=n),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)))}});function ci(t){return Nt?new li(t):null}var hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),fi={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ui.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hi("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[I(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[I(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e=e||(t._stroke=hi("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=m(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n=n||(t._fill=hi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ce(t._container)}},di=kt?hi:K,pi=ui.extend({getEvents:function(){var t=ui.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Ie(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var t,e,n;this._map._animatingZoom&&this._bounds||(ui.prototype._update.call(this),e=(t=this._bounds).getSize(),n=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),_e(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=di("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[I(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[I(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ce(t._path)}});function gi(t){return It||kt?new pi(t):null}kt&&pi.include(fi),Ye.include({getRenderer:function(t){var e=(e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ci(t)||gi(t)}});var mi=Fn.extend({initialize:function(t,e){Fn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=z(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pi.create=di,pi.pointsToPath=J,zn.geometryToLayer=Bn,zn.coordsToLatLng=qn,zn.coordsToLatLngs=Hn,zn.latLngToCoords=Vn,zn.latLngsToCoords=Un,zn.getFeature=Gn,zn.asFeature=Wn,Ye.mergeOptions({boxZoom:!0});var vi=en.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new R(this._point,this._startPoint),n=e.getSize();_e(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ae(this._box),de(this._container,"leaflet-crosshair")),te(),we(),Ie(document,{contextmenu:$e,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){var e;1!==t.which&&1!==t.button||(this._finish(),!this._moved)||(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(N(this._resetState,this),0),e=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e}))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ye.addInitHook("addHandler","boxZoom",vi),Ye.mergeOptions({doubleClickZoom:!0});var yi=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Ye.addInitHook("addHandler","doubleClickZoom",yi),Ye.mergeOptions({dragging:!0,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _i=en.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new un(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){de(this._map._container,"leaflet-grab"),de(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=z(this._map.options.maxBounds),this._offsetLimit=$(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,n;this._map.options.inertia&&(e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(n),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&(t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit,t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e,n,i,r,o,s,a,u,l,c=this._map,h=c.options,f=!h.inertia||this._times.length<2;c.fire("dragend",t),f?c.fire("moveend"):(this._prunePositions(+new Date),e=this._lastPos.subtract(this._positions[0]),n=(this._lastTime-this._times[0])/1e3,i=h.easeLinearity,o=(r=e.multiplyBy(i/n)).distanceTo([0,0]),s=Math.min(h.inertiaMaxSpeed,o),a=r.multiplyBy(s/o),u=s/(h.inertiaDeceleration*i),(l=a.multiplyBy(-u/2).round()).x||l.y?(l=c._limitOffset(l,c.options.maxBounds),E(function(){c.panBy(l,{duration:u,easeLinearity:i,noMoveStart:!0,animate:!0})})):c.fire("moveend"))}});Ye.addInitHook("addHandler","dragging",_i),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bi=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ie(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,n,i;this._focused||(t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft,this._map._container.focus(),window.scrollTo(i,n))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},n=this.keyCodes,i=0,r=n.left.length;i<r;i++)e[n.left[i]]=[-1*t,0];for(i=0,r=n.right.length;i<r;i++)e[n.right[i]]=[t,0];for(i=0,r=n.down.length;i<r;i++)e[n.down[i]]=[0,t];for(i=0,r=n.up.length;i<r;i++)e[n.up[i]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},n=this.keyCodes,i=0,r=n.zoomIn.length;i<r;i++)e[n.zoomIn[i]]=t;for(i=0,r=n.zoomOut.length;i<r;i++)e[n.zoomOut[i]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=O(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}$e(t)}}});Ye.addInitHook("addHandler","keyboard",bi),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xi=en.extend({addHooks:function(){Te(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ie(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Be(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(N(this._performZoom,this),i),$e(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(0<this._delta?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ye.addInitHook("addHandler","scrollWheelZoom",xi),Ye.mergeOptions({tap:!0,tapTolerance:15});var wi=en.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Re(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new A(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&fe(n,"leaflet-active"),this._holdTimeout=setTimeout(N(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),Te(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){var e,n;clearTimeout(this._holdTimeout),Ie(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches&&((n=(e=t.changedTouches[0]).target)&&n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});Et&&!Ct&&Ye.addInitHook("addHandler","tap",wi),Ye.mergeOptions({touchZoom:Et&&!ot,bounceAtZoomLimits:!0});var Ci=en.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,n,i=this._map;!t.touches||2!==t.touches.length||i._animatingZoom||this._zooming||(e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend",this._onTouchEnd,this),Re(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&1<r)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==r)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1==r&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var s=N(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=E(s,this,!0),Re(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Ie(document,"touchmove",this._onTouchMove),Ie(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ye.addInitHook("addHandler","touchZoom",Ci),Ye.BoxZoom=vi,Ye.DoubleClickZoom=yi,Ye.Drag=_i,Ye.Keyboard=bi,Ye.ScrollWheelZoom=xi,Ye.Tap=wi,Ye.TouchZoom=Ci,Object.freeze=e,t.version="1.6.0",t.Control=Ze,t.control=Xe,t.Browser=At,t.Evented=P,t.Mixin=rn,t.Util=M,t.Class=T,t.Handler=en,t.extend=u,t.bind=N,t.stamp=I,t.setOptions=f,t.DomEvent=Ge,t.DomUtil=Le,t.PosAnimation=We,t.Draggable=un,t.LineUtil=vn,t.PolyUtil=bn,t.Point=A,t.point=O,t.Bounds=R,t.bounds=$,t.Transformation=G,t.transformation=W,t.Projection=Cn,t.LatLng=B,t.latLng=j,t.LatLngBounds=F,t.latLngBounds=z,t.CRS=H,t.GeoJSON=zn,t.geoJSON=Xn,t.geoJson=Zn,t.Layer=Ln,t.LayerGroup=Tn,t.layerGroup=function(t,e){return new Tn(t,e)},t.FeatureGroup=Nn,t.featureGroup=function(t){return new Nn(t)},t.ImageOverlay=Kn,t.imageOverlay=function(t,e,n){return new Kn(t,e,n)},t.VideoOverlay=Jn,t.videoOverlay=function(t,e,n){return new Jn(t,e,n)},t.SVGOverlay=Qn,t.svgOverlay=function(t,e,n){return new Qn(t,e,n)},t.DivOverlay=ti,t.Popup=ei,t.popup=function(t,e){return new ei(t,e)},t.Tooltip=ni,t.tooltip=function(t,e){return new ni(t,e)},t.Icon=In,t.icon=function(t){return new In(t)},t.DivIcon=ii,t.divIcon=function(t){return new ii(t)},t.Marker=An,t.marker=function(t,e){return new An(t,e)},t.TileLayer=oi,t.tileLayer=si,t.GridLayer=ri,t.gridLayer=function(t){return new ri(t)},t.SVG=pi,t.svg=gi,t.Renderer=ui,t.Canvas=li,t.canvas=ci,t.Path=Dn,t.CircleMarker=On,t.circleMarker=function(t,e){return new On(t,e)},t.Circle=Rn,t.circle=function(t,e,n){return new Rn(t,e,n)},t.Polyline=$n,t.polyline=function(t,e){return new $n(t,e)},t.Polygon=Fn,t.polygon=function(t,e){return new Fn(t,e)},t.Rectangle=mi,t.rectangle=function(t,e){return new mi(t,e)},t.Map=Ye,t.map=function(t,e){return new Ye(t,e)};var Ei=window.L;t.noConflict=function(){return window.L=Ei,this},window.L=t}),function o(s,a,u){function l(n,t){if(!a[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[n]={exports:{}};s[n][0].call(r.exports,function(t){var e=s[n][1][t];return l(e||t)},r,r.exports,o,s,a,u)}return a[n].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,e,n){},{}],2:[function(t,e,n){function o(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),u=a-s;return a==s?e=0:i==a?e=(r-o)/u:r==a?e=2+(o-i)/u:o==a&&(e=4+(i-r)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a==s?0:n<=.5?u/(a+s):u/(2-a-s)),100*n]}function i(t){var e,n=t[0],i=t[1],r=t[2],o=Math.min(n,i,r),s=Math.max(n,i,r),a=s-o,u=0==s?0:a/s*1e3/10;return s==o?e=0:n==s?e=(i-r)/a:i==s?e=2+(r-n)/a:r==s&&(e=4+(n-i)/a),(e=Math.min(60*e,360))<0&&(e+=360),[e,u,s/255*1e3/10]}function s(t){var e=t[0],n=t[1],i=t[2];return[o(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]}function a(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(1-e,1-n,1-i);return[100*((1-e-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-i-r)/(1-r)||0),100*r]}function u(t){return S[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function c(t){var e=l(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function h(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,u=t[2]/100;if(0==a)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+a):u+a-u*a),r=[0,0,0];for(var l=0;l<3;l++)(i=s+1/3*-(l-1))<0&&i++,1<i&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[l]=255*o;return r}function f(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-n),a=255*i*(1-n*o),u=255*i*(1-n*(1-o)),i=255*i;switch(r){case 0:return[i,u,s];case 1:return[a,i,s];case 2:return[s,i,u];case 3:return[s,a,i];case 4:return[u,s,i];case 5:return[i,s,a]}}function d(t){var e,n,i,o,s=t[0]/360,a=t[1]/100,u=t[2]/100,l=a+u;switch(1<l&&(a/=l,u/=l),i=6*s-(e=Math.floor(6*s)),0!=(1&e)&&(i=1-i),o=a+i*((n=1-u)-a),e){default:case 6:case 0:r=n,g=o,b=a;break;case 1:r=o,g=n,b=a;break;case 2:r=a,g=n,b=o;break;case 3:r=a,g=o,b=n;break;case 4:r=o,g=a,b=n;break;case 5:r=n,g=a,b=o}return[255*r,255*g,255*b]}function p(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function m(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=3.2406*e+-1.5372*n+-.4986*i,o=-.9689*e+1.8758*n+.0415*i,s=.0557*e+-.204*n+1.057*i;return r=.0031308<r?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,o=.0031308<o?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,s=.0031308<s?1.055*Math.pow(s,1/2.4)-.055:s*=12.92,[255*(r=Math.min(Math.max(0,r),1)),255*(o=Math.min(Math.max(0,o),1)),255*(s=Math.min(Math.max(0,s),1))]}function v(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function y(t){var e,n=t[0],i=t[1],r=t[2],o=n<=8?(e=100*n/903.3)/100*7.787+16/116:(e=100*Math.pow((n+16)/116,3),Math.pow(e/100,1/3)),s=s/95.047<=.008856?s=95.047*(i/500+o-16/116)/7.787:95.047*Math.pow(i/500+o,3),a=a/108.883<=.008859?a=108.883*(o-r/200-16/116)/7.787:108.883*Math.pow(o-r/200,3);return[s,e,a]}function _(t){var e=t[0],n=t[1],i=t[2],r=360*Math.atan2(i,n)/2/Math.PI;return r<0&&(r+=360),[e,Math.sqrt(n*n+i*i),r]}function x(t){return m(y(t))}function w(t){var e=t[0],n=t[1],i=t[2]/360*2*Math.PI;return[e,n*Math.cos(i),n*Math.sin(i)]}function C(t){return E[t]}e.exports={rgb2hsl:o,rgb2hsv:i,rgb2hwb:s,rgb2cmyk:a,rgb2keyword:u,rgb2xyz:l,rgb2lab:c,rgb2lch:function(t){return _(c(t))},hsl2rgb:h,hsl2hsv:function(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0!==i?[e,100*(2*(n*=(i*=2)<=1?i:2-i)/(i+n)),100*((i+n)/2)]:[0,0,0]},hsl2hwb:function(t){return s(h(t))},hsl2cmyk:function(t){return a(h(t))},hsl2keyword:function(t){return u(h(t))},hsv2rgb:f,hsv2hsl:function(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return e=r*o,[i,100*(e=(e/=(n=(2-r)*o)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return s(f(t))},hsv2cmyk:function(t){return a(f(t))},hsv2keyword:function(t){return u(f(t))},hwb2rgb:d,hwb2hsl:function(t){return o(d(t))},hwb2hsv:function(t){return i(d(t))},hwb2cmyk:function(t){return a(d(t))},hwb2keyword:function(t){return u(d(t))},cmyk2rgb:p,cmyk2hsl:function(t){return o(p(t))},cmyk2hsv:function(t){return i(p(t))},cmyk2hwb:function(t){return s(p(t))},cmyk2keyword:function(t){return u(p(t))},keyword2rgb:C,keyword2hsl:function(t){return o(C(t))},keyword2hsv:function(t){return i(C(t))},keyword2hwb:function(t){return s(C(t))},keyword2cmyk:function(t){return a(C(t))},keyword2lab:function(t){return c(C(t))},keyword2xyz:function(t){return l(C(t))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(t){return _(v(t))},lab2xyz:y,lab2rgb:x,lab2lch:_,lch2lab:w,lch2xyz:function(t){return y(w(t))},lch2rgb:function(t){return x(w(t))}};var E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},S={};for(var M in E)S[JSON.stringify(E[M])]=M},{}],3:[function(t,e,n){function r(){return new l}var o=t("./conversions");for(var i in o){r[i+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),o[e](t)}}(i);var s=/(\w+)2(\w+)/.exec(i),a=s[1],u=s[2];(r[a]=r[a]||{})[u]=r[i]=function(i){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=o[i](t);if("string"==typeof e||void 0===e)return e;for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]);return e}}(i)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e,n,i=this.convs[t];return i||(e=this.space,n=this.convs[e],i=r[e][t](n),this.convs[t]=i),i},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=r},{"./conversions":2}],4:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],5:[function(t,e,n){var o=t("color-name");function i(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3})$/);if(i){i=i[1];for(var r=0;r<e.length;r++)e[r]=parseInt(i[r]+i[r],16)}else if(i=t.match(/^#([a-fA-F0-9]{6})$/)){i=i[1];for(r=0;r<e.length;r++)e[r]=parseInt(i.slice(2*r,2*r+2),16)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<e.length;r++)e[r]=parseInt(i[r+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(i[r+1]));n=parseFloat(i[4])}else if(i=t.match(/(\D+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=o[i[1]]))return}for(r=0;r<e.length;r++)e[r]=c(e[r],0,255);return n=n||0==n?c(n,0,1):1,e[3]=n,e}}function r(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[c(parseInt(e[1]),0,360),c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function s(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[c(parseInt(e[1]),0,360),c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function a(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function u(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function l(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function c(t,e,n){return Math.min(Math.max(e,t),n)}function h(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}e.exports={getRgba:i,getHsla:r,getRgb:function(t){var e=i(t);return e&&e.slice(0,3)},getHsl:function(t){var e=r(t);return e&&e.slice(0,3)},getHwb:s,getAlpha:function(t){var e=i(t);{if(e)return e[3];if(e=r(t))return e[3];if(e=s(t))return e[3]}},hexString:function(t){return"#"+h(t[0])+h(t[1])+h(t[2])},rgbString:function(t,e){if(e<1||t[3]&&t[3]<1)return a(t,e);return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:a,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return u(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"},percentaString:u,hslString:function(t,e){if(e<1||t[3]&&t[3]<1)return l(t,e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:l,hwbString:function(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return f[t.slice(0,3)]}};var f={};for(var d in o)f[o[d]]=d},{"color-name":4}],6:[function(t,e,n){var l=t("color-convert"),i=t("color-string"),r=function(t){if(t instanceof r)return t;if(!(this instanceof r))return new r(t);var e;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t)if(e=i.getRgba(t))this.setValues("rgb",e);else if(e=i.getHsla(t))this.setValues("hsl",e);else{if(!(e=i.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t){if(void 0!==(e=t).r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}}};r.prototype={rgb:function(t){return this.setSpace("rgb",arguments)},hsl:function(t){return this.setSpace("hsl",arguments)},hsv:function(t){return this.setSpace("hsv",arguments)},hwb:function(t){return this.setSpace("hwb",arguments)},cmyk:function(t){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((.055+i)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){return this.values.hsl[2]+=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},darken:function(t){return this.values.hsl[2]-=this.values.hsl[2]*t,this.setValues("hsl",this.values.hsl),this},saturate:function(t){return this.values.hsl[1]+=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},desaturate:function(t){return this.values.hsl[1]-=this.values.hsl[1]*t,this.setValues("hsl",this.values.hsl),this},whiten:function(t){return this.values.hwb[1]+=this.values.hwb[1]*t,this.setValues("hwb",this.values.hwb),this},blacken:function(t){return this.values.hwb[2]+=this.values.hwb[2]*t,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){return this.setValues("alpha",this.values.alpha-this.values.alpha*t),this},opaquer:function(t){return this.setValues("alpha",this.values.alpha+this.values.alpha*t),this},rotate:function(t){var e=this.values.hsl[0];return e=(e=(e+t)%360)<0?360+e:e,this.values.hsl[0]=e,this.setValues("hsl",this.values.hsl),this},mix:function(t,e){for(var n=2*(e=1-(null==e?.5:e))-1,i=this.alpha()-t.alpha(),r=(1+(n*i==-1?n:(n+i)/(1+n*i)))/2,o=1-r,s=this.rgbArray(),a=t.rgbArray(),u=0;u<s.length;u++)s[u]=s[u]*r+a[u]*o;this.setValues("rgb",s);var l=this.alpha()*e+t.alpha()*(1-e);return this.setValues("alpha",l),this},toJSON:function(){return this.rgb()},clone:function(){return new r(this.rgb())}},r.prototype.getValues=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=this.values[t][n];return 1!=this.values.alpha&&(e.a=this.values.alpha),e},r.prototype.setValues=function(t,e){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},r=1;if("alpha"==t)r=e;else if(e.length)this.values[t]=e.slice(0,t.length),r=e[t.length];else if(void 0!==e[t.charAt(0)]){for(var o=0;o<t.length;o++)this.values[t][o]=e[t.charAt(o)];r=e.a}else if(void 0!==e[n[t][0]]){for(var s=n[t],o=0;o<t.length;o++)this.values[t][o]=e[s[o]];r=e.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==r?r:this.values.alpha)),"alpha"!=t){for(o=0;o<t.length;o++){var a=Math.max(0,Math.min(i[t][o],this.values[t][o]));this.values[t][o]=Math.round(a)}for(var u in n){u!=t&&(this.values[u]=l[t][u](this.values[t]));for(o=0;o<u.length;o++){a=Math.max(0,Math.min(i[u][o],this.values[u][o]));this.values[u][o]=Math.round(a)}}return!0}},r.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},r.prototype.setChannel=function(t,e,n){return void 0===n?this.values[t][e]:(this.values[t][e]=n,this.setValues(t,this.values[t]),this)},e.exports=r},{"color-convert":3,"color-string":5}],7:[function(t,e,n){e.exports=t("./lib/geocrunch")},{"./lib/geocrunch":12}],8:[function(t,e,n){var i=t("underscore"),s=t("./constants").EARTHRADIUS,a=t("./units"),r=t("./flipcoords"),o={sqmeters:function(t){return t},sqmiles:function(t){return a.sqMeters.toSqMiles(t)},acres:function(t){return a.sqMeters.toAcres(t)}};e.exports={_internalAreaCalc:function(){this._calcedArea||(this._coords.length<3?this._calcedArea=0:this._calcedArea=function(t){for(var e,n,i=0,r=0,o=t.length;r<o;r+=1)e=t[r],n=t[(r+1)%t.length],i+=a.degrees.toRadians(n[0]-e[0])*(2+Math.sin(a.degrees.toRadians(e[1]))+Math.sin(a.degrees.toRadians(n[1])));return Math.abs(i*s*s/2)}(this._coords))},_internalCenterCalc:function(){!this._calcedCenter&&this._coords.length&&(this._calcedCenter=function(t){var e,n,i,r,o,s=t[0],a=0,u=0,l=0;if(1===t.length)return t[0];for(e=0,n=t.length;e<n;e+=1)i=t[e],r=t[(e+1)%t.length],a+=o=(i[1]-s[1])*(r[0]-s[0])-(r[1]-s[1])*(i[0]-s[0]),u+=(i[0]+r[0]-2*s[0])*o,l+=(i[1]+r[1]-2*s[1])*o;return[u/(o=3*a)+s[0],l/o+s[1]]}(this._coords))},area:function(t){var e=i.extend({units:"sqmeters"},t);if(this._internalAreaCalc(),i.isFunction(o[e.units]))return o[e.units](this._calcedArea)},center:function(){return this._internalCenterCalc(),!0===this._options.imBackwards?r(this._calcedCenter):this._calcedCenter}}},{"./constants":9,"./flipcoords":11,"./units":14,underscore:15}],9:[function(t,e,n){e.exports={EARTHRADIUS:6371e3}},{}],10:[function(t,e,n){var i=t("underscore"),f=t("./constants").EARTHRADIUS,d=t("./units"),r={meters:function(t){return t},kilometers:function(t){return d.meters.toKilometers(t)},feet:function(t){return d.meters.toFeet(t)},miles:function(t){return d.meters.toMiles(t)}};e.exports={_internalDistanceCalc:function(){var t,e,n,i,r,o,s,a,u,l,c,h=0;if(!this._calcedDistance){for(t=0,e=this._coords.length;t<e;t+=1)0<t&&(h+=(n=this._coords[t-1],i=this._coords[t],0,r=d.degrees.toRadians(n[0]-i[0]),o=d.degrees.toRadians(n[1]-i[1]),s=d.degrees.toRadians(n[1]),a=d.degrees.toRadians(i[1]),u=Math.sin(r/2),l=Math.sin(o/2),c=l*l+u*u*Math.cos(s)*Math.cos(a),2*f*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))));this._calcedDistance=h}},distance:function(t){var e=i.extend({units:"meters"},t);if(this._internalDistanceCalc(),i.isFunction(r[e.units]))return r[e.units](this._calcedDistance)}}},{"./constants":9,"./units":14,underscore:15}],11:[function(t,e,n){var i=t("underscore");e.exports=function(t){return i.map(t,function(t){return[t[1],t[0]]})}},{underscore:15}],12:[function(t,e,n){var i=t("underscore"),r=t("./path"),o=t("./distance"),s=t("./area");i.extend(r.prototype,o,s),n.path=function(t,e){return new r(t,e)}},{"./area":8,"./distance":10,"./path":13,underscore:15}],13:[function(t,e,n){var i=t("./flipcoords");e.exports=function(t,e){this._options=e||{},t=t||[],this._coords=!0===this._options.imBackwards?i(t):t}},{"./flipcoords":11}],14:[function(t,e,n){n.meters={toFeet:function(t){return 3.28084*t},toKilometers:function(t){return.001*t},toMiles:function(t){return 621371e-9*t}},n.sqMeters={toSqMiles:function(t){return 3.86102e-7*t},toAcres:function(t){return 247105e-9*t}},n.degrees={toRadians:function(t){return t*Math.PI/180}}},{}],15:[function(t,z,B){(function(){var t=this,e=t._,s={},r=Array.prototype,n=Object.prototype,i=Function.prototype,o=r.push,a=r.slice,u=r.concat,h=n.toString,l=n.hasOwnProperty,c=r.forEach,f=r.map,d=r.reduce,p=r.reduceRight,g=r.filter,m=r.every,v=r.some,y=r.indexOf,_=r.lastIndexOf,b=Array.isArray,x=Object.keys,w=i.bind,C=function(t){return t instanceof C?t:this instanceof C?void(this._wrapped=t):new C(t)};void 0!==B?(void 0!==z&&z.exports&&(B=z.exports=C),B._=C):t._=C,C.VERSION="1.5.2";var E=C.each=C.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t)===s)return}else for(var o=C.keys(t),i=0,r=o.length;i<r;i++)if(e.call(n,t[o[i]],o[i],t)===s)return};C.map=C.collect=function(t,i,r){var o=[];return null==t?o:f&&t.map===f?t.map(i,r):(E(t,function(t,e,n){o.push(i.call(r,t,e,n))}),o)};var S="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,i,r,o){var s=2<arguments.length;if(null==t&&(t=[]),d&&t.reduce===d)return o&&(i=C.bind(i,o)),s?t.reduce(i,r):t.reduce(i);if(E(t,function(t,e,n){s?r=i.call(o,r,t,e,n):(r=t,s=!0)}),!s)throw new TypeError(S);return r},C.reduceRight=C.foldr=function(i,r,o,s){var a=2<arguments.length;if(null==i&&(i=[]),p&&i.reduceRight===p)return s&&(r=C.bind(r,s)),a?i.reduceRight(r,o):i.reduceRight(r);var u,l=i.length;if(l!==+l&&(u=C.keys(i),l=u.length),E(i,function(t,e,n){e=u?u[--l]:--l,a?o=r.call(s,o,i[e],e,n):(o=i[e],a=!0)}),!a)throw new TypeError(S);return o},C.find=C.detect=function(t,i,r){var o;return M(t,function(t,e,n){if(i.call(r,t,e,n))return o=t,!0}),o},C.filter=C.select=function(t,i,r){var o=[];return null==t?o:g&&t.filter===g?t.filter(i,r):(E(t,function(t,e,n){i.call(r,t,e,n)&&o.push(t)}),o)},C.reject=function(t,i,r){return C.filter(t,function(t,e,n){return!i.call(r,t,e,n)},r)},C.every=C.all=function(t,i,r){i=i||C.identity;var o=!0;return null==t?o:m&&t.every===m?t.every(i,r):(E(t,function(t,e,n){if(!(o=o&&i.call(r,t,e,n)))return s}),!!o)};var M=C.some=C.any=function(t,i,r){i=i||C.identity;var o=!1;return null==t?o:v&&t.some===v?t.some(i,r):(E(t,function(t,e,n){if(o=o||i.call(r,t,e,n))return s}),!!o)};C.contains=C.include=function(t,e){return null!=t&&(y&&t.indexOf===y?-1!=t.indexOf(e):M(t,function(t){return t===e}))},C.invoke=function(t,e){var n=a.call(arguments,2),i=C.isFunction(e);return C.map(t,function(t){return(i?e:t[e]).apply(t,n)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,n,e){return C.isEmpty(n)?e?void 0:[]:C[e?"find":"filter"](t,function(t){for(var e in n)if(n[e]!==t[e])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,r,o){if(!r&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!r&&C.isEmpty(t))return-1/0;var s={computed:-1/0,value:-1/0};return E(t,function(t,e,n){var i=r?r.call(o,t,e,n):t;i>s.computed&&(s={value:t,computed:i})}),s.value},C.min=function(t,r,o){if(!r&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!r&&C.isEmpty(t))return 1/0;var s={computed:1/0,value:1/0};return E(t,function(t,e,n){var i=r?r.call(o,t,e,n):t;i<s.computed&&(s={value:t,computed:i})}),s.value},C.shuffle=function(t){var e,n=0,i=[];return E(t,function(t){e=C.random(n++),i[n-1]=i[e],i[e]=t}),i},C.sample=function(t,e,n){return arguments.length<2||n?t[C.random(t.length-1)]:C.shuffle(t).slice(0,Math.max(0,e))};function L(e){return C.isFunction(e)?e:function(t){return t[e]}}C.sortBy=function(t,e,i){var r=L(e);return C.pluck(C.map(t,function(t,e,n){return{value:t,index:e,criteria:r.call(i,t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};function T(a){return function(i,t,r){var o={},s=null==t?C.identity:L(t);return E(i,function(t,e){var n=s.call(r,t,e,i);a(o,n,t)}),o}}C.groupBy=T(function(t,e,n){(C.has(t,e)?t[e]:t[e]=[]).push(n)}),C.indexBy=T(function(t,e,n){t[e]=n}),C.countBy=T(function(t,e){C.has(t,e)?t[e]++:t[e]=1}),C.sortedIndex=function(t,e,n,i){for(var r=(n=null==n?C.identity:L(n)).call(i,e),o=0,s=t.length;o<s;){var a=o+s>>>1;n.call(i,t[a])<r?o=1+a:s=a}return o},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:a.call(t,0,e)},C.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},C.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var N=function(t,e,n){return e&&C.every(t,C.isArray)?u.apply(n,t):(E(t,function(t){C.isArray(t)||C.isArguments(t)?e?o.apply(n,t):N(t,e,n):n.push(t)}),n)};C.flatten=function(t,e){return N(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(n,i,t,e){C.isFunction(i)&&(e=t,t=i,i=!1);var r=t?C.map(n,t,e):n,o=[],s=[];return E(r,function(t,e){(i?e&&s[s.length-1]===t:C.contains(s,t))||(s.push(t),o.push(n[e]))}),o},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var n=a.call(arguments,1);return C.filter(C.uniq(t),function(e){return C.every(n,function(t){return 0<=C.indexOf(t,e)})})},C.difference=function(t){var e=u.apply(r,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=C.pluck(arguments,""+n);return e},C.object=function(t,e){if(null==t)return{};for(var n={},i=0,r=t.length;i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},C.indexOf=function(t,e,n){if(null==t)return-1;var i=0,r=t.length;if(n){if("number"!=typeof n)return t[i=C.sortedIndex(t,e)]===e?i:-1;i=n<0?Math.max(0,r+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i<r;i++)if(t[i]===e)return i;return-1},C.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(_&&t.lastIndexOf===_)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var r=i?n:t.length;r--;)if(t[r]===e)return r;return-1},C.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,o=new Array(i);r<i;)o[r++]=t,t+=n;return o};function I(){}C.bind=function(n,i){var r,o;if(w&&n.bind===w)return w.apply(n,a.call(arguments,1));if(!C.isFunction(n))throw new TypeError;return r=a.call(arguments,2),o=function(){if(!(this instanceof o))return n.apply(i,r.concat(a.call(arguments)));I.prototype=n.prototype;var t=new I;I.prototype=null;var e=n.apply(t,r.concat(a.call(arguments)));return Object(e)===e?e:t}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,n){var i={};return n=n||C.identity,function(){var t=n.apply(this,arguments);return C.has(i,t)?i[t]:i[t]=e.apply(this,arguments)}},C.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(n,i,r){var o,s,a,u=null,l=0;r=r||{};function c(){l=!1===r.leading?0:new Date,u=null,a=n.apply(o,s)}return function(){var t=new Date;l||!1!==r.leading||(l=t);var e=i-(t-l);return o=this,s=arguments,e<=0?(clearTimeout(u),u=null,l=t,a=n.apply(o,s)):u||!1===r.trailing||(u=setTimeout(c,e)),a}},C.debounce=function(n,i,r){var o,s,a,u,l;return function(){a=this,s=arguments,u=new Date;var e=function(){var t=new Date-u;t<i?o=setTimeout(e,i-t):(o=null,r||(l=n.apply(a,s)))},t=r&&!o;return o=o||setTimeout(e,i),t&&(l=n.apply(a,s)),l}},C.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},C.wrap=function(e,n){return function(){var t=[e];return o.apply(t,arguments),n.apply(this,t)}},C.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;0<=e;e--)t=[n[e].apply(this,t)];return t[0]}},C.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},C.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)C.has(t,n)&&e.push(n);return e},C.values=function(t){for(var e=C.keys(t),n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},C.pairs=function(t){for(var e=C.keys(t),n=e.length,i=new Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},C.invert=function(t){for(var e={},n=C.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},C.functions=C.methods=function(t){var e=[];for(var n in t)C.isFunction(t[n])&&e.push(n);return e.sort()},C.extend=function(n){return E(a.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},C.pick=function(e){var n={},t=u.apply(r,a.call(arguments,1));return E(t,function(t){t in e&&(n[t]=e[t])}),n},C.omit=function(t){var e={},n=u.apply(r,a.call(arguments,1));for(var i in t)C.contains(n,i)||(e[i]=t[i]);return e},C.defaults=function(n){return E(a.call(arguments,1),function(t){if(t)for(var e in t)void 0===n[e]&&(n[e]=t[e])}),n},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var k=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var r=h.call(t);if(r!=h.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(a)&&a instanceof a))return!1;n.push(t),i.push(e);var u=0,l=!0;if("[object Array]"==r){if(l=(u=t.length)==e.length)for(;u--&&(l=k(t[u],e[u],n,i)););}else{for(var c in t)if(C.has(t,c)&&(u++,!(l=C.has(e,c)&&k(t[c],e[c],n,i))))break;if(l){for(c in e)if(C.has(e,c)&&!u--)break;l=!u}}return n.pop(),i.pop(),l};C.isEqual=function(t,e){return k(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=b||function(t){return"[object Array]"==h.call(t)},C.isObject=function(t){return t===Object(t)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==h.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return l.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,n){for(var i=Array(Math.max(0,t)),r=0;r<t;r++)i[r]=e.call(n,r);return i},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=C.invert(P.escape);var A={escape:new RegExp("["+C.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(P.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(A[e],function(t){return P[e][t]})}}),C.result=function(t,e){if(null!=t){var n=t[e];return C.isFunction(n)?n.call(t):n}},C.mixin=function(n){E(C.functions(n),function(t){var e=C[t]=n[t];C.prototype[t]=function(){var t=[this._wrapped];return o.apply(t,arguments),F.call(this,e.apply(C,t))}})};var D=0;C.uniqueId=function(t){var e=++D+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(o,t,e){var n;e=C.defaults({},e,C.templateSettings);var i=new RegExp([(e.escape||O).source,(e.interpolate||O).source,(e.evaluate||O).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(i,function(t,e,n,i,r){return a+=o.slice(s,r).replace($,function(t){return"\\"+R[t]}),e&&(a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),s=r+t.length,t}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}if(t)return n(t,C);function r(t){return n.call(this,t,C)}return r.source="function("+(e.variable||"obj")+"){\n"+a+"}",r},C.chain=function(t){return C(t).chain()};var F=function(t){return this._chain?C(t).chain():t};C.mixin(C),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];C.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!=e&&"splice"!=e||0!==t.length||delete t[0],F.call(this,t)}}),E(["concat","join","slice"],function(t){var e=r[t];C.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],16:[function(t,n,i){(function(){var t=this,e=t.humanize,h={};void 0!==i?(void 0!==n&&n.exports&&(i=n.exports=h),i.humanize=h):("function"==typeof define&&define.amd&&define("humanize",function(){return h}),t.humanize=h),h.noConflict=function(){return t.humanize=e,this},h.pad=function(t,e,n,i){if(t+="",n?1<n.length&&(n=n.charAt(0)):n=" ","right"===(i=void 0===i?"left":"right"))for(;t.length<e;)t+=n;else for(;t.length<e;)t=n+t;return t},h.time=function(){return(new Date).getTime()/1e3};var u=[0,0,31,59,90,120,151,181,212,243,273,304,334],l=[0,0,31,60,91,121,152,182,213,244,274,305,335];h.date=function(t,e){function n(t,e){return a[t]?a[t]():e}var i=void 0===e?new Date:e instanceof Date?new Date(e):new Date(1e3*e),r=/\\?([a-z])/gi,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],a={d:function(){return h.pad(a.j(),2,"0")},D:function(){return a.l().slice(0,3)},j:function(){return i.getDate()},l:function(){return o[a.w()]},N:function(){return a.w()||7},S:function(){var t=a.j();return!(4<t&&t<21)&&{1:"st",2:"nd",3:"rd"}[t%10]||"th"},w:function(){return i.getDay()},z:function(){return(a.L()?l[a.n()]:u[a.n()])+a.j()-1},W:function(){var t=a.z()-a.N()+1.5;return h.pad(1+Math.floor(Math.abs(t)/7)+(3.5<t%7?1:0),2,"0")},F:function(){return s[i.getMonth()]},m:function(){return h.pad(a.n(),2,"0")},M:function(){return a.F().slice(0,3)},n:function(){return i.getMonth()+1},t:function(){return new Date(a.Y(),a.n(),0).getDate()},L:function(){return 1===new Date(a.Y(),1,29).getMonth()?1:0},o:function(){var t=a.n(),e=a.W();return a.Y()+(12===t&&e<9?-1:1===t&&9<e)},Y:function(){return i.getFullYear()},y:function(){return String(a.Y()).slice(-2)},a:function(){return 11<i.getHours()?"pm":"am"},A:function(){return a.a().toUpperCase()},B:function(){var t=i.getTime()/1e3,e=t%86400+3600;e<0&&(e+=86400);var n=e/86.4%1e3;return t<0?Math.ceil(n):Math.floor(n)},g:function(){return a.G()%12||12},G:function(){return i.getHours()},h:function(){return h.pad(a.g(),2,"0")},H:function(){return h.pad(a.G(),2,"0")},i:function(){return h.pad(i.getMinutes(),2,"0")},s:function(){return h.pad(i.getSeconds(),2,"0")},u:function(){return h.pad(1e3*i.getMilliseconds(),6,"0")},O:function(){var t=i.getTimezoneOffset(),e=Math.abs(t);return(0<t?"-":"+")+h.pad(100*Math.floor(e/60)+e%60,4,"0")},P:function(){var t=a.O();return t.substr(0,3)+":"+t.substr(3,2)},Z:function(){return 60*-i.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(r,n)},r:function(){return"D, d M Y H:i:s O".replace(r,n)},U:function(){return i.getTime()/1e3||0}};return t.replace(r,n)},h.numberFormat=function(t,e,n,i){e=isNaN(e)?2:Math.abs(e),n=void 0===n?".":n,i=void 0===i?",":i;var r=t<0?"-":"";t=Math.abs(+t||0);var o=parseInt(t.toFixed(e),10)+"",s=3<o.length?o.length%3:0;return r+(s?o.substr(0,s)+i:"")+o.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+i)+(e?n+Math.abs(t-o).toFixed(e).slice(2):"")},h.naturalDay=function(t,e){t=void 0===t?h.time():t,e=void 0===e?"Y-m-d":e;var n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()/1e3;return t<i&&i-86400<=t?"yesterday":i<=t&&t<86400+i?"today":86400+i<=t&&t<172800+i?"tomorrow":h.date(e,t)},h.relativeTime=function(t){t=void 0===t?h.time():t;var e=h.time(),n=e-t;if(n<2&&-2<n)return(0<=n?"just ":"")+"now";if(n<60&&-60<n)return 0<=n?Math.floor(n)+" seconds ago":"in "+Math.floor(-n)+" seconds";if(n<120&&-120<n)return 0<=n?"about a minute ago":"in about a minute";if(n<3600&&-3600<n)return 0<=n?Math.floor(n/60)+" minutes ago":"in "+Math.floor(-n/60)+" minutes";if(n<7200&&-7200<n)return 0<=n?"about an hour ago":"in about an hour";if(n<86400&&-86400<n)return 0<=n?Math.floor(n/3600)+" hours ago":"in "+Math.floor(-n/3600)+" hours";if(n<172800&&-172800<n)return 0<=n?"1 day ago":"in 1 day";if(n<2505600&&-2505600<n)return 0<=n?Math.floor(n/86400)+" days ago":"in "+Math.floor(-n/86400)+" days";if(n<5184e3&&-5184e3<n)return 0<=n?"about a month ago":"in about a month";var i=parseInt(h.date("Y",e),10),r=parseInt(h.date("Y",t),10),o=12*i+parseInt(h.date("n",e),10)-(12*r+parseInt(h.date("n",t),10));if(o<12&&-12<o)return 0<=o?o+" months ago":"in "+-o+" months";var s=i-r;return s<2&&-2<s?0<=s?"a year ago":"in a year":0<=s?s+" years ago":"in "+-s+" years"},h.ordinal=function(t){t=parseInt(t,10);var e=(t=isNaN(t)?0:t)<0?"-":"",n=(t=Math.abs(t))%100;return e+t+(!(4<n&&n<21)&&{1:"st",2:"nd",3:"rd"}[t%10]||"th")},h.filesize=function(t,e,n,i,r,o){return t<=0?"0 bytes":(t<(e=void 0===e?1024:e)&&void 0===n&&(n=0),void 0===o&&(o=" "),h.intword(t,["bytes","KB","MB","GB","TB","PB"],e,n,i,r,o))},h.intword=function(t,e,n,i,r,o,s){var a,u=(e=e||["","K","M","B","T"]).length-1;n=n||1e3,i=isNaN(i)?2:Math.abs(i),r=r||".",o=o||",",s=s||"";for(var l=0;l<e.length;l++)if(t<Math.pow(n,l+1)){u=l;break}a=t/Math.pow(n,u);var c=e[u]?s+e[u]:"";return h.numberFormat(a,i,r,o)+c},h.linebreaks=function(t){return"<p>"+(t=(t=(t=(t=(t=t.replace(/^([\n|\r]*)/,"")).replace(/([\n|\r]*)$/,"")).replace(/(\r\n|\n|\r)/g,"\n")).replace(/(\n{2,})/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"},h.nl2br=function(t){return t.replace(/(\r\n|\n|\r)/g,"<br />")},h.truncatechars=function(t,e){return t.length<=e?t:t.substr(0,e)+""},h.truncatewords=function(t,e){var n=t.split(" ");return n.length<e?t:n.slice(0,e).join(" ")+""}}).call(this)},{}],17:[function(t,n,e){(function(i){var o=t("sprintf").vsprintf,a=t("fs"),e=t("path");function r(t,e,n){return t.hasOwnProperty(e)?t[e]:"string"==typeof e?r(t,e.split("."),n):1===e.length&&void 0!==n?t[e[0]]=n:0===e.length?t:t.hasOwnProperty(e[0])?r(t[e[0]],e.slice(1),n):t[e.join(".")]=e.join(".")}var u=n.exports=function(t){var e=this;for(var n in this.devMode="production"!==i.env.NODE_ENV,t)this[n]=t[n];"object"==typeof this.register&&u.resMethods.forEach(function(t){e.register[t]=e[t].bind(e)}),t.locales&&t.locales.forEach&&(this.locales={},t.locales.forEach(function(t){e.readFile(t)}),this.defaultLocale=t.locales[0]),this.setLocale(this.defaultLocale),this.locales[this.defaultLocale]||console.error("Not a valid default locale."),this.request&&(this.subdomain&&this.setLocaleFromSubdomain(this.request),!1!==this.query&&this.setLocaleFromQuery(this.request),!1!==this.session&&this.setLocaleFromSessionVar(this.request),this.prefLocale=this.preferredLocale(),!1!==this.prefLocale&&this.prefLocale!==this.locale&&this.setLocale(this.prefLocale))};u.version="0.4.7",u.localeCache={},u.resMethods=["__","__n","getLocale","isPreferredLocale"],u.expressBind=function(t,i){t&&(t.use(function(t,e,n){(i.request=t).i18n=new u(i),e.locals&&u.registerMethods(e.locals,t),n()}),t.dynamicHelpers&&t.dynamicHelpers(u.registerMethods({})))},u.registerMethods=function(t,n){return u.resMethods.forEach(function(e){t[e]=n?n.i18n[e].bind(n.i18n):function(t){return t.i18n[e].bind(t.i18n)}}),t},u.prototype={defaultLocale:"en",extension:".js",directory:"./locales",cookieName:"lang",sessionVarName:"locale",indent:"\t",parse:JSON.parse,dump:function(t,e){return JSON.stringify(t,null,e)},__:function(){var t=this.translate(this.locale,arguments[0]);return 1<arguments.length&&(t=o(t,Array.prototype.slice.call(arguments,1))),t},__n:function(t,e,n){var i,r;return"number"==typeof e?(r=e,i=this.translate(this.locale,t),i=o(1<parseInt(r,10)?i.other:i.one,Array.prototype.slice.call(arguments,1))):(r=n,i=this.translate(this.locale,t,e),i=o(1<parseInt(r,10)?i.other:i.one,[r]),3<arguments.length&&(i=o(i,Array.prototype.slice.call(arguments,3)))),i},setLocale:function(t){if(t)return this.locales[t]||(this.devMode&&console.warn("Locale ("+t+") not found."),t=this.defaultLocale),this.locale=t},getLocale:function(){return this.locale},isPreferredLocale:function(){return!this.prefLocale||this.prefLocale===this.getLocale()},setLocaleFromSessionVar:function(t){var e;(t=t||this.request)&&t.session&&t.session[this.sessionVarName]&&(e=t.session[this.sessionVarName],this.locales[e]&&(this.devMode&&console.log("Overriding locale from query: "+e),this.setLocale(e)))},setLocaleFromQuery:function(t){var e;(t=t||this.request)&&t.query&&t.query.lang&&(e=(t.query.lang+"").toLowerCase(),this.locales[e]&&(this.devMode&&console.log("Overriding locale from query: "+e),this.setLocale(e)))},setLocaleFromSubdomain:function(t){(t=t||this.request)&&t.headers&&t.headers.host&&/^([^.]+)/.test(t.headers.host)&&this.locales[RegExp.$1]&&(this.devMode&&console.log("Overriding locale from host: "+RegExp.$1),this.setLocale(RegExp.$1))},setLocaleFromCookie:function(t){var e;(t=t||this.request)&&t.cookies&&this.cookieName&&t.cookies[this.cookieName]&&(e=t.cookies[this.cookieName].toLowerCase(),this.locales[e]&&(this.devMode&&console.log("Overriding locale from cookie: "+e),this.setLocale(e)))},setLocaleFromEnvironmentVariable:function(){var t;i.env.LANG&&(t=i.env.LANG.split("_")[0],this.locales[t]&&(this.devMode&&console.log("Overriding locale from environment variable: "+t),this.setLocale(t)))},preferredLocale:function(t){if((t=t||this.request)&&t.headers){for(var e,n=t.headers["accept-language"]||"",i=/(^|,\s*)([a-z0-9-]+)/gi;!e&&(match=i.exec(n));){var r=match[2].toLowerCase(),o=r.split("-");this.locales[r]?e=r:1<o.length&&this.locales[o[0]]&&(e=o[0])}return e||this.defaultLocale}},translate:function(t,e,n){return t&&this.locales[t]||(this.devMode&&console.warn("WARN: No locale found. Using the default ("+this.defaultLocale+") as current locale"),t=this.defaultLocale,this.initLocale(t,{})),this.locales[t][e]||this.devMode&&(r(this.locales[t],e,n?{one:e,other:n}:void 0),this.writeFile(t)),r(this.locales[t],e,n?{one:e,other:n}:void 0)},readFile:function(e){var n=this.locateFile(e);if(this.devMode||!u.localeCache[n])try{var t,i,r=a.readFileSync(n);if("function"==typeof this.base){try{i=this.base(e)}catch(t){console.error("base function threw exception for locale %s",e,t)}if("string"==typeof i)try{t=this.parse(a.readFileSync(this.locateFile(i)))}catch(t){console.error("unable to read or parse base file %s for locale %s",i,e,t)}}try{var o=this.parse(r);if(t){for(var s in o)t[s]=o[s];o=t}this.initLocale(e,o)}catch(t){console.error("unable to parse locales from file (maybe "+n+" is empty or invalid "+this.extension+"?): ",t)}}catch(t){a.existsSync(n)||this.writeFile(e)}else this.initLocale(e,u.localeCache[n])},writeFile:function(t){if(this.devMode){try{a.lstatSync(this.directory)}catch(t){this.devMode&&console.log("creating locales dir in: "+this.directory),a.mkdirSync(this.directory,493)}this.initLocale(t,{});try{var e=this.locateFile(t),n=e+".tmp";a.writeFileSync(n,this.dump(this.locales[t],this.indent),"utf8"),a.statSync(n).isFile()?a.renameSync(n,e):console.error("unable to write locales to file (either "+n+" or "+e+" are not writeable?): ")}catch(t){console.error("unexpected error writing files (either "+n+" or "+e+" are not writeable?): ",t)}}else this.initLocale(t,{})},locateFile:function(t){return e.normalize(this.directory+"/"+t+this.extension)},initLocale:function(t,e){var n;this.locales[t]||(this.locales[t]=e,this.devMode||(n=this.locateFile(t),u.localeCache[n]||(u.localeCache[n]=e)))}}}).call(this,t("_process"))},{_process:20,fs:1,path:19,sprintf:21}],18:[function(t,e,n){e.exports=t("./i18n")},{"./i18n":17}],19:[function(t,e,l){(function(r){function o(t,e){for(var n=0,i=t.length-1;0<=i;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;)t.unshift("..");return t}function s(t){return e.exec(t).slice(1)}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function a(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}l.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var i=0<=n?arguments[n]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},l.normalize=function(t){var e=l.isAbsolute(t),n="/"===i(t,-1);return(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},l.isAbsolute=function(t){return"/"===t.charAt(0)},l.join=function(){var t=Array.prototype.slice.call(arguments,0);return l.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},l.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=l.resolve(t).substr(1),e=l.resolve(e).substr(1);for(var i=n(t.split("/")),r=n(e.split("/")),o=Math.min(i.length,r.length),s=o,a=0;a<o;a++)if(i[a]!==r[a]){s=a;break}for(var u=[],a=s;a<i.length;a++)u.push("..");return(u=u.concat(r.slice(s))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(t){var e=s(t),n=e[0],i=e[1];return n||i?n+(i=i&&i.substr(0,i.length-1)):"."},l.basename=function(t,e){var n=s(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},l.extname=function(t){return s(t)[3]};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:20}],20:[function(t,e,n){var i,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],h=!1,f=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!h){var t=u(d);h=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new g(t,e)),1!==c.length||h||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],21:[function(t,e,n){var d,p=((d=function(){return d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0])),d.format.call(null,d.cache[arguments[0]],arguments)}).object_stringify=function(t,e,n,i){var r="";if(null!=t)switch(typeof t){case"function":return"[Function"+(t.name?": "+t.name:"")+"]";case"object":if(t instanceof Error)return"["+t.toString()+"]";if(n<=e)return"[Object]";if(i&&(i=i.slice(0)).push(t),null!=t.length){r+="[";var o=[];for(var s in t)i&&0<=i.indexOf(t[s])?o.push("[Circular]"):o.push(d.object_stringify(t[s],e+1,n,i));r+=o.join(", ")+"]"}else{if("getMonth"in t)return"Date("+t+")";for(var a in r+="{",o=[],t)t.hasOwnProperty(a)&&(i&&0<=i.indexOf(t[a])?o.push(a+": [Circular]"):o.push(a+": "+d.object_stringify(t[a],e+1,n,i)));r+=o.join(", ")+"}"}return r;case"string":return'"'+t+'"'}return""+t},d.format=function(t,e){for(var n,i,r,o,s,a,u=1,l=t.length,c="",h=[],f=0;f<l;f++)if("string"===(c=g(t[f])))h.push(t[f]);else if("array"===c){if((r=t[f])[2])for(n=e[u],i=0;i<r[2].length;i++){if(!n.hasOwnProperty(r[2][i]))throw new Error(p('[sprintf] property "%s" does not exist',r[2][i]));n=n[r[2][i]]}else n=r[1]?e[r[1]]:e[u++];if(/[^sO]/.test(r[8])&&"number"!=g(n))throw new Error(p('[sprintf] expecting number but found %s "'+n+'"',g(n)));switch(r[8]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":n=parseInt(n,10);break;case"e":n=r[7]?n.toExponential(r[7]):n.toExponential();break;case"f":n=r[7]?parseFloat(n).toFixed(r[7]):parseFloat(n);break;case"O":n=d.object_stringify(n,0,parseInt(r[7])||5);break;case"o":n=n.toString(8);break;case"s":n=(n=String(n))&&r[7]?n.substring(0,r[7]):n;break;case"u":n=Math.abs(n);break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase()}n=/[def]/.test(r[8])&&r[3]&&0<=n?"+"+n:n,s=r[4]?"0"==r[4]?"0":r[4].charAt(1):" ",a=r[6]-String(n).length,o=r[6]?function(t,e){for(var n=[];0<e;n[--e]=t);return n.join("")}(s,a):"",h.push(r[5]?n+o:o+n)}return h.join("")},d.cache={},d.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(e)))throw new Error("[sprintf] "+e);if(n[2]){r|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw new Error("[sprintf] "+s);for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw new Error("[sprintf] "+s);o.push(a[1])}n[2]=o}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}e=e.substring(n[0].length)}return i},d);function g(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}((e.exports=p).sprintf=p).vsprintf=function(t,e){var n=e.slice();return n.unshift(t),p.apply(null,n)}},{}],22:[function(t,q,H){(function(){function n(){}var t=this,e=t._,i=Array.prototype,s=Object.prototype,r=Function.prototype,o=i.push,u=i.slice,h=s.toString,a=s.hasOwnProperty,l=Array.isArray,c=Object.keys,f=r.bind,d=Object.create,p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};void 0!==H?(void 0!==q&&q.exports&&(H=q.exports=p),H._=p):t._=p,p.VERSION="1.8.3";var g=function(r,o,t){if(void 0===o)return r;switch(null==t?3:t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},m=function(t,e,n){return null==t?p.identity:p.isFunction(t)?g(t,e,n):p.isObject(t)?p.matcher(t):p.property(t)};p.iteratee=function(t,e){return m(t,e,1/0)};function v(u,l){return function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=u(i),o=r.length,s=0;s<o;s++){var a=r[s];l&&void 0!==t[a]||(t[a]=i[a])}return t}}function y(t){if(!p.isObject(t))return{};if(d)return d(t);n.prototype=t;var e=new n;return n.prototype=null,e}function _(e){return function(t){return null==t?void 0:t[e]}}var b=Math.pow(2,53)-1,x=_("length"),w=function(t){var e=x(t);return"number"==typeof e&&0<=e&&e<=b};function C(a){return function(t,e,n,i){e=g(e,i,4);var r=!w(t)&&p.keys(t),o=(r||t).length,s=0<a?0:o-1;return arguments.length<3&&(n=t[r?r[s]:s],s+=a),function(t,e,n,i,r,o){for(;0<=r&&r<o;r+=a){var s=i?i[r]:r;n=e(n,t[s],s,t)}return n}(t,e,n,r,s,o)}}p.each=p.forEach=function(t,e,n){if(e=g(e,n),w(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else for(var i=p.keys(t),r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t);return t},p.map=p.collect=function(t,e,n){e=m(e,n);for(var i=!w(t)&&p.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},p.reduce=p.foldl=p.inject=C(1),p.reduceRight=p.foldr=C(-1),p.find=p.detect=function(t,e,n){var i=w(t)?p.findIndex(t,e,n):p.findKey(t,e,n);if(void 0!==i&&-1!==i)return t[i]},p.filter=p.select=function(t,i,e){var r=[];return i=m(i,e),p.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},p.reject=function(t,e,n){return p.filter(t,p.negate(m(e)),n)},p.every=p.all=function(t,e,n){e=m(e,n);for(var i=!w(t)&&p.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},p.some=p.any=function(t,e,n){e=m(e,n);for(var i=!w(t)&&p.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},p.contains=p.includes=p.include=function(t,e,n,i){return w(t)||(t=p.values(t)),"number"==typeof n&&!i||(n=0),0<=p.indexOf(t,e,n)},p.invoke=function(t,n){var i=u.call(arguments,2),r=p.isFunction(n);return p.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})},p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matcher(e))},p.findWhere=function(t,e){return p.find(t,p.matcher(e))},p.max=function(t,i,e){var n,r,o=-1/0,s=-1/0;if(null==i&&null!=t)for(var a=0,u=(t=w(t)?t:p.values(t)).length;a<u;a++)n=t[a],o<n&&(o=n);else i=m(i,e),p.each(t,function(t,e,n){r=i(t,e,n),(s<r||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},p.min=function(t,i,e){var n,r,o=1/0,s=1/0;if(null==i&&null!=t)for(var a=0,u=(t=w(t)?t:p.values(t)).length;a<u;a++)(n=t[a])<o&&(o=n);else i=m(i,e),p.each(t,function(t,e,n){((r=i(t,e,n))<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},p.shuffle=function(t){for(var e,n=w(t)?t:p.values(t),i=n.length,r=Array(i),o=0;o<i;o++)(e=p.random(0,o))!==o&&(r[o]=r[e]),r[e]=n[o];return r},p.sample=function(t,e,n){return null==e||n?(w(t)||(t=p.values(t)),t[p.random(t.length-1)]):p.shuffle(t).slice(0,Math.max(0,e))},p.sortBy=function(t,i,e){return i=m(i,e),p.pluck(p.map(t,function(t,e,n){return{value:t,index:e,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};function E(s){return function(i,r,t){var o={};return r=m(r,t),p.each(i,function(t,e){var n=r(t,e,i);s(o,t,n)}),o}}p.groupBy=E(function(t,e,n){p.has(t,n)?t[n].push(e):t[n]=[e]}),p.indexBy=E(function(t,e,n){t[n]=e}),p.countBy=E(function(t,e,n){p.has(t,n)?t[n]++:t[n]=1}),p.toArray=function(t){return t?p.isArray(t)?u.call(t):w(t)?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:w(t)?t.length:p.keys(t).length},p.partition=function(t,i,e){i=m(i,e);var r=[],o=[];return p.each(t,function(t,e,n){(i(t,e,n)?r:o).push(t)}),[r,o]},p.first=p.head=p.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:p.initial(t,t.length-e)},p.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},p.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:p.rest(t,Math.max(0,t.length-e))},p.rest=p.tail=p.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},p.compact=function(t){return p.filter(t,p.identity)};var S=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=x(t);s<a;s++){var u=t[s];if(w(u)&&(p.isArray(u)||p.isArguments(u))){e||(u=S(u,e,n));var l=0,c=u.length;for(r.length+=c;l<c;)r[o++]=u[l++]}else n||(r[o++]=u)}return r};function M(o){return function(t,e,n){e=m(e,n);for(var i=x(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}}function L(o,s,a){return function(t,e,n){var i=0,r=x(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(a&&n&&r)return t[n=a(t,e)]===e?n:-1;if(e!=e)return 0<=(n=s(u.call(t,i,r),p.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}}p.flatten=function(t,e){return S(t,e,!1)},p.without=function(t){return p.difference(t,u.call(arguments,1))},p.uniq=p.unique=function(t,e,n,i){p.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=m(n,i));for(var r=[],o=[],s=0,a=x(t);s<a;s++){var u=t[s],l=n?n(u,s,t):u;e?(s&&o===l||r.push(u),o=l):n?p.contains(o,l)||(o.push(l),r.push(u)):p.contains(r,u)||r.push(u)}return r},p.union=function(){return p.uniq(S(arguments,!0,!0))},p.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=x(t);i<r;i++){var o=t[i];if(!p.contains(e,o)){for(var s=1;s<n&&p.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},p.difference=function(t){var e=S(arguments,!0,!0,1);return p.filter(t,function(t){return!p.contains(e,t)})},p.zip=function(){return p.unzip(arguments)},p.unzip=function(t){for(var e=t&&p.max(t,x).length||0,n=Array(e),i=0;i<e;i++)n[i]=p.pluck(t,i);return n},p.object=function(t,e){for(var n={},i=0,r=x(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},p.findIndex=M(1),p.findLastIndex=M(-1),p.sortedIndex=function(t,e,n,i){for(var r=(n=m(n,i,1))(e),o=0,s=x(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},p.indexOf=L(1,p.findIndex,p.sortedIndex),p.lastIndexOf=L(-1,p.findLastIndex),p.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};function T(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=y(t.prototype),s=t.apply(o,r);return p.isObject(s)?s:o}p.bind=function(t,e){if(f&&t.bind===f)return f.apply(t,u.call(arguments,1));if(!p.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return T(t,i,e,this,n.concat(u.call(arguments)))};return i},p.partial=function(r){var o=u.call(arguments,1),s=function(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===p?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return T(r,s,this,this,n)};return s},p.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)t[n=arguments[e]]=p.bind(t[n],t);return t},p.memoize=function(i,r){var o=function(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return p.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]};return o.cache={},o},p.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},p.defer=p.partial(p.delay,p,1),p.throttle=function(n,i,r){var o,s,a,u=null,l=0;r=r||{};function c(){l=!1===r.leading?0:p.now(),u=null,a=n.apply(o,s),u||(o=s=null)}return function(){var t=p.now();l||!1!==r.leading||(l=t);var e=i-(t-l);return o=this,s=arguments,e<=0||i<e?(u&&(clearTimeout(u),u=null),l=t,a=n.apply(o,s),u||(o=s=null)):u||!1===r.trailing||(u=setTimeout(c,e)),a}},p.debounce=function(e,n,i){var r,o,s,a,u,l=function(){var t=p.now()-a;t<n&&0<=t?r=setTimeout(l,n-t):(r=null,i||(u=e.apply(s,o),r||(s=o=null)))};return function(){s=this,o=arguments,a=p.now();var t=i&&!r;return r=r||setTimeout(l,n),t&&(u=e.apply(s,o),s=o=null),u}},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},p.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},p.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},p.once=p.partial(p.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function k(t,e){var n=I.length,i=t.constructor,r=p.isFunction(i)&&i.prototype||s,o="constructor";for(p.has(t,o)&&!p.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==r[o]&&!p.contains(e,o)&&e.push(o)}p.keys=function(t){if(!p.isObject(t))return[];if(c)return c(t);var e=[];for(var n in t)p.has(t,n)&&e.push(n);return N&&k(t,e),e},p.allKeys=function(t){if(!p.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&k(t,e),e},p.values=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},p.mapObject=function(t,e,n){e=m(e,n);for(var i,r=p.keys(t),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=e(t[i],i,t);return s},p.pairs=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},p.invert=function(t){for(var e={},n=p.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},p.functions=p.methods=function(t){var e=[];for(var n in t)p.isFunction(t[n])&&e.push(n);return e.sort()},p.extend=v(p.allKeys),p.extendOwn=p.assign=v(p.keys),p.findKey=function(t,e,n){e=m(e,n);for(var i,r=p.keys(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i},p.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;p.isFunction(e)?(r=p.allKeys(s),i=g(e,n)):(r=S(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=r.length;a<u;a++){var l=r[a],c=s[l];i(c,l,s)&&(o[l]=c)}return o},p.omit=function(t,e,n){var i;return e=p.isFunction(e)?p.negate(e):(i=p.map(S(arguments,!1,!1,1),String),function(t,e){return!p.contains(i,e)}),p.pick(t,e,n)},p.defaults=v(p.allKeys,!0),p.create=function(t,e){var n=y(t);return e&&p.extendOwn(n,e),n},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t},p.isMatch=function(t,e){var n=p.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(p.isFunction(s)&&s instanceof s&&p.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!P(t[u],e[u],n,i))return!1}else{var l,c=p.keys(t),u=c.length;if(p.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!p.has(e,l)||!P(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};p.isEqual=function(t,e){return P(t,e)},p.isEmpty=function(t){return null==t||(w(t)&&(p.isArray(t)||p.isString(t)||p.isArguments(t))?0===t.length:0===p.keys(t).length)},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=l||function(t){return"[object Array]"===h.call(t)},p.isObject=function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){p["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return p.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&t!==+t},p.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){return null!=t&&a.call(t,e)},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=_,p.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},p.matcher=p.matches=function(e){return e=p.extendOwn({},e),function(t){return p.isMatch(t,e)}},p.times=function(t,e,n){var i=Array(Math.max(0,t));e=g(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};function A(e){function n(t){return e[t]}var t="(?:"+p.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}}var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=p.invert(D);p.escape=A(D),p.unescape=A(O),p.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),p.isFunction(i)?i.call(t):i};var R=0;p.uniqueId=function(t){var e=++R+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function $(t){return"\\"+z[t]}var F=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g;p.template=function(o,t,e){!t&&e&&(t=e),t=p.defaults({},t,p.templateSettings);var n=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),s=0,a="__p+='";o.replace(n,function(t,e,n,i,r){return a+=o.slice(s,r).replace(B,$),s=r+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?a+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(t){throw t.source=a,t}function r(t){return i.call(this,t,p)}var u=t.variable||"obj";return r.source="function("+u+"){\n"+a+"}",r},p.chain=function(t){var e=p(t);return e._chain=!0,e};function j(t,e){return t._chain?p(e).chain():e}p.mixin=function(n){p.each(p.functions(n),function(t){var e=p[t]=n[t];p.prototype[t]=function(){var t=[this._wrapped];return o.apply(t,arguments),j(this,e.apply(p,t))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=i[e];p.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],j(this,t)}}),p.each(["concat","join","slice"],function(t){var e=i[t];p.prototype[t]=function(){return j(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this)},{}],23:[function(t,e,n){function u(t){return t<10?"0"+t.toString():t.toString()}function o(t,e,n){var i=Math.abs(t),r=Math.floor(i),o=Math.floor(60*(i-r)),s=Math.round(3600*(i-r-o/60)*100)/100,a=i===t?e:n;return u(r)+"&deg; "+u(o)+"' "+u(s)+'" '+a}var s=t("underscore"),a=t("geocrunch");e.exports={measure:function(t){var e=s.last(t),n=a.path(s.map(t,function(t){return[t.lng,t.lat]})),i=n.distance({units:"meters"}),r=n.area({units:"sqmeters"});return{lastCoord:{dd:{x:e.lng,y:e.lat},dms:{x:o(e.lng,"E","W"),y:o(e.lat,"N","S")}},length:i,area:r}}}},{geocrunch:7,underscore:22}],24:[function(t,e,n){e.exports={$:function(t,e){return(e=e||document).querySelector(t)},$$:function(t,e){return e=e||document,Array.prototype.slice.call(e.querySelectorAll(t))},hide:function(t){if(t)return t.setAttribute("style","display:none;"),t},show:function(t){if(t)return t.removeAttribute("style"),t}}},{}],25:[function(t,e,n){e.exports={measure:"Medir",measureDistancesAndAreas:"Medeix distancies i reas",createNewMeasurement:"Crear nova medicio",startCreating:"Comeni a crear la medicio afegint punts al mapa",finishMeasurement:"Acabar la medici",lastPoint:"ltim punt",area:"rea",perimeter:"Permetre",pointLocation:"Localizaci del punt",areaMeasurement:"Medici d'rea",linearMeasurement:"Medici lineal",pathDistance:"Distancia de ruta",centerOnArea:"Centrar en aquesta rea",centerOnLine:"Centrar en aquesta lnia",centerOnLocation:"Centrar en aquesta localizaci",cancel:"Cancellar",delete:"Eliminar",acres:"Acres",feet:"Peus",kilometers:"Quilmetres",hectares:"Hectreas",meters:"Metros",miles:"Milles",sqfeet:"Peus cuadrats",sqmeters:"Metres cuadrats",sqmiles:"Milles cuadrades",decPoint:".",thousandsSep:" "}},{}],26:[function(t,e,n){e.exports={measure:"",measureDistancesAndAreas:"",createNewMeasurement:"",startCreating:"",finishMeasurement:"",lastPoint:"",area:"",perimeter:"",pointLocation:"",areaMeasurement:"",linearMeasurement:"",pathDistance:"",centerOnArea:"",centerOnLine:"",centerOnLocation:"",cancel:"",delete:"",acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:"",sqmeters:"",sqmiles:"",decPoint:".",thousandsSep:","}},{}],27:[function(t,e,n){e.exports={measure:"Ml",measureDistancesAndAreas:"Ml afstande og arealer",createNewMeasurement:"Lav en ny mling",startCreating:"Begynd mlingen ved at tilfje punkter p kortet",finishMeasurement:"Afslut mling",lastPoint:"Sidste punkt",area:"Areal",perimeter:"Omkreds",pointLocation:"Punkt",areaMeasurement:"Areal",linearMeasurement:"Linje",pathDistance:"Sti afstand",centerOnArea:"Centrr dette omrde",centerOnLine:"Centrr denne linje",centerOnLocation:"Centrr dette punkt",cancel:"Annuller",delete:"Slet",acres:"acre",feet:"fod",kilometers:"km",hectares:"ha",meters:"m",miles:"mil",sqfeet:"kvadratfod",sqmeters:"m",sqmiles:"kvadratmil",decPoint:",",thousandsSep:"."}},{}],28:[function(t,e,n){e.exports={measure:"Messung",measureDistancesAndAreas:"Messung von Abstnden und Flchen",createNewMeasurement:"Eine neue Messung durchfhren",startCreating:"Fhren Sie die Messung durch, indem Sie der Karte Punkte hinzufgen.",finishMeasurement:"Messung beenden",lastPoint:"Letzter Punkt",area:"Flche",perimeter:"Rand",pointLocation:"Lage des Punkts",areaMeasurement:"Gemessene Flche",linearMeasurement:"Gemessener Abstand",pathDistance:"Abstand entlang des Pfads",centerOnArea:"Auf diese Flche zentrieren",centerOnLine:"Auf diesen Linienzug zentrieren",centerOnLocation:"Auf diesen Ort zentrieren",cancel:"Abbrechen",delete:"Lschen",acres:"Morgen",feet:"Fu",kilometers:"Kilometer",hectares:"Hektar",meters:"Meter",miles:"Meilen",sqfeet:"Quadratfu",sqmeters:"Quadratmeter",sqmiles:"Quadratmeilen",decPoint:",",thousandsSep:"."}},{}],29:[function(t,e,n){e.exports={measure:"Messung",measureDistancesAndAreas:"Abstnde und Flchen messen",createNewMeasurement:"Eine neue Messung durchfhren",startCreating:"Messen sie, indem Sie der Karte Punkte hinzufgen",finishMeasurement:"Messung beenden",lastPoint:"Letzter Punkt",area:"Flche",perimeter:"Umfang",pointLocation:"Lage des Punkts",areaMeasurement:"Flche",linearMeasurement:"Abstand",pathDistance:"Umfang",centerOnArea:"Auf diese Flche zentrieren",centerOnLine:"Auf diese Linie zentrieren",centerOnLocation:"Auf diesen Ort zentrieren",cancel:"Abbrechen",delete:"Lschen",acres:"Morgen",feet:"Fu",kilometers:"Kilometer",hectares:"Hektar",meters:"Meter",miles:"Meilen",sqfeet:"Quadratfu",sqmeters:"Quadratmeter",sqmiles:"Quadratmeilen",decPoint:".",thousandsSep:"'"}},{}],30:[function(t,e,n){e.exports={measure:"Measure",measureDistancesAndAreas:"Measure distances and areas",createNewMeasurement:"Create a new measurement",startCreating:"Start creating a measurement by adding points to the map",finishMeasurement:"Finish measurement",lastPoint:"Last point",area:"Area",perimeter:"Perimeter",pointLocation:"Point location",areaMeasurement:"Area measurement",linearMeasurement:"Linear measurement",pathDistance:"Path distance",centerOnArea:"Center on this area",centerOnLine:"Center on this line",centerOnLocation:"Center on this location",cancel:"Cancel",delete:"Delete",acres:"Acres",feet:"Feet",kilometers:"Kilometers",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles",decPoint:".",thousandsSep:","}},{}],31:[function(t,e,n){e.exports={measure:"Measure",measureDistancesAndAreas:"Measure distances and areas",createNewMeasurement:"Create a new measurement",startCreating:"Start creating a measurement by adding points to the map",finishMeasurement:"Finish measurement",lastPoint:"Last point",area:"Area",perimeter:"Perimeter",pointLocation:"Point location",areaMeasurement:"Area measurement",linearMeasurement:"Linear measurement",pathDistance:"Path distance",centerOnArea:"Centre on this area",centerOnLine:"Centre on this line",centerOnLocation:"Centre on this location",cancel:"Cancel",delete:"Delete",acres:"Acres",feet:"Feet",kilometers:"Kilometres",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles",decPoint:".",thousandsSep:","}},{}],32:[function(t,e,n){e.exports={measure:"Medicin",measureDistancesAndAreas:"Mida distancias y reas",createNewMeasurement:"Crear nueva medicin",startCreating:"Empiece a crear la medicin aadiendo puntos al mapa",finishMeasurement:"Terminar medicin",lastPoint:"ltimo punto",area:"rea",perimeter:"Permetro",pointLocation:"Localizacin del punto",areaMeasurement:"Medicin de rea",linearMeasurement:"Medicin linear",pathDistance:"Distancia de ruta",centerOnArea:"Centrar en este rea",centerOnLine:"Centrar en esta lnea",centerOnLocation:"Centrar en esta localizacin",cancel:"Cancelar",delete:"Eliminar",acres:"Acres",feet:"Pies",kilometers:"Kilmetros",hectares:"Hectreas",meters:"Metros",miles:"Millas",sqfeet:"Pies cuadrados",sqmeters:"Metros cuadrados",sqmiles:"Millas cuadradas",decPoint:".",thousandsSep:" "}},{}],33:[function(t,e,n){e.exports={measure:" ",measureDistancesAndAreas:"    ",createNewMeasurement:"   ",startCreating:"          .",finishMeasurement:"  ",lastPoint:" ",area:"",perimeter:"",pointLocation:" ",areaMeasurement:"  ",linearMeasurement:"  ",pathDistance:" ",centerOnArea:"  ",centerOnLine:"  ",centerOnLocation:"  ",cancel:"",delete:"",acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:" ",sqmeters:" ",sqmiles:" ",decPoint:"/",thousandsSep:","}},{}],34:[function(t,e,n){e.exports={measure:"Sukat",measureDistancesAndAreas:"Kalkulahin ang tamang distansya at sukat",createNewMeasurement:"Lumikha ng isang bagong pagsukat",startCreating:"Simulan ang paglikha ng isang pagsukat sa pamamagitan ng pagdaragdag ng mga puntos sa mapa",finishMeasurement:"Tapusin ang pagsukat",lastPoint:"Huling punto sa mapa",area:"Sukat",perimeter:"Palibot",pointLocation:"Lokasyon ng punto",areaMeasurement:"Kabuuang sukat",linearMeasurement:"Pagsukat ng guhit",pathDistance:"Distansya ng daanan",centerOnArea:"I-sentro sa lugar na ito",centerOnLine:"I-sentro sa linya na ito",centerOnLocation:"I-sentro sa lokasyong ito",cancel:"Kanselahin",delete:"Tanggalin",acres:"Acres",feet:"Talampakan",kilometers:"Kilometro",hectares:"Hektarya",meters:"Metro",miles:"Milya",sqfeet:"Talampakang Kwadrado",sqmeters:"Metro Kwadrado",sqmiles:"Milya Kwadrado",decPoint:".",thousandsSep:","}},{}],35:[function(t,e,n){e.exports={measure:"Mesure",measureDistancesAndAreas:"Mesurer les distances et superficies",createNewMeasurement:"Crer une nouvelle mesure",startCreating:"Dbuter la cration d'une nouvelle mesure en ajoutant des points sur la carte",finishMeasurement:"Finir la mesure",lastPoint:"Dernier point",area:"Superficie",perimeter:"Primtre",pointLocation:"Placement du point",areaMeasurement:"Mesure de superficie",linearMeasurement:"Mesure linaire",pathDistance:"Distance du chemin",centerOnArea:"Centrer sur cette zone",centerOnLine:"Centrer sur cette ligne",centerOnLocation:"Centrer  cet endroit",cancel:"Annuler",delete:"Supprimer",acres:"Acres",feet:"Pieds",kilometers:"Kilomtres",hectares:"Hectares",meters:"Mtres",miles:"Miles",sqfeet:"Pieds carrs",sqmeters:"Mtres carrs",sqmiles:"Miles carrs",decPoint:",",thousandsSep:" "}},{}],36:[function(t,e,n){e.exports={measure:"Misura",measureDistancesAndAreas:"Misura distanze e aree",createNewMeasurement:"Crea una nuova misurazione",startCreating:"Comincia a creare una misurazione aggiungendo punti alla mappa",finishMeasurement:"Misurazione conclusa",lastPoint:"Ultimo punto",area:"Area",perimeter:"Perimetro",pointLocation:"Posizione punto",areaMeasurement:"Misura area",linearMeasurement:"Misura lineare",pathDistance:"Distanza percorso",centerOnArea:"Centra su questa area",centerOnLine:"Centra su questa linea",centerOnLocation:"Centra su questa posizione",cancel:"Annulla",delete:"Cancella",acres:"Acri",feet:"Piedi",kilometers:"Chilometri",hectares:"Ettari",meters:"Metri",miles:"Miglia",sqfeet:"Piedi quadri",sqmeters:"Metri quadri",sqmiles:"Miglia quadre",decPoint:".",thousandsSep:","}},{}],37:[function(t,e,n){e.exports={measure:"Meet",measureDistancesAndAreas:"Meet afstanden en oppervlakten",createNewMeasurement:"Maak een nieuwe meting",startCreating:"Begin een meting door punten toe te voegen aan de kaart",finishMeasurement:"Beindig meting",lastPoint:"Laatste punt",area:"Oppervlakte",perimeter:"Omtrek",pointLocation:"Locatie punt",areaMeasurement:"Oppervlakte meting",linearMeasurement:"Gemeten afstand",pathDistance:"Afstand over de lijn",centerOnArea:"Centreer op dit gebied",centerOnLine:"Centreer op deze lijn",centerOnLocation:"Centreer op deze locatie",cancel:"Annuleer",delete:"Wis",acres:"are",feet:"Voet",kilometers:"km",hectares:"ha",meters:"m",miles:"Mijl",sqfeet:"Vierkante Feet",sqmeters:"m2",sqmiles:"Vierkante Mijl",decPoint:",",thousandsSep:"."}},{}],38:[function(t,e,n){e.exports={measure:"Pomiar",measureDistancesAndAreas:"Pomiar odlegoci i powierzchni",createNewMeasurement:"Utwrz nowy pomiar",startCreating:"Rozpocznij tworzenie nowego pomiaru poprzez dodanie punktw na mapie",finishMeasurement:"Zakocz pomiar",lastPoint:"Ostatni punkt",area:"Powierzchnia",perimeter:"Obwd",pointLocation:"Punkt lokalizacji",areaMeasurement:"Pomiar powierzchni",linearMeasurement:"Pomiar liniowy",pathDistance:"Dugo cieki",centerOnArea:"rodek tego obszaru",centerOnLine:"rodek tej linii",centerOnLocation:"rodek w tej lokalizacji",cancel:"Anuluj",delete:"Skasuj",acres:"akrw",feet:"stp",kilometers:"kilometrw",hectares:"hektarw",meters:"metrw",miles:"mil",sqfeet:"stp kwadratowych",sqmeters:"metrw kwadratowych",sqmiles:"mil kwadratowych",decPoint:",",thousandsSep:"."}},{}],39:[function(t,e,n){e.exports={measure:"Medidas",measureDistancesAndAreas:"Mede distncias e reas",createNewMeasurement:"Criar nova medida",startCreating:"Comece criando uma medida, adicionando pontos no mapa",finishMeasurement:"Finalizar medida",lastPoint:"ltimo ponto",area:"rea",perimeter:"Permetro",pointLocation:"Localizao do ponto",areaMeasurement:"Medida de rea",linearMeasurement:"Medida linear",pathDistance:"Distncia",centerOnArea:"Centralizar nesta rea",centerOnLine:"Centralizar nesta linha",centerOnLocation:"Centralizar nesta localizao",cancel:"Cancelar",delete:"Excluir",acres:"Acres",feet:"Ps",kilometers:"Quilmetros",hectares:"Hectares",meters:"Metros",miles:"Milhas",sqfeet:"Ps",sqmeters:"Metros",sqmiles:"Milhas",decPoint:",",thousandsSep:"."}},{}],40:[function(t,e,n){e.exports={measure:"Medies",measureDistancesAndAreas:"Medir distncias e reas",createNewMeasurement:"Criar uma nova medio",startCreating:"Adicione pontos no mapa, para criar uma nova medio",finishMeasurement:"Finalizar medio",lastPoint:"ltimo ponto",area:"rea",perimeter:"Permetro",pointLocation:"Localizao do ponto",areaMeasurement:"Medio da rea",linearMeasurement:"Medio linear",pathDistance:"Distncia",centerOnArea:"Centrar nesta rea",centerOnLine:"Centrar nesta linha",centerOnLocation:"Centrar nesta localizao",cancel:"Cancelar",delete:"Eliminar",acres:"Acres",feet:"Ps",kilometers:"Kilmetros",hectares:"Hectares",meters:"Metros",miles:"Milhas",sqfeet:"Ps",sqmeters:"Metros",sqmiles:"Milhas",decPoint:",",thousandsSep:"."}},{}],41:[function(t,e,n){e.exports={measure:"",measureDistancesAndAreas:"   ",createNewMeasurement:"  ",startCreating:"      ",finishMeasurement:" ",lastPoint:" ",area:"",perimeter:"",pointLocation:" ",areaMeasurement:" ",linearMeasurement:" ",pathDistance:"",centerOnArea:"   ",centerOnLine:"   ",centerOnLocation:"   ",cancel:"",delete:"",acres:"",feet:"",kilometers:"",hectares:"",meters:"",miles:"",sqfeet:"",sqmeters:"",sqmiles:"",decPoint:".",thousandsSep:","}},{}],42:[function(t,e,n){e.exports={measure:"Mta",measureDistancesAndAreas:"Mta avstnd och yta",createNewMeasurement:"Skapa ny mtning",startCreating:"Brja mtning genom att lgga till punkter p kartan",finishMeasurement:"Avsluta mtning",lastPoint:"Sista punkt",area:"Yta",perimeter:"Omkrets",pointLocation:"Punktens Lge",areaMeasurement:"Arealmtning",linearMeasurement:"Lngdmtning",pathDistance:"Total linjelngd",centerOnArea:"Centrera p detta omrde",centerOnLine:"Centrera p denna linje",centerOnLocation:"Centrera p denna punkt",cancel:"Avbryt",delete:"Radera",acres:"Tunnland",feet:"Fot",kilometers:"Kilometer",hectares:"Hektar",meters:"Meter",miles:"Miles",sqfeet:"Kvadratfot",sqmeters:"Kvadratmeter",sqmiles:"Kvadratmiles",decPoint:",",thousandsSep:" "}},{}],43:[function(t,e,n){e.exports={measure:"Hesapla",measureDistancesAndAreas:"Uzaklk ve alan hesapla",createNewMeasurement:"Yeni hesaplama",startCreating:"Yeni nokta ekleyerek hesaplamaya bala",finishMeasurement:"Hesaplamay bitir",lastPoint:"Son nokta",area:"Alan",perimeter:"evre uzunluu",pointLocation:"Nokta yeri",areaMeasurement:"Alan hesaplamas",linearMeasurement:"Dorusal hesaplama",pathDistance:"Yol uzunluu",centerOnArea:"Bu alana odaklan",centerOnLine:"Bu dotuya odaklan",centerOnLocation:"Bu yere odaklan",cancel:"k",delete:"Sil",acres:"Dnm",feet:"Feet",kilometers:"Kilometre",hectares:"Hektar",meters:"Metre",miles:"Mil",sqfeet:"Feet kare",sqmeters:"Metre kare",sqmiles:"Mil kare",decPoint:".",thousandsSep:","}},{}],44:[function(o,t,e){(function(t){var a=o("underscore"),u="undefined"!=typeof window?window.L:void 0!==t?t.L:null,l=o("humanize"),e=o("./units"),c=o("./calc"),n=o("./dom"),h=n.$,i=o("./mapsymbology"),s=a.template('<a class="<%= model.className %>-toggle js-toggle" href="#" title="<%= i18n.__(\'measureDistancesAndAreas\') %>"><%= i18n.__(\'measure\') %></a>\n<div class="<%= model.className %>-interaction js-interaction">\n  <div class="js-startprompt startprompt">\n    <h3><%= i18n.__(\'measureDistancesAndAreas\') %></h3>\n    <ul class="tasks">\n      <a href="#" class="js-start start"><%= i18n.__(\'createNewMeasurement\') %></a>\n    </ul>\n  </div>\n  <div class="js-measuringprompt">\n    <h3><%= i18n.__(\'measureDistancesAndAreas\') %></h3>\n    <p class="js-starthelp"><%= i18n.__(\'startCreating\') %></p>\n    <div class="js-results results"></div>\n    <ul class="js-measuretasks tasks">\n      <li><a href="#" class="js-cancel cancel"><%= i18n.__(\'cancel\') %></a></li>\n      <li><a href="#" class="js-finish finish"><%= i18n.__(\'finishMeasurement\') %></a></li>\n    </ul>\n  </div>\n</div>'),r=a.template('<div class="group">\n<p class="lastpoint heading"><%= i18n.__(\'lastPoint\') %></p>\n<p><%= model.lastCoord.dms.y %> <span class="coorddivider">/</span> <%= model.lastCoord.dms.x %></p>\n<p><%= humanize.numberFormat(model.lastCoord.dd.y, 6) %> <span class="coorddivider">/</span> <%= humanize.numberFormat(model.lastCoord.dd.x, 6) %></p>\n</div>\n<% if (model.pointCount > 1) { %>\n<div class="group">\n<p><span class="heading"><%= i18n.__(\'pathDistance\') %></span> <%= model.lengthDisplay %></p>\n</div>\n<% } %>\n<% if (model.pointCount > 2) { %>\n<div class="group">\n<p><span class="heading"><%= i18n.__(\'area\') %></span> <%= model.areaDisplay %></p>\n</div>\n<% } %>'),f=a.template('<h3><%= i18n.__(\'pointLocation\') %></h3>\n<p><%= model.lastCoord.dms.y %> <span class="coorddivider">/</span> <%= model.lastCoord.dms.x %></p>\n<p><%= humanize.numberFormat(model.lastCoord.dd.y, 6) %> <span class="coorddivider">/</span> <%= humanize.numberFormat(model.lastCoord.dd.x, 6) %></p>\n<ul class="tasks">\n  <li><a href="#" class="js-zoomto zoomto"><%= i18n.__(\'centerOnLocation\') %></a></li>\n  <li><a href="#" class="js-deletemarkup deletemarkup"><%= i18n.__(\'delete\') %></a></li>\n</ul>'),d=a.template('<h3><%= i18n.__(\'linearMeasurement\') %></h3>\n<p><%= model.lengthDisplay %></p>\n<ul class="tasks">\n  <li><a href="#" class="js-zoomto zoomto"><%= i18n.__(\'centerOnLine\') %></a></li>\n  <li><a href="#" class="js-deletemarkup deletemarkup"><%= i18n.__(\'delete\') %></a></li>\n</ul>'),p=a.template('<h3><%= i18n.__(\'areaMeasurement\') %></h3>\n<p><%= model.areaDisplay %></p>\n<p><%= model.lengthDisplay %> <%= i18n.__(\'perimeter\') %></p>\n<ul class="tasks">\n  <li><a href="#" class="js-zoomto zoomto"><%= i18n.__(\'centerOnArea\') %></a></li>\n  <li><a href="#" class="js-deletemarkup deletemarkup"><%= i18n.__(\'delete\') %></a></li>\n</ul>'),g=new(o("i18n-2"))({devMode:!1,locales:{ca:o("./i18n/ca"),cn:o("./i18n/cn"),da:o("./i18n/da"),de:o("./i18n/de"),de_CH:o("./i18n/de_CH"),en:o("./i18n/en"),en_UK:o("./i18n/en_UK"),es:o("./i18n/es"),fa:o("./i18n/fa"),fil_PH:o("./i18n/fil_PH"),fr:o("./i18n/fr"),it:o("./i18n/it"),nl:o("./i18n/nl"),pl:o("./i18n/pl"),pt_BR:o("./i18n/pt_BR"),pt_PT:o("./i18n/pt_PT"),ru:o("./i18n/ru"),sv:o("./i18n/sv"),tr:o("./i18n/tr")}});u.Control.Measure=u.Control.extend({_className:"leaflet-control-measure",options:{units:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(t){u.setOptions(this,t),this.options.units=u.extend({},e,this.options.units),this._symbols=new i(a.pick(this.options,"activeColor","completedColor")),g.setLocale(this.options.localization)},onAdd:function(t){return this._map=t,this._latlngs=[],this._initLayout(),t.on("click",this._collapse,this),this._layer=u.layerGroup().addTo(t),this._container},onRemove:function(t){t.off("click",this._collapse,this),t.removeLayer(this._layer)},_initLayout:function(){var t,e,n,i,r=this._className,o=this._container=u.DomUtil.create("div",r);o.innerHTML=s({model:{className:r},i18n:g}),o.setAttribute("aria-haspopup",!0),u.Browser.touch?u.DomEvent.on(o,"click",u.DomEvent.stopPropagation):(u.DomEvent.disableClickPropagation(o),u.DomEvent.disableScrollPropagation(o)),t=this.$toggle=h(".js-toggle",o),this.$interaction=h(".js-interaction",o),e=h(".js-start",o),n=h(".js-cancel",o),i=h(".js-finish",o),this.$startPrompt=h(".js-startprompt",o),this.$measuringPrompt=h(".js-measuringprompt",o),this.$startHelp=h(".js-starthelp",o),this.$results=h(".js-results",o),this.$measureTasks=h(".js-measuretasks",o),this._collapse(),this._updateMeasureNotStarted(),u.Browser.android||(u.DomEvent.on(o,"mouseenter",this._expand,this),u.DomEvent.on(o,"mouseleave",this._collapse,this)),u.DomEvent.on(t,"click",u.DomEvent.stop),u.Browser.touch?u.DomEvent.on(t,"click",this._expand,this):u.DomEvent.on(t,"focus",this._expand,this),u.DomEvent.on(e,"click",u.DomEvent.stop),u.DomEvent.on(e,"click",this._startMeasure,this),u.DomEvent.on(n,"click",u.DomEvent.stop),u.DomEvent.on(n,"click",this._finishMeasure,this),u.DomEvent.on(i,"click",u.DomEvent.stop),u.DomEvent.on(i,"click",this._handleMeasureDoubleClick,this)},_expand:function(){n.hide(this.$toggle),n.show(this.$interaction)},_collapse:function(){this._locked||(n.hide(this.$interaction),n.show(this.$toggle))},_updateMeasureNotStarted:function(){n.hide(this.$startHelp),n.hide(this.$results),n.hide(this.$measureTasks),n.hide(this.$measuringPrompt),n.show(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){n.hide(this.$results),n.show(this.$startHelp),n.show(this.$measureTasks),n.hide(this.$startPrompt),n.show(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){n.hide(this.$startHelp),n.show(this.$results),n.show(this.$measureTasks),n.hide(this.$startPrompt),n.show(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=u.featureGroup().addTo(this._layer),this._captureMarker=u.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),u.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){var t=a.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,u.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",t,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(u.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(t){var s=this.options.units;return{lengthDisplay:e(t.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:e(t.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)};function e(t,e,n,i,r){var o;return e&&s[e]?(o=a(t,s[e],i,r),n&&s[n]&&(o=o+" ("+a(t,s[n],i,r)+")")):o=a(t,null,i,r),o}function a(t,e,n,i){return e&&e.factor&&e.display?l.numberFormat(t*e.factor,e.decimals||0,n||g.__("decPoint"),i||g.__("thousandsSep"))+" "+g.__([e.display])||e.display:l.numberFormat(t,0,n||g.__("decPoint"),i||g.__("thousandsSep"))}},_updateResults:function(){var t=c.measure(this._latlngs),e=this._resultsModel=a.extend({},t,this._getMeasurementDisplayStrings(t),{pointCount:this._latlngs.length});this.$results.innerHTML=r({model:e,humanize:l,i18n:g})},_handleMeasureMove:function(t){this._measureDrag?this._measureDrag.setLatLng(t.latlng):this._measureDrag=u.circleMarker(t.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var t,e,n,i,r,o,s=this._latlngs;this._finishMeasure(),s.length&&(2<s.length&&s.push(a.first(s)),t=c.measure(s),i=1===s.length?(e=u.circleMarker(s[0],this._symbols.getSymbol("resultPoint")),f({model:t,humanize:l,i18n:g})):2===s.length?(e=u.polyline(s,this._symbols.getSymbol("resultLine")),d({model:a.extend({},t,this._getMeasurementDisplayStrings(t)),humanize:l,i18n:g})):(e=u.polygon(s,this._symbols.getSymbol("resultArea")),p({model:a.extend({},t,this._getMeasurementDisplayStrings(t)),humanize:l,i18n:g})),(n=u.DomUtil.create("div","")).innerHTML=i,(r=h(".js-zoomto",n))&&(u.DomEvent.on(r,"click",u.DomEvent.stop),u.DomEvent.on(r,"click",function(){e.getBounds?this._map.fitBounds(e.getBounds(),{padding:[20,20],maxZoom:17}):e.getLatLng&&this._map.panTo(e.getLatLng())},this)),(o=h(".js-deletemarkup",n))&&(u.DomEvent.on(o,"click",u.DomEvent.stop),u.DomEvent.on(o,"click",function(){this._layer.removeLayer(e)},this)),e.addTo(this._layer),e.bindPopup(n,this.options.popupOptions),e.getBounds?e.openPopup(e.getBounds().getCenter()):e.getLatLng&&e.openPopup(e.getLatLng()))},_handleMeasureClick:function(t){var e=this._map.mouseEventToLatLng(t.originalEvent),n=a.last(this._latlngs),i=this._symbols.getSymbol("measureVertex");n&&e.equals(n)||(this._latlngs.push(e),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(t){t.setStyle(i),t._path.setAttribute("class",i.className)}),this._addNewVertex(e),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(t){u.circleMarker(t,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(t){t.length<3?this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null):this._measureArea?this._measureArea.setLatLngs(t):this._measureArea=u.polygon(t,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(t){t.length<2?this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null):this._measureBoundary?this._measureBoundary.setLatLngs(t):this._measureBoundary=u.polyline(t,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}}),u.Map.mergeOptions({measureControl:!1}),u.Map.addInitHook(function(){this.options.measureControl&&(this.measureControl=(new u.Control.Measure).addTo(this))}),u.control.measure=function(t){return new u.Control.Measure(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./calc":23,"./dom":24,"./i18n/ca":25,"./i18n/cn":26,"./i18n/da":27,"./i18n/de":28,"./i18n/de_CH":29,"./i18n/en":30,"./i18n/en_UK":31,"./i18n/es":32,"./i18n/fa":33,"./i18n/fil_PH":34,"./i18n/fr":35,"./i18n/it":36,"./i18n/nl":37,"./i18n/pl":38,"./i18n/pt_BR":39,"./i18n/pt_PT":40,"./i18n/ru":41,"./i18n/sv":42,"./i18n/tr":43,"./mapsymbology":45,"./units":46,humanize:16,"i18n-2":18,underscore:22}],45:[function(t,e,n){function i(t){this.setOptions(t)}var r=t("underscore"),o=t("color");i.DEFAULTS={activeColor:"#ABE67E",completedColor:"#C8F2BE"},r.extend(i.prototype,{setOptions:function(t){return this._options=r.extend({},i.DEFAULTS,this._options,t),this},getSymbol:function(t){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:o(this._options.activeColor).darken(.15),fillOpacity:.7,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[t]}}),e.exports=i},{color:6,underscore:22}],46:[function(t,e,n){e.exports={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:0},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:0},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:0},sqmeters:{factor:1,display:"sqmeters",decimals:0},sqmiles:{factor:3.86102e-7,display:"sqmiles",decimals:2}}},{}]},{},[44]),L.Control.Angular=L.Control.extend({options:{position:"bottomleft",template:""},onAdd:function(s){var a=this;return this._container=L.DomUtil.create("div","angular-control-leaflet"),L.Browser.touch?L.DomEvent.disableClickPropagation(this._container):L.DomEvent.disableClickPropagation(this._container).disableScrollPropagation(this._container),angular.element(document).ready(function(){var t=angular.element(document).injector();if(!(t=t||angular.element(document.querySelectorAll("[ng-app]")).injector()))throw"L.Control.Angular can't find your Angular app";var e=t.get("$rootScope"),n=t.get("$compile"),i=t.get("$controller");a._scope=e.$new(!0);var r,o=angular.element(a._container);o.html(a.options.template),a.options.controller&&(r=i(a.options.controller,{$map:s,$scope:a._scope,$element:o,$options:a.options}),a.options.controllerAs&&(a._scope[a.options.controllerAs]=r),o.data("$ngControllerController",r),o.children().data("$ngControllerController",r)),n(o)(a._scope),a._scope.$apply()}),this._container},onRemove:function(){this._scope&&this._scope.$destroy()}}),L.control.angular=function(t){return new L.Control.Angular(t)},function(t){var e;if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("undefined"!=typeof module)e=require("leaflet"),module.exports=t(e);else{if(void 0===window.L)throw"Leaflet must be loaded first";t(window.L)}}(function(m){"use strict";return m.Polyline._flat=m.LineUtil.isFlat||m.Polyline._flat||function(t){return!m.Util.isArray(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]},m.GeometryUtil=m.extend(m.GeometryUtil||{},{distance:function(t,e,n){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(n))},distanceSegment:function(t,e,n,i){var r=t.latLngToLayerPoint(e),o=t.latLngToLayerPoint(n),s=t.latLngToLayerPoint(i);return m.LineUtil.pointToSegmentDistance(r,o,s)},readableDistance:function(t,e){var n="imperial"!==e?1e3<t?(t/1e3).toFixed(2)+" km":Math.ceil(t)+" m":1760<(t*=1.09361)?(t/1760).toFixed(2)+" miles":Math.ceil(t)+" yd";return n},belongsSegment:function(t,e,n,i){i=void 0===i?.2:i;var r=e.distanceTo(n);return(e.distanceTo(t)+t.distanceTo(n)-r)/r<i},length:function(t){var e=m.GeometryUtil.accumulatedLengths(t);return 0<e.length?e[e.length-1]:0},accumulatedLengths:function(t){if("function"==typeof t.getLatLngs&&(t=t.getLatLngs()),0===t.length)return[];for(var e=0,n=[0],i=0,r=t.length-1;i<r;i++)e+=t[i].distanceTo(t[i+1]),n.push(e);return n},closestOnSegment:function(t,e,n,i){var r=t.getMaxZoom();r===1/0&&(r=t.getZoom());var o=t.project(e,r),s=t.project(n,r),a=t.project(i,r),u=m.LineUtil.closestPointOnSegment(o,s,a);return t.unproject(u,r)},closest:function(t,e,n,i){var r,o,s,a=1/0,u=null;if(e instanceof Array){if(e[0]instanceof Array&&"number"!=typeof e[0][0]){for(var l=0;l<e.length;l++){(p=m.GeometryUtil.closest(t,e[l],n,i)).distance<a&&(a=p.distance,u=p)}return u}if(!(e[0]instanceof m.LatLng||"number"==typeof e[0][0]||"number"==typeof e[0].lat))return u;e=m.polyline(e)}if(!(e instanceof m.Polyline))return u;if(r=JSON.parse(JSON.stringify(e.getLatLngs().slice(0))),e instanceof m.Polygon&&(s=function(t){if(m.Polyline._flat(t))t.push(t[0]);else for(var e=0;e<t.length;e++)s(t[e])})(r),m.Polyline._flat(r)){if(i){for(l=0,o=r.length;l<o;l++){var c,h=r[l];(c=m.GeometryUtil.distance(t,n,h))<a&&(a=c,(u=h).distance=c)}return u}for(l=0,o=r.length;l<o-1;l++){var f=r[l],d=r[l+1];(c=m.GeometryUtil.distanceSegment(t,n,f,d))<=a&&(a=c,(u=m.GeometryUtil.closestOnSegment(t,n,f,d)).distance=c)}return u}for(var p,l=0;l<r.length;l++){(p=m.GeometryUtil.closest(t,r[l],n,i)).distance<a&&(a=p.distance,u=p)}return u},closestLayer:function(t,e,n){for(var i=1/0,r=null,o=null,s=1/0,a=0,u=e.length;a<u;a++){var l,c=e[a];c instanceof m.LayerGroup?(l=m.GeometryUtil.closestLayer(t,c.getLayers(),n)).distance<i&&(i=l.distance,r=l):("function"==typeof c.getLatLng?(o=c.getLatLng(),s=m.GeometryUtil.distance(t,n,o)):(o=m.GeometryUtil.closest(t,c,n))&&(s=o.distance),s<i&&(r={layer:c,latlng:o,distance:i=s}))}return r},nClosestLayers:function(t,e,n,i){if((i="number"==typeof i?i:e.length)<1||e.length<1)return null;for(var r,o,s=[],a=0,u=e.length;a<u;a++){var l,c=e[a];c instanceof m.LayerGroup?(l=m.GeometryUtil.closestLayer(t,c.getLayers(),n),s.push(l)):("function"==typeof c.getLatLng?(o=c.getLatLng(),r=m.GeometryUtil.distance(t,n,o)):(o=m.GeometryUtil.closest(t,c,n))&&(r=o.distance),s.push({layer:c,latlng:o,distance:r}))}return s.sort(function(t,e){return t.distance-e.distance}),s.length>i?s.slice(0,i):s},layersWithin:function(t,e,n,i){i="number"==typeof i?i:1/0;for(var r=[],o=null,s=0,a=0,u=e.length;a<u;a++){var l=e[a];"function"==typeof l.getLatLng?(o=l.getLatLng(),s=m.GeometryUtil.distance(t,n,o)):(o=m.GeometryUtil.closest(t,l,n))&&(s=o.distance),o&&s<i&&r.push({layer:l,latlng:o,distance:s})}return r.sort(function(t,e){return t.distance-e.distance})},closestLayerSnap:function(t,e,n,i,r){i="number"==typeof i?i:1/0,r="boolean"!=typeof r||r;var o,s=m.GeometryUtil.closestLayer(t,e,n);return!s||s.distance>i?null:(!r||"function"!=typeof s.layer.getLatLngs||(o=m.GeometryUtil.closest(t,s.layer,s.latlng,!0)).distance<i&&(s.latlng=o,s.distance=m.GeometryUtil.distance(t,o,n)),s)},interpolateOnPointSegment:function(t,e,n){return m.point(t.x*(1-n)+n*e.x,t.y*(1-n)+n*e.y)},interpolateOnLine:function(t,e,n){var i=(e=e instanceof m.Polyline?e.getLatLngs():e).length;if(i<2)return null;if(0===(n=Math.max(Math.min(n,1),0)))return{latLng:e[0]instanceof m.LatLng?e[0]:m.latLng(e[0]),predecessor:-1};if(1==n)return{latLng:e[e.length-1]instanceof m.LatLng?e[e.length-1]:m.latLng(e[e.length-1]),predecessor:e.length-2};var r=t.getMaxZoom();r===1/0&&(r=t.getZoom());for(var o=[],s=0,a=0;a<i;a++)o[a]=t.project(e[a],r),0<a&&(s+=o[a-1].distanceTo(o[a]));for(var u=s*n,l=o[0],c=o[1],h=0,f=l.distanceTo(c),d=1;d<i&&f<u;d++)l=c,h=f,c=o[d],f+=l.distanceTo(c);var p=f-h!=0?(u-h)/(f-h):0,g=m.GeometryUtil.interpolateOnPointSegment(l,c,p);return{latLng:t.unproject(g,r),predecessor:d-2}},locateOnLine:function(t,e,n){var i=e.getLatLngs();if(n.equals(i[0]))return 0;if(n.equals(i[i.length-1]))return 1;for(var r=m.GeometryUtil.closest(t,e,n,!1),o=m.GeometryUtil.accumulatedLengths(i),s=o[o.length-1],a=0,u=!1,l=0,c=i.length-1;l<c;l++){var h=i[l],f=i[l+1],a=o[l];if(m.GeometryUtil.belongsSegment(r,h,f)){a+=h.distanceTo(r),u=!0;break}}if(!u)throw"Could not interpolate "+n.toString()+" within "+e.toString();return a/s},reverse:function(t){return m.polyline(t.getLatLngs().slice(0).reverse())},extract:function(t,e,n,i){if(i<n)return m.GeometryUtil.extract(t,m.GeometryUtil.reverse(e),1-n,1-i);n=Math.max(Math.min(n,1),0),i=Math.max(Math.min(i,1),0);var r=e.getLatLngs(),o=m.GeometryUtil.interpolateOnLine(t,e,n),s=m.GeometryUtil.interpolateOnLine(t,e,i);if(n==i)return[m.GeometryUtil.interpolateOnLine(t,e,i).latLng];-1==o.predecessor&&(o.predecessor=0),-1==s.predecessor&&(s.predecessor=0);var a=r.slice(o.predecessor+1,s.predecessor+1);return a.unshift(o.latLng),a.push(s.latLng),a},isBefore:function(t,e){if(!e)return!1;var n=t.getLatLngs(),i=e.getLatLngs();return n[n.length-1].equals(i[0])},isAfter:function(t,e){if(!e)return!1;var n=t.getLatLngs(),i=e.getLatLngs();return n[0].equals(i[i.length-1])},startsAtExtremity:function(t,e){if(!e)return!1;var n=t.getLatLngs(),i=e.getLatLngs(),r=n[0];return r.equals(i[0])||r.equals(i[i.length-1])},computeAngle:function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},computeSlope:function(t,e){var n=(e.y-t.y)/(e.x-t.x);return{a:n,b:t.y-n*t.x}},rotatePoint:function(t,e,n,i){var r=t.getMaxZoom();r===1/0&&(r=t.getZoom());var o=n*Math.PI/180,s=t.project(e,r),a=t.project(i,r),u=Math.cos(o)*(s.x-a.x)-Math.sin(o)*(s.y-a.y)+a.x,l=Math.sin(o)*(s.x-a.x)+Math.cos(o)*(s.y-a.y)+a.y;return t.unproject(new m.Point(u,l),r)},bearing:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=t.lng*n,s=e.lng*n,a=Math.sin(s-o)*Math.cos(r),u=Math.cos(i)*Math.sin(r)-Math.sin(i)*Math.cos(r)*Math.cos(s-o),l=(180*Math.atan2(a,u)/Math.PI+360)%360;return 180<=l?l-360:l},destination:function(t,e,n){e=(e+360)%360;var i=Math.PI/180,r=180/Math.PI,o=t.lng*i,s=t.lat*i,a=e*i,u=Math.sin(s),l=Math.cos(s),c=Math.cos(n/6378137),h=Math.sin(n/6378137),f=Math.asin(u*c+l*h*Math.cos(a)),d=o+Math.atan2(Math.sin(a)*h*l,c-u*Math.sin(f)),d=180<(d*=r)?d-360:d<-180?d+360:d;return m.latLng([f*r,d])}}),m.GeometryUtil}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t.Leaflet=t.Leaflet||{},t.Leaflet.markercluster=t.Leaflet.markercluster||{}))}(this,function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,n=this._zoom;if(t.__parent)for(;e.__parent._zoom>=n;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):(t.getLatLng?this._map?t.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow())):(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t})):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t})),this)},addLayers:function(r,o){if(!L.Util.isArray(r))return this.addLayer(r);var s,a=this._featureGroup,u=this._nonPointGroup,l=this.options.chunkedLoading,c=this.options.chunkInterval,h=this.options.chunkProgress,f=r.length,d=0,p=!0;if(this._map){var g=(new Date).getTime(),m=L.bind(function(){for(var t,e,n=(new Date).getTime();d<f;d++){if(l&&0==d%200){var i=(new Date).getTime()-n;if(c<i)break}(s=r[d])instanceof L.LayerGroup?(p&&(r=r.slice(),p=!1),this._extractNonGroupLayers(s,r),f=r.length):s.getLatLng?!this.hasLayer(s)&&(this._addLayer(s,this._maxZoom),o||this.fire("layeradd",{layer:s}),s.__parent&&2===s.__parent.getChildCount())&&(e=(t=s.__parent.getAllChildMarkers())[0]===s?t[1]:t[0],a.removeLayer(e)):(u.addLayer(s),o||this.fire("layeradd",{layer:s}))}h&&h(d,f,(new Date).getTime()-g),d===f?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(m,this.options.chunkDelay)},this);m()}else for(var t=this._needsClustering;d<f;d++)(s=r[d])instanceof L.LayerGroup?(p&&(r=r.slice(),p=!1),this._extractNonGroupLayers(s,r),f=r.length):s.getLatLng?this.hasLayer(s)||t.push(s):u.addLayer(s);return this},removeLayers:function(t){var e,n=t.length,i=this._featureGroup,r=this._nonPointGroup,o=!0;if(!this._map){for(u=0;u<n;u++)(e=t[u])instanceof L.LayerGroup?(o&&(t=t.slice(),o=!1),this._extractNonGroupLayers(e,t),n=t.length):(this._arraySplice(this._needsClustering,e),r.removeLayer(e),this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}));return this}if(this._unspiderfy){this._unspiderfy();for(var s=t.slice(),a=n,u=0;u<a;u++)(e=s[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(e,s),a=s.length):this._unspiderfyLayer(e)}for(u=0;u<n;u++)(e=t[u])instanceof L.LayerGroup?(o&&(t=t.slice(),o=!1),this._extractNonGroupLayers(e,t),n=t.length):e.__parent?(this._removeLayer(e,!0,!0),this.fire("layerremove",{layer:e}),i.hasLayer(e)&&(i.removeLayer(e),e.clusterShow&&e.clusterShow())):(r.removeLayer(e),this.fire("layerremove",{layer:e}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;0<=e;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var n,i,r,o=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),i=o.length-1;0<=i;i--){for(n=!0,r=s.length-1;0<=r;r--)if(s[r].layer===o[i]){n=!1;break}n&&t.call(e,o[i])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var n=null;return e=parseInt(e,10),this.eachLayer(function(t){L.stamp(t)===e&&(n=t)}),n},hasLayer:function(t){if(!t)return!1;for(var e=this._needsClustering,n=e.length-1;0<=n;n--)if(e[n]===t)return!0;for(n=(e=this._needsRemoving).length-1;0<=n;n--)if(e[n].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var n=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,n,i;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,n=this._needsRemoving.length;e<n;e++)(i=this._needsRemoving[e]).newlatlng=i.layer._latlng,i.layer._latlng=i.latlng;for(e=0,n=this._needsRemoving.length;e<n;e++)i=this._needsRemoving[e],this._removeLayer(i.layer,!0),i.layer._latlng=i.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var n=t.length-1;0<=n;n--)if(t[n]===e)return t.splice(n,1),!0},_removeFromGridUnclustered:function(t,e){for(var n=this._map,i=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());r<=e&&i[e].removeObject(t,n.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){var e;this._ignoreMove||t.target.__dragStart||(e=t.target._popup&&t.target._popup.isOpen(),this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup())},_moveChild:function(t,e,n){t._latlng=e,this.removeLayer(t),t._latlng=n,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,n){var i=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var u,l=t.__parent,c=l._markers;for(this._arraySplice(c,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(u=l._markers[0]===t?l._markers[1]:l._markers[0],i[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),r[l._zoom].addObject(u,s.project(u.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(u),u.__parent=l.__parent,l._icon&&(o.removeLayer(l),n||o.addLayer(u))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,n){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,n)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),n=" marker-cluster-";return n+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick;(e||i)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,n=e;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),2<t.layer.getChildCount()&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,i=this._map;(t||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){var t;this._inZoomAnimation||(t=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t)},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,i="function"!=typeof n?function(){return n}:n;null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var r=t;e<=r;r--)this._gridClusters[r]=new L.DistanceGrid(i(r)),this._gridUnclustered[r]=new L.DistanceGrid(i(r));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var n,i=this._gridClusters,r=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);o<=e;e--){n=this._map.project(t.getLatLng(),e);var s=i[e].getNearObject(n);if(s)return s._addChild(t),void(t.__parent=s);if(s=r[e].getNearObject(n)){var a=s.__parent;a&&this._removeLayer(s,!1);var u=new this._markerCluster(this,e,s,t);i[e].addObject(u,this._map.project(u._cLatLng,e)),s.__parent=u;for(var l=t.__parent=u,c=e-1;c>a._zoom;c--)l=new this._markerCluster(this,c,l),i[c].addObject(l,this._map.project(s.getLatLng(),c));return a._addChild(l),void this._removeFromGridUnclustered(s,e)}r[e].addObject(t,n)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){var n;e===t?this._featureGroup.addLayer(t):2===e._childCount?(e._addToMap(),n=e.getAllChildMarkers(),this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])):e._updateIcon()},_extractNonGroupLayers:function(t,e){var n,i=t.getLayers(),r=0;for(e=e||[];r<i.length;r++)(n=i[r])instanceof L.LayerGroup?this._extractNonGroupLayers(n,e):e.push(n);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(r,o){var s,a=this._getExpandedVisibleBounds(),u=this._featureGroup,t=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(a,r,t,function(t){var e,n=t._latlng,i=t._markers;for(a.contains(n)||(n=null),t._isSingleParent()&&r+1===o?(u.removeLayer(t),t._recursivelyAddChildrenToMap(null,o,a)):(t.clusterHide(),t._recursivelyAddChildrenToMap(n,o,a)),s=i.length-1;0<=s;s--)e=i[s],a.contains(e._latlng)||u.removeLayer(e)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(a,o),u.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(a,r,o,function(t){t._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(a,r,t,function(t){u.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var n=this,i=this._featureGroup;i.addLayer(t),e!==t&&(2<e._childCount?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){i.removeLayer(t),t.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,n,i){var r=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,o,n+1,i);var s=this;this._forceLayout(),e._recursivelyBecomeVisible(r,i),this._enqueue(function(){var t;1===e._childCount?(t=e._markers[0],this._ignoreMove=!0,t.setLatLng(t.getLatLng()),this._ignoreMove=!1,t.clusterShow&&t.clusterShow()):e._recursively(r,i,o,function(t){t._recursivelyRemoveChildrenFromMap(r,o,n+1)}),s._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,n,i){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),i&&this._addChild(i)},getAllChildMarkers:function(t,e){t=t||[];for(var n=this._childClusters.length-1;0<=n;n--)this._childClusters[n].getAllChildMarkers(t);for(var i=this._markers.length-1;0<=i;i--)e&&this._markers[i].__dragStart||t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e=this._childClusters.slice(),n=this._group._map,i=n.getBoundsZoom(this._bounds),r=this._zoom+1,o=n.getZoom();0<e.length&&r<i;){r++;for(var s=[],a=0;a<e.length;a++)s=s.concat(e[a]._childClusters);e=s}r<i?this._group._map.setView(this._latlng,r):i<=o?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,n,i,r=this._markers,o=this._childClusters,s=0,a=0,u=this._childCount;if(0!==u){for(this._resetBounds(),t=0;t<r.length;t++)n=r[t]._latlng,this._bounds.extend(n),s+=n.lat,a+=n.lng;for(t=0;t<o.length;t++)(e=o[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),n=e._wLatLng,i=e._childCount,s+=n.lat*i,a+=n.lng*i;this._latlng=this._wLatLng=new L.LatLng(s/u,a/u),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,r,e){this._recursively(t,this._group._map.getMinZoom(),e-1,function(t){for(var e,n=t._markers,i=n.length-1;0<=i;i--)(e=n[i])._icon&&(e._setPos(r),e.clusterHide())},function(t){for(var e,n=t._childClusters,i=n.length-1;0<=i;i--)(e=n[i])._icon&&(e._setPos(r),e.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,n,i,r){this._recursively(e,r,n,function(t){t._recursivelyAnimateChildrenIn(e,t._group._map.latLngToLayerPoint(t.getLatLng()).round(),i),t._isSingleParent()&&i-1===r?(t.clusterShow(),t._recursivelyRemoveChildrenFromMap(e,n,i)):t.clusterHide(),t._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(i,r,o){this._recursively(o,this._group._map.getMinZoom()-1,r,function(t){if(r!==t._zoom)for(var e=t._markers.length-1;0<=e;e--){var n=t._markers[e];o.contains(n._latlng)&&(i&&(n._backupLatlng=n.getLatLng(),n.setLatLng(i),n.clusterHide&&n.clusterHide()),t._group._featureGroup.addLayer(n))}},function(t){t._addToMap(i)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;0<=e;e--){var n=this._markers[e];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(t-1===this._zoom)for(var i=this._childClusters.length-1;0<=i;i--)this._childClusters[i]._restorePosition();else for(var r=this._childClusters.length-1;0<=r;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,n,i){var r,o;this._recursively(t,e-1,n-1,function(t){for(o=t._markers.length-1;0<=o;o--)r=t._markers[o],i&&i.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(t){for(o=t._childClusters.length-1;0<=o;o--)r=t._childClusters[o],i&&i.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(t,e,n,i,r){var o,s,a=this._childClusters,u=this._zoom;if(e<=u&&(i&&i(this),r&&u===n&&r(this)),u<e||u<n)for(o=a.length-1;0<=o;o--)(s=a[o])._boundsNeedUpdate&&s._recalculateBounds(),t.intersects(s._bounds)&&s._recursively(t,e,n,i,r)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var n=this._getCoord(e.x),i=this._getCoord(e.y),r=this._grid,o=r[i]=r[i]||{},s=o[n]=o[n]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var n,i,r=this._getCoord(e.x),o=this._getCoord(e.y),s=this._grid,a=s[o]=s[o]||{},u=a[r]=a[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],n=0,i=u.length;n<i;n++)if(u[n]===t)return u.splice(n,1),1===i&&delete a[r],!0},eachObject:function(t,e){var n,i,r,o,s,a,u=this._grid;for(n in u)for(i in s=u[n])for(r=0,o=(a=s[i]).length;r<o;r++)t.call(e,a[r])&&(r--,o--)},getNearObject:function(t){for(var e,n,i,r,o,s,a,u=this._getCoord(t.x),l=this._getCoord(t.y),c=this._objectPoint,h=this._sqCellSize,f=null,d=l-1;d<=l+1;d++)if(i=this._grid[d])for(e=u-1;e<=u+1;e++)if(r=i[e])for(n=0,o=r.length;n<o;n++)s=r[n],((a=this._sqDist(c[L.Util.stamp(s)],t))<h||a<=h&&null===f)&&(h=a,f=s);return f},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}},L.QuickHull={getDistant:function(t,e){var n=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+n*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){for(var n,i,r=0,o=null,s=[],a=e.length-1;0<=a;a--)n=e[a],0<(i=this.getDistant(n,t))&&(s.push(n),r<i&&(r=i,o=n));return{maxPoint:o,newPoints:s}},buildConvexHull:function(t,e){var n=[],i=this.findMostDistantPointFromBaseLine(t,e);return i.maxPoint?n=(n=n.concat(this.buildConvexHull([t[0],i.maxPoint],i.newPoints))).concat(this.buildConvexHull([i.maxPoint,t[1]],i.newPoints)):[t[0]]},getConvexHull:function(t){for(var e=!1,n=!1,i=!1,r=!1,o=null,s=null,a=null,u=null,l=null,c=null,h=t.length-1;0<=h;h--){var f=t[h];(!1===e||f.lat>e)&&(e=(o=f).lat),(!1===n||f.lat<n)&&(n=(s=f).lat),(!1===i||f.lng>i)&&(i=(a=f).lng),(!1===r||f.lng<r)&&(r=(u=f).lng)}return l=n!==e?(c=s,o):(c=u,a),[].concat(this.buildConvexHull([c,l],t),this.buildConvexHull([l,c],t))}},L.MarkerCluster.include({getConvexHull:function(){for(var t,e=this.getAllChildMarkers(),n=[],i=e.length-1;0<=i;i--)t=e[i].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){var t,e,n;this._group._spiderfied===this||this._group._inZoomAnimation||(e=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng),this._group._unspiderfy(),this._group._spiderfied=this,t=e.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(e.length,n):(n.y+=10,this._generatePointsCircle(e.length,n)),this._animationSpiderfy(e,t))},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var n,i,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,o=this._2PI/t,s=[],r=Math.max(r,35);for(s.length=t,n=0;n<t;n++)i=this._circleStartAngle+n*o,s[n]=new L.Point(e.x+r*Math.cos(i),e.y+r*Math.sin(i))._round();return s},_generatePointsSpiral:function(t,e){for(var n=this._group.options.spiderfyDistanceMultiplier,i=n*this._spiralLengthStart,r=n*this._spiralFootSeparation,o=n*this._spiralLengthFactor*this._2PI,s=0,a=[],u=a.length=t;0<=u;u--)u<t&&(a[u]=new L.Point(e.x+i*Math.cos(s),e.y+i*Math.sin(s))._round()),i+=o/(s+=r/i+5e-4*u);return a},_noanimationUnspiderfy:function(){var t,e,n=this._group,i=n._map,r=n._featureGroup,o=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),e=o.length-1;0<=e;e--)t=o[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(i.removeLayer(t._spiderLeg),delete t._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var n,i,r,o,s=this._group,a=s._map,u=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,n=0;n<t.length;n++)o=a.layerPointToLatLng(e[n]),i=t[n],r=new L.Polyline([this._latlng,o],l),a.addLayer(r),i._spiderLeg=r,i._preSpiderfyLatlng=i._latlng,i.setLatLng(o),i.setZIndexOffset&&i.setZIndexOffset(1e6),u.addLayer(i);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,i,r,o,s,a,u=this,l=this._group,c=l._map,h=l._featureGroup,f=this._latlng,d=c.latLngToLayerPoint(f),p=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),m=g.opacity;for(void 0===m&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=m,l._ignoreMove=!0,n=0;n<t.length;n++)i=t[n],a=c.layerPointToLatLng(e[n]),r=new L.Polyline([f,a],g),c.addLayer(r),i._spiderLeg=r,p&&(s=(o=r._path).getTotalLength()+.1,o.style.strokeDasharray=s,o.style.strokeDashoffset=s),i.setZIndexOffset&&i.setZIndexOffset(1e6),i.clusterHide&&i.clusterHide(),h.addLayer(i),i._setPos&&i._setPos(d);for(l._forceLayout(),l._animationStart(),n=t.length-1;0<=n;n--)a=c.layerPointToLatLng(e[n]),(i=t[n])._preSpiderfyLatlng=i._latlng,i.setLatLng(a),i.clusterShow&&i.clusterShow(),p&&((o=(r=i._spiderLeg)._path).style.strokeDashoffset=0,r.setStyle({opacity:m}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:t})},200)},_animationUnspiderfy:function(t){var e,n,i,r,o,s,a=this,u=this._group,l=u._map,c=u._featureGroup,h=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(null,!0),d=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),n=f.length-1;0<=n;n--)(e=f[n])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(h),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&c.removeLayer(e),d&&(o=(r=(i=e._spiderLeg)._path).getTotalLength()+.1,r.style.strokeDashoffset=o,i.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var t=0;for(n=f.length-1;0<=n;n--)(e=f[n])._spiderLeg&&t++;for(n=f.length-1;0<=n;n--)(e=f[n])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),1<t&&c.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:a,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,n;for(e in t)for(n=t[e].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,n;for(e in t)n=t[e],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(t,e){var n=this.options.icon;return L.setOptions(n,t),this.setIcon(n),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=n}),function(t,e){"function"==typeof define&&define.amd?define(["leaflet"],t):"object"==typeof exports&&(module.exports=t(require("leaflet"))),void 0!==e&&e.L&&t(e.L)}(function(u){u.Editable=u.Evented.extend({statics:{FORWARD:1,BACKWARD:-1},options:{zIndex:1e3,polygonClass:u.Polygon,polylineClass:u.Polyline,markerClass:u.Marker,rectangleClass:u.Rectangle,circleClass:u.Circle,drawingCSSClass:"leaflet-editable-drawing",drawingCursor:"crosshair",editLayer:void 0,featuresLayer:void 0,polylineEditorClass:void 0,polygonEditorClass:void 0,markerEditorClass:void 0,rectangleEditorClass:void 0,circleEditorClass:void 0,lineGuideOptions:{},skipMiddleMarkers:!1},initialize:function(t,e){u.setOptions(this,e),this._lastZIndex=this.options.zIndex,this.map=t,this.editLayer=this.createEditLayer(),this.featuresLayer=this.createFeaturesLayer(),this.forwardLineGuide=this.createLineGuide(),this.backwardLineGuide=this.createLineGuide()},fireAndForward:function(t,e){((e=e||{}).editTools=this).fire(t,e),this.map.fire(t,e)},createLineGuide:function(){var t=u.extend({dashArray:"5,10",weight:1,interactive:!1},this.options.lineGuideOptions);return u.polyline([],t)},createVertexIcon:function(t){return u.Browser.mobile&&u.Browser.touch?new u.Editable.TouchVertexIcon(t):new u.Editable.VertexIcon(t)},createEditLayer:function(){return this.options.editLayer||(new u.LayerGroup).addTo(this.map)},createFeaturesLayer:function(){return this.options.featuresLayer||(new u.LayerGroup).addTo(this.map)},moveForwardLineGuide:function(t){this.forwardLineGuide._latlngs.length&&(this.forwardLineGuide._latlngs[1]=t,this.forwardLineGuide._bounds.extend(t),this.forwardLineGuide.redraw())},moveBackwardLineGuide:function(t){this.backwardLineGuide._latlngs.length&&(this.backwardLineGuide._latlngs[1]=t,this.backwardLineGuide._bounds.extend(t),this.backwardLineGuide.redraw())},anchorForwardLineGuide:function(t){this.forwardLineGuide._latlngs[0]=t,this.forwardLineGuide._bounds.extend(t),this.forwardLineGuide.redraw()},anchorBackwardLineGuide:function(t){this.backwardLineGuide._latlngs[0]=t,this.backwardLineGuide._bounds.extend(t),this.backwardLineGuide.redraw()},attachForwardLineGuide:function(){this.editLayer.addLayer(this.forwardLineGuide)},attachBackwardLineGuide:function(){this.editLayer.addLayer(this.backwardLineGuide)},detachForwardLineGuide:function(){this.forwardLineGuide.setLatLngs([]),this.editLayer.removeLayer(this.forwardLineGuide)},detachBackwardLineGuide:function(){this.backwardLineGuide.setLatLngs([]),this.editLayer.removeLayer(this.backwardLineGuide)},blockEvents:function(){this._oldTargets||(this._oldTargets=this.map._targets,this.map._targets={})},unblockEvents:function(){this._oldTargets&&(this.map._targets=u.extend(this.map._targets,this._oldTargets),delete this._oldTargets)},registerForDrawing:function(t){this._drawingEditor&&this.unregisterForDrawing(this._drawingEditor),this.blockEvents(),t.reset(),this._drawingEditor=t,this.map.on("mousemove touchmove",t.onDrawingMouseMove,t),this.map.on("mousedown",this.onMousedown,this),this.map.on("mouseup",this.onMouseup,this),u.DomUtil.addClass(this.map._container,this.options.drawingCSSClass),this.defaultMapCursor=this.map._container.style.cursor,this.map._container.style.cursor=this.options.drawingCursor},unregisterForDrawing:function(t){this.unblockEvents(),u.DomUtil.removeClass(this.map._container,this.options.drawingCSSClass),this.map._container.style.cursor=this.defaultMapCursor,(t=t||this._drawingEditor)&&(this.map.off("mousemove touchmove",t.onDrawingMouseMove,t),this.map.off("mousedown",this.onMousedown,this),this.map.off("mouseup",this.onMouseup,this),t===this._drawingEditor&&(delete this._drawingEditor,t._drawing&&t.cancelDrawing()))},onMousedown:function(t){1==t.originalEvent.which&&(this._mouseDown=t,this._drawingEditor.onDrawingMouseDown(t))},onMouseup:function(t){if(this._mouseDown){var e=this._drawingEditor,n=this._mouseDown;if(this._mouseDown=null,e.onDrawingMouseUp(t),this._drawingEditor!==e)return;var i=u.point(n.originalEvent.clientX,n.originalEvent.clientY),r=u.point(t.originalEvent.clientX,t.originalEvent.clientY).distanceTo(i);Math.abs(r)<9*(window.devicePixelRatio||1)&&this._drawingEditor.onDrawingClick(t)}},drawing:function(){return this._drawingEditor&&this._drawingEditor.drawing()},stopDrawing:function(){this.unregisterForDrawing()},commitDrawing:function(t){this._drawingEditor&&this._drawingEditor.commitDrawing(t)},connectCreatedToMap:function(t){return this.featuresLayer.addLayer(t)},startPolyline:function(t,e){var n=this.createPolyline([],e);return n.enableEdit(this.map).newShape(t),n},startPolygon:function(t,e){var n=this.createPolygon([],e);return n.enableEdit(this.map).newShape(t),n},startMarker:function(t,e){t=t||this.map.getCenter().clone();var n=this.createMarker(t,e);return n.enableEdit(this.map).startDrawing(),n},startRectangle:function(t,e){var n=t||u.latLng([0,0]),i=new u.LatLngBounds(n,n),r=this.createRectangle(i,e);return r.enableEdit(this.map).startDrawing(),r},startCircle:function(t,e){t=t||this.map.getCenter().clone();var n=this.createCircle(t,e);return n.enableEdit(this.map).startDrawing(),n},startHole:function(t,e){t.newHole(e)},createLayer:function(t,e,n){var i=new t(e,n=u.Util.extend({editOptions:{editTools:this}},n));return this.fireAndForward("editable:created",{layer:i}),i},createPolyline:function(t,e){return this.createLayer(e&&e.polylineClass||this.options.polylineClass,t,e)},createPolygon:function(t,e){return this.createLayer(e&&e.polygonClass||this.options.polygonClass,t,e)},createMarker:function(t,e){return this.createLayer(e&&e.markerClass||this.options.markerClass,t,e)},createRectangle:function(t,e){return this.createLayer(e&&e.rectangleClass||this.options.rectangleClass,t,e)},createCircle:function(t,e){return this.createLayer(e&&e.circleClass||this.options.circleClass,t,e)}}),u.extend(u.Editable,{makeCancellable:function(t){t.cancel=function(){t._cancelled=!0}}}),u.Map.mergeOptions({editToolsClass:u.Editable,editable:!1,editOptions:{}}),u.Map.addInitHook(function(){this.whenReady(function(){this.options.editable&&(this.editTools=new this.options.editToolsClass(this,this.options.editOptions))})}),u.Editable.VertexIcon=u.DivIcon.extend({options:{iconSize:new u.Point(8,8)}}),u.Editable.TouchVertexIcon=u.Editable.VertexIcon.extend({options:{iconSize:new u.Point(20,20)}}),u.Editable.VertexMarker=u.Marker.extend({options:{draggable:!0,className:"leaflet-div-icon leaflet-vertex-icon"},initialize:function(t,e,n,i){this.latlng=t,this.latlngs=e,this.editor=n,u.Marker.prototype.initialize.call(this,t,i),this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className}),(this.latlng.__vertex=this).editor.editLayer.addLayer(this),this.setZIndexOffset(n.tools._lastZIndex+1)},onAdd:function(t){u.Marker.prototype.onAdd.call(this,t),this.on("drag",this.onDrag),this.on("dragstart",this.onDragStart),this.on("dragend",this.onDragEnd),this.on("mouseup",this.onMouseup),this.on("click",this.onClick),this.on("contextmenu",this.onContextMenu),this.on("mousedown touchstart",this.onMouseDown),this.on("mouseover",this.onMouseOver),this.on("mouseout",this.onMouseOut),this.addMiddleMarkers()},onRemove:function(t){this.middleMarker&&this.middleMarker.delete(),delete this.latlng.__vertex,this.off("drag",this.onDrag),this.off("dragstart",this.onDragStart),this.off("dragend",this.onDragEnd),this.off("mouseup",this.onMouseup),this.off("click",this.onClick),this.off("contextmenu",this.onContextMenu),this.off("mousedown touchstart",this.onMouseDown),this.off("mouseover",this.onMouseOver),this.off("mouseout",this.onMouseOut),u.Marker.prototype.onRemove.call(this,t)},onDrag:function(t){(t.vertex=this).editor.onVertexMarkerDrag(t);var e=u.DomUtil.getPosition(this._icon),n=this._map.layerPointToLatLng(e);this.latlng.update(n),this._latlng=this.latlng,this.editor.refresh(),this.middleMarker&&this.middleMarker.updateLatLng();var i=this.getNext();i&&i.middleMarker&&i.middleMarker.updateLatLng()},onDragStart:function(t){(t.vertex=this).editor.onVertexMarkerDragStart(t)},onDragEnd:function(t){(t.vertex=this).editor.onVertexMarkerDragEnd(t)},onClick:function(t){(t.vertex=this).editor.onVertexMarkerClick(t)},onMouseup:function(t){u.DomEvent.stop(t),(t.vertex=this).editor.map.fire("mouseup",t)},onContextMenu:function(t){(t.vertex=this).editor.onVertexMarkerContextMenu(t)},onMouseDown:function(t){(t.vertex=this).editor.onVertexMarkerMouseDown(t)},onMouseOver:function(t){(t.vertex=this).editor.onVertexMarkerMouseOver(t)},onMouseOut:function(t){(t.vertex=this).editor.onVertexMarkerMouseOut(t)},delete:function(){var t=this.getNext();this.latlngs.splice(this.getIndex(),1),this.editor.editLayer.removeLayer(this),this.editor.onVertexDeleted({latlng:this.latlng,vertex:this}),this.latlngs.length||this.editor.deleteShape(this.latlngs),t&&t.resetMiddleMarker(),this.editor.refresh()},getIndex:function(){return this.latlngs.indexOf(this.latlng)},getLastIndex:function(){return this.latlngs.length-1},getPrevious:function(){if(!(this.latlngs.length<2)){var t=this.getIndex(),e=t-1;0===t&&this.editor.CLOSED&&(e=this.getLastIndex());var n=this.latlngs[e];return n?n.__vertex:void 0}},getNext:function(){if(!(this.latlngs.length<2)){var t=this.getIndex(),e=t+1;t===this.getLastIndex()&&this.editor.CLOSED&&(e=0);var n=this.latlngs[e];return n?n.__vertex:void 0}},addMiddleMarker:function(t){this.editor.hasMiddleMarkers()&&(t=t||this.getPrevious())&&!this.middleMarker&&(this.middleMarker=this.editor.addMiddleMarker(t,this,this.latlngs,this.editor))},addMiddleMarkers:function(){var t,e;this.editor.hasMiddleMarkers()&&((t=this.getPrevious())&&this.addMiddleMarker(t),(e=this.getNext())&&e.resetMiddleMarker())},resetMiddleMarker:function(){this.middleMarker&&this.middleMarker.delete(),this.addMiddleMarker()},split:function(){this.editor.splitShape&&this.editor.splitShape(this.latlngs,this.getIndex())},continue:function(){var t;this.editor.continueBackward&&(0===(t=this.getIndex())?this.editor.continueBackward(this.latlngs):t===this.getLastIndex()&&this.editor.continueForward(this.latlngs))}}),u.Editable.mergeOptions({vertexMarkerClass:u.Editable.VertexMarker}),u.Editable.MiddleMarker=u.Marker.extend({options:{opacity:.5,className:"leaflet-div-icon leaflet-middle-icon",draggable:!0},initialize:function(t,e,n,i,r){this.left=t,this.right=e,this.editor=i,this.latlngs=n,u.Marker.prototype.initialize.call(this,this.computeLatLng(),r),this._opacity=this.options.opacity,this.options.icon=this.editor.tools.createVertexIcon({className:this.options.className}),this.editor.editLayer.addLayer(this),this.setVisibility()},setVisibility:function(){var t=this._map.latLngToContainerPoint(this.left.latlng),e=this._map.latLngToContainerPoint(this.right.latlng),n=u.point(this.options.icon.options.iconSize);t.distanceTo(e)<3*n.x?this.hide():this.show()},show:function(){this.setOpacity(this._opacity)},hide:function(){this.setOpacity(0)},updateLatLng:function(){this.setLatLng(this.computeLatLng()),this.setVisibility()},computeLatLng:function(){var t=this.editor.map.latLngToContainerPoint(this.left.latlng),e=this.editor.map.latLngToContainerPoint(this.right.latlng),n=(t.y+e.y)/2,i=(t.x+e.x)/2;return this.editor.map.containerPointToLatLng([i,n])},onAdd:function(t){u.Marker.prototype.onAdd.call(this,t),u.DomEvent.on(this._icon,"mousedown touchstart",this.onMouseDown,this),t.on("zoomend",this.setVisibility,this)},onRemove:function(t){delete this.right.middleMarker,u.DomEvent.off(this._icon,"mousedown touchstart",this.onMouseDown,this),t.off("zoomend",this.setVisibility,this),u.Marker.prototype.onRemove.call(this,t)},onMouseDown:function(t){var e,n,i,r=u.DomUtil.getPosition(this._icon);t={originalEvent:t,latlng:this.editor.map.layerPointToLatLng(r)},0!==this.options.opacity&&(u.Editable.makeCancellable(t),this.editor.onMiddleMarkerMouseDown(t),t._cancelled||(this.latlngs.splice(this.index(),0,t.latlng),this.editor.refresh(),e=this._icon,n=this.editor.addVertexMarker(t.latlng,this.latlngs),this.editor.onNewVertex(n),(i=n._icon.parentNode).removeChild(n._icon),n._icon=e,i.appendChild(n._icon),n._initIcon(),n._initInteraction(),n.setOpacity(1),u.Draggable._dragging=!1,n.dragging._draggable._onDown(t.originalEvent),this.delete()))},delete:function(){this.editor.editLayer.removeLayer(this)},index:function(){return this.latlngs.indexOf(this.right.latlng)}}),u.Editable.mergeOptions({middleMarkerClass:u.Editable.MiddleMarker}),u.Editable.BaseEditor=u.Handler.extend({initialize:function(t,e,n){u.setOptions(this,n),this.map=t,this.feature=e,(this.feature.editor=this).editLayer=new u.LayerGroup,this.tools=this.options.editTools||t.editTools},addHooks:function(){this.isConnected()?this.onFeatureAdd():this.feature.once("add",this.onFeatureAdd,this),this.onEnable(),this.feature.on(this._getEvents(),this)},removeHooks:function(){this.feature.off(this._getEvents(),this),this.feature.dragging&&this.feature.dragging.disable(),this.editLayer.clearLayers(),this.tools.editLayer.removeLayer(this.editLayer),this.onDisable(),this._drawing&&this.cancelDrawing()},drawing:function(){return!!this._drawing},reset:function(){},onFeatureAdd:function(){this.tools.editLayer.addLayer(this.editLayer),this.feature.dragging&&this.feature.dragging.enable()},hasMiddleMarkers:function(){return!this.options.skipMiddleMarkers&&!this.tools.options.skipMiddleMarkers},fireAndForward:function(t,e){(e=e||{}).layer=this.feature,this.feature.fire(t,e),this.tools.fireAndForward(t,e)},onEnable:function(){this.fireAndForward("editable:enable")},onDisable:function(){this.fireAndForward("editable:disable")},onEditing:function(){this.fireAndForward("editable:editing")},onStartDrawing:function(){this.fireAndForward("editable:drawing:start")},onEndDrawing:function(){this.fireAndForward("editable:drawing:end")},onCancelDrawing:function(){this.fireAndForward("editable:drawing:cancel")},onCommitDrawing:function(t){this.fireAndForward("editable:drawing:commit",t)},onDrawingMouseDown:function(t){this.fireAndForward("editable:drawing:mousedown",t)},onDrawingMouseUp:function(t){this.fireAndForward("editable:drawing:mouseup",t)},startDrawing:function(){this._drawing||(this._drawing=u.Editable.FORWARD),this.tools.registerForDrawing(this),this.onStartDrawing()},commitDrawing:function(t){this.onCommitDrawing(t),this.endDrawing()},cancelDrawing:function(){u.Draggable._dragging=!1,this.onCancelDrawing(),this.endDrawing()},endDrawing:function(){this._drawing=!1,this.tools.unregisterForDrawing(this),this.onEndDrawing()},onDrawingClick:function(t){this.drawing()&&(u.Editable.makeCancellable(t),this.fireAndForward("editable:drawing:click",t),t._cancelled||(this.isConnected()||this.connect(t),this.processDrawingClick(t)))},isConnected:function(){return this.map.hasLayer(this.feature)},connect:function(){this.tools.connectCreatedToMap(this.feature),this.tools.editLayer.addLayer(this.editLayer)},onMove:function(t){this.fireAndForward("editable:drawing:move",t)},onDrawingMouseMove:function(t){this.onMove(t)},_getEvents:function(){return{dragstart:this.onDragStart,drag:this.onDrag,dragend:this.onDragEnd,remove:this.disable}},onDragStart:function(t){this.onEditing(),this.fireAndForward("editable:dragstart",t)},onDrag:function(t){this.onMove(t),this.fireAndForward("editable:drag",t)},onDragEnd:function(t){this.fireAndForward("editable:dragend",t)}}),u.Editable.MarkerEditor=u.Editable.BaseEditor.extend({onDrawingMouseMove:function(t){u.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,t),this._drawing&&this.feature.setLatLng(t.latlng)},processDrawingClick:function(t){this.fireAndForward("editable:drawing:clicked",t),this.commitDrawing(t)},connect:function(t){t&&(this.feature._latlng=t.latlng),u.Editable.BaseEditor.prototype.connect.call(this,t)}}),u.Editable.PathEditor=u.Editable.BaseEditor.extend({CLOSED:!1,MIN_VERTEX:2,addHooks:function(){return u.Editable.BaseEditor.prototype.addHooks.call(this),this.feature&&this.initVertexMarkers(),this},initVertexMarkers:function(t){if(this.enabled())if(t=t||this.getLatLngs(),a(t))this.addVertexMarkers(t);else for(var e=0;e<t.length;e++)this.initVertexMarkers(t[e])},getLatLngs:function(){return this.feature.getLatLngs()},reset:function(){this.editLayer.clearLayers(),this.initVertexMarkers()},addVertexMarker:function(t,e){return new this.tools.options.vertexMarkerClass(t,e,this)},onNewVertex:function(t){this.fireAndForward("editable:vertex:new",{latlng:t.latlng,vertex:t})},addVertexMarkers:function(t){for(var e=0;e<t.length;e++)this.addVertexMarker(t[e],t)},refreshVertexMarkers:function(t){t=t||this.getDefaultLatLngs();for(var e=0;e<t.length;e++)t[e].__vertex.update()},addMiddleMarker:function(t,e,n){return new this.tools.options.middleMarkerClass(t,e,n,this)},onVertexMarkerClick:function(t){var e,n;u.Editable.makeCancellable(t),this.fireAndForward("editable:vertex:click",t),t._cancelled||this.tools.drawing()&&this.tools._drawingEditor!==this||(e=t.vertex.getIndex(),t.originalEvent.ctrlKey?this.onVertexMarkerCtrlClick(t):t.originalEvent.altKey?this.onVertexMarkerAltClick(t):t.originalEvent.shiftKey?this.onVertexMarkerShiftClick(t):t.originalEvent.metaKey?this.onVertexMarkerMetaKeyClick(t):e===t.vertex.getLastIndex()&&this._drawing===u.Editable.FORWARD?e>=this.MIN_VERTEX-1&&(n=!0):0===e&&this._drawing===u.Editable.BACKWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX||0===e&&this._drawing===u.Editable.FORWARD&&this._drawnLatLngs.length>=this.MIN_VERTEX&&this.CLOSED?n=!0:this.onVertexRawMarkerClick(t),this.fireAndForward("editable:vertex:clicked",t),n&&this.commitDrawing(t))},onVertexRawMarkerClick:function(t){this.fireAndForward("editable:vertex:rawclick",t),t._cancelled||this.vertexCanBeDeleted(t.vertex)&&t.vertex.delete()},vertexCanBeDeleted:function(t){return t.latlngs.length>this.MIN_VERTEX},onVertexDeleted:function(t){this.fireAndForward("editable:vertex:deleted",t)},onVertexMarkerCtrlClick:function(t){this.fireAndForward("editable:vertex:ctrlclick",t)},onVertexMarkerShiftClick:function(t){this.fireAndForward("editable:vertex:shiftclick",t)},onVertexMarkerMetaKeyClick:function(t){this.fireAndForward("editable:vertex:metakeyclick",t)},onVertexMarkerAltClick:function(t){this.fireAndForward("editable:vertex:altclick",t)},onVertexMarkerContextMenu:function(t){this.fireAndForward("editable:vertex:contextmenu",t)},onVertexMarkerMouseDown:function(t){this.fireAndForward("editable:vertex:mousedown",t)},onVertexMarkerMouseOver:function(t){this.fireAndForward("editable:vertex:mouseover",t)},onVertexMarkerMouseOut:function(t){this.fireAndForward("editable:vertex:mouseout",t)},onMiddleMarkerMouseDown:function(t){this.fireAndForward("editable:middlemarker:mousedown",t)},onVertexMarkerDrag:function(t){this.onMove(t),this.feature._bounds&&this.extendBounds(t),this.fireAndForward("editable:vertex:drag",t)},onVertexMarkerDragStart:function(t){this.fireAndForward("editable:vertex:dragstart",t)},onVertexMarkerDragEnd:function(t){this.fireAndForward("editable:vertex:dragend",t)},setDrawnLatLngs:function(t){this._drawnLatLngs=t||this.getDefaultLatLngs()},startDrawing:function(){this._drawnLatLngs||this.setDrawnLatLngs(),u.Editable.BaseEditor.prototype.startDrawing.call(this)},startDrawingForward:function(){this.startDrawing()},endDrawing:function(){this.tools.detachForwardLineGuide(),this.tools.detachBackwardLineGuide(),this._drawnLatLngs&&this._drawnLatLngs.length<this.MIN_VERTEX&&this.deleteShape(this._drawnLatLngs),u.Editable.BaseEditor.prototype.endDrawing.call(this),delete this._drawnLatLngs},addLatLng:function(t){this._drawing===u.Editable.FORWARD?this._drawnLatLngs.push(t):this._drawnLatLngs.unshift(t),this.feature._bounds.extend(t);var e=this.addVertexMarker(t,this._drawnLatLngs);this.onNewVertex(e),this.refresh()},newPointForward:function(t){this.addLatLng(t),this.tools.attachForwardLineGuide(),this.tools.anchorForwardLineGuide(t)},newPointBackward:function(t){this.addLatLng(t),this.tools.anchorBackwardLineGuide(t)},push:function(t){if(!t)return console.error("L.Editable.PathEditor.push expect a valid latlng as parameter");this._drawing===u.Editable.FORWARD?this.newPointForward(t):this.newPointBackward(t)},removeLatLng:function(t){t.__vertex.delete(),this.refresh()},pop:function(){if(!(this._drawnLatLngs.length<=1)){var t=this._drawing===u.Editable.FORWARD?this._drawnLatLngs[this._drawnLatLngs.length-1]:this._drawnLatLngs[0];return this.removeLatLng(t),this._drawing===u.Editable.FORWARD?this.tools.anchorForwardLineGuide(this._drawnLatLngs[this._drawnLatLngs.length-1]):this.tools.anchorForwardLineGuide(this._drawnLatLngs[0]),t}},processDrawingClick:function(t){t.vertex&&t.vertex.editor===this||(this._drawing===u.Editable.FORWARD?this.newPointForward(t.latlng):this.newPointBackward(t.latlng),this.fireAndForward("editable:drawing:clicked",t))},onDrawingMouseMove:function(t){u.Editable.BaseEditor.prototype.onDrawingMouseMove.call(this,t),this._drawing&&(this.tools.moveForwardLineGuide(t.latlng),this.tools.moveBackwardLineGuide(t.latlng))},refresh:function(){this.feature.redraw(),this.onEditing()},newShape:function(t){var e=this.addNewEmptyShape();e&&(this.setDrawnLatLngs(e[0]||e),this.startDrawingForward(),this.fireAndForward("editable:shape:new",{shape:e}),t&&this.newPointForward(t))},deleteShape:function(t,e){var n={shape:t};if(u.Editable.makeCancellable(n),this.fireAndForward("editable:shape:delete",n),!n._cancelled)return t=this._deleteShape(t,e),this.ensureNotFlat&&this.ensureNotFlat(),this.feature.setLatLngs(this.getLatLngs()),this.refresh(),this.reset(),this.fireAndForward("editable:shape:deleted",{shape:t}),t},_deleteShape:function(t,e){if((e=e||this.getLatLngs()).length){function n(t,e){return t.splice(t.indexOf(e),1),t.length||i._deleteShape(t),e}var i=this;if(e===t)return e.splice(0,Number.MAX_VALUE);for(var r=0;r<e.length;r++){if(e[r]===t)return n(e,t);if(-1!==e[r].indexOf(t))return n(e[r],t)}}},deleteShapeAt:function(t){var e=this.feature.shapeAt(t);if(e)return this.deleteShape(e)},appendShape:function(t){this.insertShape(t)},prependShape:function(t){this.insertShape(t,0)},insertShape:function(t,e){this.ensureMulti(),t=this.formatShape(t),void 0===e&&(e=this.feature._latlngs.length),this.feature._latlngs.splice(e,0,t),this.feature.redraw(),this._enabled&&this.reset()},extendBounds:function(t){this.feature._bounds.extend(t.vertex.latlng)},onDragStart:function(t){this.editLayer.clearLayers(),u.Editable.BaseEditor.prototype.onDragStart.call(this,t)},onDragEnd:function(t){this.initVertexMarkers(),u.Editable.BaseEditor.prototype.onDragEnd.call(this,t)}}),u.Editable.PolylineEditor=u.Editable.PathEditor.extend({startDrawingBackward:function(){this._drawing=u.Editable.BACKWARD,this.startDrawing()},continueBackward:function(t){this.drawing()||(t=t||this.getDefaultLatLngs(),this.setDrawnLatLngs(t),0<t.length&&(this.tools.attachBackwardLineGuide(),this.tools.anchorBackwardLineGuide(t[0])),this.startDrawingBackward())},continueForward:function(t){this.drawing()||(t=t||this.getDefaultLatLngs(),this.setDrawnLatLngs(t),0<t.length&&(this.tools.attachForwardLineGuide(),this.tools.anchorForwardLineGuide(t[t.length-1])),this.startDrawingForward())},getDefaultLatLngs:function(t){return!(t=t||this.feature._latlngs).length||t[0]instanceof u.LatLng?t:this.getDefaultLatLngs(t[0])},ensureMulti:function(){this.feature._latlngs.length&&a(this.feature._latlngs)&&(this.feature._latlngs=[this.feature._latlngs])},addNewEmptyShape:function(){if(this.feature._latlngs.length){var t=[];return this.appendShape(t),t}return this.feature._latlngs},formatShape:function(t){return a(t)?t:t[0]?this.formatShape(t[0]):void 0},splitShape:function(t,e){var n,i,r;!e||e>=t.length-1||(this.ensureMulti(),-1!==(n=this.feature._latlngs.indexOf(t))&&(i=t.slice(0,e+1),(r=t.slice(e))[0]=u.latLng(r[0].lat,r[0].lng,r[0].alt),this.feature._latlngs.splice(n,1,i,r),this.refresh(),this.reset()))}}),u.Editable.PolygonEditor=u.Editable.PathEditor.extend({CLOSED:!0,MIN_VERTEX:3,newPointForward:function(t){u.Editable.PathEditor.prototype.newPointForward.call(this,t),this.tools.backwardLineGuide._latlngs.length||this.tools.anchorBackwardLineGuide(t),2===this._drawnLatLngs.length&&this.tools.attachBackwardLineGuide()},addNewEmptyHole:function(t){this.ensureNotFlat();var e=this.feature.shapeAt(t);if(e){var n=[];return e.push(n),n}},newHole:function(t){var e=this.addNewEmptyHole(t);e&&(this.setDrawnLatLngs(e),this.startDrawingForward(),t&&this.newPointForward(t))},addNewEmptyShape:function(){if(this.feature._latlngs.length&&this.feature._latlngs[0].length){var t=[];return this.appendShape(t),t}return this.feature._latlngs},ensureMulti:function(){this.feature._latlngs.length&&a(this.feature._latlngs[0])&&(this.feature._latlngs=[this.feature._latlngs])},ensureNotFlat:function(){this.feature._latlngs.length&&!a(this.feature._latlngs)||(this.feature._latlngs=[this.feature._latlngs])},vertexCanBeDeleted:function(t){var e=this.feature.parentShape(t.latlngs);return 0<u.Util.indexOf(e,t.latlngs)||u.Editable.PathEditor.prototype.vertexCanBeDeleted.call(this,t)},getDefaultLatLngs:function(){return this.feature._latlngs.length||this.feature._latlngs.push([]),this.feature._latlngs[0]},formatShape:function(t){return!a(t)||t[0]&&0===t[0].length?t:[t]}}),u.Editable.RectangleEditor=u.Editable.PathEditor.extend({CLOSED:!0,MIN_VERTEX:4,options:{skipMiddleMarkers:!0},extendBounds:function(t){var e=t.vertex.getIndex(),n=t.vertex.getNext(),i=t.vertex.getPrevious(),r=(e+2)%4,o=t.vertex.latlngs[r],s=new u.LatLngBounds(t.latlng,o);i.latlng.update([t.latlng.lat,o.lng]),n.latlng.update([o.lat,t.latlng.lng]),this.updateBounds(s),this.refreshVertexMarkers()},onDrawingMouseDown:function(t){u.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,t),this.connect();var e=this.getDefaultLatLngs();3===e.length&&e.push(t.latlng);var n=new u.LatLngBounds(t.latlng,t.latlng);this.updateBounds(n),this.updateLatLngs(n),this.refresh(),this.reset(),t.originalEvent._simulated=!1,this.map.dragging._draggable._onUp(t.originalEvent),e[3].__vertex.dragging._draggable._onDown(t.originalEvent)},onDrawingMouseUp:function(t){this.commitDrawing(t),t.originalEvent._simulated=!1,u.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,t)},onDrawingMouseMove:function(t){t.originalEvent._simulated=!1,u.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,t)},getDefaultLatLngs:function(t){return t||this.feature._latlngs[0]},updateBounds:function(t){this.feature._bounds=t},updateLatLngs:function(t){for(var e=this.getDefaultLatLngs(),n=this.feature._boundsToLatLngs(t),i=0;i<e.length;i++)e[i].update(n[i])}}),u.Editable.CircleEditor=u.Editable.PathEditor.extend({MIN_VERTEX:2,options:{skipMiddleMarkers:!0},initialize:function(t,e,n){u.Editable.PathEditor.prototype.initialize.call(this,t,e,n),this._resizeLatLng=this.computeResizeLatLng()},computeResizeLatLng:function(){var t=(this.feature._radius||this.feature._mRadius)*Math.cos(Math.PI/4),e=this.map.project(this.feature._latlng);return this.map.unproject([e.x+t,e.y-t])},updateResizeLatLng:function(){this._resizeLatLng.update(this.computeResizeLatLng()),this._resizeLatLng.__vertex.update()},getLatLngs:function(){return[this.feature._latlng,this._resizeLatLng]},getDefaultLatLngs:function(){return this.getLatLngs()},onVertexMarkerDrag:function(t){1===t.vertex.getIndex()?this.resize(t):this.updateResizeLatLng(t),u.Editable.PathEditor.prototype.onVertexMarkerDrag.call(this,t)},resize:function(t){var e=this.feature._latlng.distanceTo(t.latlng);this.feature.setRadius(e)},onDrawingMouseDown:function(t){u.Editable.PathEditor.prototype.onDrawingMouseDown.call(this,t),this._resizeLatLng.update(t.latlng),this.feature._latlng.update(t.latlng),this.connect(),t.originalEvent._simulated=!1,this.map.dragging._draggable._onUp(t.originalEvent),this._resizeLatLng.__vertex.dragging._draggable._onDown(t.originalEvent)},onDrawingMouseUp:function(t){this.commitDrawing(t),t.originalEvent._simulated=!1,u.Editable.PathEditor.prototype.onDrawingMouseUp.call(this,t)},onDrawingMouseMove:function(t){t.originalEvent._simulated=!1,u.Editable.PathEditor.prototype.onDrawingMouseMove.call(this,t)},onDrag:function(t){u.Editable.PathEditor.prototype.onDrag.call(this,t),this.feature.dragging.updateLatLng(this._resizeLatLng)}});function t(){this.on("add",this._onEditableAdd)}var e={createEditor:function(t){t=t||this._map;var e=(this.options.editOptions||{}).editTools||t.editTools;if(!e)throw Error("Unable to detect Editable instance.");return new(this.options.editorClass||this.getEditorClass(e))(t,this,this.options.editOptions)},enableEdit:function(t){return this.editor||this.createEditor(t),this.editor.enable(),this.editor},editEnabled:function(){return this.editor&&this.editor.enabled()},disableEdit:function(){this.editor&&(this.editor.disable(),delete this.editor)},toggleEdit:function(){this.editEnabled()?this.disableEdit():this.enableEdit()},_onEditableAdd:function(){this.editor&&this.enableEdit()}},n={getEditorClass:function(t){return t&&t.options.polylineEditorClass?t.options.polylineEditorClass:u.Editable.PolylineEditor},shapeAt:function(t,e){var n=null;if(!(e=e||this._latlngs).length)return n;if(a(e)&&this.isInLatLngs(t,e))n=e;else for(var i=0;i<e.length;i++)if(this.isInLatLngs(t,e[i]))return e[i];return n},isInLatLngs:function(t,e){if(!e)return!1;var n,i,r,o,s=[],a=this._clickTolerance();if(this._projectLatlngs(e,s,this._pxBounds),s=s[0],o=this._map.latLngToLayerPoint(t),!this._pxBounds.contains(o))return!1;for(n=1,r=s.length,i=0;n<r;i=n++)if(u.LineUtil.pointToSegmentDistance(o,s[i],s[n])<=a)return!0;return!1}},i={getEditorClass:function(t){return t&&t.options.polygonEditorClass?t.options.polygonEditorClass:u.Editable.PolygonEditor},shapeAt:function(t,e){var n=null;if(!(e=e||this._latlngs).length)return n;if(a(e)&&this.isInLatLngs(t,e))n=e;else if(a(e[0])&&this.isInLatLngs(t,e[0]))n=e;else for(var i=0;i<e.length;i++)if(this.isInLatLngs(t,e[i][0]))return e[i];return n},isInLatLngs:function(t,e){for(var n,i,r=!1,o=0,s=e.length,a=s-1;o<s;a=o++)n=e[o],i=e[a],n.lat>t.lat!=i.lat>t.lat&&t.lng<(i.lng-n.lng)*(t.lat-n.lat)/(i.lat-n.lat)+n.lng&&(r=!r);return r},parentShape:function(t,e){if(e=e||this._latlngs){var n=u.Util.indexOf(e,t);if(-1!==n)return e;for(var i=0;i<e.length;i++)if(-1!==(n=u.Util.indexOf(e[i],t)))return e[i]}}},r={getEditorClass:function(t){return t&&t.options.markerEditorClass?t.options.markerEditorClass:u.Editable.MarkerEditor}},o={getEditorClass:function(t){return t&&t.options.rectangleEditorClass?t.options.rectangleEditorClass:u.Editable.RectangleEditor}},s={getEditorClass:function(t){return t&&t.options.circleEditorClass?t.options.circleEditorClass:u.Editable.CircleEditor}},a=u.LineUtil.isFlat||u.LineUtil._flat||u.Polyline._flat;u.Polyline&&(u.Polyline.include(e),u.Polyline.include(n),u.Polyline.addInitHook(t)),u.Polygon&&(u.Polygon.include(e),u.Polygon.include(i)),u.Marker&&(u.Marker.include(e),u.Marker.include(r),u.Marker.addInitHook(t)),u.Rectangle&&(u.Rectangle.include(e),u.Rectangle.include(o)),u.Circle&&(u.Circle.include(e),u.Circle.include(s)),u.LatLng.prototype.update=function(t){t=u.latLng(t),this.lat=t.lat,this.lng=t.lng}},window),function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function r(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){var e,n,i;e=r,i=o[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return u(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var i="http://www.w3.org/1999/xhtml",o={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function s(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),o.hasOwnProperty(e)?{space:o[e],local:t}:t}function a(t){var e=s(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===i&&t.documentElement.namespaceURI===i?t.createElement(n):t.createElementNS(e,n)}})(e)}function l(){}function d(t){return null==t?l:function(){return this.querySelector(t)}}function c(){return[]}function v(t){return null==t?c:function(){return this.querySelectorAll(t)}}function f(t){return function(){return this.matches(t)}}function t(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function w(t,e,n,i,r,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new p(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function C(t,e,n,i,r,o,s){for(var a,u,l={},c=e.length,h=o.length,f=new Array(c),d=0;d<c;++d)(a=e[d])&&(f[d]=u="$"+s.call(a,a.__data__,d,e),u in l?r[d]=a:l[u]=a);for(d=0;d<h;++d)(a=l[u="$"+s.call(t,o[d],d,o)])?((i[d]=a).__data__=o[d],l[u]=null):n[d]=new p(t,o[d]);for(d=0;d<c;++d)(a=e[d])&&l[f[d]]===a&&(r[d]=a)}function g(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function m(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function N(t,e){return t.style.getPropertyValue(e)||m(t).getComputedStyle(t,null).getPropertyValue(e)}function y(t){return t.trim().split(/^|\s+/)}function _(t){return t.classList||new b(t)}function b(t){this._node=t,this._names=y(t.getAttribute("class")||"")}function x(t,e){for(var n=_(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function E(t,e){for(var n=_(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function S(){this.textContent=""}function M(){this.innerHTML=""}function T(){this.nextSibling&&this.parentNode.appendChild(this)}function I(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k(){return null}function P(){var t=this.parentNode;t&&t.removeChild(this)}function A(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},b.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var O={},R=null;function $(n,t,e){return n=F(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function F(n,i,r){return function(t){var e=R;R=t;try{n.call(this,this.__data__,i,r)}finally{R=e}}}function z(o){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,r=t.length;n<r;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function B(u,l,c){var h=O.hasOwnProperty(u.type)?$:F;return function(t,e,n){var i,r=this.__on,o=h(l,e,n);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===u.type&&i.name===u.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=c),void(i.value=l);this.addEventListener(u.type,o,c),i={type:u.type,name:u.name,value:l,listener:o,capture:c},r?r.push(i):this.__on=[i]}}function j(t,e,n,i){var r=R;t.sourceEvent=R,R=t;try{return e.apply(n,i)}finally{R=r}}function q(t,e,n){var i=m(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(O={mouseenter:"mouseover",mouseleave:"mouseout"}));var H=[null];function V(t,e){this._groups=t,this._parents=e}function U(){return new V([[document.documentElement]],H)}function G(t){return"string"==typeof t?new V([[document.querySelector(t)]],[document.documentElement]):new V([[t]],H)}function W(){for(var t,e=R;t=e.sourceEvent;)e=t;return e}function Y(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function X(t){var e=W();return e.changedTouches&&(e=e.changedTouches[0]),Y(t,e)}function Z(t){return"string"==typeof t?new V([document.querySelectorAll(t)],[document.documentElement]):new V([null==t?[]:t],H)}function K(t,e,n){arguments.length<3&&(n=e,e=W().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Y(t,i);return null}V.prototype=U.prototype={constructor:V,select:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],u=a.length,l=i[r]=new Array(u),c=0;c<u;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),l[c]=s);return new V(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=v(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new V(i,r)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new V(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,i=e?C:w,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,r),g=p.length,m=u[c]=new Array(g),v=a[c]=new Array(g);i(h,f,m,v,l[c]=new Array(d),p,e);for(var y,_,b=0,x=0;b<g;++b)if(y=m[b]){for(x<=b&&(x=b+1);!(_=v[x])&&++x<g;);y._next=_||null}}return(a=new V(a,r))._enter=u,a._exit=l,a},enter:function(){return new V(this._enter||this._groups.map(t),this._parents)},exit:function(){return new V(this._exit||this._groups.map(t),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit(),i="function"==typeof t?t(i):i.append(t+"");return null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;a<i;++a)s[a]=e[a];return new V(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];0<=--o;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||g;for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s,a=e[o],u=a.length,l=r[o]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(t)}return new V(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=s(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):N(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=y(t+"");if(arguments.length<2){for(var i=_(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?x:E)(this,t)}}:e?function(t){return function(){x(this,t)}}:function(t){return function(){E(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?S:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?M:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(T)},lower:function(){return this.each(I)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),i=null==e?k:"function"==typeof e?e:d(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(P)},clone:function(t){return this.select(t?D:A)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),s=o.length;if(!(arguments.length<2)){for(a=e?B:z,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return q(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return q(this,t,e)}})(t,e))}};var J={value:function(){}};function Q(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new tt(i)}function tt(t){this._=t}function et(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=J,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}tt.prototype=Q.prototype={constructor:tt,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)r[n]=et(r[n],t.name,e);else if(null==e)for(n in r)r[n]=et(r[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=function(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tt(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var nt,it,rt=0,ot=0,st=0,at=0,ut=0,lt=0,ct="object"==typeof performance&&performance.now?performance:Date,ht="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ft(){return ut||(ht(dt),ut=ct.now()+lt)}function dt(){ut=0}function pt(){this._call=this._time=this._next=null}function gt(t,e,n){var i=new pt;return i.restart(t,e,n),i}function mt(){ut=(at=ct.now())+lt,rt=ot=0;try{!function(){ft(),++rt;for(var t,e=nt;e;)0<=(t=ut-e._time)&&e._call.call(null,t),e=e._next;--rt}()}finally{rt=0,function(){for(var t,e,n=nt,i=1/0;n;)n=n._call?(i>n._time&&(i=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:nt=e);it=t,yt(i)}(),ut=0}}function vt(){var t=ct.now(),e=t-at;1e3<e&&(lt-=e,at=t)}function yt(t){rt||(ot=ot&&clearTimeout(ot),24<t-ut?(t<1/0&&(ot=setTimeout(mt,t-ct.now()-lt)),st=st&&clearInterval(st)):(st||(at=ct.now(),st=setInterval(vt,1e3)),rt=1,ht(mt)))}function _t(e,n,t){var i=new pt;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i}pt.prototype=gt.prototype={constructor:pt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ft():+n)+(null==e?0:+e),this._next||it===this||(it?it._next=this:nt=this,it=this),this._call=t,this._time=n,yt()},stop:function(){this._call&&(this._call=null,this._time=1/0,yt())}};var bt=Q("start","end","cancel","interrupt"),xt=[];function wt(t,e,n,i,r,o){var s,a,u,l,c,h=t.__transition;if(h){if(n in h)return}else t.__transition={};function f(t){var e,n,i,r;if(1!==u.state)return p();for(e in c)if((r=c[e]).name===u.name){if(3===r.state)return _t(f);4===r.state?(r.state=6,r.timer.stop(),r.on.call("interrupt",s,s.__data__,r.index,r.group),delete c[e]):+e<a&&(r.state=6,r.timer.stop(),r.on.call("cancel",s,s.__data__,r.index,r.group),delete c[e])}if(_t(function(){3===u.state&&(u.state=4,u.timer.restart(d,u.delay,u.time),d(t))}),u.state=2,u.on.call("start",s,s.__data__,u.index,u.group),2===u.state){for(u.state=3,l=new Array(i=u.tween.length),e=0,n=-1;e<i;++e)(r=u.tween[e].value.call(s,s.__data__,u.index,u.group))&&(l[++n]=r);l.length=n+1}}function d(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(p),u.state=5,1),n=-1,i=l.length;++n<i;)l[n].call(s,e);5===u.state&&(u.on.call("end",s,s.__data__,u.index,u.group),p())}function p(){for(var t in u.state=6,u.timer.stop(),delete c[a],c)return;delete s.__transition}s=t,a=n,u={name:e,index:i,group:r,on:bt,tween:xt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0},((c=s.__transition)[a]=u).timer=gt(function(t){u.state=1,u.timer.restart(f,u.delay,u.time),u.delay<=t&&f(t-u.delay)},0,u.time)}function Ct(t,e){var n=St(t,e);if(0<n.state)throw new Error("too late; already scheduled");return n}function Et(t,e){var n=St(t,e);if(3<n.state)throw new Error("too late; already running");return n}function St(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mt(t,e,n){(t.prototype=e.prototype=n).constructor=t}function Lt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Tt(){}var Nt="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,At=new RegExp("^rgb\\("+[Nt,Nt,Nt]+"\\)$"),Dt=new RegExp("^rgb\\("+[kt,kt,kt]+"\\)$"),Ot=new RegExp("^rgba\\("+[Nt,Nt,Nt,It]+"\\)$"),Rt=new RegExp("^rgba\\("+[kt,kt,kt,It]+"\\)$"),$t=new RegExp("^hsl\\("+[It,kt,kt]+"\\)$"),Ft=new RegExp("^hsla\\("+[It,kt,kt,It]+"\\)$"),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bt(){return this.rgb().formatHex()}function jt(){return this.rgb().formatRgb()}function qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ht(e):3===n?new Gt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Vt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Vt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=At.exec(t))?new Gt(e[1],e[2],e[3],1):(e=Dt.exec(t))?new Gt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ot.exec(t))?Vt(e[1],e[2],e[3],e[4]):(e=Rt.exec(t))?Vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$t.exec(t))?Zt(e[1],e[2]/100,e[3]/100,1):(e=Ft.exec(t))?Zt(e[1],e[2]/100,e[3]/100,e[4]):zt.hasOwnProperty(t)?Ht(zt[t]):"transparent"===t?new Gt(NaN,NaN,NaN,0):null}function Ht(t){return new Gt(t>>16&255,t>>8&255,255&t,1)}function Vt(t,e,n,i){return i<=0&&(t=e=n=NaN),new Gt(t,e,n,i)}function Ut(t,e,n,i){return 1===arguments.length?((r=t)instanceof Tt||(r=qt(r)),r?new Gt((r=r.rgb()).r,r.g,r.b,r.opacity):new Gt):new Gt(t,e,n,null==i?1:i);var r}function Gt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Wt(){return"#"+Xt(this.r)+Xt(this.g)+Xt(this.b)}function Yt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Xt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Zt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Jt(t,e,n,i)}function Kt(t){if(t instanceof Jt)return new Jt(t.h,t.s,t.l,t.opacity);if(t instanceof Tt||(t=qt(t)),!t)return new Jt;if(t instanceof Jt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=0<u&&u<1?0:s,new Jt(s,a,u,t.opacity)}function Jt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function te(t){return function(){return t}}function ee(o){return 1==(o=+o)?ne:function(t,e){return e-t?(n=t,i=e,r=o,n=Math.pow(n,r),i=Math.pow(i,r)-n,r=1/r,function(t){return Math.pow(n+t*i,r)}):te(isNaN(t)?e:t);var n,i,r}}function ne(t,e){var n,i,r=e-t;return r?(n=t,i=r,function(t){return n+t*i}):te(isNaN(t)?e:t)}Mt(Tt,qt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Bt,formatHex:Bt,formatHsl:function(){return Kt(this).formatHsl()},formatRgb:jt,toString:jt}),Mt(Gt,Ut,Lt(Tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wt,formatHex:Wt,formatRgb:Yt,toString:Yt})),Mt(Jt,function(t,e,n,i){return 1===arguments.length?Kt(t):new Jt(t,e,n,null==i?1:i)},Lt(Tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Gt(Qt(240<=t?t-240:120+t,r,i),Qt(t,r,i),Qt(t<120?240+t:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ie=function t(e){var s=ee(e);function n(e,t){var n=s((e=Ut(e)).r,(t=Ut(t)).r),i=s(e.g,t.g),r=s(e.b,t.b),o=ne(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function re(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(oe.source,"g");function ae(t,i){var e,n,r,o,s,a=oe.lastIndex=se.lastIndex=0,u=-1,l=[],c=[];for(t+="",i+="";(e=oe.exec(t))&&(n=se.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),l[u]?l[u]+=r:l[++u]=r),(e=e[0])===(n=n[0])?l[u]?l[u]+=n:l[++u]=n:(l[++u]=null,c.push({i:u,x:re(e,n)})),a=se.lastIndex;return a<i.length&&(r=i.slice(a),l[u]?l[u]+=r:l[++u]=r),l.length<2?c[0]?(s=c[0].x,function(t){return s(t)+""}):(o=i,function(){return o}):(i=c.length,function(t){for(var e,n=0;n<i;++n)l[(e=c[n]).i]=e.x(t);return l.join("")})}function ue(t,e){var n,i,r=typeof e;return null==e||"boolean"==r?te(e):("number"==r?re:"string"==r?(n=qt(e))?(e=n,ie):ae:e instanceof qt?ie:e instanceof Date?function(e,n){var i=new Date;return e=+e,n=+n,function(t){return i.setTime(e*(1-t)+n*t),i}}:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?function(t,e){for(var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),s=0;s<i;++s)r[s]=ue(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(t){for(s=0;s<i;++s)o[s]=r[s](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=ue(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}:re:function(e,n){n=n||[];var i,r=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(i=0;i<r;++i)o[i]=e[i]*(1-t)+n[i]*t;return o}}))(t,e)}function le(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var ce,he,fe,de,pe=180/Math.PI,ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function me(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*pe,skewX:Math.atan(u)*pe,scaleX:s,scaleY:a}}function ve(E,S,M,L){function T(t){return t.length?t.pop()+" ":""}return function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w=[],C=[];return t=E(t),e=E(e),g=t.translateX,m=t.translateY,v=e.translateX,y=e.translateY,_=w,b=C,g!==v||m!==y?(x=_.push("translate(",null,S,null,M),b.push({i:x-4,x:re(g,v)},{i:x-2,x:re(m,y)})):(v||y)&&_.push("translate("+v+S+y+M),f=t.rotate,d=e.rotate,p=w,f!==d?(180<f-d?d+=360:180<d-f&&(f+=360),C.push({i:p.push(T(p)+"rotate(",null,L)-2,x:re(f,d)})):d&&p.push(T(p)+"rotate("+d+L),l=t.skewX,c=e.skewX,h=w,l!==c?C.push({i:h.push(T(h)+"skewX(",null,L)-2,x:re(l,c)}):c&&h.push(T(h)+"skewX("+c+L),n=t.scaleX,i=t.scaleY,r=e.scaleX,o=e.scaleY,s=w,a=C,n!==r||i!==o?(u=s.push(T(s)+"scale(",null,",",null,")"),a.push({i:u-4,x:re(n,r)},{i:u-2,x:re(i,o)})):1===r&&1===o||s.push(T(s)+"scale("+r+","+o+")"),t=e=null,function(t){for(var e,n=-1,i=C.length;++n<i;)w[(e=C[n]).i]=e.x(t);return w.join("")}}}var ye=ve(function(t){return"none"===t?ge:(ce||(ce=document.createElement("DIV"),he=document.documentElement,fe=document.defaultView),ce.style.transform=t,t=fe.getComputedStyle(he.appendChild(ce),null).getPropertyValue("transform"),he.removeChild(ce),me(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),_e=ve(function(t){return null==t?ge:((de=de||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=de.transform.baseVal.consolidate())?me((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ge)},", ",")",")");function be(t,e,n){var i=t._id;return t.each(function(){var t=Et(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return St(t,i).value[e]}}function xe(t,e){var n;return("number"==typeof e?re:e instanceof qt?ie:(n=qt(e))?(e=n,ie):ae)(t,e)}function we(i,r){var o,s;function t(){var e,n,t=r.apply(this,arguments);return t!==s&&(o=(s=t)&&(e=i,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))})),o}return t._value=r,t}function Ce(i,r){var o,s;function t(){var e,n,t=r.apply(this,arguments);return t!==s&&(o=(s=t)&&(e=i,n=t,function(t){this.setAttribute(e,n.call(this,t))})),o}return t._value=r,t}function Ee(n,i,r){var o,s,a=(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?Ct:Et;return function(){var t=a(this,n),e=t.on;e!==o&&(s=(o=e).copy()).on(i,r),t.on=s}}var Se=U.prototype.constructor;function Me(t){return function(){this.style.removeProperty(t)}}function Le(r,o,s){var a,u;function t(){var e,n,i,t=o.apply(this,arguments);return t!==u&&(a=(u=t)&&(e=r,n=t,i=s,function(t){this.style.setProperty(e,n.call(this,t),i)})),a}return t._value=o,t}function Te(n){var i,r;function t(){var e,t=n.apply(this,arguments);return t!==r&&(i=(r=t)&&(e=t,function(t){this.textContent=e.call(this,t)})),i}return t._value=n,t}var Ne=0;function Ie(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ke(){return++Ne}var Pe=U.prototype;Ie.prototype={constructor:Ie,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=d(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,u,l=i[s],c=l.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,wt(h[f],e,n,f,h,St(a,n)));return new Ie(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=v(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=St(u,n),g=0,m=d.length;g<m;++g)(f=d[g])&&wt(f,e,n,g,d,p);o.push(d),s.push(u)}return new Ie(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Ie(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;a<i;++a)s[a]=e[a];return new Ie(s,this._parents,this._name,this._id)},selection:function(){return new Se(this._groups,this._parents)},transition:function(){for(var t,e=this._name,n=this._id,i=ke(),r=this._groups,o=r.length,s=0;s<o;++s)for(var a,u=r[s],l=u.length,c=0;c<l;++c){(a=u[c])&&wt(a,e,i,c,u,{time:(t=St(a,n)).time+t.delay+t.duration,delay:0,duration:t.duration,ease:t.ease})}return new Ie(r,this._parents,e,i)},call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:function(t,e){var n=this._id;return arguments.length<2?St(this.node(),n).on.on(t):this.each(Ee(n,t,e))},attr:function(t,e){var n=s(t),i="transform"===n?_e:xe;return this.attrTween(t,"function"==typeof e?(n.local?function(i,r,o){var s,a,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(i.space,i.local))===(e=n+"")?null:t===s&&e===a?u:(a=e,u=r(s=t,n));this.removeAttributeNS(i.space,i.local)}}:function(i,r,o){var s,a,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(i))===(e=n+"")?null:t===s&&e===a?u:(a=e,u=r(s=t,n));this.removeAttribute(i)}})(n,i,be(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,i){var r,o,s=i+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===s?null:t===r?o:o=n(r=t,i)}}:function(e,n,i){var r,o,s=i+"";return function(){var t=this.getAttribute(e);return t===s?null:t===r?o:o=n(r=t,i)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=s(t);return this.tween(n,(i.local?we:Ce)(i,e))},style:function(t,e,n){var i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E,S,M,L,T="transform"==(t+="")?ye:xe;return null==e?this.styleTween(t,(C=t,E=T,function(){var t=N(this,C),e=(this.style.removeProperty(C),N(this,C));return t===e?null:t===S&&e===M?L:L=E(S=t,M=e)})).on("end.style."+t,Me(t)):"function"==typeof e?this.styleTween(t,(y=T,_=be(this,"style."+(v=t),e),function(){var t=N(this,v),e=_(this),n=e+"";return null==e&&(this.style.removeProperty(v),n=e=N(this,v)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((l=this._id,m="end."+(g="style."+(c=t)),function(){var t=Et(this,l),e=t.on,n=null==t.value[g]?p=p||Me(c):void 0;e===h&&d===n||(f=(h=e).copy()).on(m,d=n),t.on=f})):this.styleTween(t,(i=t,r=T,u=(o=e)+"",function(){var t=N(this,i);return t===u?null:t===s?a:a=r(s=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,Le(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=be(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Te(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=St(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(r,o){var s,a;return function(){var t=Et(this,r),e=t.tween;if(e!==s)for(var n=0,i=(a=s=e).length;n<i;++n)if(a[n].name===o){(a=a.slice()).splice(n,1);break}t.tween=a}}:function(o,s,a){var u,l;if("function"!=typeof a)throw new Error;return function(){var t=Et(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:s,value:a},i=0,r=l.length;i<r;++i)if(l[i].name===s){l[i]=n;break}i===r&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ct(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ct(this,t).delay=e}})(e,t)):St(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Et(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Et(this,t).duration=e}})(e,t)):St(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Et(this,t).ease=e}}(e,t)):St(this.node(),e).ease},end:function(){var r,o,s=this,a=s._id,u=s.size();return new Promise(function(t,e){var n={value:e},i={value:function(){0==--u&&t()}};s.each(function(){var t=Et(this,a),e=t.on;e!==r&&((o=(r=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(i)),t.on=o})})}};var Ae={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function De(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function Oe(o){var n;return 1===o.length&&(n=o,o=function(t,e){return De(n(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=1+r:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=1+r}return n}}}U.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=2<n.state&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}(this,t)})},U.prototype.transition=function(t){var e,n;t=t instanceof Ie?(e=t._id,t._name):(e=ke(),(n=Ae).time=ft(),null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,l=0;l<u;++l)(s=a[l])&&wt(s,t,e,l,a,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ae.time=ft(),Ae;return n}(s,e));return new Ie(i,this._parents,t,e)},U.prototype.attrs=function(t){return("function"==typeof t?function(t,i){return t.each(function(){var t=i.apply(this,arguments),e=G(this);for(var n in t)e.attr(n,t[n])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,t)},U.prototype.styles=function(t,e){return("function"==typeof t?function(t,i,r){return t.each(function(){var t=i.apply(this,arguments),e=G(this);for(var n in t)e.style(n,t[n],r)})}:function(t,e,n){for(var i in e)t.style(i,e[i],n);return t})(this,t,null==e?"":e)},U.prototype.properties=function(t){return("function"==typeof t?function(t,i){return t.each(function(){var t=i.apply(this,arguments),e=G(this);for(var n in t)e.property(n,t[n])})}:function(t,e){for(var n in e)t.property(n,e[n]);return t})(this,t)};var Re=Oe(De).right,$e=Math.sqrt(50),Fe=Math.sqrt(10),ze=Math.sqrt(2);function Be(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return 0<=r?($e<=o?10:Fe<=o?5:ze<=o?2:1)*Math.pow(10,r):-Math.pow(10,-r)/($e<=o?10:Fe<=o?5:ze<=o?2:1)}function je(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n<=n)for(i=n;++o<r;)null!=(n=t[o])&&i<n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n<=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i<n&&(i=n);return i}function qe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function He(){}function Ve(t,e){var n=new He;if(t instanceof He)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}He.prototype=Ve.prototype={constructor:He,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ue=Array.prototype,Ge=Ue.map,We=Ue.slice,Ye={name:"implicit"};function Xe(t){return+t}var Ze=[0,1];function Ke(t){return t}function Je(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Qe(t){var e,n=t[0],i=t[t.length-1];return i<n&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function tn(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],o=r<i?(i=Je(r,i),n(s,o)):(i=Je(i,r),n(o,s));return function(t){return o(i(t))}}function en(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=Je(n[s],n[s+1]),o[s]=e(t[s],t[s+1]);return function(t){var e=Re(n,t,1,i)-1;return o[e](r[e](t))}}function nn(t,e){return h=c=Ze,f=ue,d=Ke,i.invert=function(t){return d(o((l=l||a(h,c.map(r),re))(t)))},i.domain=function(t){return arguments.length?(c=Ge.call(t,Xe),d===Ke||(d=Qe(c)),n()):c.slice()},i.range=function(t){return arguments.length?(h=We.call(t),n()):h.slice()},i.rangeRound=function(t){return h=We.call(t),f=le,n()},i.clamp=function(t){return arguments.length?(d=t?Qe(c):Ke,i):d!==Ke},i.interpolate=function(t){return arguments.length?(f=t,n()):f},i.unknown=function(t){return arguments.length?(s=t,i):s},function(t,e){return r=t,o=e,n()}(t,e);function n(){return a=2<Math.min(c.length,h.length)?en:tn,u=l=null,i}function i(t){return isNaN(t=+t)?s:(u=u||a(c.map(r),h,f))(r(d(t)))}var r,o,s,a,u,l,c,h,f,d}function rn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]}function on(t){return(t=rn(Math.abs(t)))?t[1]:NaN}var sn,an=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function un(t){if(!(e=an.exec(t)))throw new Error("invalid format: "+t);var e;return new ln({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ln(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function cn(t,e){var n=rn(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}un.prototype=ln.prototype,ln.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return cn(100*t,e)},r:cn,s:function(t,e){var n=rn(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(sn=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:s<o?i+new Array(o-s+1).join("0"):0<o?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+rn(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function fn(t){return t}var dn,pn,gn,mn,vn,yn,_n,bn,xn,wn,Cn,En,Sn,Mn,Ln,Tn=Array.prototype.map,Nn=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function In(a){var u=a.domain;return a.ticks=function(t){var e=u();return function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=Be(t,e,n))||!isFinite(s))return[];if(0<s)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},a.tickFormat=function(t,e){var n=u();return function(t,e,n,i){var r,o,s,a,u,l,c,h,f,d,p=(o=t,s=e,a=n,u=Math.abs(s-o)/Math.max(0,a),l=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),$e<=(c=u/l)?l*=10:Fe<=c?l*=5:ze<=c&&(l*=2),s<o?-l:l);switch((i=un(null==i?",f":i)).type){case"s":var g=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN((d=p,r=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(on(g)/3)))-on(Math.abs(d)))))||(i.precision=r),gn(i,g);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN((h=p,f=Math.max(Math.abs(t),Math.abs(e)),h=Math.abs(h),f=Math.abs(f)-h,r=Math.max(0,on(f)-on(h))+1))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=Math.max(0,-on(Math.abs(p))))||(i.precision=r-2*("%"===i.type))}return pn(i)}(n[0],n[n.length-1],null==t?10:t,e)},a.nice=function(t){null==t&&(t=10);var e,n=u(),i=0,r=n.length-1,o=n[i],s=n[r];return s<o&&(e=o,o=s,s=e,e=i,i=r,r=e),0<(e=Be(o,s,t))?e=Be(o=Math.floor(o/e)*e,s=Math.ceil(s/e)*e,t):e<0&&(e=Be(o=Math.ceil(o*e)/e,s=Math.floor(s*e)/e,t)),0<e?(n[i]=Math.floor(o/e)*e,n[r]=Math.ceil(s/e)*e,u(n)):e<0&&(n[i]=Math.ceil(o*e)/e,n[r]=Math.floor(s*e)/e,u(n)),a},a}function kn(){var e=nn(Ke,Ke);return e.copy=function(){return t=e,kn().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},qe.apply(e,arguments),In(e)}function Pn(){R.stopImmediatePropagation()}function An(){R.preventDefault(),R.stopImmediatePropagation()}function Dn(t){return function(){return t}}function On(t,e,n,i,r,o,s,a,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=l}function Rn(){return!R.ctrlKey&&!R.button}function $n(){return this.parentNode}function Fn(t){return null==t?{x:R.x,y:R.y}:t}function zn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bn(){var r,o,s,a,u=Rn,l=$n,e=Fn,n=zn,p={},i=Q("start","drag","end"),g=0,c=0;function m(t){t.on("mousedown.drag",h).filter(n).on("touchstart.drag",v).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){var t,e,n,i;a||!u.apply(this,arguments)||(t=b("mouse",l.apply(this,arguments),X,this,arguments))&&(G(R.view).on("mousemove.drag",f,!0).on("mouseup.drag",d,!0),e=R.view,n=e.document.documentElement,i=G(e).on("dragstart.drag",An,!0),"onselectstart"in n?i.on("selectstart.drag",An,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none"),Pn(),s=!1,r=R.clientX,o=R.clientY,t("start"))}function f(){var t,e;An(),s||(t=R.clientX-r,e=R.clientY-o,s=c<t*t+e*e),p.mouse("drag")}function d(){var t,e,n,i;G(R.view).on("mousemove.drag mouseup.drag",null),t=R.view,e=s,n=t.document.documentElement,i=G(t).on("dragstart.drag",null),e&&(i.on("click.drag",An,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect),An(),p.mouse("end")}function v(){if(u.apply(this,arguments))for(var t,e=R.changedTouches,n=l.apply(this,arguments),i=e.length,r=0;r<i;++r)(t=b(e[r].identifier,n,K,this,arguments))&&(Pn(),t("start"))}function y(){for(var t,e=R.changedTouches,n=e.length,i=0;i<n;++i)(t=p[e[i].identifier])&&(An(),t("drag"))}function _(){var t,e,n=R.changedTouches,i=n.length;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),t=0;t<i;++t)(e=p[n[t].identifier])&&(Pn(),e("end"))}function b(r,o,s,a,u){var l,c,h,f=s(o,r),d=i.copy();if(j(new On(m,"beforestart",l,r,g,f[0],f[1],0,0,d),function(){return null!=(R.subject=l=e.apply(a,u))&&(c=l.x-f[0]||0,h=l.y-f[1]||0,!0)}))return function t(e){var n,i=f;switch(e){case"start":p[r]=t,n=g++;break;case"end":delete p[r],--g;case"drag":f=s(o,r),n=g}j(new On(m,e,l,r,n,f[0]+c,f[1]+h,f[0]-i[0],f[1]-i[1],d),d.apply,d,[e,a,u])}}return m.filter=function(t){return arguments.length?(u="function"==typeof t?t:Dn(!!t),m):u},m.container=function(t){return arguments.length?(l="function"==typeof t?t:Dn(t),m):l},m.subject=function(t){return arguments.length?(e="function"==typeof t?t:Dn(t),m):e},m.touchable=function(t){return arguments.length?(n="function"==typeof t?t:Dn(!!t),m):n},m.on=function(){var t=i.on.apply(i,arguments);return t===i?m:t},m.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,m):Math.sqrt(c)},m}function jn(t){var l=(t=un(t)).fill,c=t.align,h=t.sign,e=t.symbol,f=t.zero,d=t.width,p=t.comma,g=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):hn[v]||(void 0===g&&(g=12),m=!0,v="g"),(f||"0"===l&&"="===c)&&(f=!0,l="0",c="=");var y="$"===e?xn:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===e?wn:/[%p]/.test(v)?Sn:"",b=hn[v],x=/[defgprs%]/.test(v);function n(t){var e,n,i,r=y,o=_;if("c"===v)o=b(t)+o,t="";else{var s=(t=+t)<0||1/t<0;if(t=isNaN(t)?Ln:b(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;0<r&&(r=0)}return 0<r?t.slice(0,r)+t.slice(e+1):t}(t)),s&&0==+t&&"+"!==h&&(s=!1),r=(s?"("===h?h:Mn:"-"===h||"("===h?"":h)+r,o=("s"===v?Nn[8+sn/3]:"")+o+(s&&"("===h?")":""),x)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){o=(46===i?Cn+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!f&&(t=bn(t,1/0));var a=r.length+t.length+o.length,u=a<d?new Array(d-a+1).join(l):"";switch(p&&f&&(t=bn(u+t,u.length?d-o.length:1/0),u=""),c){case"<":t=r+t+o+u;break;case"=":t=r+u+t+o;break;case"^":t=u.slice(0,a=u.length>>1)+r+t+o+u.slice(a);break;default:t=u+r+t+o}return En(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}bn=void 0===(mn={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}).grouping||void 0===mn.thousands?fn:(vn=Tn.call(mn.grouping,Number),yn=mn.thousands+"",function(t,e){for(var n=t.length,i=[],r=0,o=vn[0],s=0;0<n&&0<o&&(e<s+o+1&&(o=Math.max(1,e-s)),i.push(t.substring(n-=o,n+o)),!((s+=o+1)>e));)o=vn[r=(r+1)%vn.length];return i.reverse().join(yn)}),xn=void 0===mn.currency?"":mn.currency[0]+"",wn=void 0===mn.currency?"":mn.currency[1]+"",Cn=void 0===mn.decimal?".":mn.decimal+"",En=void 0===mn.numerals?fn:(_n=Tn.call(mn.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return _n[+t]})}),Sn=void 0===mn.percent?"%":mn.percent+"",Mn=void 0===mn.minus?"-":mn.minus+"",Ln=void 0===mn.nan?"NaN":mn.nan+"",pn=(dn={format:jn,formatPrefix:function(t,e){var n=jn(((t=un(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(on(e)/3))),r=Math.pow(10,-i),o=Nn[8+i/3];return function(t){return n(r*t)+o}}}).format,gn=dn.formatPrefix,On.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var qn=Array.prototype.slice;function Hn(t){return t}function Vn(t){return"translate("+(t+.5)+",0)"}function Un(t){return"translate(0,"+(t+.5)+")"}function Gn(){return!this.__axis}function Wn(g,m){var v=[],y=null,_=null,b=6,x=6,w=3,C=1===g||4===g?-1:1,E=4===g||2===g?"x":"y",S=1===g||3===g?Vn:Un;function e(t){var e=null==y?m.ticks?m.ticks.apply(m,v):m.domain():y,n=null==_?m.tickFormat?m.tickFormat.apply(m,v):Hn:_,i=Math.max(b,0)+w,r=m.range(),o=+r[0]+.5,s=+r[r.length-1]+.5,a=(m.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(m.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=(p=u.selectAll(".tick").data(e,m).order()).exit(),h=p.enter().append("g").attr("class","tick"),f=p.select("line"),d=p.select("text"),l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),p=p.merge(h),f=f.merge(h.append("line").attr("stroke","currentColor").attr(E+"2",C*b)),d=d.merge(h.append("text").attr("fill","currentColor").attr(E,C*i).attr("dy",1===g?"0em":3===g?"0.71em":"0.32em"));t!==u&&(l=l.transition(t),p=p.transition(t),f=f.transition(t),d=d.transition(t),c=c.transition(t).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=a(t))?S(t):this.getAttribute("transform")}),h.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return S(e&&isFinite(e=e(t))?e:a(t))})),c.remove(),l.attr("d",4===g||2==g?x?"M"+C*x+","+o+"H0.5V"+s+"H"+C*x:"M0.5,"+o+"V"+s:x?"M"+o+","+C*x+"V0.5H"+s+"V"+C*x:"M"+o+",0.5H"+s),p.attr("opacity",1).attr("transform",function(t){return S(a(t))}),f.attr(E+"2",C*b),d.attr(E,C*i).text(n),u.filter(Gn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===g?"start":4===g?"end":"middle"),u.each(function(){this.__axis=a})}return e.scale=function(t){return arguments.length?(m=t,e):m},e.ticks=function(){return v=qn.call(arguments),e},e.tickArguments=function(t){return arguments.length?(v=null==t?[]:qn.call(t),e):v.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:qn.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function Yn(t){return Wn(3,t)}function Xn(t){return Wn(4,t)}var Zn=Math.PI,Kn=2*Zn,Jn=Kn-1e-6;function Qn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ti(){return new Qn}function ei(t){return function(){return t}}Qn.prototype=ti.prototype={constructor:Qn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o,s,a,u,l,c,h,f,d,p=this._x1,g=this._y1,m=n-t,v=i-e,y=p-t,_=g-e,b=y*y+_*_;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):1e-6<b&&(1e-6<Math.abs(_*m-v*y)&&r?(a=m*m+v*v,u=(o=n-p)*o+(s=i-g)*s,l=Math.sqrt(a),c=Math.sqrt(b),f=(h=r*Math.tan((Zn-Math.acos((a+b-u)/(2*l*c)))/2))/c,d=h/l,1e-6<Math.abs(f-1)&&(this._+="L"+(t+f*y)+","+(e+f*_)),this._+="A"+r+","+r+",0,0,"+ +(y*s<_*o)+","+(this._x1=t+d*m)+","+(this._y1=e+d*v)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),u=t+s,l=e+a,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-l))&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Kn+Kn),Jn<h?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):1e-6<h&&(this._+="A"+n+","+n+",0,"+ +(Zn<=h)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var ni=Math.PI,ii=2*ni;function ri(t){this._context=t}function oi(t){return new ri(t)}function si(t){return t[0]}function ai(t){return t[1]}function ui(){var s=si,a=ai,u=ei(!0),l=null,c=oi,h=null;function e(t){var e,n,i,r=t.length,o=!1;for(null==l&&(h=c(i=ti())),e=0;e<=r;++e)!(e<r&&u(n=t[e],e,t))===o&&((o=!o)?h.lineStart():h.lineEnd()),o&&h.point(+s(n,e,t),+a(n,e,t));if(i)return h=null,i+""||null}return e.x=function(t){return arguments.length?(s="function"==typeof t?t:ei(+t),e):s},e.y=function(t){return arguments.length?(a="function"==typeof t?t:ei(+t),e):a},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:ei(!!t),e):u},e.curve=function(t){return arguments.length?(c=t,null!=l&&(h=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=h=null:h=c(l=t),e):l},e}ri.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var li={draw:function(t,e){var n=Math.sqrt(e/ni);t.moveTo(n,0),t.arc(0,0,n,0,ii)}},ci=Math.sqrt(3),hi={draw:function(t,e){var n=-Math.sqrt(e/(3*ci));t.moveTo(0,2*n),t.lineTo(-ci*n,-n),t.lineTo(ci*n,-n),t.closePath()}};function fi(){var e=ei(li),n=ei(64),i=null;function r(){var t;if(i=i||(t=ti()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:ei(t),r):e},r.size=function(t){return arguments.length?(n="function"==typeof t?t:ei(+t),r):n},r.context=function(t){return arguments.length?(i=null==t?null:t,r):i},r}function di(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pi(t){this._context=t}function gi(t){return new pi(t)}function mi(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}pi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:di(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:di(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var vi,yi,_i=mi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),bi=mi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xi=mi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),wi=mi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ci=mi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ei=mi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");vi=function(_){return _.Control.Heightgraph=_.Control.extend({options:{position:"bottomright",width:800,height:280,margins:{top:10,right:30,bottom:55,left:50},mappings:void 0,expand:!0,expandControls:!0,translation:{},expandCallback:void 0,xTicks:void 0,yTicks:void 0,highlightStyle:void 0,graphStyle:void 0},_defaultTranslation:{distance:"Distance",elevation:"Elevation",segment_length:"Segment length",type:"Type",legend:"Legend"},_init_options:function(){this._margin=this.options.margins,this._width=this.options.width,this._height=this.options.height,this._mappings=this.options.mappings,this._svgWidth=this._width-this._margin.left-this._margin.right,this._svgHeight=this._height-this._margin.top-this._margin.bottom,this._highlightStyle=this.options.highlightStyle||{color:"red"},this._graphStyle=this.options.graphStyle||{},this._dragCache={}},onAdd:function(t){var e,n=this._container=_.DomUtil.create("div","heightgraph");return _.DomEvent.disableClickPropagation(n),this.options.expandControls&&(e=this._button=_.DomUtil.create("div","heightgraph-toggle",n),_.DomUtil.create("a","heightgraph-toggle-icon",e),this._closeButton=_.DomUtil.create("a","heightgraph-close-icon",n)),this._showState=!1,this._selectedAttributeIdx=0,this._initToggle(),this._init_options(),this._svg=G(this._container).append("svg").attr("class","heightgraph-container").attr("width",this._width).attr("height",this._height).append("g").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),this.options.expand&&this._expand(),n},onRemove:function(t){this._removeMarkedSegmentsOnMap(),this._container=null,this._svg=void 0},addData:function(t){this._addData(t)},_addData:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];void 0!==this._svg&&this._svg.selectAll("*").remove(),this._selectedAttributeIdx=e?this._selectedAttributeIdx:0,this._removeMarkedSegmentsOnMap(),this._resetDrag(!0),this._data=t,this._init_options(),this._prepareData(),this._calculateElevationBounds(),this._appendScales(),this._appendGrid(),0!==Object.keys(t).length&&this._createChart(this._selectedAttributeIdx),this._createSelectionBox()},resize:function(t){t.width&&(this.options.width=t.width),t.height&&(this.options.height=t.height),G(this._container).selectAll("svg").attr("width",this.options.width).attr("height",this.options.height),this._addData(this._data,!0)},_initToggle:function(){_.Browser.touch?_.DomEvent.on(this._container,"click",_.DomEvent.stopPropagation):_.DomEvent.disableClickPropagation(this._container),this.options.expandControls&&(_.DomEvent.on(this._button,"click",this._expand,this),_.DomEvent.on(this._closeButton,"click",this._expand,this))},_dragHandler:function(){event.preventDefault(),event.stopPropagation(),this._gotDragged=!0,this._drawDragRectangle()},_drawDragRectangle:function(){var t,e,n,i;this._dragStartCoords&&(t=this._dragCurrentCoords=this._dragCache.end=X(this._background.node()),e=Math.min(this._dragStartCoords[0],t[0]),n=Math.max(this._dragStartCoords[0],t[0]),this._dragRectangle||this._dragRectangleG?this._dragRectangle.attr("width",n-e).attr("x",e):(i=G(this._container).select("svg").select("g"),this._dragRectangleG=i.append("g"),this._dragRectangle=this._dragRectangleG.append("rect").attr("width",n-e).attr("height",this._svgHeight).attr("x",e).attr("class","mouse-drag").style("fill","grey").style("opacity",.5).style("pointer-events","none")))},_resetDrag:function(t){var e;!this._dragRectangleG||(this._dragRectangleG.remove(),this._dragRectangleG=null,!(this._dragRectangle=null)===t)||(e=this._calculateFullExtent(this._areasFlattended))&&this._map.fitBounds(e)},_dragEndHandler:function(){if(!this._dragStartCoords||!this._gotDragged)return this._dragStartCoords=null,this._gotDragged=!1,void this._resetDrag();var t=this._findItemForX(this._dragStartCoords[0]),e=this._findItemForX(this._dragCurrentCoords[0]);this._fitSection(t,e),this._dragStartCoords=null,this._gotDragged=!1},_dragStartHandler:function(){event.preventDefault(),event.stopPropagation(),this._gotDragged=!1,this._dragStartCoords=this._dragCache.start=X(this._background.node())},_calculateFullExtent:function(t){if(!t||t.length<1)return null;var e=new _.latLngBounds(t[0].latlng,t[0].latlng);return t.forEach(function(t){e.contains(t.latlng)||e.extend(t.latlng)}),e},_fitSection:function(t,e){var n,i=Math.min(t,e),r=Math.max(t,e);i!==r?n=this._calculateFullExtent(this._areasFlattended.slice(i,r+1)):0<this._areasFlattended.length&&(n=[this._areasFlattended[i].latlng,this._areasFlattended[r].latlng]),n&&this._map.fitBounds(n)},_expand:function(){!0!==this.options.expandControls&&(this._showState=!1),this._showState?(G(this._button).style("display","block"),G(this._container).selectAll("svg").style("display","none"),G(this._closeButton).style("display","none")):(G(this._button).style("display","none"),G(this._container).selectAll("svg").style("display","block"),G(this._closeButton).style("display","block")),this._showState=!this._showState,"function"==typeof this.options.expandCallback&&this.options.expandCallback(this._showState)},_removeChart:function(){void 0!==this._svg&&(this._svg.selectAll("path.area").remove(),this._svg.selectAll("path.border-top").remove(),this._svg.selectAll(".legend").remove(),this._svg.selectAll(".lineSelection").remove(),this._svg.selectAll(".horizontalLine").remove(),this._svg.selectAll(".horizontalLineText").remove())},_randomNumber:function(t){return Math.round(Math.random()*t)},_d3ColorCategorical:[bi,xi,Ci,_i,Ei,wi],_prepareData:function(){this._coordinates=[],this._elevations=[],this._cumulatedDistances=[],this._cumulatedDistances.push(0),this._categories=[];var t,e,n=this._data;void 0===this._mappings&&(t=this._randomNumber(this._d3ColorCategorical.length-1),e=function t(){var o=Ve(),s=[],i=[],r=Ye;function a(t){var e=t+"",n=o.get(e);if(!n){if(r!==Ye)return r;o.set(e,n=s.push(t))}return i[(n-1)%i.length]}return a.domain=function(t){if(!arguments.length)return s.slice();s=[],o=Ve();for(var e,n,i=-1,r=t.length;++i<r;)o.has(n=(e=t[i])+"")||o.set(n,s.push(e));return a},a.range=function(t){return arguments.length?(i=We.call(t),a):i.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return t(s,i).unknown(r)},qe.apply(a,arguments),a}(this._d3ColorCategorical[t]));for(var i=0;i<n.length;i++){var r=0;this._categories[i]={info:{id:i,text:n[i].properties.summary},distances:[],attributes:[],geometries:[],legend:{}};for(var o=void 0,s=0,a={},o=0;o<n[i].features.length;o++){var u=void 0,l=void 0,c=void 0,h=[],f=n[i].features[o].geometry.coordinates.length,d=n[i].features[o].properties.attributeType,p=void 0,g=void 0;void 0===this._mappings?d in a?g=a[p=d]:(p=d,g=e(o),a[d]=g):(p=this._mappings[n[i].properties.summary][d].text,g=this._mappings[n[i].properties.summary][d].color);var m={type:d,text:p,color:g};this._categories[i].attributes.push(m),d in this._categories[i].legend||(this._categories[i].legend[d]=m);for(var v=0;v<f;v++){l=new _.LatLng(n[i].features[o].geometry.coordinates[v][1],n[i].features[o].geometry.coordinates[v][0]),u=n[i].features[o].geometry.coordinates[v][2],v<f-1?(c=new _.LatLng(n[i].features[o].geometry.coordinates[v+1][1],n[i].features[o].geometry.coordinates[v+1][0]),r+=l.distanceTo(c)/1e3,0===i&&(this._elevations.push(u),this._coordinates.push(l),this._cumulatedDistances.push(r)),s+=1):v===f-1&&o===n[i].features.length-1&&(0===i&&(this._elevations.push(u),this._coordinates.push(c)),s+=1);var y=v===f-1&&o<n[i].features.length-1?this._cumulatedDistances[s]:this._cumulatedDistances[s-1];h.push({altitude:u,position:y,x:l.lng,y:l.lat,latlng:l,type:p,areaIdx:o})}this._categories[i].distances.push(r),this._categories[i].geometries.push(h)}i===n.length-1&&(this._totalDistance=r)}},_calculateElevationBounds:function(){var t=je(this._elevations),e=function(t){var e,n,i=t.length,r=-1;for(1;++r<i;)if(null!=(e=t[r])&&e<=e)for(n=e;++r<i;)null!=(e=t[r])&&e<n&&(n=e);return n}(this._elevations),n=t-e;this._elevationBounds={min:n<10?e-10:e-.1*n,max:n<10?t+10:t+.1*n}},_showMapMarker:function(t,e,n){var i,r=this._map.latLngToLayerPoint(t),o=r.y-75;this._mouseHeightFocus||(i=G(".leaflet-overlay-pane svg").append("g"),this._mouseHeightFocus=i.append("svg:line").attr("class","height-focus line").attr("x2","0").attr("y2","0").attr("x1","0").attr("y1","0"),this._mouseHeightFocusLabel=i.append("g").attr("class","height-focus label"),this._mouseHeightFocusLabelRect=this._mouseHeightFocusLabel.append("rect").attr("class","bBox"),this._mouseHeightFocusLabelTextElev=this._mouseHeightFocusLabel.append("text").attr("class","tspan"),this._mouseHeightFocusLabelTextType=this._mouseHeightFocusLabel.append("text").attr("class","tspan"),(this._pointG=i.append("g").attr("class","height-focus circle")).append("svg:circle").attr("r",5).attr("cx",0).attr("cy",0).attr("class","height-focus circle-lower")),this._mouseHeightFocusLabel.style("display","block"),this._mouseHeightFocus.attr("x1",r.x).attr("x2",r.x).attr("y1",r.y).attr("y2",o).style("display","block"),this._pointG.attr("transform","translate("+r.x+","+r.y+")").style("display","block"),this._mouseHeightFocusLabelRect.attr("x",r.x+3).attr("y",o).attr("class","bBox"),this._mouseHeightFocusLabelTextElev.attr("x",r.x+5).attr("y",12+o).text(e+" m").attr("class","tspan mouse-height-box-text"),this._mouseHeightFocusLabelTextType.attr("x",r.x+5).attr("y",24+o).text(n).attr("class","tspan mouse-height-box-text");var s=this._dynamicBoxSize("text.tspan")[1],a=""===n?18:30;Z(".bBox").attr("width",s+10).attr("height",a)},_createChart:function(t){var e=0===this._categories.length?[]:this._categories[t].geometries;this._areasFlattended=[].concat.apply([],e);for(var n=0;n<e.length;n++)this._appendAreas(e[n],t,n);this._createFocus(),this._appendBackground(),this._createBorderTopLine(),this._createLegend(),this._createHorizontalLine()},_createFocus:function(){var t=this._elevationBounds.min;this._focus&&(this._focus.remove(),this._focusLineGroup.remove()),this._focus=this._svg.append("g").attr("class","focusbox"),this._focusRect=this._focus.append("rect").attr("x",3).attr("y",-this._y(t)).attr("display","none"),this._focusDistance=this._focus.append("text").attr("x",7).attr("y",15-this._y(t)).attr("id","heightgraph.distance").text(this._getTranslation("distance")+":"),this._focusHeight=this._focus.append("text").attr("x",7).attr("y",30-this._y(t)).attr("id","heightgraph.height").text(this._getTranslation("elevation")+":"),this._focusBlockDistance=this._focus.append("text").attr("x",7).attr("y",45-this._y(t)).attr("id","heightgraph.blockdistance").text(this._getTranslation("segment_length")+":"),this._focusType=this._focus.append("text").attr("x",7).attr("y",60-this._y(t)).attr("id","heightgraph.type").text(this._getTranslation("type")+":"),this._areaTspan=this._focusBlockDistance.append("tspan").attr("class","tspan"),this._typeTspan=this._focusType.append("tspan").attr("class","tspan");var e=this._dynamicBoxSize(".focusbox text")[0];Z(".focusbox rect").attr("height",15*e+7.5).attr("display","block"),this._focusLineGroup=this._svg.append("g").attr("class","focusLine"),this._focusLine=this._focusLineGroup.append("line").attr("y1",0).attr("y2",this._y(this._elevationBounds.min)),this._distTspan=this._focusDistance.append("tspan").attr("class","tspan"),this._altTspan=this._focusHeight.append("tspan").attr("class","tspan")},_createHorizontalLine:function(){var i=this;this._horizontalLine=this._svg.append("line").attr("class","horizontalLine").attr("x1",0).attr("x2",this._width-this._margin.left-this._margin.right).attr("y1",this._y(this._elevationBounds.min)).attr("y2",this._y(this._elevationBounds.min)).style("stroke","black"),this._elevationValueText=this._svg.append("text").attr("class","horizontalLineText").attr("x",this._width-this._margin.left-this._margin.right-20).attr("y",this._y(this._elevationBounds.min)-10).attr("fill","black");var t=[{x:this._width-this._margin.left-this._margin.right+7,y:this._y(this._elevationBounds.min),color:"black",type:hi,angle:-90,size:100}];this._svg.selectAll(".horizontal-symbol").data(t).enter().append("path").attr("class","lineSelection").attr("d",fi().type(function(t){return t.type}).size(function(t){return t.size})).attr("transform",function(t){return"translate("+t.x+","+t.y+") rotate("+t.angle+")"}).attr("id",function(t){return t.id}).style("fill",function(t){return t.color}).call(Bn().on("start",function(t){G(this).raise().classed("active",!0),G(".horizontalLine").raise().classed("active",!0)}).on("drag",function(t){var e=i._svgHeight,n=X(i._container)[1]-10;G(this).attr("transform",function(t){return"translate("+t.x+","+(n<0?0:e<n?e:n)+") rotate("+t.angle+")"}),G(".horizontalLine").attr("y1",n<0?0:e<n?e:n).attr("y2",n<0?0:e<n?e:n),i._highlightedCoords=e<=n?[]:i._findCoordsForY(n),G(".horizontalLineText").attr("y",n<=10?0:e<n?e-10:n-10).text(pn(".0f")(i._y.invert(n<0?0:e<n?e:n))+" m"),i._removeMarkedSegmentsOnMap(),i._markSegmentsOnMap(i._highlightedCoords)}).on("end",function(t){G(this).classed("active",!1),G(".horizontalLine").classed("active",!1),i._removeMarkedSegmentsOnMap(),i._markSegmentsOnMap(i._highlightedCoords)}))},_markSegmentsOnMap:function(t){if(t)if(1<t.length){this._markedSegments=_.featureGroup();var e,n=h(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;_.polyline(i,r(r({},this._highlightStyle),{interactive:!1})).addTo(this._markedSegments)}}catch(t){n.e(t)}finally{n.f()}this._markedSegments.addTo(this._map).bringToFront()}else this._markedSegments=_.polyline(t,this._highlightStyle).addTo(this._map)},_removeMarkedSegmentsOnMap:function(){void 0!==this._markedSegments&&this._map.removeLayer(this._markedSegments)},_appendScales:function(){var t=Boolean(this._totalDistance<=10);this._x=kn().range([0,this._svgWidth]),this._y=kn().range([this._svgHeight,0]),this._x.domain([0,this._totalDistance]),this._y.domain([this._elevationBounds.min,this._elevationBounds.max]),this._xAxis=Yn().scale(this._x),!0===t?this._xAxis.tickFormat(function(t){return pn(".2f")(t)+" km"}):this._xAxis.tickFormat(function(t){return pn(".0f")(t)+" km"}),this._xAxis.ticks(this.options.xTicks?Math.pow(2,this.options.xTicks):Math.round(this._svgWidth/75),"s"),this._yAxis=Xn().scale(this._y).tickFormat(function(t){return t+" m"}),this._yAxis.ticks(this.options.yTicks?Math.pow(2,this.options.yTicks):Math.round(this._svgHeight/30),"s")},_appendBackground:function(){var t=this._background=G(this._container).select("svg").select("g").append("rect").attr("width",this._svgWidth).attr("height",this._svgHeight).style("fill","none").style("stroke","none").style("pointer-events","all").on("mousemove.focusbox",this._mousemoveHandler.bind(this)).on("mouseout.focusbox",this._mouseoutHandler.bind(this));_.Browser.android?(t.on("touchstart.drag",this._dragHandler.bind(this)).on("touchstart.drag",this._dragStartHandler.bind(this)).on("touchstart.focusbox",this._mousemoveHandler.bind(this)),_.DomEvent.on(this._container,"touchend",this._dragEndHandler,this)):(t.on("mousemove.focusbox",this._mousemoveHandler.bind(this)).on("mouseout.focusbox",this._mouseoutHandler.bind(this)).on("mousedown.drag",this._dragStartHandler.bind(this)).on("mousemove.drag",this._dragHandler.bind(this)),_.DomEvent.on(this._container,"mouseup",this._dragEndHandler,this))},_appendGrid:function(){this._svg.append("g").attr("class","grid").attr("transform","translate(0,"+this._svgHeight+")").call(this._make_x_axis().tickSize(-this._svgHeight,0,0).ticks(Math.round(this._svgWidth/75)).tickFormat("")),this._svg.append("g").attr("class","grid").call(this._make_y_axis().tickSize(-this._svgWidth,0,0).ticks(Math.round(this._svgHeight/30)).tickFormat("")),this._svg.append("g").attr("transform","translate(0,"+this._svgHeight+")").attr("class","x axis").call(this._xAxis),this._svg.append("g").attr("transform","translate(-2,0)").attr("class","y axis").call(this._yAxis)},_appendAreas:function(t,e,n){var c,h,f,d,p,g,m,v,i=this._categories[e].attributes[n].color,r=this;function o(t){var e,n,i,r,o,s=t.length,a=!1,u=new Array(s),l=new Array(s);for(null==g&&(v=m(o=ti())),e=0;e<=s;++e){if(!(e<s&&p(r=t[e],e,t))===a)if(a=!a)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;n<=i;--i)v.point(u[i],l[i]);v.lineEnd(),v.areaEnd()}a&&(u[e]=+c(r,e,t),l[e]=+f(r,e,t),v.point(h?+h(r,e,t):u[e],d?+d(r,e,t):l[e]))}if(o)return v=null,o+""||null}function s(){return ui().defined(p).curve(m).context(g)}this._area=(c=si,f=ei(0),d=ai,p=ei(!(h=null)),m=oi,v=g=null,o.x=function(t){return arguments.length?(c="function"==typeof t?t:ei(+t),h=null,o):c},o.x0=function(t){return arguments.length?(c="function"==typeof t?t:ei(+t),o):c},o.x1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:ei(+t),o):h},o.y=function(t){return arguments.length?(f="function"==typeof t?t:ei(+t),d=null,o):f},o.y0=function(t){return arguments.length?(f="function"==typeof t?t:ei(+t),o):f},o.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:ei(+t),o):d},o.lineX0=o.lineY0=function(){return s().x(c).y(f)},o.lineY1=function(){return s().x(c).y(d)},o.lineX1=function(){return s().x(h).y(f)},o.defined=function(t){return arguments.length?(p="function"==typeof t?t:ei(!!t),o):p},o.curve=function(t){return arguments.length?(m=t,null!=g&&(v=m(g)),o):m},o.context=function(t){return arguments.length?(null==t?g=v=null:v=m(g=t),o):g},o.x(function(t){var e=r._x(t.position);return t.xDiagonalCoordinate=e}).y0(this._svgHeight).y1(function(t){return r._y(t.altitude)}).curve(oi)),this._areapath=this._svg.append("path").attr("class","area"),this._areapath.datum(t).attr("d",this._area).attr("stroke",i).styles(this._graphStyle).style("fill",i).style("pointer-events","none")},_make_x_axis:function(){return Yn().scale(this._x)},_make_y_axis:function(){return Xn().scale(this._y)},_createSelectionBox:function(){var n=this,i=G(this._container).select("svg"),r=this._width-this._margin.right,o=this._height-this._margin.bottom+this._margin.bottom/2+6,t=[{x:r-25,y:3+o,color:"#000",type:hi,id:"leftArrowSelection",angle:0},{x:r-10,y:o,color:"#000",type:hi,id:"rightArrowSelection",angle:180}],e=i.selectAll(".select-symbol").data(t);e.remove(),e=i.selectAll(".select-symbol").data(t),1<n._data.length&&e.enter().append("path").merge(e).attr("class","select-symbol").attr("d",fi().type(function(t){return t.type})).attr("transform",function(t){return"translate("+t.x+","+t.y+") rotate("+t.angle+")"}).attr("id",function(t){return t.id}).style("fill",function(t){return t.color}).on("mousedown",function(t){"rightArrowSelection"===t.id&&u(),"leftArrowSelection"===t.id&&l(),n._gotDragged=!0,n._dragStartCoords=n._dragCache.start,n._dragCurrentCoords=n._dragCache.end});function s(t){var e;n._selectionText&&n._selectionText.remove(),0!==n._categories.length&&(e=[{selection:n._categories[t].info.text}],n._selectionText=i.selectAll("selection_text").data(e).enter().append("text").attr("x",r-35).attr("y",4+o).text(function(t){return t.selection}).attr("class","select-info").attr("id","selectionText").attr("text-anchor","end"))}var a=(this._categories.length,this._selectedAttributeIdx);s(a);var u=function(){var t=n._selectedAttributeIdx+=1;t===n._categories.length&&(n._selectedAttributeIdx=t=0),s(t),n._removeChart(),n._removeMarkedSegmentsOnMap(),n._createChart(t)},l=function(){var t=--n._selectedAttributeIdx;-1===t&&(n._selectedAttributeIdx=t=n._categories.length-1),s(t),n._removeChart(),n._removeMarkedSegmentsOnMap(),n._createChart(t)}},_createLegend:function(){var t=this,i=this,e=[];if(0<this._categories.length)for(var n in this._categories[this._selectedAttributeIdx].legend)e.push(this._categories[this._selectedAttributeIdx].legend[n]);var r=this._height-this._margin.bottom,o=r+this._margin.bottom/2,s=[{text:this._getTranslation("legend")}],a=this._svg.selectAll(".hlegend-hover").data(e).enter().append("g").attr("class","legend").style("display","none").attr("transform",function(t,e){return"translate(-8,"+(14*e-28)+")"}),u=a.append("rect").attr("class","legend-rect").attr("x",15).attr("y",36).attr("width",6).attr("height",6);0!==Object.keys(this._graphStyle).length?u.styles(this._graphStyle).style("stroke",function(t,e){return t.color}).style("fill",function(t,e){return t.color}):u.style("stroke","black").style("fill",function(t,e){return t.color}),a.append("text").attr("class","legend-text").attr("x",30).attr("y",42).text(function(t,e){var n=t.text;return i._boxBoundY=(r-2*r/3+7)*e,n});var l=this._svg.selectAll(".legend-hover").data(s).enter().append("g").attr("class","legend-hover");this._showLegend=!1,l.append("text").attr("x",15).attr("y",o).attr("text-anchor","start").text(function(t,e){return t.text}).on("mouseover",function(){Z(".legend").style("display","block")}).on("mouseleave",function(){t._showLegend||Z(".legend").style("display","none")}).on("click",function(){t._showLegend=!t._showLegend})},_dynamicBoxSize:function(t){for(var e=Z(t).nodes().length,n=[],i=0;i<e;i++)n.push(Z(t).nodes()[i].getBoundingClientRect().width);return[e,je(n)]},_createBorderTopLine:function(){var e=this,t=this._areasFlattended,n=ui().x(function(t){return(0,e._x)(t.position)}).y(function(t){return(0,e._y)(t.altitude)}).curve(gi);this._svg.append("svg:path").attr("d",n(t)).attr("class","border-top")},_mouseoutHandler:function(){for(var t=0,e=["_focusLine","_focus","_pointG","_mouseHeightFocus","_mouseHeightFocusLabel"];t<e.length;t++){var n=e[t];this[n]&&this[n].style("display","none")}},mapMouseoutHandler:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;this.mouseoutDelay&&window.clearTimeout(this.mouseoutDelay),this.mouseoutDelay=window.setTimeout(function(){t._mouseoutHandler()},e)},mapMousemoveHandler:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).showMapMarker,n=void 0===e||e;if(!1!==this._areasFlattended){var i,r=null,o=2*Math.pow(100,2),s=h(this._areasFlattended);try{for(s.s();!(i=s.n()).done;){var a=i.value,u=t.latlng.lat-a.latlng.lat,l=t.latlng.lng-a.latlng.lng;if(Math.abs(u)<1.1/111111&&Math.abs(l)<1.1/111111){this._internalMousemoveHandler(a,n);break}var c=Math.pow(u,2)+Math.pow(l,2);c<o&&(r=a,o=c)}}catch(t){s.e(t)}finally{s.f()}r&&this._internalMousemoveHandler(r,n)}},_mousemoveHandler:function(t,e,n){var i=X(this._svg.node()),r=this._areasFlattended[this._findItemForX(i[0])];r&&this._internalMousemoveHandler(r)},_internalMousemoveHandler:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=t.altitude,i=t.position,r=t.latlng,o=t.areaIdx,s=t.type,a=this._dynamicBoxSize(".focusbox text")[1]+10,u=0===o?this._categories[this._selectedAttributeIdx].distances[o]:this._categories[this._selectedAttributeIdx].distances[o]-this._categories[this._selectedAttributeIdx].distances[o-1];e&&this._showMapMarker(r,n,s),this._distTspan.text(" "+i.toFixed(1)+" km"),this._altTspan.text(" "+n+" m"),this._areaTspan.text(" "+u.toFixed(1)+" km"),this._typeTspan.text(" "+s),this._focusRect.attr("width",a),this._focusLine.style("display","block").attr("x1",this._x(i)).attr("x2",this._x(i));var l=this._x(i)-(a+5),c=this._width-this._margin.left-this._margin.right;this._x(i)+a<c&&this._focus.style("display","initial").attr("transform","translate("+this._x(i)+","+this._y(this._elevationBounds.min)+")"),this._x(i)+a>c&&this._focus.style("display","initial").attr("transform","translate("+l+","+this._y(this._elevationBounds.min)+")")},_findItemForX:function(t){var e=Oe(function(t){return t.position}).left,n=this._x.invert(t);return e(this._areasFlattended,n)},_findCoordsForY:function(t){var e=this._y.invert(t);return function(t,e){for(var n=[],i=0;i<t.length;i++)t[i].altitude>=e&&n.push(i);for(var r=[],o=0,s=0;s<n.length-1;s++)n[s+1]!==n[s]+1&&(r.push(n.slice(o,s+1)),o=s+1);r.push(n.slice(o,n.length));for(var a=0;a<r.length;a++)for(var u=0;u<r[a].length;u++)r[a][u]=t[r[a][u]].latlng;return r}(this._areasFlattended,e)},_getTranslation:function(t){return this.options.translation[t]?this.options.translation[t]:this._defaultTranslation[t]?this._defaultTranslation[t]:(console.error("Unexpected error when looking up the translation for "+t),"No translation found")}}),_.control.heightgraph=function(t){return new _.Control.Heightgraph(t)},_.Control.Heightgraph},yi=window,"function"==typeof define&&define.amd?define(["leaflet"],vi):"object"===("undefined"==typeof exports?"undefined":e(exports))&&(void 0!==yi&&yi.L?module.exports=vi(L):module.exports=vi(require("leaflet"))),void 0!==yi&&yi.L&&(yi.L.Control.Heightgraph=vi(L))}(),function(t,e){"function"==typeof define&&define.amd?define(["leaflet"],t):"object"==typeof exports&&(void 0!==e&&e.L?module.exports=t(L):module.exports=t(require("leaflet"))),void 0!==e&&e.L&&(e.L.Control.Locate=t(L))}(function(a){function n(e,n,t){(t=t.split(" ")).forEach(function(t){a.DomUtil[e].call(this,n,t)})}function e(t,e){n("addClass",t,e)}function i(t,e){n("removeClass",t,e)}var t=a.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:a.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,e){var n=a.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);return n.title=e.strings.title,{link:n,icon:a.DomUtil.create(e.iconElementTag,e.icon,n)}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var e in t)"object"==typeof this.options[e]?a.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=a.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=a.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(t){var e=a.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._layer=this.options.layer||new a.LayerGroup,this._layer.addTo(t),this._event=void 0,this._prevBounds=null;var n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,a.DomEvent.on(this._link,"click",a.DomEvent.stopPropagation).on(this._link,"click",a.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",a.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){switch(this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){this._drawMarker(),this._isOutsideMapBounds()?(this._event=void 0,this.options.onLocationOutsideMapBounds(this)):this.options.keepCurrentZoomLevel?(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]):(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var t,e,n,i,r=this._event.accuracy,o=this._event.latlng;this.options.drawCircle&&(t=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle,this._circle?this._circle.setLatLng(o).setRadius(r).setStyle(t):this._circle=a.circle(o,r,t).addTo(this._layer)),n=this.options.metric?(e=r.toFixed(0),this.options.strings.metersUnit):(e=(3.2808399*r).toFixed(0),this.options.strings.feetUnit),this.options.drawMarker&&(i=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle,this._marker?(this._marker.setLatLng(o),this._marker.setStyle&&this._marker.setStyle(i)):this._marker=new this.options.markerClass(o,i).addTo(this._layer));var s=this.options.strings.popup;this.options.showPopup&&s&&this._marker&&this._marker.bindPopup(a.Util.template(s,{distance:e,unit:n}))._popup.setLatLng(o)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(i(this._container,"active following"),e(this._container,"requesting"),i(this._icon,this.options.icon),e(this._icon,this.options.iconLoading)):"active"==t?(i(this._container,"requesting following"),e(this._container,"active"),i(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)):"following"==t&&(i(this._container,"requesting"),e(this._container,"active following"),i(this._icon,this.options.iconLoading),e(this._icon,this.options.icon))},_cleanClasses:function(){a.DomUtil.removeClass(this._container,"requesting"),a.DomUtil.removeClass(this._container,"active"),a.DomUtil.removeClass(this._container,"following"),i(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return a.control.locate=function(t){return new a.Control.Locate(t)},t},window),L.DistanceMarkers=L.LayerGroup.extend({initialize:function(t,i,e){var n=(e=e||{}).offset||1e3,r=Math.min(i.getMaxZoom(),e.showAll||12),o=e.cssClass||"dist-marker",s=void 0!==e.iconSize?e.iconSize:[12,12],a=e.textFunction||function(t,e,n){return e},u={},l=t;"function"==typeof t.getLatLngs&&(l=t.getLatLngs());for(var c=L.GeometryUtil.accumulatedLengths(t),h=0<c.length?c[c.length-1]:0,f=0,d=Math.floor(h/n),p=1;p<=d;++p){for(var g=n*p;f<c.length-1&&c[f]<g;)++f;var m=l[f-1],v=l[f],y=L.polyline([m,v]),_=(g-c[f-1])/(c[f]-c[f-1]),b=L.GeometryUtil.interpolateOnLine(i,y,_),x=a.call(this,g,p,n),w=L.divIcon({className:o,html:x,iconSize:s}),C=L.marker(b.latLng,{title:x,icon:w}),E=this._minimumZoomLevelForItem(p,r);void 0===u[E]&&(u[E]=L.layerGroup()),u[E].addLayer(C)}function S(){var t=M,e=M=i.getZoom();if(t<e)for(var n=t+1;n<=e;++n)void 0!==u[n]&&T.addLayer(u[n]);else if(e<t)for(n=t;e<n;--n)void 0!==u[n]&&T.removeLayer(u[n])}var M=0,T=this;i.on("zoomend",S),this._layers={},S()},_minimumZoomLevelForItem:function(t,e){for(var n=e,i=t;0<i&&i%2==0;)--n,i=Math.floor(i/2);return n}}),L.Polyline.include({_originalOnAdd:L.Polyline.prototype.onAdd,_originalOnRemove:L.Polyline.prototype.onRemove,addDistanceMarkers:function(){this._map&&this._distanceMarkers&&this._map.addLayer(this._distanceMarkers)},removeDistanceMarkers:function(){this._map&&this._distanceMarkers&&this._map.removeLayer(this._distanceMarkers)},onAdd:function(t){this._originalOnAdd(t);var e=this.options.distanceMarkers||{};void 0===this._distanceMarkers&&this.options.distanceMarkers&&(this._distanceMarkers=new L.DistanceMarkers(this,t,e)),void 0!==e.lazy&&!1!==e.lazy||this.addDistanceMarkers()},onRemove:function(t){this.removeDistanceMarkers(),this._originalOnRemove(t)}}),function(t,e){"function"==typeof define&&define.amd?define(["leaflet"],e):e("object"==typeof module&&module.exports?require("leaflet"):t.L)}(this,function(n){n.FeatureGroup.SubGroup=n.FeatureGroup.extend({initialize:function(t,e){n.FeatureGroup.prototype.initialize.call(this,e),this.setParentGroup(t)},setParentGroup:function(t){var e=t instanceof n.LayerGroup;return this._parentGroup=t,this.onAdd=e?"function"==typeof t.addLayers?this._onAddToGroupBatch:this._onAddToGroup:this._onAddToMap,this.onRemove=e?"function"==typeof t.removeLayers?this._onRemoveFromGroupBatch:this._onRemoveFromGroup:this._onRemoveFromMap,this.addLayer=e?this._addLayerToGroup:this._addLayerToMap,this.removeLayer=e?this._removeLayerFromGroup:this._removeLayerFromMap,this},setParentGroupSafe:function(t){var e=this._map;return e&&e.removeLayer(this),this.setParentGroup(t),e&&e.addLayer(this),this},getParentGroup:function(){return this._parentGroup},_onAddToGroupBatch:function(t){var e=this.getLayers();this._map=t,this._parentGroup.addLayers(e)},_onRemoveFromGroupBatch:function(){var t=this.getLayers();this._parentGroup.removeLayers(t),this._map=null},_onAddToGroup:function(t){var e=this._parentGroup;this._map=t,this.eachLayer(e.addLayer,e)},_onRemoveFromGroup:function(){var t=this._parentGroup;this.eachLayer(t.removeLayer,t),this._map=null},_onAddToMap:n.FeatureGroup.prototype.onAdd,_onRemoveFromMap:n.FeatureGroup.prototype.onRemove,_addLayerToGroup:function(t){if(this.hasLayer(t))return this;t.addEventParent(this);var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._parentGroup.addLayer(t),this.fire("layeradd",{layer:t})},_removeLayerFromGroup:function(t){if(!this.hasLayer(t))return this;var e=t in this._layers?t:this.getLayerId(t);return(t=this._layers[e]).removeEventParent(this),this._map&&t&&this._parentGroup.removeLayer(t),delete this._layers[e],this.fire("layerremove",{layer:t})},_addLayerToMap:n.FeatureGroup.prototype.addLayer,_removeLayerFromMap:n.FeatureGroup.prototype.removeLayer}),n.featureGroup.subGroup=function(t,e){return new n.FeatureGroup.SubGroup(t,e)}}),function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(d){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,o,n,i,r,s){var a,u=0,l=0,c=s.latencyThreshold;function h(){n.cancel(a),s.complete(),u=l=0}function f(t){var e,n=o.get("$http"),i=d.defaults;!t.cache&&!i.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(e=angular.isObject(t.cache)?t.cache:angular.isObject(i.cache)?i.cache:n);var r=void 0!==e&&void 0!==e.get(t.url);return void 0!==t.cached&&r!==t.cached?t.cached:t.cached=r}return{request:function(t){return t.ignoreLoadingBar||f(t)||(i.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===u&&(a=n(function(){s.start()},c)),u++,s.set(l/u)),t},response:function(t){return t&&t.config?t.config.ignoreLoadingBar||f(t.config)||(l++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),u<=l?h():s.set(l/u)):r.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t},responseError:function(t){return t&&t.config?t.config.ignoreLoadingBar||f(t.config)||(l++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),u<=l?h():s.set(l/u)):r.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t)}}}];d.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(r,o,s,a){var u,n,l,c=this.parentSelector,h=angular.element(this.loadingBarTemplate),i=h.find("div").eq(0),f=angular.element(this.spinnerTemplate),d=!1,p=0,g=this.autoIncrement,m=this.includeSpinner,v=this.includeBar,y=this.startSize;function _(t){var e;d&&(e=100*t+"%",i.css("width",e),p=t,g&&(s.cancel(n),n=s(function(){b()},250)))}function b(){var t,e;1<=p||(e=(e=0)<=(t=p)&&t<.25?(3*Math.random()+3)/100:.25<=t&&t<.65?3*Math.random()/100:.65<=t&&t<.9?2*Math.random()/100:.9<=t&&t<.99?.005:0,_(p+e))}function t(){return p}function e(){p=0,d=!1}return{start:function(){var t,e,n,i;u=u||r.get("$animate"),s.cancel(l),d||(e=(e=(t=o[0]).querySelector?t.querySelector(c):o.find(c)[0])||t.getElementsByTagName("body")[0],n=angular.element(e),i=e.lastChild&&angular.element(e.lastChild),a.$broadcast("cfpLoadingBar:started"),d=!0,v&&u.enter(h,n,i),m&&u.enter(f,n,h),_(y))},set:_,status:t,inc:b,complete:function(){u=u||r.get("$animate"),a.$broadcast("cfpLoadingBar:completed"),_(1),s.cancel(l),l=s(function(){var t=u.leave(h,e);t&&t.then&&t.then(e),u.leave(f)},500)},autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}(),function(w,C){"use strict";w.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(_,b,x){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(u,l,t,s){var c,h;function n(t,e){var n="function"==typeof e;return"function"==typeof t&&n?function(){t.apply(this,arguments),e.apply(this,arguments)}:n?e:t}function o(t){var e=t.data("ui-sortable");return e&&"object"==typeof e&&"ui-sortable"===e.widgetFullName?e:null}function a(t,e){return m[t]?("stop"===t&&(e=n(e,function(){u.$apply()}),e=n(e,i)),e=n(m[t],e)):v[t]&&(e=v[t](e)),e||"items"!==t&&"ui-model-items"!==t||(e=_.items),e}function r(i,t,n){w.forEach(m,function(t,e){e in p||(p[e]=null)});var r,o=null;return t&&w.forEach(t,function(t,e){if(!(i&&e in i)){if(e in g)return void(p[e]="ui-floating"===e?"auto":a(e,C));var n=a(e,n=(r=r||w.element.ui.sortable().options)[e]);(o=o||{})[e]=n,p[e]=n}}),w.forEach(i,function(t,e){return e in g?("ui-floating"!==e||!1!==t&&!0!==t||!n||(n.floating=t),void(p[e]=a(e,t))):(t=a(e,t),(o=o||{})[e]=t,void(p[e]=t))}),o}function f(t,e){var n,i,r=null;return n=e,("clone"===(i=t.sortable("option","helper"))||"function"==typeof i&&n.item.sortable.isCustomHelperUsed())&&"parent"===t.sortable("option","appendTo")&&(r=h),r}function i(t,e){e.item.sortable._destroy()}function d(t){return t.parent().find(p["ui-model-items"]).index(t)}var p={},g={"ui-floating":C,"ui-model-items":_.items},m={receive:null,remove:null,start:null,stop:null,update:null},v={helper:null};function e(){u.$watchCollection("ngModel",function(){b(function(){o(l)&&l.sortable("refresh")},0,!1)}),m.start=function(t,n){var e,i;"auto"===p["ui-floating"]&&(e=n.item.siblings(),o(w.element(t.target)).floating=/left|right/.test((i=e).css("float"))||/inline|table-cell/.test(i.css("display")));var r=d(n.item);n.item.sortable={model:s.$modelValue[r],index:r,source:n.item.parent(),sourceModel:s.$modelValue,cancel:function(){n.item.sortable._isCanceled=!0},isCanceled:function(){return n.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!n.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:n.item.sortable._isCustomHelperUsed,_destroy:function(){w.forEach(n.item.sortable,function(t,e){n.item.sortable[e]=C})}}},m.activate=function(t,e){c=l.contents(),h=e.helper;var n,i,r,o,s=function(t){var e=t.sortable("option","placeholder");if(e&&e.element&&"function"==typeof e.element){var n=e.element();return n=w.element(n)}return null}(l);s&&s.length&&(i=l,r=s,o=p["ui-model-items"].replace(/[^,]*>/g,""),n=i.find('[class="'+r.attr("class")+'"]:not('+o+")"),c=c.not(n));var a=e.item.sortable._connectedSortables||[];a.push({element:l,scope:u}),e.item.sortable._connectedSortables=a},m.update=function(t,e){var n,i;e.item.sortable.received||(e.item.sortable.dropindex=d(e.item),n=e.item.parent(),e.item.sortable.droptarget=n,i=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i];if(r.element[0]===e[0]){n=r.scope;break}}return n}(e.item.sortable._connectedSortables,n),e.item.sortable.droptargetModel=i.ngModel,l.sortable("cancel"));var r=!e.item.sortable.received&&f(l,e);r&&r.length&&(c=c.not(r)),c.appendTo(l),e.item.sortable.received&&(c=null),e.item.sortable.received&&!e.item.sortable.isCanceled()&&u.$apply(function(){s.$modelValue.splice(e.item.sortable.dropindex,0,e.item.sortable.moved)})},m.stop=function(t,e){var n;!e.item.sortable.received&&"dropindex"in e.item.sortable&&!e.item.sortable.isCanceled()?u.$apply(function(){s.$modelValue.splice(e.item.sortable.dropindex,0,s.$modelValue.splice(e.item.sortable.index,1)[0])}):"dropindex"in e.item.sortable&&!e.item.sortable.isCanceled()||w.equals(l.contents(),c)||((n=f(l,e))&&n.length&&(c=c.not(n)),c.appendTo(l)),h=c=null},m.receive=function(t,e){e.item.sortable.received=!0},m.remove=function(t,e){"dropindex"in e.item.sortable||(l.sortable("cancel"),e.item.sortable.cancel()),e.item.sortable.isCanceled()||u.$apply(function(){e.item.sortable.moved=s.$modelValue.splice(e.item.sortable.index,1)[0]})},v.helper=function(o){return o&&"function"==typeof o?function(t,n){var e=n.sortable,i=d(n);n.sortable={model:s.$modelValue[i],index:i,source:n.parent(),sourceModel:s.$modelValue,_restore:function(){w.forEach(n.sortable,function(t,e){n.sortable[e]=C}),n.sortable=e}};var r=o.apply(this,arguments);return n.sortable._restore(),n.sortable._isCustomHelperUsed=n!==r,r}:o},u.$watchCollection("uiSortable",function(t,e){var n,i=o(l);!i||(n=r(t,e,i))&&l.sortable("option",n)},!0),r(p)}function y(){return(!u.uiSortable||!u.uiSortable.disabled)&&(s?e():x.info("ui.sortable: ngModel not provided!",l),l.sortable(p),y.cancelWatcher(),y.cancelWatcher=w.noop,!0)}w.extend(p,g,_,u.uiSortable),w.element.fn&&w.element.fn.jquery?(y.cancelWatcher=w.noop,y()||(y.cancelWatcher=u.$watch("uiSortable.disabled",y))):x.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}((window,window.angular)),function(t,e){"use strict";var n;"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof module&&module.exports?((n=angular||require("angular"))&&n.module||"undefined"==typeof angular||(n=angular),module.exports=e(n)):e(t.angular)}(this,function(a){"use strict";var t=a.module("rzModule",[]).factory("RzSliderOptions",function(){var e={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hidePointerLabels:!1,hideLimitLabels:!1,autoHideLimitLabels:!0,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksArray:null,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null,logScale:!1,customValueToPosition:null,customPositionToValue:null,selectionBarGradient:null},n={},t={options:function(t){a.extend(n,t)},getOptions:function(t){return a.extend({},e,n,t)}};return t}).factory("rzThrottle",["$timeout",function(f){return function(n,i,r){var o,s,a,u=Date.now||function(){return(new Date).getTime()},l=null,c=0;r=r||{};function h(){c=u(),l=null,a=n.apply(o,s),o=s=null}return function(){var t=u(),e=i-(t-c);return o=this,s=arguments,e<=0?(f.cancel(l),l=null,c=t,a=n.apply(o,s),o=s=null):l||!1===r.trailing||(l=f(h,e)),a}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(i,s,e,t,n,o){function r(t,e){this.scope=t,this.lowValue=0,this.highValue=0,this.sliderElem=e,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,position:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.currentFocusElement=null,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()}return r.prototype={init:function(){function t(){r.calcViewDimensions()}var n,i,r=this;this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",t),a.element(e).on("resize",t),this.initHasRun=!0,n=o(function(){r.onLowHandleChange()},r.options.interval),i=o(function(){r.onHighHandleChange()},r.options.interval),this.scope.$on("rzSliderForceRender",function(){r.resetLabelsValue(),n(),r.range&&i(),r.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(t,e){t!==e&&(r.applyOptions(),r.syncLowValue(),r.range&&r.syncHighValue(),r.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(t,e){r.internalChange||t!==e&&n()}),this.scope.$watch("rzSliderHigh",function(t,e){r.internalChange||t!==e&&(null!=t&&i(),(r.range&&null==t||!r.range&&null!=t)&&(r.applyOptions(),r.resetSlider()))}),this.scope.$on("$destroy",function(){r.unbindEvents(),a.element(e).off("resize",t),r.currentFocusElement=null})},findStepIndex:function(t){for(var e=0,n=0;n<this.options.stepsArray.length;n++){var i=this.options.stepsArray[n];if(i===t){e=n;break}if(a.isDate(i)){if(i.getTime()===t.getTime()){e=n;break}}else if(a.isObject(i)&&(a.isDate(i.value)&&i.value.getTime()===t.getTime()||i.value===t)){e=n;break}}return e},syncLowValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel)},syncHighValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh)},getStepValue:function(t){var e=this.options.stepsArray[t];return!a.isDate(e)&&a.isObject(e)?e.value:e},applyLowValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue)},applyHighValue:function(){!this.options.stepsArray||this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue)},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToPosition(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var t=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{};this.options=n.getOptions(t),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues||!!this.options.ticksArray,this.scope.showTicks=this.options.showTicks,(a.isNumber(this.options.showTicks)||this.options.ticksArray)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(t){return String(t)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(t){return this.options.bindIndexForStepsArray?this.getStepValue(t):t},this.getLegend=function(t){var e=this.options.stepsArray[t];return a.isObject(e)?e.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions(),this.refocusPointerIfNeeded()},refocusPointerIfNeeded:function(){this.currentFocusElement&&(this.onPointerFocus(this.currentFocusElement.pointer,this.currentFocusElement.ref),this.focusElement(this.currentFocusElement.pointer))},initElemHandles:function(){a.forEach(this.sliderElem.children(),function(t,e){var n=a.element(t);switch(e){case 0:this.fullBar=n;break;case 1:this.selBar=n;break;case 2:this.minH=n;break;case 3:this.maxH=n;break;case 4:this.flrLab=n;break;case 5:this.ceilLab=n;break;case 6:this.minLab=n;break;case 7:this.maxLab=n;break;case 8:this.cmbLab=n;break;case 9:this.ticks=n}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var t=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,t||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,t||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,t||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(t,e){(t.rzAlwaysHide=e)?this.hideEl(t):this.showEl(t)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToPosition(this.lowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(t,e,n,i){i=void 0===i||i;var r="",o=!1,s=e.hasClass("no-label-injection"),r=i?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(t=this.getStepValue(t)),String(this.customTrFn(t,this.options.id,n))):String(t);(void 0===e.rzsv||e.rzsv.length!==r.length||0<e.rzsv.length&&0===e.rzsd)&&(o=!0,e.rzsv=r),s||e.html(r),this.scope[n+"Label"]=r,o&&this.getDimension(e)},setMinAndMax:function(){if(this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.logScale&&0===this.minValue)throw Error("Can't use floor=0 with logarithmic scale");this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var t,e=this.getDimension(this.minH);this.handleHalfDim=e/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-e,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles(),t=this,i(function(){t.updateTicksScale()}))},updateTicksScale:function(){var t,r,o;this.options.showTicks&&(t=this.options.ticksArray||this.getTicksArray(),r=this.options.vertical?"translateY":"translateX",(o=this).options.rightToLeft&&t.reverse(),this.scope.ticks=t.map(function(t){var e=o.valueToPosition(t);o.options.vertical&&(e=o.maxPos-e);var n,i={selected:o.isTickSelected(t),style:{transform:r+"("+Math.round(e)+"px)"}};return i.selected&&o.options.getSelectionBarColor&&(i.style["background-color"]=o.getSelectionBarColor()),!i.selected&&o.options.getTickColor&&(i.style["background-color"]=o.getTickColor(t)),o.options.ticksTooltip&&(i.tooltip=o.options.ticksTooltip(t),i.tooltipPlacement=o.options.vertical?"right":"top"),o.options.showTicksValues&&(i.value=o.getDisplayValue(t,"tick-value"),o.options.ticksValuesTooltip&&(i.valueTooltip=o.options.ticksValuesTooltip(t),i.valueTooltipPlacement=o.options.vertical?"right":"top")),o.getLegend&&(n=o.getLegend(t,o.options.id))&&(i.legend=n),i}))},getTicksArray:function(){var t=this.step,e=[];this.intermediateTicks&&(t=this.options.showTicks);for(var n=this.minValue;n<=this.maxValue;n+=t)e.push(n);return e},isTickSelected:function(t){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue;if(this.lowValue>e&&e<=t&&t<=this.lowValue)return!0;if(this.lowValue<e&&t<=e&&t>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(t>=this.lowValue)return!0}else if(this.options.showSelectionBar&&t<=this.lowValue)return!0;return!!(this.range&&t>=this.lowValue&&t<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var t=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,t)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var t=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,t)},updateHandles:function(t,e){"lowValue"===t?this.updateLowHandle(e):this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(t,e){var n=this[t].rzsd,i=e-n/2+this.handleHalfDim,r=this.barDimension-n;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===t||!this.options.rightToLeft&&"maxLab"===t?Math.min(i,r):Math.min(Math.max(i,0),r):i},updateLowHandle:function(t){var e;this.setPosition(this.minH,t),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",t)),this.options.getPointerColor&&(e=this.getPointerColor("min"),this.scope.minPointerStyle={backgroundColor:e}),this.options.autoHideLimitLabels&&this.shFloorCeil()},updateHighHandle:function(t){var e;this.setPosition(this.maxH,t),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",t)),this.options.getPointerColor&&(e=this.getPointerColor("max"),this.scope.maxPointerStyle={backgroundColor:e}),this.options.autoHideLimitLabels&&this.shFloorCeil()},shFloorCeil:function(){var t,e,n,i,r,o,s,a,u;this.options.hidePointerLabels||(e=t=!1,n=this.isLabelBelowFloorLab(this.minLab),i=this.isLabelAboveCeilLab(this.minLab),r=this.isLabelAboveCeilLab(this.maxLab),o=this.isLabelBelowFloorLab(this.cmbLab),s=this.isLabelAboveCeilLab(this.cmbLab),n?(t=!0,this.hideEl(this.flrLab)):(t=!1,this.showEl(this.flrLab)),i?(e=!0,this.hideEl(this.ceilLab)):(e=!1,this.showEl(this.ceilLab)),this.range&&(a=this.cmbLabelShown?s:r,u=this.cmbLabelShown?o:n,a?this.hideEl(this.ceilLab):e||this.showEl(this.ceilLab),u?this.hideEl(this.flrLab):t||this.showEl(this.flrLab)))},isLabelBelowFloorLab:function(t){var e=this.options.rightToLeft,n=t.rzsp,i=t.rzsd,r=this.flrLab.rzsp,o=this.flrLab.rzsd;return e?r-2<=n+i:n<=r+o+2},isLabelAboveCeilLab:function(t){var e=this.options.rightToLeft,n=t.rzsp,i=t.rzsd,r=this.ceilLab.rzsp,o=this.ceilLab.rzsd;return e?n<=r+o+2:r-2<=n+i},updateSelectionBar:function(){var t,e,n,i,r,o,s=0,a=0,u=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,l=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;s=this.range?(a=Math.abs(this.maxH.rzsp-this.minH.rzsp),l):null!==this.options.showSelectionBarFromValue?(t=this.options.showSelectionBarFromValue,e=this.valueToPosition(t),(this.options.rightToLeft?this.lowValue<=t:this.lowValue>t)?(a=this.minH.rzsp-e,e+this.handleHalfDim):(a=e-this.minH.rzsp,this.minH.rzsp+this.handleHalfDim)):u?(a=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,this.minH.rzsp+this.handleHalfDim):(a=Math.abs(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,0),this.setDimension(this.selBar,a),this.setPosition(this.selBar,s),this.options.getSelectionBarColor?(n=this.getSelectionBarColor(),this.scope.barStyle={backgroundColor:n}):this.options.selectionBarGradient&&(r=0<(i=null!==this.options.showSelectionBarFromValue?this.valueToPosition(this.options.showSelectionBarFromValue):0)-s^u,o=this.options.vertical?r?"bottom":"top":r?"left":"right",this.scope.barStyle={backgroundImage:"linear-gradient(to "+o+", "+this.options.selectionBarGradient.from+" 0%,"+this.options.selectionBarGradient.to+" 100%)"},this.options.vertical?(this.scope.barStyle.backgroundPosition="center "+(i+a+s+(r?-this.handleHalfDim:0))+"px",this.scope.barStyle.backgroundSize="100% "+(this.barDimension-this.handleHalfDim)+"px"):(this.scope.barStyle.backgroundPosition=i-s+(r?this.handleHalfDim:0)+"px center",this.scope.barStyle.backgroundSize=this.barDimension-this.handleHalfDim+"px 100%"))},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(t){return"max"===t?this.options.getPointerColor(this.scope.rzSliderHigh,t):this.options.getPointerColor(this.scope.rzSliderModel,t)},getTickColor:function(t){return this.options.getTickColor(t)},updateCmbLabel:function(){var t,e,n,i;(this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp)?(t=this.getDisplayValue(this.lowValue,"model"),e=this.getDisplayValue(this.highValue,"high"),n=this.options.mergeRangeLabelsIfSame&&t===e?t:this.options.rightToLeft?e+" - "+t:t+" - "+e,this.translateFn(n,this.cmbLab,"cmb",!1),i=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,this.setPosition(this.cmbLab,i),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)):(this.cmbLabelShown=!1,this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)),this.options.autoHideLimitLabels&&this.shFloorCeil()},getDisplayValue:function(t,e){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.customTrFn(t,this.options.id,e)},roundStep:function(t,e){var n=e||this.step,i=parseFloat((t-this.minValue)/n).toPrecision(12),i=Math.round(+i)*n;return+(this.minValue+i).toFixed(this.precision)},hideEl:function(t){return t.css({visibility:"hidden"})},showEl:function(t){return t.rzAlwaysHide?t:t.css({visibility:"visible"})},setPosition:function(t,e){t.rzsp=e;var n={};return n[this.positionProperty]=Math.round(e)+"px",t.css(n),e},getDimension:function(t){var e=t[0].getBoundingClientRect();return this.options.vertical?t.rzsd=(e.bottom-e.top)*this.options.scale:t.rzsd=(e.right-e.left)*this.options.scale,t.rzsd},setDimension:function(t,e){t.rzsd=e;var n={};return n[this.dimensionProperty]=Math.round(e)+"px",t.css(n),e},sanitizeValue:function(t){return Math.min(Math.max(t,this.minValue),this.maxValue)},valueToPosition:function(t){var e=this.linearValueToPosition;this.options.customValueToPosition?e=this.options.customValueToPosition:this.options.logScale&&(e=this.logValueToPosition);var n=e(t=this.sanitizeValue(t),this.minValue,this.maxValue)||0;return this.options.rightToLeft&&(n=1-n),n*this.maxPos},linearValueToPosition:function(t,e,n){return(t-e)/(n-e)},logValueToPosition:function(t,e,n){return((t=Math.log(t))-(e=Math.log(e)))/((n=Math.log(n))-e)},positionToValue:function(t){var e=t/this.maxPos;this.options.rightToLeft&&(e=1-e);var n=this.linearPositionToValue;return this.options.customPositionToValue?n=this.options.customPositionToValue:this.options.logScale&&(n=this.logPositionToValue),n(e,this.minValue,this.maxValue)||0},linearPositionToValue:function(t,e,n){return t*(n-e)+e},logPositionToValue:function(t,e,n){e=Math.log(e);var i=t*((n=Math.log(n))-e)+e;return Math.exp(i)},getEventXY:function(t){var e=this.options.vertical?"clientY":"clientX";return void 0!==t[e]?t[e]:void 0===t.originalEvent?t.touches[0][e]:t.originalEvent.touches[0][e]},getEventPosition:function(t){var e=this.sliderElem.rzsp;return(this.options.vertical?-this.getEventXY(t)+e:this.getEventXY(t)-e)*this.options.scale-this.handleHalfDim},getEventNames:function(t){var e={moveEvent:"",endEvent:""};return t.touches||void 0!==t.originalEvent&&t.originalEvent.touches?(e.moveEvent="touchmove",e.endEvent="touchend"):(e.moveEvent="mousemove",e.endEvent="mouseup"),e},getNearestHandle:function(t){if(!this.range)return this.minH;var e=this.getEventPosition(t),n=Math.abs(e-this.minH.rzsp),i=Math.abs(e-this.maxH.rzsp);return n<i?this.minH:i<n?this.maxH:this.options.rightToLeft?e>this.minH.rzsp?this.minH:this.maxH:e<this.minH.rzsp?this.minH:this.maxH},focusElement:function(t){t[0].focus()},bindEvents:function(){var t,e,n=this.options.draggableRange?(t="rzSliderDrag",e=this.onDragStart,this.onDragMove):(t="lowValue",e=this.onStart,this.onMove);this.options.onlyBindHandles||(this.selBar.on("mousedown",a.bind(this,e,null,t)),this.selBar.on("mousedown",a.bind(this,n,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",a.bind(this,e,null,t)),this.maxH.on("mousedown",a.bind(this,e,null,t))):(this.minH.on("mousedown",a.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",a.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",a.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",a.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",a.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",a.bind(this,e,null,t)),this.selBar.on("touchstart",a.bind(this,n,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",a.bind(this,e,null,t)),this.maxH.on("touchstart",a.bind(this,e,null,t))):(this.minH.on("touchstart",a.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",a.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",a.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",a.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",a.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",a.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",a.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(t,e,n){var i,r,o=this.getEventNames(n);n.stopPropagation(),n.preventDefault(),this.calcViewDimensions(),t?this.tracking=e:(t=this.getNearestHandle(n),this.tracking=t===this.minH?"lowValue":"highValue"),t.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(t),i=a.bind(this,this.dragging.active?this.onDragMove:this.onMove,t),r=a.bind(this,this.onEnd,i),s.on(o.moveEvent,i),s.one(o.endEvent,r),this.callOnStart()},onMove:function(t,e,n){var i=this.getEventPosition(e),r=this.options.rightToLeft?this.minValue:this.maxValue,o=this.options.rightToLeft?this.maxValue:this.minValue,s=i<=0?o:i>=this.maxPos?r:(s=this.positionToValue(i),n&&a.isNumber(this.options.showTicks)?this.roundStep(s,this.options.showTicks):this.roundStep(s));this.positionTrackingHandle(s)},onEnd:function(t,e){var n=this.getEventNames(e).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,s.off(n,t),this.callOnEnd()},onTickClick:function(t,e){this.onMove(t,e,!0)},onPointerFocus:function(t,e){this.tracking=e,t.one("blur",a.bind(this,this.onPointerBlur,t)),t.on("keydown",a.bind(this,this.onKeyboardEvent)),t.on("keyup",a.bind(this,this.onKeyUp)),this.firstKeyDown=!0,t.addClass("rz-active"),this.currentFocusElement={pointer:t,ref:e}},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(t){t.off("keydown"),t.off("keyup"),this.tracking="",t.removeClass("rz-active"),this.currentFocusElement=null},getKeyActions:function(t){var e=t+this.step,n=t-this.step,i={UP:e,DOWN:n,LEFT:n,RIGHT:e,PAGEUP:t+this.valueRange/10,PAGEDOWN:t-this.valueRange/10,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(i.LEFT=e,i.RIGHT=n,this.options.vertical&&(i.UP=n,i.DOWN=e)),i},onKeyboardEvent:function(t){var r,e=this[this.tracking],n=t.keyCode||t.which,o=this.getKeyActions(e)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];null!=o&&""!==this.tracking&&(t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart()),r=this,i(function(){var t,e,n,i=r.roundStep(r.sanitizeValue(o));r.options.draggableRangeOnly?(n=r.highValue-r.lowValue,"lowValue"===r.tracking?(e=(t=i)+n)>r.maxValue&&(t=(e=r.maxValue)-n):(t=(e=i)-n)<r.minValue&&(e=(t=r.minValue)+n),r.positionTrackingBar(t,e)):r.positionTrackingHandle(i)}))},onDragStart:function(t,e,n){var i=this.getEventPosition(n);this.dragging={active:!0,value:this.positionToValue(i),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-i:i-this.minH.rzsp,highLimit:this.options.rightToLeft?i-this.maxH.rzsp:this.maxH.rzsp-i},this.onStart(t,e,n)},getValue:function(t,e,n,i){var r=this.options.rightToLeft,o="min"===t?n?i?r?this.minValue:this.maxValue-this.dragging.difference:r?this.maxValue-this.dragging.difference:this.minValue:r?this.positionToValue(e+this.dragging.lowLimit):this.positionToValue(e-this.dragging.lowLimit):n?i?r?this.minValue+this.dragging.difference:this.maxValue:r?this.maxValue:this.minValue+this.dragging.difference:r?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference;return this.roundStep(o)},onDragMove:function(t,e){var n,i,r,o,s,a=this.getEventPosition(e),u=this.options.rightToLeft?(r=this.dragging.lowLimit,o=this.dragging.highLimit,s=this.maxH,this.minH):(r=this.dragging.highLimit,o=this.dragging.lowLimit,s=this.minH,this.maxH),l=a<=o,c=a>=this.maxPos-r;if(l){if(0===s.rzsp)return;n=this.getValue("min",a,!0,!1),i=this.getValue("max",a,!0,!1)}else if(c){if(u.rzsp===this.maxPos)return;i=this.getValue("max",a,!0,!0),n=this.getValue("min",a,!0,!0)}else n=this.getValue("min",a,!1),i=this.getValue("max",a,!1);this.positionTrackingBar(n,i)},positionTrackingBar:function(t,e){null!=this.options.minLimit&&t<this.options.minLimit&&(e=(t=this.options.minLimit)+this.dragging.difference),null!=this.options.maxLimit&&e>this.options.maxLimit&&(t=(e=this.options.maxLimit)-this.dragging.difference),this.lowValue=t,this.highValue=e,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(),this.updateHandles("lowValue",this.valueToPosition(t)),this.updateHandles("highValue",this.valueToPosition(e))},positionTrackingHandle:function(t){var e=!1;t=this.applyMinMaxLimit(t),this.range&&(this.options.pushRange?(t=this.applyPushRange(t),e=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&t>this.highValue?t=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&t<this.lowValue&&(t=this.applyMinMaxRange(this.lowValue))),t=this.applyMinMaxRange(t),"lowValue"===this.tracking&&t>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),e=!0):"highValue"===this.tracking&&t<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),e=!0))),this[this.tracking]!==t&&(this[this.tracking]=t,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.updateHandles(this.tracking,this.valueToPosition(t)),this.updateAriaAttributes(),e=!0),e&&this.applyModel()},applyMinMaxLimit:function(t){return null!=this.options.minLimit&&t<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&t>this.options.maxLimit?this.options.maxLimit:t},applyMinMaxRange:function(t){var e="lowValue"===this.tracking?this.highValue:this.lowValue,n=Math.abs(t-e);return null!=this.options.minRange&&n<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&n>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:t},applyPushRange:function(t){var e="lowValue"===this.tracking?this.highValue-t:t-this.lowValue,n=null!==this.options.minRange?this.options.minRange:this.options.step,i=this.options.maxRange;return e<n?("lowValue"===this.tracking?(this.highValue=Math.min(t+n,this.maxValue),t=this.highValue-n,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=Math.max(t-n,this.minValue),t=this.lowValue+n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()):null!==i&&i<e&&("lowValue"===this.tracking?(this.highValue=t+i,this.applyHighValue(),this.updateHandles("highValue",this.valueToPosition(this.highValue))):(this.lowValue=t-i,this.applyLowValue(),this.updateHandles("lowValue",this.valueToPosition(this.lowValue))),this.updateAriaAttributes()),t},applyModel:function(){this.internalChange=!0,this.scope.$apply(),this.callOnChange(),this.internalChange=!1},callOnStart:function(){var t,e;this.options.onStart&&(e="lowValue"===(t=this).tracking?"min":"max",this.scope.$evalAsync(function(){t.options.onStart(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)}))},callOnChange:function(){var t,e;this.options.onChange&&(e="lowValue"===(t=this).tracking?"min":"max",this.scope.$evalAsync(function(){t.options.onChange(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)}))},callOnEnd:function(){var t,e;this.options.onEnd&&(e="lowValue"===(t=this).tracking?"min":"max",this.scope.$evalAsync(function(){t.options.onEnd(t.options.id,t.scope.rzSliderModel,t.scope.rzSliderHigh,e)})),this.scope.$emit("slideEnded")}},r}]).directive("rzslider",["RzSlider",function(n){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(t,e){return e.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,e){t.slider=new n(t,e)}}}]);return t.run(["$templateCache",function(t){t.put("rzSliderTpl.html",'<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),t.name}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).d3=t.d3||{})}(this,function(H){"use strict";function a(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function E(o){var n;return 1===o.length&&(n=o,o=function(t,e){return a(n(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;o(t[r],e)<0?n=1+r:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<o(t[r],e)?i=r:n=1+r}return n}}}var t=E(a),g=t.right,e=t.left;function c(t,e){return[t,e]}function l(t){return null===t?NaN:+t}function i(t,e){var n,i,r=t.length,o=0,s=-1,a=0,u=0;if(null==e)for(;++s<r;)isNaN(n=l(t[s]))||(u+=(i=n-a)*(n-(a+=i/++o)));else for(;++s<r;)isNaN(n=l(e(t[s],s,t)))||(u+=(i=n-a)*(n-(a+=i/++o)));if(1<o)return u/(o-1)}function r(t,e){var n=i(t,e);return n?Math.sqrt(n):n}function u(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n<=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(n<i&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n<=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(n<i&&(i=n),r<n&&(r=n));return[i,r]}var n=Array.prototype,o=n.slice,s=n.map;function h(t){return function(){return t}}function m(t){return t}function S(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}var f=Math.sqrt(50),d=Math.sqrt(10),p=Math.sqrt(2);function v(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=y(t,e,n))||!isFinite(s))return[];if(0<s)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o}function y(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return 0<=r?(f<=o?10:d<=o?5:p<=o?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(f<=o?10:d<=o?5:p<=o?2:1)}function M(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return f<=o?r*=10:d<=o?r*=5:p<=o&&(r*=2),e<t?-r:r}function _(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function b(t,e,n){if(null==n&&(n=l),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),s=+n(t[o],o,t);return s+(n(t[o+1],o+1,t)-s)*(r-o)}}function x(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n<=n)for(i=n;++o<r;)null!=(n=t[o])&&i<n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n<=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i<n&&(i=n);return i}function L(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--s]=i[e];return n}function w(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n<=n)for(i=n;++o<r;)null!=(n=t[o])&&n<i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n<=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n<i&&(i=n);return i}function C(t){if(!(r=t.length))return[];for(var e=-1,n=w(t,T),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i}function T(t){return t.length}var N=Array.prototype.slice;function I(t){return t}function k(t){return"translate("+(t+.5)+",0)"}function P(t){return"translate(0,"+(t+.5)+")"}function A(){return!this.__axis}function D(g,m){var v=[],y=null,_=null,b=6,x=6,w=3,C=1===g||4===g?-1:1,E=4===g||2===g?"x":"y",S=1===g||3===g?k:P;function e(t){var e=null==y?m.ticks?m.ticks.apply(m,v):m.domain():y,n=null==_?m.tickFormat?m.tickFormat.apply(m,v):I:_,i=Math.max(b,0)+w,r=m.range(),o=+r[0]+.5,s=+r[r.length-1]+.5,a=(m.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(m.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=(p=u.selectAll(".tick").data(e,m).order()).exit(),h=p.enter().append("g").attr("class","tick"),f=p.select("line"),d=p.select("text"),l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),p=p.merge(h),f=f.merge(h.append("line").attr("stroke","currentColor").attr(E+"2",C*b)),d=d.merge(h.append("text").attr("fill","currentColor").attr(E,C*i).attr("dy",1===g?"0em":3===g?"0.71em":"0.32em"));t!==u&&(l=l.transition(t),p=p.transition(t),f=f.transition(t),d=d.transition(t),c=c.transition(t).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=a(t))?S(t):this.getAttribute("transform")}),h.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return S(e&&isFinite(e=e(t))?e:a(t))})),c.remove(),l.attr("d",4===g||2==g?x?"M"+C*x+","+o+"H0.5V"+s+"H"+C*x:"M0.5,"+o+"V"+s:x?"M"+o+","+C*x+"V0.5H"+s+"V"+C*x:"M"+o+",0.5H"+s),p.attr("opacity",1).attr("transform",function(t){return S(a(t))}),f.attr(E+"2",C*b),d.attr(E,C*i).text(n),u.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===g?"start":4===g?"end":"middle"),u.each(function(){this.__axis=a})}return e.scale=function(t){return arguments.length?(m=t,e):m},e.ticks=function(){return v=N.call(arguments),e},e.tickArguments=function(t){return arguments.length?(v=null==t?[]:N.call(t),e):v.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:N.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}var O={value:function(){}};function R(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new $(i)}function $(t){this._=t}function F(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=O,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}$.prototype=R.prototype={constructor:$,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)r[n]=F(r[n],t.name,e);else if(null==e)for(n in r)r[n]=F(r[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=function(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new $(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var z="http://www.w3.org/1999/xhtml",B={svg:"http://www.w3.org/2000/svg",xhtml:z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function j(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),B.hasOwnProperty(e)?{space:B[e],local:t}:t}function q(t){var e=j(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===z&&t.documentElement.namespaceURI===z?t.createElement(n):t.createElementNS(e,n)}})(e)}function V(){}function U(t){return null==t?V:function(){return this.querySelector(t)}}function G(){return[]}function W(t){return null==t?G:function(){return this.querySelectorAll(t)}}function Y(t){return function(){return this.matches(t)}}function X(t){return new Array(t.length)}function Z(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Z.prototype={constructor:Z,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function K(t,e,n,i,r,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Z(t,o[a]);for(;a<u;++a)(s=e[a])&&(r[a]=s)}function J(t,e,n,i,r,o,s){for(var a,u,l={},c=e.length,h=o.length,f=new Array(c),d=0;d<c;++d)(a=e[d])&&(f[d]=u="$"+s.call(a,a.__data__,d,e),u in l?r[d]=a:l[u]=a);for(d=0;d<h;++d)(a=l[u="$"+s.call(t,o[d],d,o)])?((i[d]=a).__data__=o[d],l[u]=null):n[d]=new Z(t,o[d]);for(d=0;d<c;++d)(a=e[d])&&l[f[d]]===a&&(r[d]=a)}function Q(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function tt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function et(t,e){return t.style.getPropertyValue(e)||tt(t).getComputedStyle(t,null).getPropertyValue(e)}function nt(t){return t.trim().split(/^|\s+/)}function it(t){return t.classList||new rt(t)}function rt(t){this._node=t,this._names=nt(t.getAttribute("class")||"")}function ot(t,e){for(var n=it(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function st(t,e){for(var n=it(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function at(){this.textContent=""}function ut(){this.innerHTML=""}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ht(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}rt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var gt={};function mt(n,t,e){return n=vt(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function vt(n,i,r){return function(t){var e=H.event;H.event=t;try{n.call(this,this.__data__,i,r)}finally{H.event=e}}}function yt(o){return function(){var t=this.__on;if(t){for(var e,n=0,i=-1,r=t.length;n<r;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function _t(u,l,c){var h=gt.hasOwnProperty(u.type)?mt:vt;return function(t,e,n){var i,r=this.__on,o=h(l,e,n);if(r)for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===u.type&&i.name===u.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=o,i.capture=c),void(i.value=l);this.addEventListener(u.type,o,c),i={type:u.type,name:u.name,value:l,listener:o,capture:c},r?r.push(i):this.__on=[i]}}function bt(t,e,n,i){var r=H.event;t.sourceEvent=H.event,H.event=t;try{return e.apply(n,i)}finally{H.event=r}}function xt(t,e,n){var i=tt(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}H.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(gt={mouseenter:"mouseover",mouseleave:"mouseout"}));var wt=[null];function Ct(t,e){this._groups=t,this._parents=e}function Et(){return new Ct([[document.documentElement]],wt)}function St(t){return"string"==typeof t?new Ct([[document.querySelector(t)]],[document.documentElement]):new Ct([[t]],wt)}Ct.prototype=Et.prototype={constructor:Ct,select:function(t){"function"!=typeof t&&(t=U(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],u=a.length,l=i[r]=new Array(u),c=0;c<u;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),l[c]=s);return new Ct(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=W(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,l=0;l<u;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new Ct(i,r)},filter:function(t){"function"!=typeof t&&(t=Y(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Ct(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,i=e?J:K,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),u=new Array(s),l=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,r),g=p.length,m=u[c]=new Array(g),v=a[c]=new Array(g);i(h,f,m,v,l[c]=new Array(d),p,e);for(var y,_,b=0,x=0;b<g;++b)if(y=m[b]){for(x<=b&&(x=b+1);!(_=v[x])&&++x<g;);y._next=_||null}}return(a=new Ct(a,r))._enter=u,a._exit=l,a},enter:function(){return new Ct(this._enter||this._groups.map(X),this._parents)},exit:function(){return new Ct(this._exit||this._groups.map(X),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit(),i="function"==typeof t?t(i):i.append(t+"");return null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;a<i;++a)s[a]=e[a];return new Ct(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];0<=--o;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||Q;for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var s,a=e[o],u=a.length,l=r[o]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(t)}return new Ct(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=j(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,i){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):et(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=nt(t+"");if(arguments.length<2){for(var i=it(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ot:st)(this,t)}}:e?function(t){return function(){ot(this,t)}}:function(t){return function(){st(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ut:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(lt)},lower:function(){return this.each(ct)},append:function(t){var e="function"==typeof t?t:q(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:q(t),i=null==e?ht:"function"==typeof e?e:U(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?pt:dt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),s=o.length;if(!(arguments.length<2)){for(a=e?_t:yt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<s;++i)if((r=o[i]).type===u.type&&r.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return xt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return xt(this,t,e)}})(t,e))}};var Mt=0;function Lt(){return new Tt}function Tt(){this._="@"+(++Mt).toString(36)}function Nt(){for(var t,e=H.event;t=e.sourceEvent;)e=t;return e}function It(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function kt(t){var e=Nt();return e.changedTouches&&(e=e.changedTouches[0]),It(t,e)}function Pt(t,e,n){arguments.length<3&&(n=e,e=Nt().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return It(t,i);return null}function At(){H.event.stopImmediatePropagation()}function Dt(){H.event.preventDefault(),H.event.stopImmediatePropagation()}function Ot(t){var e=t.document.documentElement,n=St(t).on("dragstart.drag",Dt,!0);"onselectstart"in e?n.on("selectstart.drag",Dt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Rt(t,e){var n=t.document.documentElement,i=St(t).on("dragstart.drag",null);e&&(i.on("click.drag",Dt,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function $t(t){return function(){return t}}function Ft(t,e,n,i,r,o,s,a,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=l}function zt(){return!H.event.ctrlKey&&!H.event.button}function Bt(){return this.parentNode}function jt(t){return null==t?{x:H.event.x,y:H.event.y}:t}function qt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ht(t,e,n){(t.prototype=e.prototype=n).constructor=t}function Vt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ut(){}Tt.prototype=Lt.prototype={constructor:Tt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Ft.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Gt="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xt=/^#([0-9a-f]{3,8})$/,Zt=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Kt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Jt=new RegExp("^rgba\\("+[Gt,Gt,Gt,Wt]+"\\)$"),Qt=new RegExp("^rgba\\("+[Yt,Yt,Yt,Wt]+"\\)$"),te=new RegExp("^hsl\\("+[Wt,Yt,Yt]+"\\)$"),ee=new RegExp("^hsla\\("+[Wt,Yt,Yt,Wt]+"\\)$"),ne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ie(){return this.rgb().formatHex()}function re(){return this.rgb().formatRgb()}function oe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?se(e):3===n?new ce(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ae(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Zt.exec(t))?new ce(e[1],e[2],e[3],1):(e=Kt.exec(t))?new ce(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Jt.exec(t))?ae(e[1],e[2],e[3],e[4]):(e=Qt.exec(t))?ae(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=te.exec(t))?pe(e[1],e[2]/100,e[3]/100,1):(e=ee.exec(t))?pe(e[1],e[2]/100,e[3]/100,e[4]):ne.hasOwnProperty(t)?se(ne[t]):"transparent"===t?new ce(NaN,NaN,NaN,0):null}function se(t){return new ce(t>>16&255,t>>8&255,255&t,1)}function ae(t,e,n,i){return i<=0&&(t=e=n=NaN),new ce(t,e,n,i)}function ue(t){return t instanceof Ut||(t=oe(t)),t?new ce((t=t.rgb()).r,t.g,t.b,t.opacity):new ce}function le(t,e,n,i){return 1===arguments.length?ue(t):new ce(t,e,n,null==i?1:i)}function ce(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function he(){return"#"+de(this.r)+de(this.g)+de(this.b)}function fe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function de(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function pe(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new ve(t,e,n,i)}function ge(t){if(t instanceof ve)return new ve(t.h,t.s,t.l,t.opacity);if(t instanceof Ut||(t=oe(t)),!t)return new ve;if(t instanceof ve)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=0<u&&u<1?0:s,new ve(s,a,u,t.opacity)}function me(t,e,n,i){return 1===arguments.length?ge(t):new ve(t,e,n,null==i?1:i)}function ve(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ye(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ht(Ut,oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ie,formatHex:ie,formatHsl:function(){return ge(this).formatHsl()},formatRgb:re,toString:re}),Ht(ce,le,Vt(Ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ce(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:he,formatHex:he,formatRgb:fe,toString:fe})),Ht(ve,me,Vt(Ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ve(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ve(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ce(ye(240<=t?t-240:120+t,r,i),ye(t,r,i),ye(t<120?240+t:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var _e=Math.PI/180,be=180/Math.PI,xe=.96422,we=1,Ce=.82521,Ee=4/29,Se=6/29*3*(6/29),Me=6/29*(6/29)*(6/29);function Le(t){if(t instanceof Ne)return new Ne(t.l,t.a,t.b,t.opacity);if(t instanceof Re)return $e(t);t instanceof ce||(t=ue(t));var e,n,i=Ae(t.r),r=Ae(t.g),o=Ae(t.b),s=Ie((.2225045*i+.7168786*r+.0606169*o)/we);return i===r&&r===o?e=n=s:(e=Ie((.4360747*i+.3850649*r+.1430804*o)/xe),n=Ie((.0139322*i+.0971045*r+.7141733*o)/Ce)),new Ne(116*s-16,500*(e-s),200*(s-n),t.opacity)}function Te(t,e,n,i){return 1===arguments.length?Le(t):new Ne(t,e,n,null==i?1:i)}function Ne(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function Ie(t){return Me<t?Math.pow(t,1/3):t/Se+Ee}function ke(t){return 6/29<t?t*t*t:Se*(t-Ee)}function Pe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ae(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function De(t){if(t instanceof Re)return new Re(t.h,t.c,t.l,t.opacity);if(t instanceof Ne||(t=Le(t)),0===t.a&&0===t.b)return new Re(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*be;return new Re(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Oe(t,e,n,i){return 1===arguments.length?De(t):new Re(t,e,n,null==i?1:i)}function Re(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function $e(t){if(isNaN(t.h))return new Ne(t.l,0,0,t.opacity);var e=t.h*_e;return new Ne(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ht(Ne,Te,Vt(Ut,{brighter:function(t){return new Ne(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ne(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ce(Pe(3.1338561*(e=xe*ke(e))-1.6168667*(t=we*ke(t))-.4906146*(n=Ce*ke(n))),Pe(-.9787684*e+1.9161415*t+.033454*n),Pe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ht(Re,Oe,Vt(Ut,{brighter:function(t){return new Re(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Re(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return $e(this).rgb()}}));var Fe=-.29227,ze=-.90649,Be=1.97294,je=Be*ze,qe=1.78277*Be,He=1.78277*Fe- -.14861*ze;function Ve(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ue)return new Ue(t.h,t.s,t.l,t.opacity);t instanceof ce||(t=ue(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(He*i+je*e-qe*n)/(He+je-qe),o=i-r,s=(Be*(n-r)-Fe*o)/ze,a=Math.sqrt(s*s+o*o)/(Be*r*(1-r)),u=a?Math.atan2(s,o)*be-120:NaN;return new Ue(u<0?u+360:u,a,r,t.opacity)}(t):new Ue(t,e,n,null==i?1:i)}function Ue(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Ge(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function We(s){var a=s.length-1;return function(t){var e=t<=0?t=0:1<=t?a-(t=1):Math.floor(t*a),n=s[e],i=s[e+1],r=0<e?s[e-1]:2*n-i,o=e<a-1?s[e+2]:2*i-n;return Ge((t-e/a)*a,r,n,i,o)}}function Ye(s){var a=s.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*a),n=s[(e+a-1)%a],i=s[e%a],r=s[(e+1)%a],o=s[(e+2)%a];return Ge((t-e/a)*a,n,i,r,o)}}function Xe(t){return function(){return t}}function Ze(e,n){return function(t){return e+t*n}}function Ke(t,e){var n=e-t;return n?Ze(t,180<n||n<-180?n-360*Math.round(n/360):n):Xe(isNaN(t)?e:t)}function Je(o){return 1==(o=+o)?Qe:function(t,e){return e-t?(n=t,i=e,r=o,n=Math.pow(n,r),i=Math.pow(i,r)-n,r=1/r,function(t){return Math.pow(n+t*i,r)}):Xe(isNaN(t)?e:t);var n,i,r}}function Qe(t,e){var n=e-t;return n?Ze(t,n):Xe(isNaN(t)?e:t)}Ht(Ue,Ve,Vt(Ut,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ue(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ue(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*_e,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new ce(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(Fe*i+ze*r)),255*(e+Be*i*n),this.opacity)}}));var tn=function t(e){var s=Je(e);function n(e,t){var n=s((e=le(e)).r,(t=le(t)).r),i=s(e.g,t.g),r=s(e.b,t.b),o=Qe(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function en(a){return function(t){for(var e,n=t.length,i=new Array(n),r=new Array(n),o=new Array(n),s=0;s<n;++s)e=le(t[s]),i[s]=e.r||0,r[s]=e.g||0,o[s]=e.b||0;return i=a(i),r=a(r),o=a(o),e.opacity=1,function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e+""}}}var nn=en(We),rn=en(Ye);function on(e,n){n=n||[];var i,r=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(i=0;i<r;++i)o[i]=e[i]*(1-t)+n[i]*t;return o}}function sn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function an(t,e){for(var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),s=0;s<i;++s)r[s]=pn(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(t){for(s=0;s<i;++s)o[s]=r[s](t);return o}}function un(e,n){var i=new Date;return e=+e,n=+n,function(t){return i.setTime(e*(1-t)+n*t),i}}function ln(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function cn(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=pn(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(hn.source,"g");function dn(t,i){var e,n,r,o,s,a=hn.lastIndex=fn.lastIndex=0,u=-1,l=[],c=[];for(t+="",i+="";(e=hn.exec(t))&&(n=fn.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),l[u]?l[u]+=r:l[++u]=r),(e=e[0])===(n=n[0])?l[u]?l[u]+=n:l[++u]=n:(l[++u]=null,c.push({i:u,x:ln(e,n)})),a=fn.lastIndex;return a<i.length&&(r=i.slice(a),l[u]?l[u]+=r:l[++u]=r),l.length<2?c[0]?(s=c[0].x,function(t){return s(t)+""}):(o=i,function(){return o}):(i=c.length,function(t){for(var e,n=0;n<i;++n)l[(e=c[n]).i]=e.x(t);return l.join("")})}function pn(t,e){var n,i=typeof e;return null==e||"boolean"==i?Xe(e):("number"==i?ln:"string"==i?(n=oe(e))?(e=n,tn):dn:e instanceof oe?tn:e instanceof Date?un:sn(e)?on:Array.isArray(e)?an:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?cn:ln)(t,e)}function gn(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var mn,vn,yn,_n,bn=180/Math.PI,xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wn(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*bn,skewX:Math.atan(u)*bn,scaleX:s,scaleY:a}}function Cn(E,S,M,L){function T(t){return t.length?t.pop()+" ":""}return function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w=[],C=[];return t=E(t),e=E(e),g=t.translateX,m=t.translateY,v=e.translateX,y=e.translateY,_=w,b=C,g!==v||m!==y?(x=_.push("translate(",null,S,null,M),b.push({i:x-4,x:ln(g,v)},{i:x-2,x:ln(m,y)})):(v||y)&&_.push("translate("+v+S+y+M),f=t.rotate,d=e.rotate,p=w,f!==d?(180<f-d?d+=360:180<d-f&&(f+=360),C.push({i:p.push(T(p)+"rotate(",null,L)-2,x:ln(f,d)})):d&&p.push(T(p)+"rotate("+d+L),l=t.skewX,c=e.skewX,h=w,l!==c?C.push({i:h.push(T(h)+"skewX(",null,L)-2,x:ln(l,c)}):c&&h.push(T(h)+"skewX("+c+L),n=t.scaleX,i=t.scaleY,r=e.scaleX,o=e.scaleY,s=w,a=C,n!==r||i!==o?(u=s.push(T(s)+"scale(",null,",",null,")"),a.push({i:u-4,x:ln(n,r)},{i:u-2,x:ln(i,o)})):1===r&&1===o||s.push(T(s)+"scale("+r+","+o+")"),t=e=null,function(t){for(var e,n=-1,i=C.length;++n<i;)w[(e=C[n]).i]=e.x(t);return w.join("")}}}var En=Cn(function(t){return"none"===t?xn:(mn||(mn=document.createElement("DIV"),vn=document.documentElement,yn=document.defaultView),mn.style.transform=t,t=yn.getComputedStyle(vn.appendChild(mn),null).getPropertyValue("transform"),vn.removeChild(mn),wn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Sn=Cn(function(t){return null==t?xn:((_n=_n||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=_n.transform.baseVal.consolidate())?wn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):xn)},", ",")",")"),Mn=Math.SQRT2;function Ln(t){return((t=Math.exp(t))+1/t)/2}function Tn(t,e){var s,n,i,a,u,r,l=t[0],c=t[1],h=t[2],o=e[0],f=e[1],d=e[2],p=o-l,g=f-c,m=p*p+g*g;return(r=m<1e-12?(u=Math.log(d/h)/Mn,function(t){return[l+t*p,c+t*g,h*Math.exp(Mn*t*u)]}):(s=Math.sqrt(m),n=(d*d-h*h+4*m)/(2*h*2*s),i=(d*d-h*h-4*m)/(2*d*2*s),a=Math.log(Math.sqrt(n*n+1)-n),u=(Math.log(Math.sqrt(i*i+1)-i)-a)/Mn,function(t){var e,n,i=t*u,r=Ln(a),o=h/(2*s)*(r*(n=Mn*i+a,((n=Math.exp(2*n))-1)/(n+1))-(e=a,((e=Math.exp(e))-1/e)/2));return[l+o*p,c+o*g,h*r/Ln(Mn*i+a)]})).duration=1e3*u,r}function Nn(s){return function(e,t){var n=s((e=me(e)).h,(t=me(t)).h),i=Qe(e.s,t.s),r=Qe(e.l,t.l),o=Qe(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(t),e.opacity=o(t),e+""}}}var In=Nn(Ke),kn=Nn(Qe);function Pn(s){return function(e,t){var n=s((e=Oe(e)).h,(t=Oe(t)).h),i=Qe(e.c,t.c),r=Qe(e.l,t.l),o=Qe(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=o(t),e+""}}}var An=Pn(Ke),Dn=Pn(Qe);function On(a){return function t(s){function e(e,t){var n=a((e=Ve(e)).h,(t=Ve(t)).h),i=Qe(e.s,t.s),r=Qe(e.l,t.l),o=Qe(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(Math.pow(t,s)),e.opacity=o(t),e+""}}return s=+s,e.gamma=t,e}(1)}var Rn,$n,Fn=On(Ke),zn=On(Qe),Bn=0,jn=0,qn=0,Hn=1e3,Vn=0,Un=0,Gn=0,Wn="object"==typeof performance&&performance.now?performance:Date,Yn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xn(){return Un||(Yn(Zn),Un=Wn.now()+Gn)}function Zn(){Un=0}function Kn(){this._call=this._time=this._next=null}function Jn(t,e,n){var i=new Kn;return i.restart(t,e,n),i}function Qn(){Xn(),++Bn;for(var t,e=Rn;e;)0<=(t=Un-e._time)&&e._call.call(null,t),e=e._next;--Bn}function ti(){Un=(Vn=Wn.now())+Gn,Bn=jn=0;try{Qn()}finally{Bn=0,function(){for(var t,e,n=Rn,i=1/0;n;)n=n._call?(i>n._time&&(i=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:Rn=e);$n=t,ni(i)}(),Un=0}}function ei(){var t=Wn.now(),e=t-Vn;Hn<e&&(Gn-=e,Vn=t)}function ni(t){Bn||(jn=jn&&clearTimeout(jn),24<t-Un?(t<1/0&&(jn=setTimeout(ti,t-Wn.now()-Gn)),qn=qn&&clearInterval(qn)):(qn||(Vn=Wn.now(),qn=setInterval(ei,Hn)),Bn=1,Yn(ti)))}function ii(e,n,t){var i=new Kn;return n=null==n?0:+n,i.restart(function(t){i.stop(),e(t+n)},n,t),i}Kn.prototype=Jn.prototype={constructor:Kn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Xn():+n)+(null==e?0:+e),this._next||$n===this||($n?$n._next=this:Rn=this,$n=this),this._call=t,this._time=n,ni()},stop:function(){this._call&&(this._call=null,this._time=1/0,ni())}};var ri=R("start","end","cancel","interrupt"),oi=[],si=0,ai=1,ui=2,li=3,ci=4,hi=5,fi=6;function di(t,e,n,i,r,o){var s,a,u,l,c,h=t.__transition;if(h){if(n in h)return}else t.__transition={};function f(t){var e,n,i,r;if(u.state!==ai)return p();for(e in c)if((r=c[e]).name===u.name){if(r.state===li)return ii(f);r.state===ci?(r.state=fi,r.timer.stop(),r.on.call("interrupt",s,s.__data__,r.index,r.group),delete c[e]):+e<a&&(r.state=fi,r.timer.stop(),r.on.call("cancel",s,s.__data__,r.index,r.group),delete c[e])}if(ii(function(){u.state===li&&(u.state=ci,u.timer.restart(d,u.delay,u.time),d(t))}),u.state=ui,u.on.call("start",s,s.__data__,u.index,u.group),u.state===ui){for(u.state=li,l=new Array(i=u.tween.length),e=0,n=-1;e<i;++e)(r=u.tween[e].value.call(s,s.__data__,u.index,u.group))&&(l[++n]=r);l.length=n+1}}function d(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(p),u.state=hi,1),n=-1,i=l.length;++n<i;)l[n].call(s,e);u.state===hi&&(u.on.call("end",s,s.__data__,u.index,u.group),p())}function p(){for(var t in u.state=fi,u.timer.stop(),delete c[a],c)return;delete s.__transition}s=t,a=n,u={name:e,index:i,group:r,on:ri,tween:oi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:si},((c=s.__transition)[a]=u).timer=Jn(function(t){u.state=ai,u.timer.restart(f,u.delay,u.time),u.delay<=t&&f(t-u.delay)},0,u.time)}function pi(t,e){var n=mi(t,e);if(n.state>si)throw new Error("too late; already scheduled");return n}function gi(t,e){var n=mi(t,e);if(n.state>li)throw new Error("too late; already running");return n}function mi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vi(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>ui&&n.state<hi,n.state=fi,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}}function yi(t,e,n){var i=t._id;return t.each(function(){var t=gi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return mi(t,i).value[e]}}function _i(t,e){var n;return("number"==typeof e?ln:e instanceof oe?tn:(n=oe(e))?(e=n,tn):dn)(t,e)}var bi=Et.prototype.constructor;function xi(t){return function(){this.style.removeProperty(t)}}var wi=0;function Ci(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Ei(t){return Et().transition(t)}function Si(){return++wi}var Mi=Et.prototype;function Li(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ti(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ci.prototype=Ei.prototype={constructor:Ci,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=U(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,u,l=i[s],c=l.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,di(h[f],e,n,f,h,mi(a,n)));return new Ci(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=W(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=mi(u,n),g=0,m=d.length;g<m;++g)(f=d[g])&&di(f,e,n,g,d,p);o.push(d),s.push(u)}return new Ci(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Y(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,u=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new Ci(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;a<i;++a)s[a]=e[a];return new Ci(s,this._parents,this._name,this._id)},selection:function(){return new bi(this._groups,this._parents)},transition:function(){for(var t,e=this._name,n=this._id,i=Si(),r=this._groups,o=r.length,s=0;s<o;++s)for(var a,u=r[s],l=u.length,c=0;c<l;++c){(a=u[c])&&di(a,e,i,c,u,{time:(t=mi(a,n)).time+t.delay+t.duration,delay:0,duration:t.duration,ease:t.ease})}return new Ci(r,this._parents,e,i)},call:Mi.call,nodes:Mi.nodes,node:Mi.node,size:Mi.size,empty:Mi.empty,each:Mi.each,on:function(t,e){var n,i,r,o,s,a,u=this._id;return arguments.length<2?mi(this.node(),u).on.on(t):this.each((n=u,r=e,a=((i=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?pi:gi,function(){var t=a(this,n),e=t.on;e!==o&&(s=(o=e).copy()).on(i,r),t.on=s}))},attr:function(t,e){var n=j(t),i="transform"===n?Sn:_i;return this.attrTween(t,"function"==typeof e?(n.local?function(i,r,o){var s,a,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(i.space,i.local))===(e=n+"")?null:t===s&&e===a?u:(a=e,u=r(s=t,n));this.removeAttributeNS(i.space,i.local)}}:function(i,r,o){var s,a,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(i))===(e=n+"")?null:t===s&&e===a?u:(a=e,u=r(s=t,n));this.removeAttribute(i)}})(n,i,yi(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,i){var r,o,s=i+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===s?null:t===r?o:o=n(r=t,i)}}:function(e,n,i){var r,o,s=i+"";return function(){var t=this.getAttribute(e);return t===s?null:t===r?o:o=n(r=t,i)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=j(t);return this.tween(n,(i.local?function(i,r){var o,s;function t(){var e,n,t=r.apply(this,arguments);return t!==s&&(o=(s=t)&&(e=i,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))})),o}return t._value=r,t}:function(i,r){var o,s;function t(){var e,n,t=r.apply(this,arguments);return t!==s&&(o=(s=t)&&(e=i,n=t,function(t){this.setAttribute(e,n.call(this,t))})),o}return t._value=r,t})(i,e))},style:function(t,e,n){var i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E,S,M,L,T="transform"==(t+="")?En:_i;return null==e?this.styleTween(t,(C=t,E=T,function(){var t=et(this,C),e=(this.style.removeProperty(C),et(this,C));return t===e?null:t===S&&e===M?L:L=E(S=t,M=e)})).on("end.style."+t,xi(t)):"function"==typeof e?this.styleTween(t,(y=T,_=yi(this,"style."+(v=t),e),function(){var t=et(this,v),e=_(this),n=e+"";return null==e&&(this.style.removeProperty(v),n=e=et(this,v)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((l=this._id,m="end."+(g="style."+(c=t)),function(){var t=gi(this,l),e=t.on,n=null==t.value[g]?p=p||xi(c):void 0;e===h&&d===n||(f=(h=e).copy()).on(m,d=n),t.on=f})):this.styleTween(t,(i=t,r=T,u=(o=e)+"",function(){var t=et(this,i);return t===u?null:t===s?a:a=r(s=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r,o,s,a,u,i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,(r=t,s=null==n?"":n,l._value=o=e,l));function l(){var e,n,i,t=o.apply(this,arguments);return t!==u&&(a=(u=t)&&(e=r,n=t,i=s,function(t){this.style.setProperty(e,n.call(this,t),i)})),a}},text:function(t){return this.tween("text","function"==typeof t?(n=yi(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var n,i,r,e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,(o._value=n=t,o));function o(){var e,t=n.apply(this,arguments);return t!==r&&(i=(r=t)&&(e=t,function(t){this.textContent=e.call(this,t)})),i}},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=mi(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(r,o){var s,a;return function(){var t=gi(this,r),e=t.tween;if(e!==s)for(var n=0,i=(a=s=e).length;n<i;++n)if(a[n].name===o){(a=a.slice()).splice(n,1);break}t.tween=a}}:function(o,s,a){var u,l;if("function"!=typeof a)throw new Error;return function(){var t=gi(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:s,value:a},i=0,r=l.length;i<r;++i)if(l[i].name===s){l[i]=n;break}i===r&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){pi(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){pi(this,t).delay=e}})(e,t)):mi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){gi(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){gi(this,t).duration=e}})(e,t)):mi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){gi(this,t).ease=e}}(e,t)):mi(this.node(),e).ease},end:function(){var r,o,s=this,a=s._id,u=s.size();return new Promise(function(t,e){var n={value:e},i={value:function(){0==--u&&t()}};s.each(function(){var t=gi(this,a),e=t.on;e!==r&&((o=(r=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(i)),t.on=o})})}};var Ni=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ii=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),ki=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Pi=Math.PI,Ai=Pi/2;function Di(t){return(1-Math.cos(Pi*t))/2}function Oi(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ri(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var $i=7.5625;function Fi(t){return(t=+t)<4/11?$i*t*t:t<8/11?$i*(t-=6/11)*t+.75:t<10/11?$i*(t-=9/11)*t+.9375:$i*(t-=21/22)*t+63/64}var zi=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Bi=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),ji=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),qi=2*Math.PI,Hi=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=qi);function t(t){return n*Math.pow(2,10*--t)*Math.sin((r-t)/i)}return t.amplitude=function(t){return e(t,i*qi)},t.period=function(t){return e(n,t)},t}(1,.3),Vi=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=qi);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/i)}return t.amplitude=function(t){return e(t,i*qi)},t.period=function(t){return e(n,t)},t}(1,.3),Ui=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=qi);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((r-t)/i):2-n*Math.pow(2,-10*t)*Math.sin((r+t)/i))/2}return t.amplitude=function(t){return e(t,i*qi)},t.period=function(t){return e(n,t)},t}(1,.3),Gi={time:null,delay:0,duration:250,ease:Ti};Et.prototype.interrupt=function(t){return this.each(function(){vi(this,t)})},Et.prototype.transition=function(t){var e,n;t=t instanceof Ci?(e=t._id,t._name):(e=Si(),(n=Gi).time=Xn(),null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],u=a.length,l=0;l<u;++l)(s=a[l])&&di(s,t,e,l,a,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Gi.time=Xn(),Gi;return n}(s,e));return new Ci(i,this._parents,t,e)};var Wi=[null];function Yi(t){return function(){return t}}function Xi(t,e,n){this.target=t,this.type=e,this.selection=n}function Zi(){H.event.stopImmediatePropagation()}function Ki(){H.event.preventDefault(),H.event.stopImmediatePropagation()}var Ji={name:"drag"},Qi={name:"space"},tr={name:"handle"},er={name:"center"};function nr(t){return[+t[0],+t[1]]}function ir(t){return[nr(t[0]),nr(t[1])]}var rr={name:"x",handles:["w","e"].map(fr),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},or={name:"y",handles:["n","s"].map(fr),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},sr={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(fr),input:function(t){return null==t?null:ir(t)},output:function(t){return t}},ar={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ur={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},lr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},cr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},hr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fr(t){return{type:t}}function dr(){return!H.event.ctrlKey&&!H.event.button}function pr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function gr(){return navigator.maxTouchPoints||"ontouchstart"in this}function mr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function vr($){var F,e=pr,z=dr,i=gr,B=!0,n=R("start","brush","end"),r=6;function o(t){var e=t.property("__brush",c).selectAll(".overlay").data([fr("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ar.overlay).merge(e).each(function(){var t=mr(this).extent;St(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([fr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ar.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data($.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ar[t.type]}),t.each(j).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",a).filter(i).on("touchstart.brush",a).on("touchmove.brush",u).on("touchend.brush touchcancel.brush",l).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(){var t=St(this),e=mr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function q(t,e,n){return!n&&t.__brush.emitter||new s(t,e)}function s(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){var e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,t,_,b,x,w,C,E,S,M,L,T,N,I,k,P,A;function D(){var t=L(d);!M||c||h||(Math.abs(t[0]-N[0])>Math.abs(t[1]-N[1])?h=!0:c=!0),N=t,l=!0,Ki(),O()}function O(){var t;switch(E=N[0]-T[0],S=N[1]-T[1],g){case Qi:case Ji:m&&(E=Math.max(b-e,Math.min(w-o,E)),n=e+E,s=o+E),v&&(S=Math.max(x-i,Math.min(C-a,S)),r=i+S,u=a+S);break;case tr:m<0?(E=Math.max(b-e,Math.min(w-e,E)),n=e+E,s=o):0<m&&(E=Math.max(b-o,Math.min(w-o,E)),n=e,s=o+E),v<0?(S=Math.max(x-i,Math.min(C-i,S)),r=i+S,u=a):0<v&&(S=Math.max(x-a,Math.min(C-a,S)),r=i,u=a+S);break;case er:m&&(n=Math.max(b,Math.min(w,e-E*m)),s=Math.max(b,Math.min(w,o+E*m))),v&&(r=Math.max(x,Math.min(C,i-S*v)),u=Math.max(x,Math.min(C,a+S*v)))}s<n&&(m*=-1,t=e,e=o,o=t,t=n,n=s,s=t,p in ur&&P.attr("cursor",ar[p=ur[p]])),u<r&&(v*=-1,t=i,i=a,a=t,t=r,r=u,u=t,p in lr&&P.attr("cursor",ar[p=lr[p]])),y.selection&&(_=y.selection),c&&(n=_[0][0],s=_[1][0]),h&&(r=_[0][1],u=_[1][1]),_[0][0]===n&&_[0][1]===r&&_[1][0]===s&&_[1][1]===u||(y.selection=[[n,r],[s,u]],j.call(d),I.brush())}function R(){if(Zi(),H.event.touches){if(H.event.touches.length)return;F&&clearTimeout(F),F=setTimeout(function(){F=null},500)}else Rt(H.event.view,l),A.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);k.attr("pointer-events","all"),P.attr("cursor",ar.overlay),y.selection&&(_=y.selection),_[0][0]!==_[1][0]&&_[0][1]!==_[1][1]||(y.selection=null,j.call(d)),I.end()}F&&!H.event.touches||!z.apply(this,arguments)||(d=this,p=H.event.target.__data__.type,g="selection"===(B&&H.event.metaKey?p="overlay":p)?Ji:B&&H.event.altKey?er:tr,m=$===or?null:cr[p],v=$===rr?null:hr[p],t=(y=mr(d)).extent,_=y.selection,b=t[0][0],x=t[0][1],w=t[1][0],C=t[1][1],S=E=0,M=m&&v&&B&&H.event.shiftKey,L=H.event.touches?(f=H.event.changedTouches[0].identifier,function(t){return Pt(t,H.event.touches,f)}):kt,T=L(d),N=T,I=q(d,arguments,!0).beforestart(),"overlay"===p?(_&&(l=!0),y.selection=_=[[e=$===or?b:T[0],i=$===rr?x:T[1]],[o=$===or?w:e,a=$===rr?C:i]]):(e=_[0][0],i=_[0][1],o=_[1][0],a=_[1][1]),n=e,r=i,s=o,u=a,k=St(d).attr("pointer-events","none"),P=k.selectAll(".overlay").attr("cursor",ar[p]),H.event.touches?(I.moved=D,I.ended=R):(A=St(H.event.view).on("mousemove.brush",D,!0).on("mouseup.brush",R,!0),B&&A.on("keydown.brush",function(){switch(H.event.keyCode){case 16:M=m&&v;break;case 18:g===tr&&(m&&(o=s-E*m,e=n+E*m),v&&(a=u-S*v,i=r+S*v),g=er,O());break;case 32:g!==tr&&g!==er||(m<0?o=s-E:0<m&&(e=n-E),v<0?a=u-S:0<v&&(i=r-S),g=Qi,P.attr("cursor",ar.selection),O());break;default:return}Ki()},!0).on("keyup.brush",function(){switch(H.event.keyCode){case 16:M&&(c=h=M=!1,O());break;case 18:g===er&&(m<0?o=s:0<m&&(e=n),v<0?a=u:0<v&&(i=r),g=tr,O());break;case 32:g===Qi&&(g=H.event.altKey?(m&&(o=s-E*m,e=n+E*m),v&&(a=u-S*v,i=r+S*v),er):(m<0?o=s:0<m&&(e=n),v<0?a=u:0<v&&(i=r),tr),P.attr("cursor",ar[p]),O());break;default:return}Ki()},!0),Ot(H.event.view)),Zi(),vi(d),j.call(d),I.start())}function u(){q(this,arguments).moved()}function l(){q(this,arguments).ended()}function c(){var t=this.__brush||{selection:null};return t.extent=ir(e.apply(this,arguments)),t.dim=$,t}return o.move=function(t,a){t.selection?t.on("start.brush",function(){q(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){q(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,i=q(e,arguments),t=n.selection,r=$.input("function"==typeof a?a.apply(this,arguments):a,n.extent),o=pn(t,r);function s(t){n.selection=1===t&&null===r?null:o(t),j.call(e),i.brush()}return null!==t&&null!==r?s:s(1)}):t.each(function(){var t=arguments,e=this.__brush,n=$.input("function"==typeof a?a.apply(this,t):a,e.extent),i=q(this,t).beforestart();vi(this),e.selection=null===n?null:n,j.call(this),i.start().brush().end()})},o.clear=function(t){o.move(t,null)},s.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){bt(new Xi(o,t,$.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:Yi(ir(t)),o):e},o.filter=function(t){return arguments.length?(z="function"==typeof t?t:Yi(!!t),o):z},o.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Yi(!!t),o):i},o.handleSize=function(t){return arguments.length?(r=+t,o):r},o.keyModifiers=function(t){return arguments.length?(B=!!t,o):B},o.on=function(){var t=n.on.apply(n,arguments);return t===n?o:t},o}var yr=Math.cos,_r=Math.sin,br=Math.PI,xr=br/2,wr=2*br,Cr=Math.max;var Er=Array.prototype.slice;function Sr(t){return function(){return t}}var Mr=Math.PI,Lr=2*Mr,Tr=Lr-1e-6;function Nr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ir(){return new Nr}function kr(t){return t.source}function Pr(t){return t.target}function Ar(t){return t.radius}function Dr(t){return t.startAngle}function Or(t){return t.endAngle}function Rr(){}function $r(t,e){var n=new Rr;if(t instanceof Rr)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function Fr(){return{}}function zr(t,e,n){t[e]=n}function Br(){return $r()}function jr(t,e,n){t.set(e,n)}function qr(){}Nr.prototype=Ir.prototype={constructor:Nr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o,s,a,u,l,c,h,f,d,p=this._x1,g=this._y1,m=n-t,v=i-e,y=p-t,_=g-e,b=y*y+_*_;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):1e-6<b&&(1e-6<Math.abs(_*m-v*y)&&r?(a=m*m+v*v,u=(o=n-p)*o+(s=i-g)*s,l=Math.sqrt(a),c=Math.sqrt(b),f=(h=r*Math.tan((Mr-Math.acos((a+b-u)/(2*l*c)))/2))/c,d=h/l,1e-6<Math.abs(f-1)&&(this._+="L"+(t+f*y)+","+(e+f*_)),this._+="A"+r+","+r+",0,0,"+ +(y*s<_*o)+","+(this._x1=t+d*m)+","+(this._y1=e+d*v)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),u=t+s,l=e+a,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-l))&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Lr+Lr),Tr<h?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):1e-6<h&&(this._+="A"+n+","+n+",0,"+ +(Mr<=h)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},Rr.prototype=$r.prototype={constructor:Rr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Hr=$r.prototype;function Vr(t,e){var n=new qr;if(t instanceof qr)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}qr.prototype=Vr.prototype={constructor:qr,has:Hr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Hr.remove,clear:Hr.clear,values:Hr.keys,size:Hr.size,empty:Hr.empty,each:Hr.each};var Ur=Array.prototype.slice;function Gr(t,e){return t-e}function Wr(t){return function(){return t}}function Yr(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=function(t,e){for(var n=e[0],i=e[1],r=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var u=t[o],l=u[0],c=u[1],h=t[a],f=h[0],d=h[1];if(function(t,e,n){var i,r,o,s;return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])&&(r=t[i=+(t[0]===e[0])],o=n[i],s=e[i],r<=o&&o<=s||s<=o&&o<=r)}(u,h,e))return 0;i<c!=i<d&&n<(f-l)*(i-c)/(d-c)+l&&(r=-r)}return r}(t,e[i]))return n;return 0}function Xr(){}var Zr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Kr(){var f=1,d=1,o=_,s=e;function i(e){var t,n,i,r=o(e);return(r=Array.isArray(r)?r.slice().sort(Gr):(r=M(n=(t=u(e))[0],i=t[1],r),S(Math.floor(n/r)*r,Math.floor(i/r)*r,r))).map(function(t){return a(e,t)})}function a(e,n){var r=[],i=[];return function(t,e,a){var u,n,i,r,l=new Array,c=new Array,h=u=-1,o=t[0]>=e;for(Zr[o<<1].forEach(s);++h<f-1;)n=o,o=t[h+1]>=e,Zr[n|o<<1].forEach(s);for(Zr[o<<0].forEach(s);++u<d-1;){for(h=-1,o=t[u*f+f]>=e,i=t[u*f]>=e,Zr[o<<1|i<<2].forEach(s);++h<f-1;)n=o,o=t[u*f+f+h+1]>=e,r=i,i=t[u*f+h+1]>=e,Zr[n|o<<1|i<<2|r<<3].forEach(s);Zr[o|i<<3].forEach(s)}for(h=-1,i=t[u*f]>=e,Zr[i<<2].forEach(s);++h<f-1;)r=i,i=t[u*f+h+1]>=e,Zr[i<<2|r<<3].forEach(s);function s(t){var e,n,i=[t[0][0]+h,t[0][1]+u],r=[t[1][0]+h,t[1][1]+u],o=p(i),s=p(r);(e=c[o])?(n=l[s])?(delete c[e.end],delete l[n.start],e===n?(e.ring.push(r),a(e.ring)):l[e.start]=c[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete c[e.end],e.ring.push(r),c[e.end=s]=e):(e=l[s])?(n=c[o])?(delete l[e.start],delete c[n.end],e===n?(e.ring.push(r),a(e.ring)):l[n.start]=c[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete l[e.start],e.ring.unshift(i),l[e.start=o]=e):l[o]=c[s]={start:o,end:s,ring:[i,r]}}Zr[i<<3].forEach(s)}(e,n,function(t){s(t,e,n),0<function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)?r.push([t]):i.push(t)}),i.forEach(function(t){for(var e,n=0,i=r.length;n<i;++n)if(-1!==Yr((e=r[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:n,coordinates:r}}function p(t){return 2*t[0]+t[1]*(f+1)*4}function e(t,a,u){t.forEach(function(t){var e,n=t[0],i=t[1],r=0|n,o=0|i,s=a[o*f+r];0<n&&n<f&&r===n&&(e=a[o*f+r-1],t[0]=n+(u-e)/(s-e)-.5),0<i&&i<d&&o===i&&(e=a[(o-1)*f+r],t[1]=i+(u-e)/(s-e)-.5)})}return i.contour=a,i.size=function(t){if(!arguments.length)return[f,d];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(0<e&&0<n))throw new Error("invalid size");return f=e,d=n,i},i.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:Array.isArray(t)?Wr(Ur.call(t)):Wr(t),i):o},i.smooth=function(t){return arguments.length?(s=t?e:Xr,i):s===e},i}function Jr(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,u=0;a<i+n;++a)a<i&&(u+=t.data[a+s*i]),n<=a&&(o<=a&&(u-=t.data[a-o+s*i]),e.data[a-n+s*i]=u/Math.min(a+1,i-1+o-a,o))}function Qr(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,u=0;a<r+n;++a)a<r&&(u+=t.data[s+a*i]),n<=a&&(o<=a&&(u-=t.data[s+(a-o)*i]),e.data[s+(a-n)*i]=u/Math.min(a+1,r-1+o-a,o))}function to(t){return t[0]}function eo(t){return t[1]}function no(){return 1}var io={},ro={};function oo(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function so(t){var n=Object.create(null),i=[];return t.forEach(function(t){for(var e in t)e in n||i.push(n[e]=e)}),i}function ao(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function uo(i){var a=new RegExp('["'+i+"\n\r]"),h=i.charCodeAt(0);function n(i,t){var e,n=[],r=i.length,o=0,s=0,a=r<=0,u=!1;function l(){if(a)return ro;if(u)return u=!1,io;var t,e,n=o;if(34===i.charCodeAt(n)){for(;o++<r&&34!==i.charCodeAt(o)||34===i.charCodeAt(++o););return(t=o)>=r?a=!0:10===(e=i.charCodeAt(o++))?u=!0:13===e&&(u=!0,10===i.charCodeAt(o)&&++o),i.slice(n+1,t-1).replace(/""/g,'"')}for(;o<r;){if(10===(e=i.charCodeAt(t=o++)))u=!0;else if(13===e)u=!0,10===i.charCodeAt(o)&&++o;else if(e!==h)continue;return i.slice(n,t)}return a=!0,i.slice(n,r)}for(10===i.charCodeAt(r-1)&&--r,13===i.charCodeAt(r-1)&&--r;(e=l())!==ro;){for(var c=[];e!==io&&e!==ro;)c.push(e),e=l();t&&null==(c=t(c,s++))||n.push(c)}return n}function r(t,n){return t.map(function(e){return n.map(function(t){return o(e[t])}).join(i)})}function e(t){return t.map(o).join(i)}function o(t){return null==t?"":t instanceof Date?(i=(e=t).getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),s=e.getUTCMilliseconds(),isNaN(e)?"Invalid Date":((n=e.getUTCFullYear())<0?"-"+ao(-n,6):9999<n?"+"+ao(n,6):ao(n,4))+"-"+ao(e.getUTCMonth()+1,2)+"-"+ao(e.getUTCDate(),2)+(s?"T"+ao(i,2)+":"+ao(r,2)+":"+ao(o,2)+"."+ao(s,3)+"Z":o?"T"+ao(i,2)+":"+ao(r,2)+":"+ao(o,2)+"Z":r||i?"T"+ao(i,2)+":"+ao(r,2)+"Z":"")):a.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var e,n,i,r,o,s}return{parse:function(t,o){var s,a,e=n(t,function(t,e){return s?s(t,e-1):(a=t,void(s=o?(i=o,r=oo(n=t),function(t,e){return i(r(t),e,n)}):oo(t)));var n,i,r});return e.columns=a||[],e},parseRows:n,format:function(t,e){return null==e&&(e=so(t)),[e.map(o).join(i)].concat(r(t,e)).join("\n")},formatBody:function(t,e){return null==e&&(e=so(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(e).join("\n")},formatRow:e,formatValue:o}}var lo=uo(","),co=lo.parse,ho=lo.parseRows,fo=lo.format,po=lo.formatBody,go=lo.formatRows,mo=lo.formatRow,vo=lo.formatValue,yo=uo("\t"),_o=yo.parse,bo=yo.parseRows,xo=yo.format,wo=yo.formatBody,Co=yo.formatRows,Eo=yo.formatRow,So=yo.formatValue,Mo=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Lo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function To(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function No(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Io(t,e){return fetch(t,e).then(No)}function ko(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Io(t,e).then(function(t){return i(t,n)})}}var Po=ko(co),Ao=ko(_o);function Do(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Oo(n){return function(t,e){return Io(t,e).then(function(t){return(new DOMParser).parseFromString(t,n)})}}var Ro=Oo("application/xml"),$o=Oo("text/html"),Fo=Oo("image/svg+xml");function zo(t){return function(){return t}}function Bo(){return 1e-6*(Math.random()-.5)}function jo(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,u,l,c,h,f,d=t._root,p={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(s=(m+y)/2))?m=s:y=s,!(d=(r=d)[h=c<<1|l]))return r[h]=p,t;if(a=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===a&&n===u)return p.next=d,r?r[h]=p:t._root=p,t;for(;r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(s=(m+y)/2))?m=s:y=s,(h=c<<1|l)==(f=(s<=u)<<1|o<=a););return r[f]=d,r[h]=p,t}function qo(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Ho(t){return t[0]}function Vo(t){return t[1]}function Uo(t,e,n){var i=new Go(null==e?Ho:e,null==n?Vo:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Go(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function Wo(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Yo=Uo.prototype=Go.prototype;function Xo(t){return t.x+t.vx}function Zo(t){return t.y+t.vy}function Ko(t){return t.index}function Jo(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Qo(t){return t.x}function ts(t){return t.y}Yo.copy=function(){var t,e,n=new Go(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Wo(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=Wo(e));return n},Yo.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return jo(this.cover(e,n),e,n,t)},Yo.addAll=function(t){for(var e,n,i,r=t.length,o=new Array(r),s=new Array(r),a=1/0,u=1/0,l=-1/0,c=-1/0,h=0;h<r;++h)isNaN(n=+this._x.call(null,e=t[h]))||isNaN(i=+this._y.call(null,e))||((o[h]=n)<a&&(a=n),l<n&&(l=n),(s[h]=i)<u&&(u=i),c<i&&(c=i));if(l<a||c<u)return this;for(this.cover(a,u).cover(l,c),h=0;h<r;++h)jo(this,o[h],s[h],t[h]);return this},Yo.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,u=r-n,l=this._root;t<n||r<=t||e<i||o<=e;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=l,l=s,u*=2,a){case 0:r=n+u,o=i+u;break;case 1:n=r-u,o=i+u;break;case 2:r=n+u,i=o-u;break;case 3:n=r-u,i=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Yo.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},Yo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Yo.find=function(t,e,n){var i,r,o,s,a,u,l,c,h,f,d,p,g,m=this._x0,v=this._y0,y=this._x1,_=this._y1,b=[],x=this._root;for(x&&b.push(new qo(x,m,v,y,_)),null==n?n=1/0:(m=t-n,v=e-n,y=t+n,_=e+n,n*=n);a=b.pop();){!(x=a.node)||(i=a.x0)>y||(r=a.y0)>_||(o=a.x1)<m||(s=a.y1)<v||(x.length?(l=(i+o)/2,c=(r+s)/2,b.push(new qo(x[3],l,c,o,s),new qo(x[2],i,c,l,s),new qo(x[1],l,r,o,c),new qo(x[0],i,r,l,c)),(u=(c<=e)<<1|l<=t)&&(a=b[b.length-1],b[b.length-1]=b[b.length-1-u],b[b.length-1-u]=a)):(d=(h=t-this._x.call(null,x.data))*h+(f=e-this._y.call(null,x.data))*f)<n&&(m=t-(p=Math.sqrt(n=d)),v=e-p,y=t+p,_=e+p,g=x.data))}return g},Yo.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,u,l,c,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(a=(p+m)/2))?p=a:m=a,(c=s>=(u=(g+v)/2))?g=u:v=u,!(d=(e=d)[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(!(d=(i=d).next))return this;return(r=d.next)&&delete d.next,i?r?i.next=r:delete i.next:e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d)):this._root=r,this},Yo.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Yo.root=function(){return this._root},Yo.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},Yo.visit=function(t){var e,n,i,r,o,s,a,u,l=[],c=this._root;for(c&&l.push(new qo(c,this._x0,this._y0,this._x1,this._y1));e=l.pop();){!t(c=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&c.length&&(a=(i+o)/2,u=(r+s)/2,(n=c[3])&&l.push(new qo(n,a,u,o,s)),(n=c[2])&&l.push(new qo(n,i,u,a,s)),(n=c[1])&&l.push(new qo(n,a,r,o,u)),(n=c[0])&&l.push(new qo(n,i,r,a,u)))}return this},Yo.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new qo(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r,o,s,a,u,l,c,h=e.node;h.length&&(o=e.x0,s=e.y0,l=(o+(a=e.x1))/2,c=(s+(u=e.y1))/2,(r=h[0])&&n.push(new qo(r,o,s,l,c)),(r=h[1])&&n.push(new qo(r,l,s,a,c)),(r=h[2])&&n.push(new qo(r,o,c,l,u)),(r=h[3])&&n.push(new qo(r,l,c,a,u))),i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Yo.x=function(t){return arguments.length?(this._x=t,this):this._x},Yo.y=function(t){return arguments.length?(this._y=t,this):this._y};var es=Math.PI*(3-Math.sqrt(5));function ns(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]}function is(t){return(t=ns(Math.abs(t)))?t[1]:NaN}var rs,os=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ss(t){if(!(e=os.exec(t)))throw new Error("invalid format: "+t);var e;return new as({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function as(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function us(t,e){var n=ns(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}ss.prototype=as.prototype,as.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ls={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return us(100*t,e)},r:us,s:function(t,e){var n=ns(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(rs=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:s<o?i+new Array(o-s+1).join("0"):0<o?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+ns(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function cs(t){return t}var hs,fs=Array.prototype.map,ds=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ps(t){var a,u,e,w=void 0===t.grouping||void 0===t.thousands?cs:(a=fs.call(t.grouping,Number),u=t.thousands+"",function(t,e){for(var n=t.length,i=[],r=0,o=a[0],s=0;0<n&&0<o&&(e<s+o+1&&(o=Math.max(1,e-s)),i.push(t.substring(n-=o,n+o)),!((s+=o+1)>e));)o=a[r=(r+1)%a.length];return i.reverse().join(u)}),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",C=void 0===t.decimal?".":t.decimal+"",E=void 0===t.numerals?cs:(e=fs.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}),o=void 0===t.percent?"%":t.percent+"",S=void 0===t.minus?"-":t.minus+"",M=void 0===t.nan?"NaN":t.nan+"";function s(t){var l=(t=ss(t)).fill,c=t.align,h=t.sign,e=t.symbol,f=t.zero,d=t.width,p=t.comma,g=t.precision,m=t.trim,v=t.type;"n"===v?(p=!0,v="g"):ls[v]||(void 0===g&&(g=12),m=!0,v="g"),(f||"0"===l&&"="===c)&&(f=!0,l="0",c="=");var y="$"===e?i:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===e?r:/[%p]/.test(v)?o:"",b=ls[v],x=/[defgprs%]/.test(v);function n(t){var e,n,i,r=y,o=_;if("c"===v)o=b(t)+o,t="";else{var s=(t=+t)<0||1/t<0;if(t=isNaN(t)?M:b(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;0<r&&(r=0)}return 0<r?t.slice(0,r)+t.slice(e+1):t}(t)),s&&0==+t&&"+"!==h&&(s=!1),r=(s?"("===h?h:S:"-"===h||"("===h?"":h)+r,o=("s"===v?ds[8+rs/3]:"")+o+(s&&"("===h?")":""),x)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){o=(46===i?C+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!f&&(t=w(t,1/0));var a=r.length+t.length+o.length,u=a<d?new Array(d-a+1).join(l):"";switch(p&&f&&(t=w(u+t,u.length?d-o.length:1/0),u=""),c){case"<":t=r+t+o+u;break;case"=":t=r+u+t+o;break;case"^":t=u.slice(0,a=u.length>>1)+r+t+o+u.slice(a);break;default:t=u+r+t+o}return E(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:s,formatPrefix:function(t,e){var n=s(((t=ss(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(is(e)/3))),r=Math.pow(10,-i),o=ds[8+i/3];return function(t){return n(r*t)+o}}}}function gs(t){return hs=ps(t),H.format=hs.format,H.formatPrefix=hs.formatPrefix,hs}function ms(t){return Math.max(0,-is(Math.abs(t)))}function vs(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(is(e)/3)))-is(Math.abs(t)))}function ys(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,is(e)-is(t))+1}function _s(){return new bs}function bs(){this.reset()}gs({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),bs.prototype={constructor:bs,reset:function(){this.s=this.t=0},add:function(t){ws(xs,t,this.t),ws(this,xs.s,this.s),this.s?this.t+=xs.t:this.s=xs.t},valueOf:function(){return this.s}};var xs=new bs;function ws(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var Cs=1e-6,Es=Math.PI,Ss=Es/2,Ms=Es/4,Ls=2*Es,Ts=180/Es,Ns=Es/180,Is=Math.abs,ks=Math.atan,Ps=Math.atan2,As=Math.cos,Ds=Math.ceil,Os=Math.exp,Rs=Math.log,$s=Math.pow,Fs=Math.sin,zs=Math.sign||function(t){return 0<t?1:t<0?-1:0},Bs=Math.sqrt,js=Math.tan;function qs(t){return 1<t?0:t<-1?Es:Math.acos(t)}function Hs(t){return 1<t?Ss:t<-1?-Ss:Math.asin(t)}function Vs(t){return(t=Fs(t/2))*t}function Us(){}function Gs(t,e){t&&Ys.hasOwnProperty(t.type)&&Ys[t.type](t,e)}var Ws={Feature:function(t,e){Gs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Gs(n[i].geometry,e)}},Ys={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Xs(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Xs(n[i],e,0)},Polygon:function(t,e){Zs(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Zs(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Gs(n[i],e)}};function Xs(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Zs(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Xs(t[n],e,1);e.polygonEnd()}function Ks(t,e){t&&Ws.hasOwnProperty(t.type)?Ws[t.type](t,e):Gs(t,e)}var Js,Qs,ta,ea,na,ia=_s(),ra=_s(),oa={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){ia.reset(),oa.lineStart=sa,oa.lineEnd=aa},polygonEnd:function(){var t=+ia;ra.add(t<0?Ls+t:t),this.lineStart=this.lineEnd=this.point=Us},sphere:function(){ra.add(Ls)}};function sa(){oa.point=ua}function aa(){la(Js,Qs)}function ua(t,e){oa.point=la,Js=t,Qs=e,ta=t*=Ns,ea=As(e=(e*=Ns)/2+Ms),na=Fs(e)}function la(t,e){var n=(t*=Ns)-ta,i=0<=n?1:-1,r=i*n,o=As(e=(e*=Ns)/2+Ms),s=Fs(e),a=na*s,u=ea*o+a*As(r),l=a*i*Fs(r);ia.add(Ps(l,u)),ta=t,ea=o,na=s}function ca(t){return[Ps(t[1],t[0]),Hs(t[2])]}function ha(t){var e=t[0],n=t[1],i=As(n);return[i*As(e),i*Fs(e),Fs(n)]}function fa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function da(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pa(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ga(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ma(t){var e=Bs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var va,ya,_a,ba,xa,wa,Ca,Ea,Sa,Ma,La,Ta,Na,Ia,ka,Pa,Aa,Da,Oa,Ra,$a,Fa,za,Ba,ja,qa,Ha=_s(),Va={point:Ua,lineStart:Wa,lineEnd:Ya,polygonStart:function(){Va.point=Xa,Va.lineStart=Za,Va.lineEnd=Ka,Ha.reset(),oa.polygonStart()},polygonEnd:function(){oa.polygonEnd(),Va.point=Ua,Va.lineStart=Wa,Va.lineEnd=Ya,ia<0?(va=-(_a=180),ya=-(ba=90)):Cs<Ha?ba=90:Ha<-Cs&&(ya=-90),Ma[0]=va,Ma[1]=_a},sphere:function(){va=-(_a=180),ya=-(ba=90)}};function Ua(t,e){Sa.push(Ma=[va=t,_a=t]),e<ya&&(ya=e),ba<e&&(ba=e)}function Ga(t,e){var n,i,r,o,s,a,u,l=ha([t*Ns,e*Ns]);Ea?(n=da(Ea,l),ma(i=da([n[1],-n[0],0],n)),i=ca(i),s=0<(o=t-xa)?1:-1,a=i[0]*Ts*s,(u=180<Is(o))^(s*xa<a&&a<s*t)?(r=i[1]*Ts)>ba&&(ba=r):u^(s*xa<(a=(a+360)%360-180)&&a<s*t)?(r=-i[1]*Ts)<ya&&(ya=r):(e<ya&&(ya=e),ba<e&&(ba=e)),u?t<xa?Ja(va,t)>Ja(va,_a)&&(_a=t):Ja(t,_a)>Ja(va,_a)&&(va=t):va<=_a?(t<va&&(va=t),_a<t&&(_a=t)):xa<t?Ja(va,t)>Ja(va,_a)&&(_a=t):Ja(t,_a)>Ja(va,_a)&&(va=t)):Sa.push(Ma=[va=t,_a=t]),e<ya&&(ya=e),ba<e&&(ba=e),Ea=l,xa=t}function Wa(){Va.point=Ga}function Ya(){Ma[0]=va,Ma[1]=_a,Va.point=Ua,Ea=null}function Xa(t,e){var n;Ea?(n=t-xa,Ha.add(180<Is(n)?n+(0<n?360:-360):n)):(wa=t,Ca=e),oa.point(t,e),Ga(t,e)}function Za(){oa.lineStart()}function Ka(){Xa(wa,Ca),oa.lineEnd(),Is(Ha)>Cs&&(va=-(_a=180)),Ma[0]=va,Ma[1]=_a,Ea=null}function Ja(t,e){return(e-=t)<0?e+360:e}function Qa(t,e){return t[0]-e[0]}function tu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var eu={sphere:Us,point:nu,lineStart:ru,lineEnd:au,polygonStart:function(){eu.lineStart=uu,eu.lineEnd=lu},polygonEnd:function(){eu.lineStart=ru,eu.lineEnd=au}};function nu(t,e){t*=Ns;var n=As(e*=Ns);iu(n*As(t),n*Fs(t),Fs(e))}function iu(t,e,n){Na+=(t-Na)/++La,Ia+=(e-Ia)/La,ka+=(n-ka)/La}function ru(){eu.point=ou}function ou(t,e){t*=Ns;var n=As(e*=Ns);Ba=n*As(t),ja=n*Fs(t),qa=Fs(e),eu.point=su,iu(Ba,ja,qa)}function su(t,e){t*=Ns;var n=As(e*=Ns),i=n*As(t),r=n*Fs(t),o=Fs(e),s=Ps(Bs((s=ja*o-qa*r)*s+(s=qa*i-Ba*o)*s+(s=Ba*r-ja*i)*s),Ba*i+ja*r+qa*o);Ta+=s,Pa+=s*(Ba+(Ba=i)),Aa+=s*(ja+(ja=r)),Da+=s*(qa+(qa=o)),iu(Ba,ja,qa)}function au(){eu.point=nu}function uu(){eu.point=cu}function lu(){hu(Fa,za),eu.point=nu}function cu(t,e){Fa=t,za=e,t*=Ns,e*=Ns,eu.point=hu;var n=As(e);Ba=n*As(t),ja=n*Fs(t),qa=Fs(e),iu(Ba,ja,qa)}function hu(t,e){t*=Ns;var n=As(e*=Ns),i=n*As(t),r=n*Fs(t),o=Fs(e),s=ja*o-qa*r,a=qa*i-Ba*o,u=Ba*r-ja*i,l=Bs(s*s+a*a+u*u),c=Hs(l),h=l&&-c/l;Oa+=h*s,Ra+=h*a,$a+=h*u,Ta+=c,Pa+=c*(Ba+(Ba=i)),Aa+=c*(ja+(ja=r)),Da+=c*(qa+(qa=o)),iu(Ba,ja,qa)}function fu(t){return function(){return t}}function du(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function pu(t,e){return[Is(t)>Es?t+Math.round(-t/Ls)*Ls:t,e]}function gu(t,e,n){return(t%=Ls)?e||n?du(vu(t),yu(e,n)):vu(t):e||n?yu(e,n):pu}function mu(n){return function(t,e){return[(t+=n)>Es?t-Ls:t<-Es?t+Ls:t,e]}}function vu(t){var e=mu(t);return e.invert=mu(-t),e}function yu(t,e){var a=As(t),u=Fs(t),l=As(e),c=Fs(e);function n(t,e){var n=As(e),i=As(t)*n,r=Fs(t)*n,o=Fs(e),s=o*a+i*u;return[Ps(r*l-s*c,i*a-o*u),Hs(s*l+r*c)]}return n.invert=function(t,e){var n=As(e),i=As(t)*n,r=Fs(t)*n,o=Fs(e),s=o*l-r*c;return[Ps(r*l+o*c,i*a+s*u),Hs(s*a-i*u)]},n}function _u(e){function t(t){return(t=e(t[0]*Ns,t[1]*Ns))[0]*=Ts,t[1]*=Ts,t}return e=gu(e[0]*Ns,e[1]*Ns,2<e.length?e[2]*Ns:0),t.invert=function(t){return(t=e.invert(t[0]*Ns,t[1]*Ns))[0]*=Ts,t[1]*=Ts,t},t}function bu(t,e,n,i,r,o){if(n){var s=As(e),a=Fs(e),u=i*n;null==r?(r=e+i*Ls,o=e-u/2):(r=xu(s,r),o=xu(s,o),(0<i?r<o:o<r)&&(r+=i*Ls));for(var l,c=r;0<i?o<c:c<o;c-=u)l=ca([s,-a*As(c),-a*Fs(c)]),t.point(l[0],l[1])}}function xu(t,e){(e=ha(e))[0]-=t,ma(e);var n=qs(-e[1]);return((-e[2]<0?-n:n)+Ls-Cs)%Ls}function wu(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:Us,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function Cu(t,e){return Is(t[0]-e[0])<Cs&&Is(t[1]-e[1])<Cs}function Eu(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Su(t,e,n,i,o){var s,r,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],r=t[e];if(Cu(i,r)){for(o.lineStart(),s=0;s<e;++s)o.point((i=t[s])[0],i[1]);o.lineEnd()}else a.push(n=new Eu(i,t,null,!0)),u.push(n.o=new Eu(i,null,n,!1)),a.push(n=new Eu(r,t,null,!1)),u.push(n.o=new Eu(r,null,n,!0))}}),a.length){for(u.sort(e),Mu(a),Mu(u),s=0,r=u.length;s<r;++s)u[s].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(s=0,r=l.length;s<r;++s)o.point((c=l[s])[0],c[1]);else i(f.x,f.n.x,1,o);f=f.n}else{if(d)for(l=f.p.z,s=l.length-1;0<=s;--s)o.point((c=l[s])[0],c[1]);else i(f.x,f.p.x,-1,o);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);o.lineEnd()}}}function Mu(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}pu.invert=pu;var Lu=_s();function Tu(t){return Is(t[0])<=Es?t[0]:zs(t[0])*((Is(t[0])+Es)%Ls-Es)}function Nu(t,e){var n=Tu(e),i=e[1],r=Fs(i),o=[Fs(n),-As(n),0],s=0,a=0;Lu.reset(),1===r?i=Ss+Cs:-1===r&&(i=-Ss-Cs);for(var u=0,l=t.length;u<l;++u)if(h=(c=t[u]).length)for(var c,h,f=c[h-1],d=Tu(f),p=f[1]/2+Ms,g=Fs(p),m=As(p),v=0;v<h;++v,d=w,g=E,m=S,f=x){var y,_,b,x=c[v],w=Tu(x),C=x[1]/2+Ms,E=Fs(C),S=As(C),M=w-d,L=0<=M?1:-1,T=L*M,N=Es<T,I=g*E;Lu.add(Ps(I*L*Fs(T),m*S+I*As(T))),s+=N?M+L*Ls:M,N^n<=d^n<=w&&(ma(y=da(ha(f),ha(x))),ma(_=da(o,y)),((b=(N^0<=M?-1:1)*Hs(_[2]))<i||i===b&&(y[0]||y[1]))&&(a+=N^0<=M?1:-1))}return(s<-Cs||s<Cs&&Lu<-Cs)^1&a}function Iu(m,v,y,_){return function(a){var u,l,c,n=v(a),h=wu(),f=v(h),d=!1,e={point:i,lineStart:r,lineEnd:o,polygonStart:function(){e.point=p,e.lineStart=s,e.lineEnd=g,l=[],u=[]},polygonEnd:function(){e.point=i,e.lineStart=r,e.lineEnd=o,l=L(l);var t=Nu(u,_);l.length?(d||(a.polygonStart(),d=!0),Su(l,Pu,t,y,a)):t&&(d||(a.polygonStart(),d=!0),a.lineStart(),y(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),l=u=null},sphere:function(){a.polygonStart(),a.lineStart(),y(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function i(t,e){m(t,e)&&a.point(t,e)}function t(t,e){n.point(t,e)}function r(){e.point=t,n.lineStart()}function o(){e.point=i,n.lineEnd()}function p(t,e){c.push([t,e]),f.point(t,e)}function s(){f.lineStart(),c=[]}function g(){p(c[0][0],c[0][1]),f.lineEnd();var t,e,n,i,r=f.clean(),o=h.result(),s=o.length;if(c.pop(),u.push(c),c=null,s)if(1&r){if(0<(e=(n=o[0]).length-1)){for(d||(a.polygonStart(),d=!0),a.lineStart(),t=0;t<e;++t)a.point((i=n[t])[0],i[1]);a.lineEnd()}}else 1<s&&2&r&&o.push(o.pop().concat(o.shift())),l.push(o.filter(ku))}return e}}function ku(t){return 1<t.length}function Pu(t,e){return((t=t.x)[0]<0?t[1]-Ss-Cs:Ss-t[1])-((e=e.x)[0]<0?e[1]-Ss-Cs:Ss-e[1])}var Au=Iu(function(){return 1},function(h){var f,d=NaN,p=NaN,g=NaN;return{lineStart:function(){h.lineStart(),f=1},point:function(t,e){var n,i,r,o,s,a,u,l=0<t?Es:-Es,c=Is(t-d);Is(c-Es)<Cs?(h.point(d,p=0<(p+e)/2?Ss:-Ss),h.point(g,p),h.lineEnd(),h.lineStart(),h.point(l,p),h.point(t,p),f=0):g!==l&&Es<=c&&(Is(d-g)<Cs&&(d-=g*Cs),Is(t-l)<Cs&&(t-=l*Cs),i=p,o=e,u=Fs((n=d)-(r=t)),p=Is(u)>Cs?ks((Fs(i)*(a=As(o))*Fs(r)-Fs(o)*(s=As(i))*Fs(n))/(s*a*u)):(i+o)/2,h.point(g,p),h.lineEnd(),h.lineStart(),h.point(l,p),f=0),h.point(d=t,p=e),g=l},lineEnd:function(){h.lineEnd(),d=p=NaN},clean:function(){return 2-f}}},function(t,e,n,i){var r,o;null==t?(o=n*Ss,i.point(-Es,o),i.point(0,o),i.point(Es,o),i.point(Es,0),i.point(Es,-o),i.point(0,-o),i.point(-Es,-o),i.point(-Es,0),i.point(-Es,o)):Is(t[0]-e[0])>Cs?(o=n*(r=t[0]<e[0]?Es:-Es)/2,i.point(-r,o),i.point(0,o),i.point(r,o)):i.point(e[0],e[1])},[-Es,-Ss]);function Du(r){var M=As(r),o=6*Ns,d=0<M,p=Is(M)>Cs;function g(t,e){return As(t)*As(e)>M}function m(t,e,n){var i=[1,0,0],r=da(ha(t),ha(e)),o=fa(r,r),s=r[0],a=o-s*s;if(!a)return!n&&t;var u=M*o/a,l=-M*s/a,c=da(i,r),h=ga(i,u);pa(h,ga(r,l));var f=c,d=fa(h,f),p=fa(f,f),g=d*d-p*(fa(h,h)-1);if(!(g<0)){var m=Bs(g),v=ga(f,(-d-m)/p);if(pa(v,h),v=ca(v),!n)return v;var y,_=t[0],b=e[0],x=t[1],w=e[1];b<_&&(y=_,_=b,b=y);var C=b-_,E=Is(C-Es)<Cs;if(!E&&w<x&&(y=x,x=w,w=y),E||C<Cs?E?0<x+w^v[1]<(Is(v[0]-_)<Cs?x:w):x<=v[1]&&v[1]<=w:Es<C^(_<=v[0]&&v[0]<=b)){var S=ga(f,(-d+m)/p);return pa(S,h),[v,ca(S)]}}}function v(t,e){var n=d?r:Es-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}return Iu(g,function(a){var u,l,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(t,e){var n,i,r=[t,e],o=g(t,e),s=d?o?0:v(t,e):o?v(t+(t<0?Es:-Es),e):0;!u&&(h=c=o)&&a.lineStart(),o===c||(n=m(u,r))&&!Cu(u,n)&&!Cu(r,n)||(r[0]+=Cs,r[1]+=Cs,o=g(r[0],r[1])),o!==c?(f=0,o?(a.lineStart(),n=m(r,u),a.point(n[0],n[1])):(n=m(u,r),a.point(n[0],n[1]),a.lineEnd()),u=n):p&&u&&d^o&&(s&l||!(i=m(r,u,!0))||(f=0,d?(a.lineStart(),a.point(i[0][0],i[0][1]),a.point(i[1][0],i[1][1]),a.lineEnd()):(a.point(i[1][0],i[1][1]),a.lineEnd(),a.lineStart(),a.point(i[0][0],i[0][1])))),!o||u&&Cu(u,r)||a.point(r[0],r[1]),u=r,c=o,l=s},lineEnd:function(){c&&a.lineEnd(),u=null},clean:function(){return f|(h&&c)<<1}}},function(t,e,n,i){bu(i,r,o,n,t,e)},d?[0,-r]:[-Es,r-Es])}var Ou=1e9,Ru=-Ou;function $u(v,y,_,b){function x(t,e){return v<=t&&t<=_&&y<=e&&e<=b}function w(t,e,n,i){var r=0,o=0;if(null==t||(r=s(t,n))!==(o=s(e,n))||a(t,e)<0^0<n)for(;i.point(0===r||3===r?v:_,1<r?b:y),(r=(r+n+4)%4)!==o;);else i.point(e[0],e[1])}function s(t,e){return Is(t[0]-v)<Cs?0<e?0:3:Is(t[0]-_)<Cs?0<e?2:1:Is(t[1]-y)<Cs?0<e?1:0:0<e?3:2}function C(t,e){return a(t.x,e.x)}function a(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){var r,h,o,s,a,u,l,c,f,d,p,g=i,t=wu(),e={point:n,lineStart:function(){e.point=m,h&&h.push(o=[]),f=!(d=!0),l=c=NaN},lineEnd:function(){r&&(m(s,a),u&&f&&t.rejoin(),r.push(t.result())),e.point=n,f&&g.lineEnd()},polygonStart:function(){g=t,r=[],h=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=h.length;e<n;++e)for(var i,r,o=h[e],s=1,a=o.length,u=o[0],l=u[0],c=u[1];s<a;++s)i=l,r=c,l=(u=o[s])[0],c=u[1],r<=b?b<c&&(c-r)*(v-i)<(l-i)*(b-r)&&++t:c<=b&&(l-i)*(b-r)<(c-r)*(v-i)&&--t;return t}(),e=p&&t,n=(r=L(r)).length;(e||n)&&(i.polygonStart(),e&&(i.lineStart(),w(null,null,1,i),i.lineEnd()),n&&Su(r,C,t,w,i),i.polygonEnd()),g=i,r=h=o=null}};function n(t,e){x(t,e)&&g.point(t,e)}function m(t,e){var n,i,r=x(t,e);h&&o.push([t,e]),d?(s=t,a=e,d=!1,(u=r)&&(g.lineStart(),g.point(t,e))):r&&f?g.point(t,e):!function(t,e){var n=t[0],i=t[1],r=0,o=1,s=e[0]-n,a=e[1]-i,u=v-n;if(s||!(0<u)){if(u/=s,s<0){if(u<r)return;u<o&&(o=u)}else if(0<s){if(o<u)return;r<u&&(r=u)}if(u=_-n,s||!(u<0)){if(u/=s,s<0){if(o<u)return;r<u&&(r=u)}else if(0<s){if(u<r)return;u<o&&(o=u)}if(u=y-i,a||!(0<u)){if(u/=a,a<0){if(u<r)return;u<o&&(o=u)}else if(0<a){if(o<u)return;r<u&&(r=u)}if(u=b-i,a||!(u<0)){if(u/=a,a<0){if(o<u)return;r<u&&(r=u)}else if(0<a){if(u<r)return;u<o&&(o=u)}return 0<r&&(t[0]=n+r*s,t[1]=i+r*a),o<1&&(e[0]=n+o*s,e[1]=i+o*a),1}}}}}(n=[l=Math.max(Ru,Math.min(Ou,l)),c=Math.max(Ru,Math.min(Ou,c))],i=[t=Math.max(Ru,Math.min(Ou,t)),e=Math.max(Ru,Math.min(Ou,e))])?r&&(g.lineStart(),g.point(t,e),p=!1):(f||(g.lineStart(),g.point(n[0],n[1])),g.point(i[0],i[1]),r||g.lineEnd(),p=!1),l=t,c=e,f=r}return e}}var Fu,zu,Bu,ju=_s(),qu={sphere:Us,point:Us,lineStart:function(){qu.point=Vu,qu.lineEnd=Hu},lineEnd:Us,polygonStart:Us,polygonEnd:Us};function Hu(){qu.point=qu.lineEnd=Us}function Vu(t,e){Fu=t*=Ns,zu=Fs(e*=Ns),Bu=As(e),qu.point=Uu}function Uu(t,e){t*=Ns;var n=Fs(e*=Ns),i=As(e),r=Is(t-Fu),o=As(r),s=i*Fs(r),a=Bu*n-zu*i*o,u=zu*n+Bu*i*o;ju.add(Ps(Bs(s*s+a*a),u)),Fu=t,zu=n,Bu=i}function Gu(t){return ju.reset(),Ks(t,qu),+ju}var Wu=[null,null],Yu={type:"LineString",coordinates:Wu};function Xu(t,e){return Wu[0]=t,Wu[1]=e,Gu(Yu)}var Zu={Feature:function(t,e){return Ju(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Ju(n[i].geometry,e))return!0;return!1}},Ku={Sphere:function(){return!0},Point:function(t,e){return Qu(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Qu(n[i],e))return!0;return!1},LineString:function(t,e){return tl(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(tl(n[i],e))return!0;return!1},Polygon:function(t,e){return el(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(el(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Ju(n[i],e))return!0;return!1}};function Ju(t,e){return!(!t||!Ku.hasOwnProperty(t.type))&&Ku[t.type](t,e)}function Qu(t,e){return 0===Xu(t,e)}function tl(t,e){for(var n,i,r,o=0,s=t.length;o<s;o++){if(0===(i=Xu(t[o],e)))return!0;if(0<o&&0<(r=Xu(t[o],t[o-1]))&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<1e-12*r)return!0;n=i}return!1}function el(t,e){return!!Nu(t.map(nl),il(e))}function nl(t){return(t=t.map(il)).pop(),t}function il(t){return[t[0]*Ns,t[1]*Ns]}function rl(t,e,n){var i=S(t,e-Cs,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function ol(t,e,n){var i=S(t,e-Cs,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function sl(){var e,n,i,r,o,s,a,u,l,c,h,f,d=10,p=d,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return S(Ds(r/g)*g,i,g).map(h).concat(S(Ds(u/m)*m,a,m).map(f)).concat(S(Ds(n/d)*d,e,d).filter(function(t){return Is(t%g)>Cs}).map(l)).concat(S(Ds(s/p)*p,o,p).filter(function(t){return Is(t%m)>Cs}).map(c))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(a).slice(1),h(i).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],i=+t[1][0],u=+t[0][1],a=+t[1][1],i<r&&(t=r,r=i,i=t),a<u&&(t=u,u=a,a=t),y.precision(v)):[[r,u],[i,a]]},y.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],s=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<s&&(t=s,s=o,o=t),y.precision(v)):[[n,s],[e,o]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],y):[d,p]},y.precision=function(t){return arguments.length?(v=+t,l=rl(s,o,90),c=ol(n,e,v),h=rl(u,a,90),f=ol(r,i,v),y):v},y.extentMajor([[-180,-90+Cs],[180,90-Cs]]).extentMinor([[-180,-80-Cs],[180,80+Cs]])}function al(t){return t}var ul,ll,cl,hl,fl=_s(),dl=_s(),pl={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){pl.lineStart=gl,pl.lineEnd=yl},polygonEnd:function(){pl.lineStart=pl.lineEnd=pl.point=Us,fl.add(Is(dl)),dl.reset()},result:function(){var t=fl/2;return fl.reset(),t}};function gl(){pl.point=ml}function ml(t,e){pl.point=vl,ul=cl=t,ll=hl=e}function vl(t,e){dl.add(hl*t-cl*e),cl=t,hl=e}function yl(){vl(ul,ll)}var _l,bl,xl,wl,Cl=1/0,El=Cl,Sl=-Cl,Ml=Sl,Ll={point:function(t,e){t<Cl&&(Cl=t),Sl<t&&(Sl=t),e<El&&(El=e),Ml<e&&(Ml=e)},lineStart:Us,lineEnd:Us,polygonStart:Us,polygonEnd:Us,result:function(){var t=[[Cl,El],[Sl,Ml]];return Sl=Ml=-(El=Cl=1/0),t}},Tl=0,Nl=0,Il=0,kl=0,Pl=0,Al=0,Dl=0,Ol=0,Rl=0,$l={point:Fl,lineStart:zl,lineEnd:ql,polygonStart:function(){$l.lineStart=Hl,$l.lineEnd=Vl},polygonEnd:function(){$l.point=Fl,$l.lineStart=zl,$l.lineEnd=ql},result:function(){var t=Rl?[Dl/Rl,Ol/Rl]:Al?[kl/Al,Pl/Al]:Il?[Tl/Il,Nl/Il]:[NaN,NaN];return Tl=Nl=Il=kl=Pl=Al=Dl=Ol=Rl=0,t}};function Fl(t,e){Tl+=t,Nl+=e,++Il}function zl(){$l.point=Bl}function Bl(t,e){$l.point=jl,Fl(xl=t,wl=e)}function jl(t,e){var n=t-xl,i=e-wl,r=Bs(n*n+i*i);kl+=r*(xl+t)/2,Pl+=r*(wl+e)/2,Al+=r,Fl(xl=t,wl=e)}function ql(){$l.point=Fl}function Hl(){$l.point=Ul}function Vl(){Gl(_l,bl)}function Ul(t,e){$l.point=Gl,Fl(_l=xl=t,bl=wl=e)}function Gl(t,e){var n=t-xl,i=e-wl,r=Bs(n*n+i*i);kl+=r*(xl+t)/2,Pl+=r*(wl+e)/2,Al+=r,Dl+=(r=wl*t-xl*e)*(xl+t),Ol+=r*(wl+e),Rl+=3*r,Fl(xl=t,wl=e)}function Wl(t){this._context=t}Wl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ls)}},result:Us};var Yl,Xl,Zl,Kl,Jl,Ql=_s(),tc={point:Us,lineStart:function(){tc.point=ec},lineEnd:function(){Yl&&nc(Xl,Zl),tc.point=Us},polygonStart:function(){Yl=!0},polygonEnd:function(){Yl=null},result:function(){var t=+Ql;return Ql.reset(),t}};function ec(t,e){tc.point=nc,Xl=Kl=t,Zl=Jl=e}function nc(t,e){Kl-=t,Jl-=e,Ql.add(Bs(Kl*Kl+Jl*Jl)),Kl=t,Jl=e}function ic(){this._string=[]}function rc(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function oc(i){return function(t){var e=new sc;for(var n in i)e[n]=i[n];return e.stream=t,e}}function sc(){}function ac(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Ks(n,t.stream(Ll)),e(Ll.result()),null!=i&&t.clipExtent(i),t}function uc(s,a,t){return ac(s,function(t){var e=a[1][0]-a[0][0],n=a[1][1]-a[0][1],i=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),r=+a[0][0]+(e-i*(t[1][0]+t[0][0]))/2,o=+a[0][1]+(n-i*(t[1][1]+t[0][1]))/2;s.scale(150*i).translate([r,o])},t)}function lc(t,e,n){return uc(t,[[0,0],e],n)}function cc(o,s,t){return ac(o,function(t){var e=+s,n=e/(t[1][0]-t[0][0]),i=(e-n*(t[1][0]+t[0][0]))/2,r=-n*t[0][1];o.scale(150*n).translate([i,r])},t)}function hc(o,s,t){return ac(o,function(t){var e=+s,n=e/(t[1][1]-t[0][1]),i=-n*t[0][0],r=(e-n*(t[1][1]+t[0][1]))/2;o.scale(150*n).translate([i,r])},t)}ic.prototype={_radius:4.5,_circle:rc(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=rc(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},sc.prototype={constructor:sc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fc=16,dc=As(30*Ns);function pc(t,e){return+e?(N=t,I=e,function(r){var n,i,o,s,a,u,l,c,h,f,d,p,g={point:t,lineStart:e,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=N(t,e),r.point(t[0],t[1])}function e(){c=NaN,g.point=m,r.lineStart()}function m(t,e){var n=ha([t,e]),i=N(t,e);k(c,h,l,f,d,p,c=i[0],h=i[1],l=t,f=n[0],d=n[1],p=n[2],fc,r),r.point(c,h)}function v(){g.point=t,r.lineEnd()}function y(){e(),g.point=_,g.lineEnd=b}function _(t,e){m(n=t,e),i=c,o=h,s=f,a=d,u=p,g.point=m}function b(){k(c,h,l,f,d,p,i,o,n,s,a,u,fc,r),(g.lineEnd=v)()}return g}):(n=t,oc({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,N,I;function k(t,e,n,i,r,o,s,a,u,l,c,h,f,d){var p,g,m,v,y,_,b,x,w,C,E,S,M=s-t,L=a-e,T=M*M+L*L;4*I<T&&f--&&(m=o+h,y=Hs(m/=v=Bs((p=i+l)*p+(g=r+c)*g+m*m)),_=Is(Is(m)-1)<Cs||Is(n-u)<Cs?(n+u)/2:Ps(g,p),x=(b=N(_,y))[0],w=b[1],(I<(S=L*(C=x-t)-M*(E=w-e))*S/T||.3<Is((M*C+L*E)/T-.5)||i*l+r*c+o*h<dc)&&(k(t,e,n,i,r,o,x,w,_,p/=v,g/=v,m,f,d),d.point(x,w),k(x,w,_,p,g,m,s,a,u,l,c,h,f,d)))}}var gc=oc({point:function(t,e){this.stream.point(t*Ns,e*Ns)}});function mc(t,n,i,r,o,e){var s=As(e),a=Fs(e),u=s*t,l=a*t,c=s/t,h=a/t,f=(a*i-s*n)/t,d=(a*n+s*i)/t;function p(t,e){return[u*(t*=r)-l*(e*=o)+n,i-l*t-u*e]}return p.invert=function(t,e){return[r*(c*t-h*e+f),o*(d-h*t-c*e)]},p}function vc(t){return yc(function(){return t})()}function yc(t){var n,r,e,i,o,s,a,u,l,c,h=150,f=480,d=250,p=0,g=0,m=0,v=0,y=0,_=0,b=1,x=1,w=null,C=Au,E=null,S=al,M=.5;function L(t){return u(t[0]*Ns,t[1]*Ns)}function T(t){return(t=u.invert(t[0],t[1]))&&[t[0]*Ts,t[1]*Ts]}function N(){var t=mc(h,0,0,b,x,_).apply(null,n(p,g)),e=(_?mc:function(n,i,r,o,s){function t(t,e){return[i+n*(t*=o),r-n*(e*=s)]}return t.invert=function(t,e){return[(t-i)/n*o,(r-e)/n*s]},t})(h,f-t[0],d-t[1],b,x,_);return r=gu(m,v,y),a=du(n,e),u=du(r,a),s=pc(a,M),I()}function I(){return l=c=null,L}return L.stream=function(t){return l&&c===t?l:l=gc((i=r,oc({point:function(t,e){var n=i(t,e);return this.stream.point(n[0],n[1])}})(C(s(S(c=t))))));var i},L.preclip=function(t){return arguments.length?(C=t,w=void 0,I()):C},L.postclip=function(t){return arguments.length?(S=t,E=e=i=o=null,I()):S},L.clipAngle=function(t){return arguments.length?(C=+t?Du(w=t*Ns):(w=null,Au),I()):w*Ts},L.clipExtent=function(t){return arguments.length?(S=null==t?(E=e=i=o=null,al):$u(E=+t[0][0],e=+t[0][1],i=+t[1][0],o=+t[1][1]),I()):null==E?null:[[E,e],[i,o]]},L.scale=function(t){return arguments.length?(h=+t,N()):h},L.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],N()):[f,d]},L.center=function(t){return arguments.length?(p=t[0]%360*Ns,g=t[1]%360*Ns,N()):[p*Ts,g*Ts]},L.rotate=function(t){return arguments.length?(m=t[0]%360*Ns,v=t[1]%360*Ns,y=2<t.length?t[2]%360*Ns:0,N()):[m*Ts,v*Ts,y*Ts]},L.angle=function(t){return arguments.length?(_=t%360*Ns,N()):_*Ts},L.reflectX=function(t){return arguments.length?(b=t?-1:1,N()):b<0},L.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},L.precision=function(t){return arguments.length?(s=pc(a,M=t*t),I()):Bs(M)},L.fitExtent=function(t,e){return uc(L,t,e)},L.fitSize=function(t,e){return lc(L,t,e)},L.fitWidth=function(t,e){return cc(L,t,e)},L.fitHeight=function(t,e){return hc(L,t,e)},function(){return n=t.apply(this,arguments),L.invert=n.invert&&T,N()}}function _c(t){var e=0,n=Es/3,i=yc(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Ns,n=t[1]*Ns):[e*Ts,n*Ts]},r}function bc(t,e){var n,i=Fs(t),r=(i+Fs(e))/2;if(Is(r)<Cs)return n=As(t),o.invert=function(t,e){return[t/n,Hs(e*n)]},o;function o(t,e){return[t*n,Fs(e)/n]}var s=1+i*(2*r-i),a=Bs(s)/r;function u(t,e){var n=Bs(s-2*r*Fs(e))/r;return[n*Fs(t*=r),a-n*As(t)]}return u.invert=function(t,e){var n=a-e,i=Ps(t,Is(n))*zs(n);return n*r<0&&(i-=Es*zs(t)*zs(n)),[i/r,Hs((s-(t*t+n*n)*r*r)/(2*r))]},u}function xc(){return _c(bc).scale(155.424).center([0,33.6442])}function wc(){return xc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Cc(o){return function(t,e){var n=As(t),i=As(e),r=o(n*i);return[r*i*Fs(t),r*Fs(e)]}}function Ec(s){return function(t,e){var n=Bs(t*t+e*e),i=s(n),r=Fs(i),o=As(i);return[Ps(t*r,n*o),Hs(n&&e*r/n)]}}var Sc=Cc(function(t){return Bs(2/(1+t))});Sc.invert=Ec(function(t){return 2*Hs(t/2)});var Mc=Cc(function(t){return(t=qs(t))&&t/Fs(t)});function Lc(t,e){return[t,Rs(js((Ss+e)/2))]}function Tc(n){var i,r,o,s=vc(n),e=s.center,a=s.scale,u=s.translate,l=s.clipExtent,c=null;function h(){var t=Es*a(),e=s(_u(s.rotate()).invert([0,0]));return l(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===Lc?[[Math.max(e[0]-t,c),i],[Math.min(e[0]+t,r),o]]:[[c,Math.max(e[1]-t,i)],[r,Math.min(e[1]+t,o)]])}return s.scale=function(t){return arguments.length?(a(t),h()):a()},s.translate=function(t){return arguments.length?(u(t),h()):u()},s.center=function(t){return arguments.length?(e(t),h()):e()},s.clipExtent=function(t){return arguments.length?(null==t?c=i=r=o=null:(c=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),h()):null==c?null:[[c,i],[r,o]]},h()}function Nc(t){return js((Ss+t)/2)}function Ic(t,e){var n=As(t),o=t===e?Fs(t):Rs(n/As(e))/Rs(Nc(e)/Nc(t)),s=n*$s(Nc(t),o)/o;if(!o)return Lc;function i(t,e){0<s?e<-Ss+Cs&&(e=-Ss+Cs):Ss-Cs<e&&(e=Ss-Cs);var n=s/$s(Nc(e),o);return[n*Fs(o*t),s-n*As(o*t)]}return i.invert=function(t,e){var n=s-e,i=zs(o)*Bs(t*t+n*n),r=Ps(t,Is(n))*zs(n);return n*o<0&&(r-=Es*zs(t)*zs(n)),[r/o,2*ks($s(s/i,1/o))-Ss]},i}function kc(t,e){return[t,e]}function Pc(t,e){var n=As(t),r=t===e?Fs(t):(n-As(e))/(e-t),o=n/r+t;if(Is(r)<Cs)return kc;function i(t,e){var n=o-e,i=r*t;return[n*Fs(i),o-n*As(i)]}return i.invert=function(t,e){var n=o-e,i=Ps(t,Is(n))*zs(n);return n*r<0&&(i-=Es*zs(t)*zs(n)),[i/r,o-zs(r)*Bs(t*t+n*n)]},i}Mc.invert=Ec(function(t){return t}),Lc.invert=function(t,e){return[t,2*ks(Os(e))-Ss]},kc.invert=kc;var Ac=1.340264,Dc=-.081106,Oc=893e-6,Rc=.003796,$c=Bs(3)/2;function Fc(t,e){var n=Hs($c*Fs(e)),i=n*n,r=i*i*i;return[t*As(n)/($c*(Ac+3*Dc*i+r*(7*Oc+9*Rc*i))),n*(Ac+Dc*i+r*(Oc+Rc*i))]}function zc(t,e){var n=As(e),i=As(t)*n;return[n*Fs(t)/i,Fs(e)/i]}function Bc(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function jc(t,e){return[As(e)*Fs(t),Fs(e)]}function qc(t,e){var n=As(e),i=1+As(t)*n;return[n*Fs(t)/i,Fs(e)/i]}function Hc(t,e){return[Rs(js((Ss+e)/2)),-t]}function Vc(t,e){return t.parent===e.parent?1:2}function Uc(t,e){return t+e.x}function Gc(t,e){return Math.max(t,e.y)}function Wc(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;0<=--i;)e+=n[i].value;else e=1;t.value=e}function Yc(t,e){var n,i,r,o,s,a=new Jc(t),u=+t.value&&(a.value=t.value),l=[a];for(null==e&&(e=Xc);n=l.pop();)if(u&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;0<=o;--o)l.push(i=n.children[o]=new Jc(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Kc)}function Xc(t){return t.children}function Zc(t){t.data=t.data.data}function Kc(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Jc(t){this.data=t,this.depth=this.height=0,this.parent=null}Fc.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(Ac+Dc*r+o*(Oc+Rc*r))-e)/(Ac+3*Dc*r+o*(7*Oc+9*Rc*r)))*i)*r*r,!(Is(n)<1e-12));++s);return[$c*t*(Ac+3*Dc*r+o*(7*Oc+9*Rc*r))/As(i),Hs(Fs(i)/$c)]},zc.invert=Ec(ks),Bc.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Is(n)>Cs&&0<--r);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},jc.invert=Ec(Hs),qc.invert=Ec(function(t){return 2*ks(t)}),Hc.invert=function(t,e){return[-e,2*ks(Os(t))-Ss]},Jc.prototype=Yc.prototype={constructor:Jc,count:function(){return this.eachAfter(Wc)},each:function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;0<=n;--n)r.push(e[n]);return this},sum:function(r){return this.eachAfter(function(t){for(var e=+r(t.data)||0,n=t.children,i=n&&n.length;0<=--i;)e+=n[i].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return Yc(this).eachBefore(Zc)}};var Qc=Array.prototype.slice;function th(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Qc.call(t))).length,o=[];i<r;)e=t[i],n&&nh(n,e)?++i:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return rh(t[0],t[1]);case 3:return oh(t[0],t[1],t[2])}}(o=function(t,e){var n,i;if(ih(e,t))return[e];for(n=0;n<t.length;++n)if(eh(e,t[n])&&ih(rh(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(eh(rh(t[n],t[i]),e)&&eh(rh(t[n],e),t[i])&&eh(rh(t[i],e),t[n])&&ih(oh(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}(o,e)),i=0);return n}function eh(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function nh(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return 0<n&&i*i+r*r<n*n}function ih(t,e){for(var n=0;n<e.length;++n)if(!nh(t,e[n]))return;return 1}function rh(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,u=o-n,l=s-i,c=a-r,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(i+s+l/h*c)/2,r:(h+r+a)/2}}function oh(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=i-s,d=i-l,p=r-a,g=r-c,m=u-o,v=h-o,y=i*i+r*r-o*o,_=y-s*s-a*a+u*u,b=y-l*l-c*c+h*h,x=d*p-f*g,w=(p*b-g*_)/(2*x)-i,C=(g*m-p*v)/x,E=(d*_-f*b)/(2*x)-r,S=(f*v-d*m)/x,M=C*C+S*S-1,L=2*(o+w*C+E*S),T=w*w+E*E-o*o,N=-(M?(L+Math.sqrt(L*L-4*M*T))/(2*M):T/L);return{x:i+w+C*N,y:r+E+S*N,r:N}}function sh(t,e,n){var i,r,o,s,a=t.x-e.x,u=t.y-e.y,l=a*a+u*u;l?(r=e.r+n.r,r*=r,s=t.r+n.r,r>(s*=s)?(i=(l+s-r)/(2*l),o=Math.sqrt(Math.max(0,s/l-i*i)),n.x=t.x-i*a-o*u,n.y=t.y-i*u+o*a):(i=(l+r-s)/(2*l),o=Math.sqrt(Math.max(0,r/l-i*i)),n.x=e.x+i*a-o*u,n.y=e.y+i*u+o*a)):(n.x=e.x+n.r,n.y=e.y)}function ah(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return 0<n&&i*i+r*r<n*n}function uh(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function lh(t){this._=t,this.next=null,this.previous=null}function ch(t){if(!(r=t.length))return 0;var e,n,i,r,o,s,a,u,l,c,h;if((e=t[0]).x=0,e.y=0,!(1<r))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<r))return e.r+n.r;sh(n,e,i=t[2]),e=new lh(e),n=new lh(n),i=new lh(i),((e.next=i.previous=n).next=e.previous=i).next=n.previous=e;t:for(a=3;a<r;++a){sh(e._,n._,i=t[a]),i=new lh(i),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(ah(u._,i._)){n=u,(e.next=n).previous=e,--a;continue t}c+=u._.r,u=u.next}else{if(ah(l._,i._)){((e=l).next=n).previous=e,--a;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=uh(e);(i=i.next)!==n;)(s=uh(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=th(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}function hh(t){if("function"!=typeof t)throw new Error;return t}function fh(){return 0}function dh(t){return function(){return t}}function ph(t){return Math.sqrt(t.value)}function gh(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function mh(s,a){return function(t){if(e=t.children){var e,n,i,r=e.length,o=s(t)*a||0;if(o)for(n=0;n<r;++n)e[n].r+=o;if(i=ch(e),o)for(n=0;n<r;++n)e[n].r-=o;t.r=i+o}}}function vh(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function yh(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function _h(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,l=t.value&&(i-e)/t.value;++a<u;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*l}var bh={depth:-1},xh={};function wh(t){return t.id}function Ch(t){return t.parentId}function Eh(t,e){return t.parent===e.parent?1:2}function Sh(t){var e=t.children;return e?e[0]:t.t}function Mh(t){var e=t.children;return e?e[e.length-1]:t.t}function Lh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Th(t,e,n,i,r){for(var o,s=t.children,a=-1,u=s.length,l=t.value&&(r-n)/t.value;++a<u;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*l}Lh.prototype=Object.create(Jc.prototype);var Nh=(1+Math.sqrt(5))/2;function Ih(t,e,n,i,r,o){for(var s,a,u,l,c,h,f,d,p,g,m,v=[],y=e.children,_=0,b=0,x=y.length,w=e.value;_<x;){for(u=r-n,l=o-i;!(c=y[b++].value)&&b<x;);for(m=(h=f=c)*c*(g=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/m,m/h);b<x;++b){if(c+=a=y[b].value,a<h&&(h=a),f<a&&(f=a),m=c*c*g,(d=Math.max(f/m,m/h))>p){c-=a;break}p=d}v.push(s={value:c,dice:u<l,children:y.slice(_,b)}),s.dice?_h(s,n,i,r,w?i+=l*c/w:o):Th(s,n,i,w?n+=u*c/w:r,o),w-=c,_=b}return v}var kh=function e(o){function t(t,e,n,i,r){Ih(o,t,e,n,i,r)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Nh),Ph=function e(d){function t(t,e,n,i,r){if((o=t._squarify)&&o.ratio===d)for(var o,s,a,u,l,c=-1,h=o.length,f=t.value;++c<h;){for(a=(s=o[c]).children,u=s.value=0,l=a.length;u<l;++u)s.value+=a[u].value;s.dice?_h(s,e,n,i,n+=(r-n)*s.value/f):Th(s,e,n,e+=(i-e)*s.value/f,r),f-=s.value}else t._squarify=o=Ih(d,t,e,n,i,r),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(Nh);function Ah(t,e){return t[0]-e[0]||t[1]-e[1]}function Dh(t){for(var e,n,i,r=t.length,o=[0,1],s=2,a=2;a<r;++a){for(;1<s&&(e=t[o[s-2]],n=t[o[s-1]],i=t[a],(n[0]-e[0])*(i[1]-e[1])-(n[1]-e[1])*(i[0]-e[0])<=0);)--s;o[s++]=a}return o.slice(0,s)}function Oh(){return Math.random()}var Rh=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Oh),$h=function t(o){function e(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=i)t=i,i=null;else for(;i=2*o()-1,t=2*o()-1,!(r=i*i+t*t)||1<r;);return e+n*t*Math.sqrt(-2*Math.log(r)/r)}}return e.source=t,e}(Oh),Fh=function t(e){function n(){var t=$h.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Oh),zh=function t(i){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=i();return t}}return e.source=t,e}(Oh),Bh=function t(n){function e(t){var e=zh.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Oh),jh=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Oh);function qh(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Hh(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Vh=Array.prototype,Uh=Vh.map,Gh=Vh.slice,Wh={name:"implicit"};function Yh(){var o=$r(),s=[],i=[],r=Wh;function a(t){var e=t+"",n=o.get(e);if(!n){if(r!==Wh)return r;o.set(e,n=s.push(t))}return i[(n-1)%i.length]}return a.domain=function(t){if(!arguments.length)return s.slice();s=[],o=$r();for(var e,n,i=-1,r=t.length;++i<r;)o.has(n=(e=t[i])+"")||o.set(n,s.push(e));return a},a.range=function(t){return arguments.length?(i=Gh.call(t),a):i.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return Yh(s,i).unknown(r)},qh.apply(a,arguments),a}function Xh(){var o,s,t=Yh().unknown(void 0),a=t.domain,u=t.range,l=[0,1],c=!1,h=0,f=0,d=.5;function e(){var t=a().length,e=l[1]<l[0],n=l[+e],i=l[1-e];o=(i-n)/Math.max(1,t-h+2*f),c&&(o=Math.floor(o)),n+=(i-n-o*(t-h))*d,s=o*(1-h),c&&(n=Math.round(n),s=Math.round(s));var r=S(t).map(function(t){return n+o*t});return u(e?r.reverse():r)}return delete t.unknown,t.domain=function(t){return arguments.length?(a(t),e()):a()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(h=Math.min(1,f=+t),e()):h},t.paddingInner=function(t){return arguments.length?(h=Math.min(1,t),e()):h},t.paddingOuter=function(t){return arguments.length?(f=+t,e()):f},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return Xh(a(),l).round(c).paddingInner(h).paddingOuter(f).align(d)},qh.apply(e(),arguments)}function Zh(t){return+t}var Kh=[0,1];function Jh(t){return t}function Qh(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function tf(t){var e,n=t[0],i=t[t.length-1];return i<n&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function ef(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],o=r<i?(i=Qh(r,i),n(s,o)):(i=Qh(i,r),n(o,s));return function(t){return o(i(t))}}function nf(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=Qh(n[s],n[s+1]),o[s]=e(t[s],t[s+1]);return function(t){var e=g(n,t,1,i)-1;return o[e](r[e](t))}}function rf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function of(){var n,i,e,r,o,s,a=Kh,u=Kh,l=pn,c=Jh;function h(){return r=2<Math.min(a.length,u.length)?nf:ef,o=s=null,f}function f(t){return isNaN(t=+t)?e:(o=o||r(a.map(n),u,l))(n(c(t)))}return f.invert=function(t){return c(i((s=s||r(u,a.map(n),ln))(t)))},f.domain=function(t){return arguments.length?(a=Uh.call(t,Zh),c===Jh||(c=tf(a)),h()):a.slice()},f.range=function(t){return arguments.length?(u=Gh.call(t),h()):u.slice()},f.rangeRound=function(t){return u=Gh.call(t),l=gn,h()},f.clamp=function(t){return arguments.length?(c=t?tf(a):Jh,f):c!==Jh},f.interpolate=function(t){return arguments.length?(l=t,h()):l},f.unknown=function(t){return arguments.length?(e=t,f):e},function(t,e){return n=t,i=e,h()}}function sf(t,e){return of()(t,e)}function af(t,e,n,i){var r,o=M(t,e,n);switch((i=ss(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=vs(o,s))||(i.precision=r),H.formatPrefix(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=ys(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=ms(o))||(i.precision=r-2*("%"===i.type))}return H.format(i)}function uf(a){var u=a.domain;return a.ticks=function(t){var e=u();return v(e[0],e[e.length-1],null==t?10:t)},a.tickFormat=function(t,e){var n=u();return af(n[0],n[n.length-1],null==t?10:t,e)},a.nice=function(t){null==t&&(t=10);var e,n=u(),i=0,r=n.length-1,o=n[i],s=n[r];return s<o&&(e=o,o=s,s=e,e=i,i=r,r=e),0<(e=y(o,s,t))?e=y(o=Math.floor(o/e)*e,s=Math.ceil(s/e)*e,t):e<0&&(e=y(o=Math.ceil(o*e)/e,s=Math.floor(s*e)/e,t)),0<e?(n[i]=Math.floor(o/e)*e,n[r]=Math.ceil(s/e)*e,u(n)):e<0&&(n[i]=Math.ceil(o*e)/e,n[r]=Math.floor(s*e)/e,u(n)),a},a}function lf(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t}function cf(t){return Math.log(t)}function hf(t){return Math.exp(t)}function ff(t){return-Math.log(-t)}function df(t){return-Math.exp(-t)}function pf(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gf(e){return function(t){return-e(-t)}}function mf(t){var f,d,r=t(cf,hf),p=r.domain,g=10;function e(){return f=(n=g)===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n}),d=10===(e=g)?pf:e===Math.E?Math.exp:function(t){return Math.pow(e,t)},p()[0]<0?(f=gf(f),d=gf(d),t(ff,df)):t(cf,hf),r;var e,n}return r.base=function(t){return arguments.length?(g=+t,e()):g},r.domain=function(t){return arguments.length?(p(t),e()):p()},r.ticks=function(t){var e,n=p(),i=n[0],r=n[n.length-1];(e=r<i)&&(u=i,i=r,r=u);var o,s,a,u=f(i),l=f(r),c=null==t?10:+t,h=[];if(!(g%1)&&l-u<c){if(u=Math.round(u)-1,l=Math.round(l)+1,0<i){for(;u<l;++u)for(s=1,o=d(u);s<g;++s)if(!((a=o*s)<i)){if(r<a)break;h.push(a)}}else for(;u<l;++u)for(s=g-1,o=d(u);1<=s;--s)if(!((a=o*s)<i)){if(r<a)break;h.push(a)}}else h=v(u,l,Math.min(l-u,c)).map(d);return e?h.reverse():h},r.tickFormat=function(t,n){if(null==n&&(n=10===g?".0e":","),"function"!=typeof n&&(n=H.format(n)),t===1/0)return n;null==t&&(t=10);var i=Math.max(1,g*t/r.ticks().length);return function(t){var e=t/d(Math.round(f(t)));return e*g<g-.5&&(e*=g),e<=i?n(t):""}},r.nice=function(){return p(lf(p(),{floor:function(t){return d(Math.floor(f(t)))},ceil:function(t){return d(Math.ceil(f(t)))}}))},r}function vf(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yf(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _f(e){var n=1,t=e(vf(n),yf(n));return t.constant=function(t){return arguments.length?e(vf(n=+t),yf(n)):n},uf(t)}function bf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xf(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wf(t){return t<0?-t*t:t*t}function Cf(e){var t=e(Jh,Jh),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Jh,Jh):.5===n?e(xf,wf):e(bf(n),bf(1/n)):n},uf(t)}function Ef(){var t=Cf(of());return t.copy=function(){return rf(t,Ef()).exponent(t.exponent())},qh.apply(t,arguments),t}var Sf=new Date,Mf=new Date;function Lf(o,s,n,i){function a(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return o(t=new Date(+t)),t},a.ceil=function(t){return o(t=new Date(t-1)),s(t,1),o(t),t},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return s(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(t,e,n){var i,r=[];if(t=a.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return r;for(;r.push(i=new Date(+t)),s(t,n),o(t),i<t&&t<e;);return r},a.filter=function(n){return Lf(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;s(t,-1),!n(t););else for(;0<=--e;)for(;s(t,1),!n(t););})},n&&(a.count=function(t,e){return Sf.setTime(+t),Mf.setTime(+e),o(Sf),o(Mf),Math.floor(n(Sf,Mf))},a.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?a.filter(i?function(t){return i(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}var Tf=Lf(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Tf.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Lf(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):Tf:null};var Nf=Tf.range,If=Lf(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),kf=If.range,Pf=Lf(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),Af=Pf.range,Df=Lf(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Of=Df.range,Rf=Lf(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),$f=Rf.range;function Ff(e){return Lf(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var zf=Ff(0),Bf=Ff(1),jf=Ff(2),qf=Ff(3),Hf=Ff(4),Vf=Ff(5),Uf=Ff(6),Gf=zf.range,Wf=Bf.range,Yf=jf.range,Xf=qf.range,Zf=Hf.range,Kf=Vf.range,Jf=Uf.range,Qf=Lf(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),td=Qf.range,ed=Lf(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ed.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Lf(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var nd=ed.range,id=Lf(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),rd=id.range,od=Lf(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),sd=od.range,ad=Lf(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),ud=ad.range;function ld(e){return Lf(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var cd=ld(0),hd=ld(1),fd=ld(2),dd=ld(3),pd=ld(4),gd=ld(5),md=ld(6),vd=cd.range,yd=hd.range,_d=fd.range,bd=dd.range,xd=pd.range,wd=gd.range,Cd=md.range,Ed=Lf(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Sd=Ed.range,Md=Lf(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Md.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Lf(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Ld=Md.range;function Td(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nd(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Id(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function kd(t){var i=t.dateTime,r=t.date,o=t.time,e=t.periods,n=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,l=zd(e),c=Bd(e),h=zd(n),f=Bd(n),d=zd(s),p=Bd(s),g=zd(a),m=Bd(a),v=zd(u),y=Bd(u),_={a:function(t){return s[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:ap,e:ap,f:fp,H:up,I:lp,j:cp,L:hp,m:dp,M:pp,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:qp,s:Hp,S:gp,u:mp,U:vp,V:yp,w:_p,W:bp,x:null,X:null,y:xp,Y:wp,Z:Cp,"%":jp},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Ep,e:Ep,f:Np,H:Sp,I:Mp,j:Lp,L:Tp,m:Ip,M:kp,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:qp,s:Hp,S:Pp,u:Ap,U:Dp,V:Op,w:Rp,W:$p,x:null,X:null,y:Fp,Y:zp,Z:Bp,"%":jp},x={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return E(t,i,e,n)},d:Kd,e:Kd,f:ip,H:Qd,I:Qd,j:Jd,L:np,m:Zd,M:tp,p:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},q:Xd,Q:op,s:sp,S:ep,u:qd,U:Hd,V:Vd,w:jd,W:Ud,x:function(t,e,n){return E(t,r,e,n)},X:function(t,e,n){return E(t,o,e,n)},y:Wd,Y:Gd,Z:Yd,"%":rp};function w(u,l){return function(t){var e,n,i,r=[],o=-1,s=0,a=u.length;for(t instanceof Date||(t=new Date(+t));++o<a;)37===u.charCodeAt(o)&&(r.push(u.slice(s,o)),null!=(n=Ad[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(i=l[e])&&(e=i(t,n)),r.push(e),s=o+1);return r.push(u.slice(s,o)),r.join("")}}function C(r,o){return function(t){var e,n,i=Id(1900,void 0,1);if(E(i,r,t+="",0)!=t.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!o||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||53<i.V)return null;"w"in i||(i.w=1),"Z"in i?(e=4<(n=(e=Nd(Id(i.y,0,1))).getUTCDay())||0===n?hd.ceil(e):hd(e),e=ad.offset(e,7*(i.V-1)),i.y=e.getUTCFullYear(),i.m=e.getUTCMonth(),i.d=e.getUTCDate()+(i.w+6)%7):(e=4<(n=(e=Td(Id(i.y,0,1))).getDay())||0===n?Bf.ceil(e):Bf(e),e=Rf.offset(e,7*(i.V-1)),i.y=e.getFullYear(),i.m=e.getMonth(),i.d=e.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?Nd(Id(i.y,0,1)).getUTCDay():Td(Id(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Nd(i)):Td(i)}}function E(t,e,n,i){for(var r,o,s=0,a=e.length,u=n.length;s<a;){if(u<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=x[r in Ad?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return _.x=w(r,_),_.X=w(o,_),_.c=w(i,_),b.x=w(r,b),b.X=w(o,b),b.c=w(i,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}var Pd,Ad={"-":"",_:" ",0:"0"},Dd=/^\s*\d+/,Od=/^%/,Rd=/[\\^$*+?|[\]().{}]/g;function $d(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Fd(t){return t.replace(Rd,"\\$&")}function zd(t){return new RegExp("^(?:"+t.map(Fd).join("|")+")","i")}function Bd(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function jd(t,e,n){var i=Dd.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function qd(t,e,n){var i=Dd.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Hd(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Vd(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Ud(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Gd(t,e,n){var i=Dd.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Wd(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function Yd(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Xd(t,e,n){var i=Dd.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Zd(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Kd(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Jd(t,e,n){var i=Dd.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Qd(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function tp(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ep(t,e,n){var i=Dd.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function np(t,e,n){var i=Dd.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ip(t,e,n){var i=Dd.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function rp(t,e,n){var i=Od.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function op(t,e,n){var i=Dd.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function sp(t,e,n){var i=Dd.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function ap(t,e){return $d(t.getDate(),e,2)}function up(t,e){return $d(t.getHours(),e,2)}function lp(t,e){return $d(t.getHours()%12||12,e,2)}function cp(t,e){return $d(1+Rf.count(ed(t),t),e,3)}function hp(t,e){return $d(t.getMilliseconds(),e,3)}function fp(t,e){return hp(t,e)+"000"}function dp(t,e){return $d(t.getMonth()+1,e,2)}function pp(t,e){return $d(t.getMinutes(),e,2)}function gp(t,e){return $d(t.getSeconds(),e,2)}function mp(t){var e=t.getDay();return 0===e?7:e}function vp(t,e){return $d(zf.count(ed(t)-1,t),e,2)}function yp(t,e){var n=t.getDay();return t=4<=n||0===n?Hf(t):Hf.ceil(t),$d(Hf.count(ed(t),t)+(4===ed(t).getDay()),e,2)}function _p(t){return t.getDay()}function bp(t,e){return $d(Bf.count(ed(t)-1,t),e,2)}function xp(t,e){return $d(t.getFullYear()%100,e,2)}function wp(t,e){return $d(t.getFullYear()%1e4,e,4)}function Cp(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+$d(e/60|0,"0",2)+$d(e%60,"0",2)}function Ep(t,e){return $d(t.getUTCDate(),e,2)}function Sp(t,e){return $d(t.getUTCHours(),e,2)}function Mp(t,e){return $d(t.getUTCHours()%12||12,e,2)}function Lp(t,e){return $d(1+ad.count(Md(t),t),e,3)}function Tp(t,e){return $d(t.getUTCMilliseconds(),e,3)}function Np(t,e){return Tp(t,e)+"000"}function Ip(t,e){return $d(t.getUTCMonth()+1,e,2)}function kp(t,e){return $d(t.getUTCMinutes(),e,2)}function Pp(t,e){return $d(t.getUTCSeconds(),e,2)}function Ap(t){var e=t.getUTCDay();return 0===e?7:e}function Dp(t,e){return $d(cd.count(Md(t)-1,t),e,2)}function Op(t,e){var n=t.getUTCDay();return t=4<=n||0===n?pd(t):pd.ceil(t),$d(pd.count(Md(t),t)+(4===Md(t).getUTCDay()),e,2)}function Rp(t){return t.getUTCDay()}function $p(t,e){return $d(hd.count(Md(t)-1,t),e,2)}function Fp(t,e){return $d(t.getUTCFullYear()%100,e,2)}function zp(t,e){return $d(t.getUTCFullYear()%1e4,e,4)}function Bp(){return"+0000"}function jp(){return"%"}function qp(t){return+t}function Hp(t){return Math.floor(t/1e3)}function Vp(t){return Pd=kd(t),H.timeFormat=Pd.format,H.timeParse=Pd.parse,H.utcFormat=Pd.utcFormat,H.utcParse=Pd.utcParse,Pd}Vp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Up=Date.prototype.toISOString?function(t){return t.toISOString()}:H.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Gp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:H.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Wp=1e3,Yp=60*Wp,Xp=60*Yp,Zp=24*Xp,Kp=7*Zp,Jp=30*Zp,Qp=365*Zp;function tg(t){return new Date(t)}function eg(t){return t instanceof Date?+t:+new Date(+t)}function ng(s,e,n,i,r,o,a,u,l){var c=sf(Jh,Jh),h=c.invert,f=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),v=l("%a %d"),y=l("%b %d"),_=l("%B"),b=l("%Y"),x=[[a,1,Wp],[a,5,5*Wp],[a,15,15*Wp],[a,30,30*Wp],[o,1,Yp],[o,5,5*Yp],[o,15,15*Yp],[o,30,30*Yp],[r,1,Xp],[r,3,3*Xp],[r,6,6*Xp],[r,12,12*Xp],[i,1,Zp],[i,2,2*Zp],[n,1,Kp],[e,1,Jp],[e,3,3*Jp],[s,1,Qp]];function w(t){return(a(t)<t?d:o(t)<t?p:r(t)<t?g:i(t)<t?m:e(t)<t?n(t)<t?v:y:s(t)<t?_:b)(t)}function C(t,e,n,i){var r,o;return null==t&&(t=10),"number"==typeof t&&(r=Math.abs(n-e)/t,t=(o=E(function(t){return t[2]}).right(x,r))===x.length?(i=M(e/Qp,n/Qp,t),s):o?(i=(o=x[r/x[o-1][2]<x[o][2]/r?o-1:o])[1],o[0]):(i=Math.max(M(e,n,t),1),u)),null==i?t:t.every(i)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Uh.call(t,eg)):f().map(tg)},c.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=(n=C(t,r,o,e))?n.range(r,o+1):[],s?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t,e){var n=f();return(t=C(t,n[0],n[n.length-1],e))?f(lf(n,t)):c},c.copy=function(){return rf(c,ng(s,e,n,i,r,o,a,u,l))},c}function ig(){var e,n,i,r,o,s=0,a=1,u=Jh,l=!1;function c(t){return isNaN(t=+t)?o:u(0===i?.5:(t=(r(t)-e)*i,l?Math.max(0,Math.min(1,t)):t))}return c.domain=function(t){return arguments.length?(e=r(s=+t[0]),n=r(a=+t[1]),i=e===n?0:1/(n-e),c):[s,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(o=t,c):o},function(t){return e=(r=t)(s),n=t(a),i=e===n?0:1/(n-e),c}}function rg(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function og(){var t=Cf(ig());return t.copy=function(){return rg(t,og()).exponent(t.exponent())},Hh.apply(t,arguments)}function sg(){var e,n,i,r,o,s,a,u=0,l=.5,c=1,h=Jh,f=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+s(t))-n)*(t<n?r:o),h(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(t){return arguments.length?(e=s(u=+t[0]),n=s(l=+t[1]),i=s(c=+t[2]),r=e===n?0:.5/(n-e),o=n===i?0:.5/(i-n),d):[u,l,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(h=t,d):h},d.unknown=function(t){return arguments.length?(a=t,d):a},function(t){return e=(s=t)(u),n=t(l),i=t(c),r=e===n?0:.5/(n-e),o=n===i?0:.5/(i-n),d}}function ag(){var t=Cf(sg());return t.copy=function(){return rg(t,ag()).exponent(t.exponent())},Hh.apply(t,arguments)}function ug(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}var lg=ug("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),cg=ug("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),hg=ug("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fg=ug("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),dg=ug("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),pg=ug("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),gg=ug("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),mg=ug("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),vg=ug("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),yg=ug("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function _g(t){return nn(t[t.length-1])}var bg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ug),xg=_g(bg),wg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ug),Cg=_g(wg),Eg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ug),Sg=_g(Eg),Mg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ug),Lg=_g(Mg),Tg=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ug),Ng=_g(Tg),Ig=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ug),kg=_g(Ig),Pg=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ug),Ag=_g(Pg),Dg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ug),Og=_g(Dg),Rg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ug),$g=_g(Rg),Fg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ug),zg=_g(Fg),Bg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ug),jg=_g(Bg),qg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ug),Hg=_g(qg),Vg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ug),Ug=_g(Vg),Gg=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ug),Wg=_g(Gg),Yg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ug),Xg=_g(Yg),Zg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ug),Kg=_g(Zg),Jg=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ug),Qg=_g(Jg),tm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ug),em=_g(tm),nm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ug),im=_g(nm),rm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ug),om=_g(rm),sm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ug),am=_g(sm),um=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ug),lm=_g(um),cm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ug),hm=_g(cm),fm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ug),dm=_g(fm),pm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ug),gm=_g(pm),mm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ug),vm=_g(mm),ym=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ug),_m=_g(ym),bm=zn(Ve(300,.5,0),Ve(-240,.5,1)),xm=zn(Ve(-100,.75,.35),Ve(80,1.5,.8)),wm=zn(Ve(260,.75,.35),Ve(80,1.5,.8)),Cm=Ve(),Em=le(),Sm=Math.PI/3,Mm=2*Math.PI/3;function Lm(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var Tm=Lm(ug("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Nm=Lm(ug("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Im=Lm(ug("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),km=Lm(ug("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Pm(t){return function(){return t}}var Am=Math.abs,Dm=Math.atan2,Om=Math.cos,Rm=Math.max,$m=Math.min,Fm=Math.sin,zm=Math.sqrt,Bm=1e-12,jm=Math.PI,qm=jm/2,Hm=2*jm;function Vm(t){return 1<=t?qm:t<=-1?-qm:Math.asin(t)}function Um(t){return t.innerRadius}function Gm(t){return t.outerRadius}function Wm(t){return t.startAngle}function Ym(t){return t.endAngle}function Xm(t){return t&&t.padAngle}function Zm(t,e,n,i,r,o,s){var a=t-n,u=e-i,l=(s?o:-o)/zm(a*a+u*u),c=l*u,h=-l*a,f=t+c,d=e+h,p=n+c,g=i+h,m=(f+p)/2,v=(d+g)/2,y=p-f,_=g-d,b=y*y+_*_,x=r-o,w=f*g-p*d,C=(_<0?-1:1)*zm(Rm(0,x*x*b-w*w)),E=(w*_-y*C)/b,S=(-w*y-_*C)/b,M=(w*_+y*C)/b,L=(-w*y+_*C)/b,T=E-m,N=S-v,I=M-m,k=L-v;return I*I+k*k<T*T+N*N&&(E=M,S=L),{cx:E,cy:S,x01:-c,y01:-h,x11:E*(r/x-1),y11:S*(r/x-1)}}function Km(t){this._context=t}function Jm(t){return new Km(t)}function Qm(t){return t[0]}function tv(t){return t[1]}function ev(){var s=Qm,a=tv,u=Pm(!0),l=null,c=Jm,h=null;function e(t){var e,n,i,r=t.length,o=!1;for(null==l&&(h=c(i=Ir())),e=0;e<=r;++e)!(e<r&&u(n=t[e],e,t))===o&&((o=!o)?h.lineStart():h.lineEnd()),o&&h.point(+s(n,e,t),+a(n,e,t));if(i)return h=null,i+""||null}return e.x=function(t){return arguments.length?(s="function"==typeof t?t:Pm(+t),e):s},e.y=function(t){return arguments.length?(a="function"==typeof t?t:Pm(+t),e):a},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:Pm(!!t),e):u},e.curve=function(t){return arguments.length?(c=t,null!=l&&(h=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=h=null:h=c(l=t),e):l},e}function nv(){var c=Qm,h=null,f=Pm(0),d=tv,p=Pm(!0),g=null,m=Jm,v=null;function e(t){var e,n,i,r,o,s=t.length,a=!1,u=new Array(s),l=new Array(s);for(null==g&&(v=m(o=Ir())),e=0;e<=s;++e){if(!(e<s&&p(r=t[e],e,t))===a)if(a=!a)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;n<=i;--i)v.point(u[i],l[i]);v.lineEnd(),v.areaEnd()}a&&(u[e]=+c(r,e,t),l[e]=+f(r,e,t),v.point(h?+h(r,e,t):u[e],d?+d(r,e,t):l[e]))}if(o)return v=null,o+""||null}function t(){return ev().defined(p).curve(m).context(g)}return e.x=function(t){return arguments.length?(c="function"==typeof t?t:Pm(+t),h=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:Pm(+t),e):c},e.x1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:Pm(+t),e):h},e.y=function(t){return arguments.length?(f="function"==typeof t?t:Pm(+t),d=null,e):f},e.y0=function(t){return arguments.length?(f="function"==typeof t?t:Pm(+t),e):f},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:Pm(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(c).y(f)},e.lineY1=function(){return t().x(c).y(d)},e.lineX1=function(){return t().x(h).y(f)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:Pm(!!t),e):p},e.curve=function(t){return arguments.length?(m=t,null!=g&&(v=m(g)),e):m},e.context=function(t){return arguments.length?(null==t?g=v=null:v=m(g=t),e):g},e}function iv(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function rv(t){return t}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ov=av(Jm);function sv(t){this._curve=t}function av(e){function t(t){return new sv(e(t))}return t._curve=e,t}function uv(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(av(t)):e()._curve},t}function lv(){return uv(ev().curve(ov))}function cv(){var t=nv().curve(ov),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return uv(n())},delete t.lineX0,t.lineEndAngle=function(){return uv(i())},delete t.lineX1,t.lineInnerRadius=function(){return uv(r())},delete t.lineY0,t.lineOuterRadius=function(){return uv(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(av(t)):e()._curve},t}function hv(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}sv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var fv=Array.prototype.slice;function dv(t){return t.source}function pv(t){return t.target}function gv(r){var o=dv,s=pv,a=Qm,u=tv,l=null;function e(){var t,e=fv.call(arguments),n=o.apply(this,e),i=s.apply(this,e);if(l=l||(t=Ir()),r(l,+a.apply(this,(e[0]=n,e)),+u.apply(this,e),+a.apply(this,(e[0]=i,e)),+u.apply(this,e)),t)return l=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(s=t,e):s},e.x=function(t){return arguments.length?(a="function"==typeof t?t:Pm(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:Pm(+t),e):u},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e}function mv(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function vv(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function yv(t,e,n,i,r){var o=hv(e,n),s=hv(e,n=(n+r)/2),a=hv(i,n),u=hv(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],u[0],u[1])}var _v={draw:function(t,e){var n=Math.sqrt(e/jm);t.moveTo(n,0),t.arc(0,0,n,0,Hm)}},bv={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xv=Math.sqrt(1/3),wv=2*xv,Cv={draw:function(t,e){var n=Math.sqrt(e/wv),i=n*xv;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Ev=Math.sin(jm/10)/Math.sin(7*jm/10),Sv=Math.sin(Hm/10)*Ev,Mv=-Math.cos(Hm/10)*Ev,Lv={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=Sv*n,r=Mv*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=Hm*o/5,a=Math.cos(s),u=Math.sin(s);t.lineTo(u*n,-a*n),t.lineTo(a*i-u*r,u*i+a*r)}t.closePath()}},Tv={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Nv=Math.sqrt(3),Iv={draw:function(t,e){var n=-Math.sqrt(e/(3*Nv));t.moveTo(0,2*n),t.lineTo(-Nv*n,-n),t.lineTo(Nv*n,-n),t.closePath()}},kv=Math.sqrt(3)/2,Pv=1/Math.sqrt(12),Av=3*(Pv/2+1),Dv={draw:function(t,e){var n=Math.sqrt(e/Av),i=n/2,r=n*Pv,o=i,s=n*Pv+n,a=-o,u=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(-.5*i-kv*r,kv*i+-.5*r),t.lineTo(-.5*o-kv*s,kv*o+-.5*s),t.lineTo(-.5*a-kv*u,kv*a+-.5*u),t.lineTo(-.5*i+kv*r,-.5*r-kv*i),t.lineTo(-.5*o+kv*s,-.5*s-kv*o),t.lineTo(-.5*a+kv*u,-.5*u-kv*a),t.closePath()}},Ov=[_v,bv,Cv,Tv,Lv,Iv,Dv];function Rv(){}function $v(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Fv(t){this._context=t}function zv(t){this._context=t}function Bv(t){this._context=t}function jv(t,e){this._basis=new Fv(t),this._beta=e}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$v(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$v(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},zv.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$v(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:$v(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},jv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*s),this._beta*e[u]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var qv=function e(n){function t(t){return 1===n?new Fv(t):new jv(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function Hv(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Vv(t,e){this._context=t,this._k=(1-e)/6}Vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Hv(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Hv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Uv=function e(n){function t(t){return new Vv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Gv(t,e){this._context=t,this._k=(1-e)/6}Gv.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Hv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wv=function e(n){function t(t){return new Gv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Yv(t,e){this._context=t,this._k=(1-e)/6}Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Hv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Xv=function e(n){function t(t){return new Yv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Zv(t,e,n){var i,r,o,s,a=t._x1,u=t._y1,l=t._x2,c=t._y2;t._l01_a>Bm&&(i=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,r=3*t._l01_a*(t._l01_a+t._l12_a),a=(a*i-t._x0*t._l12_2a+t._x2*t._l01_2a)/r,u=(u*i-t._y0*t._l12_2a+t._y2*t._l01_2a)/r),t._l23_a>Bm&&(o=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a),l=(l*o+t._x1*t._l23_2a-e*t._l12_2a)/s,c=(c*o+t._y1*t._l23_2a-n*t._l12_2a)/s),t._context.bezierCurveTo(a,u,l,c,t._x2,t._y2)}function Kv(t,e){this._context=t,this._alpha=e}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n,i;switch(t=+t,e=+e,this._point&&(n=this._x2-t,i=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))),this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Zv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jv=function e(n){function t(t){return n?new Kv(t,n):new Vv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Qv(t,e){this._context=t,this._alpha=e}Qv.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){var n,i;switch(t=+t,e=+e,this._point&&(n=this._x2-t,i=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))),this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Zv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ty=function e(n){function t(t){return n?new Qv(t,n):new Gv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function ey(t,e){this._context=t,this._alpha=e}ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n,i;switch(t=+t,e=+e,this._point&&(n=this._x2-t,i=this._y2-e,this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))),this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ny=function e(n){function t(t){return n?new ey(t,n):new Yv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function iy(t){this._context=t}function ry(t){return t<0?-1:1}function oy(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(ry(o)+ry(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function sy(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ay(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function uy(t){this._context=t}function ly(t){this._context=new cy(t)}function cy(t){this._context=t}function hy(t){this._context=t}function fy(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(o[r[0]=0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;0<=e;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function dy(t,e){this._context=t,this._t=e}function py(t,e){if(1<(r=t.length))for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function gy(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function my(t,e){return t[e]}function vy(t){var n=t.map(yy);return gy(t).sort(function(t,e){return n[t]-n[e]})}function yy(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}function _y(t){var n=t.map(by);return gy(t).sort(function(t,e){return n[t]-n[e]})}function by(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function xy(t){return function(){return t}}function wy(t){return t[0]}function Cy(t){return t[1]}function Ey(){this._=null}function Sy(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function My(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ly(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Ty(t){for(;t.L;)t=t.L;return t}function Ny(t,e,n,i){var r=[null,null],o=Wy.push(r)-1;return r.left=t,r.right=e,n&&ky(r,t,e,n),i&&ky(r,e,t,i),Uy[t.index].halfedges.push(o),Uy[e.index].halfedges.push(o),r}function Iy(t,e,n){var i=[e,n];return i.left=t,i}function ky(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Py(t,e){return e[+(e.left!==t.site)]}iy.prototype={areaStart:Rv,areaEnd:Rv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ay(this,this._t0,sy(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ay(this,sy(this,n=oy(this,t,e)),n);break;default:ay(this,this._t0,n=oy(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(ly.prototype=Object.create(uy.prototype)).point=function(t,e){uy.prototype.point.call(this,e,t)},cy.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=fy(t),r=fy(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:var n;this._t<=0?(this._context.lineTo(this._x,e),this._context.lineTo(t,e)):(n=this._x*(1-this._t)+t*this._t,this._context.lineTo(n,this._y),this._context.lineTo(n,e))}this._x=t,this._y=e}},Ey.prototype={constructor:Ey,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=Ty(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(My(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ly(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Ly(this,n),n=(t=n).U),n.C=!1,i.C=!0,My(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i=t.U,r=t.L,o=t.R,s=r?o?Ty(o):r:o;if(i?i.L===t?i.L=s:i.R=s:this._=s,r&&o?(n=s.C,s.C=t.C,((s.L=r).U=s)!==o?(i=s.U,s.U=t.U,t=s.R,i.L=t,(s.R=o).U=s):(s.U=i,t=(i=s).R)):(n=t.C,t=s),t&&(t.U=i),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,My(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ly(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,My(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ly(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,My(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ly(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var Ay,Dy=[];function Oy(){Sy(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ry(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],u=i[0]-s,l=i[1]-a,c=o[0]-s,h=o[1]-a,f=2*(u*h-l*c);if(!(-Xy<=f)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,m=(u*p-c*d)/f,v=Dy.pop()||new Oy;v.arc=t,v.site=r,v.x=g+s,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,_=Gy._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Gy.insert(y,v),y||(Ay=v)}}}}function $y(t){var e=t.circle;e&&(e.P||(Ay=e.N),Gy.remove(e),Dy.push(e),Sy(e),t.circle=null)}var Fy=[];function zy(){Sy(this),this.edge=this.site=this.circle=null}function By(t){var e=Fy.pop()||new zy;return e.site=t,e}function jy(t){$y(t),Vy.remove(t),Fy.push(t),Sy(t)}function qy(t){for(var e,n,i,r,o=t[0],s=t[1],a=Vy._;a;)if((i=Hy(a,s)-o)>Yy)a=a.L;else{if(!((r=o-function(t,e){var n=t.N;if(n)return Hy(n,e);var i=t.site;return i[1]===e?i[0]:1/0}(a,s))>Yy)){-Yy<i?(e=a.P,n=a):-Yy<r?n=(e=a).N:e=n=a;break}if(!a.R){e=a;break}a=a.R}Uy[t.index]={site:t,halfedges:[]};var u,l,c,h,f,d,p,g,m,v,y,_,b=By(t);if(Vy.insert(e,b),e||n){if(e===n)return $y(e),n=By(e.site),Vy.insert(b,n),b.edge=n.edge=Ny(e.site,b.site),Ry(e),Ry(n),0;n?($y(e),$y(n),l=(u=e.site)[0],c=u[1],h=t[0]-l,f=t[1]-c,p=(d=n.site)[0]-l,_=[((g=d[1]-c)*(v=h*h+f*f)-f*(y=p*p+g*g))/(m=2*(h*g-f*p))+l,(h*y-p*v)/m+c],ky(n.edge,u,d,_),b.edge=Ny(u,t,null,_),n.edge=Ny(t,d,null,_),Ry(e),Ry(n)):b.edge=Ny(e.site,b.site)}}function Hy(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-i,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+a)/2}var Vy,Uy,Gy,Wy,Yy=1e-6,Xy=1e-12;function Zy(t,e){return e[1]-t[1]||e[0]-t[0]}function Ky(t,e){var n,i,r,o,s,a,u,l=t.sort(Zy).pop();for(Wy=[],Uy=new Array(t.length),Vy=new Ey,Gy=new Ey;;)if(r=Ay,l&&(!r||l[1]<r.y||l[1]===r.y&&l[0]<r.x))l[0]===n&&l[1]===i||(qy(l),n=l[0],i=l[1]),l=t.pop();else{if(!r)break;!function(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];jy(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Yy&&Math.abs(i-u.circle.cy)<Yy;)o=u.P,a.unshift(u),jy(u),u=o;a.unshift(u),$y(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<Yy&&Math.abs(i-l.circle.cy)<Yy;)s=l.N,a.push(l),jy(l),l=s;a.push(l),$y(l);for(var c=a.length,h=1;h<c;++h)l=a[h],u=a[h-1],ky(l.edge,u.site,l.site,r);u=a[0],(l=a[c-1]).edge=Ny(u.site,l.site,null,r),Ry(u),Ry(l)}(r.arc)}(function(){for(var t,e,n,i,r,o,s,a,u=0,l=Uy.length;u<l;++u)if((t=Uy[u])&&(n=(e=t.halfedges).length)){for(var c=new Array(n),h=new Array(n),f=0;f<n;++f)c[f]=f,h[f]=(i=t,r=Wy[e[f]],a=s=void 0,o=i.site,s=r.left,a=r.right,o===a&&(a=s,s=o),a?Math.atan2(a[1]-s[1],a[0]-s[0]):(a=o===s?(s=r[1],r[0]):(s=r[0],r[1]),Math.atan2(s[0]-a[0],a[1]-s[1])));for(c.sort(function(t,e){return h[e]-h[t]}),f=0;f<n;++f)h[f]=e[c[f]];for(f=0;f<n;++f)e[f]=h[f]}})(),e&&(function(t,e,n,i){for(var r,o=Wy.length;o--;)(function(t,e,n,i,r){var o=t[1];if(o)return 1;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],g=(h+d)/2,m=(f+p)/2;if(p===f){if(g<e||i<=g)return;if(d<h){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(a=m-(s=(h-d)/(p-f))*g,s<-1||1<s)if(d<h){if(u){if(u[1]>=r)return}else u=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(u){if(u[1]<n)return}else u=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<p){if(u){if(u[0]>=i)return}else u=[e,s*e+a];o=[i,s*i+a]}else{if(u){if(u[0]<e)return}else u=[i,s*i+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,1})(r=Wy[o],t,e,n,i)&&function(t,e,n,i,r){var o=t[0],s=t[1],a=o[0],u=o[1],l=0,c=1,h=s[0]-a,f=s[1]-u,d=e-a;if(h||!(0<d)){if(d/=h,h<0){if(d<l)return;d<c&&(c=d)}else if(0<h){if(c<d)return;l<d&&(l=d)}if(d=i-a,h||!(d<0)){if(d/=h,h<0){if(c<d)return;l<d&&(l=d)}else if(0<h){if(d<l)return;d<c&&(c=d)}if(d=n-u,f||!(0<d)){if(d/=f,f<0){if(d<l)return;d<c&&(c=d)}else if(0<f){if(c<d)return;l<d&&(l=d)}if(d=r-u,f||!(d<0)){if(d/=f,f<0){if(c<d)return;l<d&&(l=d)}else if(0<f){if(d<l)return;d<c&&(c=d)}return!(0<l||c<1)||(0<l&&(t[0]=[a+l*h,u+l*f]),c<1&&(t[1]=[a+c*h,u+c*f]),1)}}}}}(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Yy||Math.abs(r[0][1]-r[1][1])>Yy)||delete Wy[o]}(o=+e[0][0],s=+e[0][1],a=+e[1][0],u=+e[1][1]),function(t,e,n,i){var r,o,s,a,u,l,c,h,f,d,p,g,m,v=Uy.length,y=!0;for(L=0;L<v;++L)if(r=Uy[L]){for(o=r.site,s=(a=r.halfedges).length;s--;)Wy[a[s]]||a.splice(s,1);for(s=0,u=a.length;s<u;)g=r,d=(f=(m=Wy[a[s]])[+(m.left===g.site)])[0],p=f[1],c=(l=Py(r,Wy[a[++s%u]]))[0],h=l[1],(Math.abs(d-c)>Yy||Math.abs(p-h)>Yy)&&(a.splice(s,0,Wy.push(Iy(o,f,Math.abs(d-t)<Yy&&Yy<i-p?[t,Math.abs(c-t)<Yy?h:i]:Math.abs(p-i)<Yy&&Yy<n-d?[Math.abs(h-i)<Yy?c:n,i]:Math.abs(d-n)<Yy&&Yy<p-e?[n,Math.abs(c-n)<Yy?h:e]:Math.abs(p-e)<Yy&&Yy<d-t?[Math.abs(h-e)<Yy?c:t,e]:null))-1),++u);u&&(y=!1)}if(y){for(var _,b,x,w,C,E,S,M=1/0,L=0,y=null;L<v;++L)(r=Uy[L])&&(x=(_=(o=r.site)[0]-t)*_+(b=o[1]-e)*b)<M&&(M=x,y=r);y&&(w=[t,e],C=[t,i],E=[n,i],S=[n,e],y.halfedges.push(Wy.push(Iy(o=y.site,w,C))-1,Wy.push(Iy(o,C,E))-1,Wy.push(Iy(o,E,S))-1,Wy.push(Iy(o,S,w))-1))}for(L=0;L<v;++L)(r=Uy[L])&&(r.halfedges.length||delete Uy[L])}(o,s,a,u)),this.edges=Wy,this.cells=Uy,Vy=Gy=Wy=Uy=null}function Jy(t){return function(){return t}}function Qy(t,e,n){this.target=t,this.type=e,this.transform=n}function t_(t,e,n){this.k=t,this.x=e,this.y=n}Ky.prototype={constructor:Ky,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return Py(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var f=[],d=this.edges;return this.cells.forEach(function(t,e){if(i=(n=t.halfedges).length)for(var n,i,r,o=t.site,s=-1,a=d[n[i-1]],u=a.left===o?a.right:a.left;++s<i;)r=u,u=(a=d[n[s]]).left===o?a.right:a.left,r&&u&&e<r.index&&e<u.index&&(c=r,h=u,((l=o)[0]-h[0])*(c[1]-l[1])-(l[0]-c[0])*(h[1]-l[1])<0)&&f.push([o.data,r.data,u.data]);var l,c,h}),f},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(s,a,t){for(var e,u,l=this,c=l._found||0,n=l.cells.length;!(u=l.cells[c]);)if(++c>=n)return null;for(var i=s-u.site[0],r=a-u.site[1],h=i*i+r*r;u=l.cells[e=c],c=null,u.halfedges.forEach(function(t){var e,n,i,r=l.edges[t],o=r.left;!(o!==u.site&&o||(o=r.right))||(i=(e=s-o[0])*e+(n=a-o[1])*n)<h&&(h=i,c=o.index)}),null!==c;);return l._found=e,null==t||h<=t*t?u.site:null}},t_.prototype={constructor:t_,scale:function(t){return 1===t?this:new t_(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new t_(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var e_=new t_(1,0,0);function n_(t){for(;!t.__zoom;)if(!(t=t.parentNode))return e_;return t.__zoom}function i_(){H.event.stopImmediatePropagation()}function r_(){H.event.preventDefault(),H.event.stopImmediatePropagation()}function o_(){return!H.event.ctrlKey&&!H.event.button}function s_(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function a_(){return this.__zoom||e_}function u_(){return-H.event.deltaY*(1===H.event.deltaMode?.05:H.event.deltaMode?1:.002)}function l_(){return navigator.maxTouchPoints||"ontouchstart"in this}function c_(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i<r?(i+r)/2:Math.min(0,i)||Math.max(0,r),o<s?(o+s)/2:Math.min(0,o)||Math.max(0,s))}n_.prototype=t_.prototype,H.FormatSpecifier=as,H.active=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>ai&&n.name===e)return new Ci([[t]],Wi,e,+i);return null},H.arc=function(){var z=Um,B=Gm,j=Pm(0),q=null,H=Wm,V=Ym,U=Xm,G=null;function e(){var t,e,n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E,S,M,L,T,N,I,k,P,A=+z.apply(this,arguments),D=+B.apply(this,arguments),O=H.apply(this,arguments)-qm,R=V.apply(this,arguments)-qm,$=Am(R-O),F=O<R;if(G=G||(t=Ir()),D<A&&(e=D,D=A,A=e),Bm<D?Hm-Bm<$?(G.moveTo(D*Om(O),D*Fm(O)),G.arc(0,0,D,O,R,!F),Bm<A&&(G.moveTo(A*Om(R),A*Fm(R)),G.arc(0,0,A,R,O,F))):(s=r=O,a=o=R,l=u=$,c=U.apply(this,arguments)/2,h=Bm<c&&(q?+q.apply(this,arguments):zm(A*A+D*D)),k=I=f=$m(Am(D-A)/2,+j.apply(this,arguments)),Bm<h&&(d=Vm(h/A*Fm(c)),p=Vm(h/D*Fm(c)),(u-=2*d)>Bm?(s+=d*=F?1:-1,a-=d):(u=0,s=a=(O+R)/2),(l-=2*p)>Bm?(r+=p*=F?1:-1,o-=p):(l=0,r=o=(O+R)/2)),g=D*Om(r),m=D*Fm(r),v=A*Om(a),y=A*Fm(a),Bm<f&&(b=D*Om(o),x=D*Fm(o),w=A*Om(s),C=A*Fm(s),$<jm&&(_=function(){var t=w-g,e=C-m,n=v-b,i=y-x,r=i*t-n*e;if(!(r*r<Bm))return[g+(r=(n*(m-x)-i*(g-b))/r)*t,m+r*e]}())&&(E=g-_[0],S=m-_[1],M=b-_[0],L=x-_[1],T=1/Fm((1<(P=(E*M+S*L)/(zm(E*E+S*S)*zm(M*M+L*L)))?0:P<-1?jm:Math.acos(P))/2),N=zm(_[0]*_[0]+_[1]*_[1]),I=$m(f,(A-N)/(T-1)),k=$m(f,(D-N)/(1+T)))),Bm<l?Bm<k?(n=Zm(w,C,g,m,D,k,F),i=Zm(b,x,v,y,D,k,F),G.moveTo(n.cx+n.x01,n.cy+n.y01),k<f?G.arc(n.cx,n.cy,k,Dm(n.y01,n.x01),Dm(i.y01,i.x01),!F):(G.arc(n.cx,n.cy,k,Dm(n.y01,n.x01),Dm(n.y11,n.x11),!F),G.arc(0,0,D,Dm(n.cy+n.y11,n.cx+n.x11),Dm(i.cy+i.y11,i.cx+i.x11),!F),G.arc(i.cx,i.cy,k,Dm(i.y11,i.x11),Dm(i.y01,i.x01),!F))):(G.moveTo(g,m),G.arc(0,0,D,r,o,!F)):G.moveTo(g,m),Bm<A&&Bm<u?Bm<I?(n=Zm(v,y,b,x,A,-I,F),i=Zm(g,m,w,C,A,-I,F),G.lineTo(n.cx+n.x01,n.cy+n.y01),I<f?G.arc(n.cx,n.cy,I,Dm(n.y01,n.x01),Dm(i.y01,i.x01),!F):(G.arc(n.cx,n.cy,I,Dm(n.y01,n.x01),Dm(n.y11,n.x11),!F),G.arc(0,0,A,Dm(n.cy+n.y11,n.cx+n.x11),Dm(i.cy+i.y11,i.cx+i.x11),F),G.arc(i.cx,i.cy,I,Dm(i.y11,i.x11),Dm(i.y01,i.x01),!F))):G.arc(0,0,A,a,s,F):G.lineTo(v,y)):G.moveTo(0,0),G.closePath(),t)return G=null,t+""||null}return e.centroid=function(){var t=(+z.apply(this,arguments)+ +B.apply(this,arguments))/2,e=(+H.apply(this,arguments)+ +V.apply(this,arguments))/2-jm/2;return[Om(e)*t,Fm(e)*t]},e.innerRadius=function(t){return arguments.length?(z="function"==typeof t?t:Pm(+t),e):z},e.outerRadius=function(t){return arguments.length?(B="function"==typeof t?t:Pm(+t),e):B},e.cornerRadius=function(t){return arguments.length?(j="function"==typeof t?t:Pm(+t),e):j},e.padRadius=function(t){return arguments.length?(q=null==t?null:"function"==typeof t?t:Pm(+t),e):q},e.startAngle=function(t){return arguments.length?(H="function"==typeof t?t:Pm(+t),e):H},e.endAngle=function(t){return arguments.length?(V="function"==typeof t?t:Pm(+t),e):V},e.padAngle=function(t){return arguments.length?(U="function"==typeof t?t:Pm(+t),e):U},e.context=function(t){return arguments.length?(G=null==t?null:t,e):G},e},H.area=nv,H.areaRadial=cv,H.ascending=a,H.autoType=function(t){for(var e in t){var n,i,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Mo&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=n;else r=null;t[e]=r}return t},H.axisBottom=function(t){return D(3,t)},H.axisLeft=function(t){return D(4,t)},H.axisRight=function(t){return D(2,t)},H.axisTop=function(t){return D(1,t)},H.bisect=g,H.bisectLeft=e,H.bisectRight=g,H.bisector=E,H.blob=function(t,e){return fetch(t,e).then(Lo)},H.brush=function(){return vr(sr)},H.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},H.brushX=function(){return vr(rr)},H.brushY=function(){return vr(or)},H.buffer=function(t,e){return fetch(t,e).then(To)},H.chord=function(){var x=0,w=null,C=null,E=null;function e(i){for(var t,e,n,r,o=i.length,s=[],a=S(o),u=[],l=[],c=l.groups=new Array(o),h=new Array(o*o),f=0,d=-1;++d<o;){for(t=0,r=-1;++r<o;)t+=i[d][r];s.push(t),u.push(S(o)),f+=t}for(w&&a.sort(function(t,e){return w(s[t],s[e])}),C&&u.forEach(function(t,n){t.sort(function(t,e){return C(i[n][t],i[n][e])})}),n=(f=Cr(0,wr-x*o)/f)?x:wr/o,t=0,d=-1;++d<o;){for(e=t,r=-1;++r<o;){var p=a[d],g=u[p][r],m=i[p][g],v=t,y=t+=m*f;h[g*o+p]={index:p,subindex:g,startAngle:v,endAngle:y,value:m}}c[p]={index:p,startAngle:e,endAngle:t,value:s[p]},t+=n}for(d=-1;++d<o;)for(r=d-1;++r<o;){var _=h[r*o+d],b=h[d*o+r];(_.value||b.value)&&l.push(_.value<b.value?{source:b,target:_}:{source:_,target:b})}return E?l.sort(E):l}return e.padAngle=function(t){return arguments.length?(x=Cr(0,t),e):x},e.sortGroups=function(t){return arguments.length?(w=t,e):w},e.sortSubgroups=function(t){return arguments.length?(C=t,e):C},e.sortChords=function(t){return arguments.length?(null==t?E=null:(E=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=n=t,e):E&&E._;var n},e},H.clientPoint=It,H.cluster=function(){var a=Vc,u=1,l=1,c=!1;function e(e){var i,r=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(Uc,0)/e.length,t.y=1+n.reduce(Gc,0)):(t.x=i?r+=a(t,i):0,t.y=0,i=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-a(t,n)/2,s=n.x+a(n,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*l}:function(t){t.x=(t.x-o)/(s-o)*u,t.y=(1-(e.y?t.y/e.y:1))*l})}return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(c=!1,u=+t[0],l=+t[1],e):c?null:[u,l]},e.nodeSize=function(t){return arguments.length?(c=!0,u=+t[0],l=+t[1],e):c?[u,l]:null},e},H.color=oe,H.contourDensity=function(){var a=to,u=eo,l=no,i=960,r=500,o=20,c=2,h=3*o,f=i+2*h>>c,d=r+2*h>>c,p=Wr(20);function e(t){var s=new Float32Array(f*d),e=new Float32Array(f*d);t.forEach(function(t,e,n){var i=+a(t,e,n)+h>>c,r=+u(t,e,n)+h>>c,o=+l(t,e,n);0<=i&&i<f&&0<=r&&r<d&&(s[i+r*f]+=o)}),Jr({width:f,height:d,data:s},{width:f,height:d,data:e},o>>c),Qr({width:f,height:d,data:e},{width:f,height:d,data:s},o>>c),Jr({width:f,height:d,data:s},{width:f,height:d,data:e},o>>c),Qr({width:f,height:d,data:e},{width:f,height:d,data:s},o>>c),Jr({width:f,height:d,data:s},{width:f,height:d,data:e},o>>c),Qr({width:f,height:d,data:e},{width:f,height:d,data:s},o>>c);var n,i=p(s);return Array.isArray(i)||(i=M(0,n=x(s),i),(i=S(0,Math.floor(n/i)*i,i)).shift()),Kr().thresholds(i).size([f,d])(s).map(g)}function g(t){return t.value*=Math.pow(2,-2*c),t.coordinates.forEach(n),t}function n(t){t.forEach(s)}function s(t){t.forEach(m)}function m(t){t[0]=t[0]*Math.pow(2,c)-h,t[1]=t[1]*Math.pow(2,c)-h}function v(){return f=i+2*(h=3*o)>>c,d=r+2*h>>c,e}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:Wr(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:Wr(+t),e):u},e.weight=function(t){return arguments.length?(l="function"==typeof t?t:Wr(+t),e):l},e.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(0<=e||0<=e))throw new Error("invalid size");return i=e,r=n,v()},e.cellSize=function(t){if(!arguments.length)return 1<<c;if(!(1<=(t=+t)))throw new Error("invalid cell size");return c=Math.floor(Math.log(t)/Math.LN2),v()},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?Wr(Ur.call(t)):Wr(t),e):p},e.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!(0<=(t=+t)))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),v()},e},H.contours=Kr,H.create=function(t){return St(q(t).call(document.documentElement))},H.creator=q,H.cross=function(t,e,n){var i,r,o,s,a=t.length,u=e.length,l=new Array(a*u);for(null==n&&(n=c),i=o=0;i<a;++i)for(s=t[i],r=0;r<u;++r,++o)l[o]=n(s,e[r]);return l},H.csv=Po,H.csvFormat=fo,H.csvFormatBody=po,H.csvFormatRow=mo,H.csvFormatRows=go,H.csvFormatValue=vo,H.csvParse=co,H.csvParseRows=ho,H.cubehelix=Ve,H.curveBasis=function(t){return new Fv(t)},H.curveBasisClosed=function(t){return new zv(t)},H.curveBasisOpen=function(t){return new Bv(t)},H.curveBundle=qv,H.curveCardinal=Uv,H.curveCardinalClosed=Wv,H.curveCardinalOpen=Xv,H.curveCatmullRom=Jv,H.curveCatmullRomClosed=ty,H.curveCatmullRomOpen=ny,H.curveLinear=Jm,H.curveLinearClosed=function(t){return new iy(t)},H.curveMonotoneX=function(t){return new uy(t)},H.curveMonotoneY=function(t){return new ly(t)},H.curveNatural=function(t){return new hy(t)},H.curveStep=function(t){return new dy(t,.5)},H.curveStepAfter=function(t){return new dy(t,1)},H.curveStepBefore=function(t){return new dy(t,0)},H.customEvent=bt,H.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},H.deviation=r,H.dispatch=R,H.drag=function(){var n,i,r,o,s=zt,a=Bt,e=jt,u=qt,p={},g=R("start","drag","end"),m=0,l=0;function v(t){t.on("mousedown.drag",c).filter(u).on("touchstart.drag",d).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t;o||!s.apply(this,arguments)||(t=b("mouse",a.apply(this,arguments),kt,this,arguments))&&(St(H.event.view).on("mousemove.drag",h,!0).on("mouseup.drag",f,!0),Ot(H.event.view),At(),r=!1,n=H.event.clientX,i=H.event.clientY,t("start"))}function h(){var t,e;Dt(),r||(t=H.event.clientX-n,e=H.event.clientY-i,r=l<t*t+e*e),p.mouse("drag")}function f(){St(H.event.view).on("mousemove.drag mouseup.drag",null),Rt(H.event.view,r),Dt(),p.mouse("end")}function d(){if(s.apply(this,arguments))for(var t,e=H.event.changedTouches,n=a.apply(this,arguments),i=e.length,r=0;r<i;++r)(t=b(e[r].identifier,n,Pt,this,arguments))&&(At(),t("start"))}function y(){for(var t,e=H.event.changedTouches,n=e.length,i=0;i<n;++i)(t=p[e[i].identifier])&&(Dt(),t("drag"))}function _(){var t,e,n=H.event.changedTouches,i=n.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<i;++t)(e=p[n[t].identifier])&&(At(),e("end"))}function b(r,o,s,a,u){var l,c,h,f=s(o,r),d=g.copy();if(bt(new Ft(v,"beforestart",l,r,m,f[0],f[1],0,0,d),function(){return null!=(H.event.subject=l=e.apply(a,u))&&(c=l.x-f[0]||0,h=l.y-f[1]||0,!0)}))return function t(e){var n,i=f;switch(e){case"start":p[r]=t,n=m++;break;case"end":delete p[r],--m;case"drag":f=s(o,r),n=m}bt(new Ft(v,e,l,r,n,f[0]+c,f[1]+h,f[0]-i[0],f[1]-i[1],d),d.apply,d,[e,a,u])}}return v.filter=function(t){return arguments.length?(s="function"==typeof t?t:$t(!!t),v):s},v.container=function(t){return arguments.length?(a="function"==typeof t?t:$t(t),v):a},v.subject=function(t){return arguments.length?(e="function"==typeof t?t:$t(t),v):e},v.touchable=function(t){return arguments.length?(u="function"==typeof t?t:$t(!!t),v):u},v.on=function(){var t=g.on.apply(g,arguments);return t===g?v:t},v.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,v):Math.sqrt(l)},v},H.dragDisable=Ot,H.dragEnable=Rt,H.dsv=function(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=uo(t);return Io(e,n).then(function(t){return r.parse(t,i)})},H.dsvFormat=uo,H.easeBack=ji,H.easeBackIn=zi,H.easeBackInOut=ji,H.easeBackOut=Bi,H.easeBounce=Fi,H.easeBounceIn=function(t){return 1-Fi(1-t)},H.easeBounceInOut=function(t){return((t*=2)<=1?1-Fi(1-t):Fi(t-1)+1)/2},H.easeBounceOut=Fi,H.easeCircle=Ri,H.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},H.easeCircleInOut=Ri,H.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},H.easeCubic=Ti,H.easeCubicIn=function(t){return t*t*t},H.easeCubicInOut=Ti,H.easeCubicOut=function(t){return--t*t*t+1},H.easeElastic=Vi,H.easeElasticIn=Hi,H.easeElasticInOut=Ui,H.easeElasticOut=Vi,H.easeExp=Oi,H.easeExpIn=function(t){return Math.pow(2,10*t-10)},H.easeExpInOut=Oi,H.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},H.easeLinear=function(t){return+t},H.easePoly=ki,H.easePolyIn=Ni,H.easePolyInOut=ki,H.easePolyOut=Ii,H.easeQuad=Li,H.easeQuadIn=function(t){return t*t},H.easeQuadInOut=Li,H.easeQuadOut=function(t){return t*(2-t)},H.easeSin=Di,H.easeSinIn=function(t){return 1-Math.cos(t*Ai)},H.easeSinInOut=Di,H.easeSinOut=function(t){return Math.sin(t*Ai)},H.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},H.extent=u,H.forceCenter=function(o,s){var a;function e(){for(var t,e=a.length,n=0,i=0,r=0;r<e;++r)n+=(t=a[r]).x,i+=t.y;for(n=n/e-o,i=i/e-s,r=0;r<e;++r)(t=a[r]).x-=n,t.y-=i}return null==o&&(o=0),null==s&&(s=0),e.initialize=function(t){a=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(s=+t,e):s},e},H.forceCollide=function(i){var o,s,m=1,a=1;function e(){for(var t,e,h,f,d,p,g,n=o.length,i=0;i<a;++i)for(e=Uo(o,Xo,Zo).visitAfter(u),t=0;t<n;++t)h=o[t],p=s[h.index],g=p*p,f=h.x+h.vx,d=h.y+h.vy,e.visit(r);function r(t,e,n,i,r){var o,s,a,u=t.data,l=t.r,c=p+l;if(!u)return f+c<e||i<f-c||d+c<n||r<d-c;u.index>h.index&&((a=(o=f-u.x-u.vx)*o+(s=d-u.y-u.vy)*s)<c*c&&(0===o&&(a+=(o=Bo())*o),0===s&&(a+=(s=Bo())*s),a=(c-(a=Math.sqrt(a)))/a*m,h.vx+=(o*=a)*(c=(l*=l)/(g+l)),h.vy+=(s*=a)*c,u.vx-=o*(c=1-c),u.vy-=s*c))}}function u(t){if(t.data)return t.r=s[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(o){var t,e,n=o.length;for(s=new Array(n),t=0;t<n;++t)e=o[t],s[e.index]=+i(e,t,o)}}return"function"!=typeof i&&(i=zo(null==i?1:+i)),e.initialize=function(t){o=t,n()},e.iterations=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(m=+t,e):m},e.radius=function(t){return arguments.length?(i="function"==typeof t?t:zo(+t),n(),e):i},e},H.forceLink=function(h){var f,d,o,s,p,a=Ko,n=function(t){return 1/Math.min(s[t.source.index],s[t.target.index])},i=zo(30),g=1;function e(t){for(var e=0,n=h.length;e<g;++e)for(var i,r,o,s,a,u,l,c=0;c<n;++c)r=(i=h[c]).source,s=(o=i.target).x+o.vx-r.x-r.vx||Bo(),a=o.y+o.vy-r.y-r.vy||Bo(),s*=u=((u=Math.sqrt(s*s+a*a))-d[c])/u*t*f[c],a*=u,o.vx-=s*(l=p[c]),o.vy-=a*l,r.vx+=s*(l=1-l),r.vy+=a*l}function r(){if(o){var t,e=o.length,n=h.length,i=$r(o,a),r=0;for(s=new Array(e);r<n;++r)(t=h[r]).index=r,"object"!=typeof t.source&&(t.source=Jo(i,t.source)),"object"!=typeof t.target&&(t.target=Jo(i,t.target)),s[t.source.index]=(s[t.source.index]||0)+1,s[t.target.index]=(s[t.target.index]||0)+1;for(r=0,p=new Array(n);r<n;++r)t=h[r],p[r]=s[t.source.index]/(s[t.source.index]+s[t.target.index]);f=new Array(n),u(),d=new Array(n),l()}}function u(){if(o)for(var t=0,e=h.length;t<e;++t)f[t]=+n(h[t],t,h)}function l(){if(o)for(var t=0,e=h.length;t<e;++t)d[t]=+i(h[t],t,h)}return null==h&&(h=[]),e.initialize=function(t){o=t,r()},e.links=function(t){return arguments.length?(h=t,r(),e):h},e.id=function(t){return arguments.length?(a=t,e):a},e.iterations=function(t){return arguments.length?(g=+t,e):g},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:zo(+t),u(),e):n},e.distance=function(t){return arguments.length?(i="function"==typeof t?t:zo(+t),l(),e):i},e},H.forceManyBody=function(){var r,u,l,c,i=zo(-30),h=1,f=1/0,d=.81;function e(t){var e,n=r.length,i=Uo(r,Qo,ts).visitAfter(o);for(l=t,e=0;e<n;++e)u=r[e],i.visit(s)}function n(){if(r){var t,e,n=r.length;for(c=new Array(n),t=0;t<n;++t)e=r[t],c[e.index]=+i(e,t,r)}}function o(t){var e,n,i,r,o,s=0,a=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,a+=n,i+=n*e.x,r+=n*e.y);t.x=i/a,t.y=r/a}else for((e=t).x=e.data.x,e.y=e.data.y;s+=c[e.data.index],e=e.next;);t.value=s}function s(t,e,n,i){if(!t.value)return!0;var r=t.x-u.x,o=t.y-u.y,s=i-e,a=r*r+o*o;if(s*s/d<a)return a<f&&(0===r&&(a+=(r=Bo())*r),0===o&&(a+=(o=Bo())*o),a<h&&(a=Math.sqrt(h*a)),u.vx+=r*t.value*l/a,u.vy+=o*t.value*l/a),!0;if(!(t.length||f<=a))for(t.data===u&&!t.next||(0===r&&(a+=(r=Bo())*r),0===o&&(a+=(o=Bo())*o),a<h&&(a=Math.sqrt(h*a)));t.data!==u&&(s=c[t.data.index]*l/a,u.vx+=r*s,u.vy+=o*s),t=t.next;);}return e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:zo(+t),n(),e):i},e.distanceMin=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.distanceMax=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},H.forceRadial=function(n,u,l){var c,h,f,i=zo(.1);function e(t){for(var e=0,n=c.length;e<n;++e){var i=c[e],r=i.x-u||1e-6,o=i.y-l||1e-6,s=Math.sqrt(r*r+o*o),a=(f[e]-s)*h[e]*t/s;i.vx+=r*a,i.vy+=o*a}}function r(){if(c){var t,e=c.length;for(h=new Array(e),f=new Array(e),t=0;t<e;++t)f[t]=+n(c[t],t,c),h[t]=isNaN(f[t])?0:+i(c[t],t,c)}}return"function"!=typeof n&&(n=zo(+n)),null==u&&(u=0),null==l&&(l=0),e.initialize=function(t){c=t,r()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:zo(+t),r(),e):i},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:zo(+t),r(),e):n},e.x=function(t){return arguments.length?(u=+t,e):u},e.y=function(t){return arguments.length?(l=+t,e):l},e},H.forceSimulation=function(c){var o,s=1,e=.001,a=1-Math.pow(e,1/300),u=0,l=.6,h=$r(),t=Jn(i),n=R("tick","end");function i(){r(),n.call("tick",o),s<e&&(t.stop(),n.call("end",o))}function r(t){var e,n,i=c.length;void 0===t&&(t=1);for(var r=0;r<t;++r)for(s+=(u-s)*a,h.each(function(t){t(s)}),e=0;e<i;++e)null==(n=c[e]).fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0);return o}function f(){for(var t,e,n,i=0,r=c.length;i<r;++i){(t=c[i]).index=i,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),(isNaN(t.x)||isNaN(t.y))&&(e=10*Math.sqrt(i),n=i*es,t.x=e*Math.cos(n),t.y=e*Math.sin(n)),(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(c),t}return null==c&&(c=[]),f(),o={tick:r,restart:function(){return t.restart(i),o},stop:function(){return t.stop(),o},nodes:function(t){return arguments.length?(c=t,f(),h.each(d),o):c},alpha:function(t){return arguments.length?(s=+t,o):s},alphaMin:function(t){return arguments.length?(e=+t,o):e},alphaDecay:function(t){return arguments.length?(a=+t,o):+a},alphaTarget:function(t){return arguments.length?(u=+t,o):u},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},force:function(t,e){return 1<arguments.length?(null==e?h.remove(t):h.set(t,d(e)),o):h.get(t)},find:function(t,e,n){var i,r,o,s,a,u=0,l=c.length;for(null==n?n=1/0:n*=n,u=0;u<l;++u)(o=(i=t-(s=c[u]).x)*i+(r=e-s.y)*r)<n&&(a=s,n=o);return a},on:function(t,e){return 1<arguments.length?(n.on(t,e),o):n.on(t)}}},H.forceX=function(n){var r,o,s,i=zo(.1);function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vx+=(s[n]-e.x)*o[n]*t}function a(){if(r){var t,e=r.length;for(o=new Array(e),s=new Array(e),t=0;t<e;++t)o[t]=isNaN(s[t]=+n(r[t],t,r))?0:+i(r[t],t,r)}}return"function"!=typeof n&&(n=zo(null==n?0:+n)),e.initialize=function(t){r=t,a()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:zo(+t),a(),e):i},e.x=function(t){return arguments.length?(n="function"==typeof t?t:zo(+t),a(),e):n},e},H.forceY=function(n){var r,o,s,i=zo(.1);function e(t){for(var e,n=0,i=r.length;n<i;++n)(e=r[n]).vy+=(s[n]-e.y)*o[n]*t}function a(){if(r){var t,e=r.length;for(o=new Array(e),s=new Array(e),t=0;t<e;++t)o[t]=isNaN(s[t]=+n(r[t],t,r))?0:+i(r[t],t,r)}}return"function"!=typeof n&&(n=zo(null==n?0:+n)),e.initialize=function(t){r=t,a()},e.strength=function(t){return arguments.length?(i="function"==typeof t?t:zo(+t),a(),e):i},e.y=function(t){return arguments.length?(n="function"==typeof t?t:zo(+t),a(),e):n},e},H.formatDefaultLocale=gs,H.formatLocale=ps,H.formatSpecifier=ss,H.geoAlbers=wc,H.geoAlbersUsa=function(){var e,n,r,o,s,i,a=wc(),u=xc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=xc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){i=[t,e]}};function h(t){var e=t[0],n=t[1];return i=null,r.point(e,n),i||(o.point(e,n),i)||(s.point(e,n),i)}function f(){return e=n=null,h}return h.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?u:.166<=r&&r<.234&&-.214<=i&&i<-.115?l:a).invert(t)},h.stream=function(t){return e&&n===t?e:(i=[a.stream(n=t),u.stream(t),l.stream(t)],r=i.length,e={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},h.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),l.precision(t),f()):a.precision()},h.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),l.scale(t),h.translate(a.translate())):a.scale()},h.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),n=+t[0],i=+t[1];return r=a.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(c),o=u.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+Cs,i+.12*e+Cs],[n-.214*e-Cs,i+.234*e-Cs]]).stream(c),s=l.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+Cs,i+.166*e+Cs],[n-.115*e-Cs,i+.234*e-Cs]]).stream(c),f()},h.fitExtent=function(t,e){return uc(h,t,e)},h.fitSize=function(t,e){return lc(h,t,e)},h.fitWidth=function(t,e){return cc(h,t,e)},h.fitHeight=function(t,e){return hc(h,t,e)},h.scale(1070)},H.geoArea=function(t){return ra.reset(),Ks(t,oa),2*ra},H.geoAzimuthalEqualArea=function(){return vc(Sc).scale(124.75).clipAngle(179.999)},H.geoAzimuthalEqualAreaRaw=Sc,H.geoAzimuthalEquidistant=function(){return vc(Mc).scale(79.4188).clipAngle(179.999)},H.geoAzimuthalEquidistantRaw=Mc,H.geoBounds=function(t){var e,n,i,r,o,s,a;if(ba=_a=-(va=ya=1/0),Sa=[],Ks(t,Va),n=Sa.length){for(Sa.sort(Qa),e=1,o=[i=Sa[0]];e<n;++e)tu(i,(r=Sa[e])[0])||tu(i,r[1])?(Ja(i[0],r[1])>Ja(i[0],i[1])&&(i[1]=r[1]),Ja(r[0],i[1])>Ja(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(a=Ja(i[1],r[0]))>s&&(s=a,va=r[0],_a=i[1])}return Sa=Ma=null,va===1/0||ya===1/0?[[NaN,NaN],[NaN,NaN]]:[[va,ya],[_a,ba]]},H.geoCentroid=function(t){La=Ta=Na=Ia=ka=Pa=Aa=Da=Oa=Ra=$a=0,Ks(t,eu);var e=Oa,n=Ra,i=$a,r=e*e+n*n+i*i;return r<1e-12&&(e=Pa,n=Aa,i=Da,Ta<Cs&&(e=Na,n=Ia,i=ka),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[Ps(n,e)*Ts,Hs(i/Bs(r))*Ts]},H.geoCircle=function(){var i,r,o=fu([0,0]),s=fu(90),a=fu(6),u={point:function(t,e){i.push(t=r(t,e)),t[0]*=Ts,t[1]*=Ts}};function e(){var t=o.apply(this,arguments),e=s.apply(this,arguments)*Ns,n=a.apply(this,arguments)*Ns;return i=[],r=gu(-t[0]*Ns,-t[1]*Ns,0).invert,bu(u,e,n,1),t={type:"Polygon",coordinates:[i]},i=r=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:fu([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(s="function"==typeof t?t:fu(+t),e):s},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:fu(+t),e):a},e},H.geoClipAntimeridian=Au,H.geoClipCircle=Du,H.geoClipExtent=function(){var e,n,i,r=0,o=0,s=960,a=500;return i={stream:function(t){return e&&n===t?e:e=$u(r,o,s,a)(n=t)},extent:function(t){return arguments.length?(r=+t[0][0],o=+t[0][1],s=+t[1][0],a=+t[1][1],e=n=null,i):[[r,o],[s,a]]}}},H.geoClipRectangle=$u,H.geoConicConformal=function(){return _c(Ic).scale(109.5).parallels([30,30])},H.geoConicConformalRaw=Ic,H.geoConicEqualArea=xc,H.geoConicEqualAreaRaw=bc,H.geoConicEquidistant=function(){return _c(Pc).scale(131.154).center([0,13.9389])},H.geoConicEquidistantRaw=Pc,H.geoContains=function(t,e){return(t&&Zu.hasOwnProperty(t.type)?Zu[t.type]:Ju)(t,e)},H.geoDistance=Xu,H.geoEqualEarth=function(){return vc(Fc).scale(177.158)},H.geoEqualEarthRaw=Fc,H.geoEquirectangular=function(){return vc(kc).scale(152.63)},H.geoEquirectangularRaw=kc,H.geoGnomonic=function(){return vc(zc).scale(144.049).clipAngle(60)},H.geoGnomonicRaw=zc,H.geoGraticule=sl,H.geoGraticule10=function(){return sl()()},H.geoIdentity=function(){var r,o,e,n,i,s,a,u=1,l=0,c=0,h=1,f=1,d=0,p=null,g=1,m=1,v=oc({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=al;function _(){return g=u*h,m=u*f,s=a=null,b}function b(t){var e,n=t[0]*g,i=t[1]*m;return d&&(e=i*r-n*o,n=n*r+i*o,i=e),[n+l,i+c]}return b.invert=function(t){var e,n=t[0]-l,i=t[1]-c;return d&&(e=i*r+n*o,n=n*r-i*o,i=e),[n/g,i/m]},b.stream=function(t){return s&&a===t?s:s=v(y(a=t))},b.postclip=function(t){return arguments.length?(y=t,p=e=n=i=null,_()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(p=e=n=i=null,al):$u(p=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),_()):null==p?null:[[p,e],[n,i]]},b.scale=function(t){return arguments.length?(u=+t,_()):u},b.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],_()):[l,c]},b.angle=function(t){return arguments.length?(o=Fs(d=t%360*Ns),r=As(d),_()):d*Ts},b.reflectX=function(t){return arguments.length?(h=t?-1:1,_()):h<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,_()):f<0},b.fitExtent=function(t,e){return uc(b,t,e)},b.fitSize=function(t,e){return lc(b,t,e)},b.fitWidth=function(t,e){return cc(b,t,e)},b.fitHeight=function(t,e){return hc(b,t,e)},b},H.geoInterpolate=function(t,e){var n=t[0]*Ns,i=t[1]*Ns,r=e[0]*Ns,o=e[1]*Ns,s=As(i),a=Fs(i),u=As(o),l=Fs(o),c=s*As(n),h=s*Fs(n),f=u*As(r),d=u*Fs(r),p=2*Hs(Bs(Vs(o-i)+s*u*Vs(r-n))),g=Fs(p),m=p?function(t){var e=Fs(t*=p)/g,n=Fs(p-t)/g,i=n*c+e*f,r=n*h+e*d,o=n*a+e*l;return[Ps(r,i)*Ts,Ps(o,Bs(i*i+r*r))*Ts]}:function(){return[n*Ts,i*Ts]};return m.distance=p,m},H.geoLength=Gu,H.geoMercator=function(){return Tc(Lc).scale(961/Ls)},H.geoMercatorRaw=Lc,H.geoNaturalEarth1=function(){return vc(Bc).scale(175.295)},H.geoNaturalEarth1Raw=Bc,H.geoOrthographic=function(){return vc(jc).scale(249.5).clipAngle(90+Cs)},H.geoOrthographicRaw=jc,H.geoPath=function(e,n){var i,r,o=4.5;function s(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Ks(t,i(r))),r.result()}return s.area=function(t){return Ks(t,i(pl)),pl.result()},s.measure=function(t){return Ks(t,i(tc)),tc.result()},s.bounds=function(t){return Ks(t,i(Ll)),Ll.result()},s.centroid=function(t){return Ks(t,i($l)),$l.result()},s.projection=function(t){return arguments.length?(i=null==t?(e=null,al):(e=t).stream,s):e},s.context=function(t){return arguments.length?(r=null==t?(n=null,new ic):new Wl(n=t),"function"!=typeof o&&r.pointRadius(o),s):n},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),s):o},s.projection(e).context(n)},H.geoProjection=vc,H.geoProjectionMutator=yc,H.geoRotation=_u,H.geoStereographic=function(){return vc(qc).scale(250).clipAngle(142)},H.geoStereographicRaw=qc,H.geoStream=Ks,H.geoTransform=function(t){return{stream:oc(t)}},H.geoTransverseMercator=function(){var t=Tc(Hc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},H.geoTransverseMercatorRaw=Hc,H.gray=function(t,e){return new Ne(t,0,0,null==e?1:e)},H.hcl=Oe,H.hierarchy=Yc,H.histogram=function(){var f=m,d=u,p=_;function e(t){for(var e,n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=f(t[r],r,t);var o=d(i),s=o[0],a=o[1],u=p(i,s,a);Array.isArray(u)||(u=M(s,a,u),u=S(Math.ceil(s/u)*u,a,u));for(var l=u.length;u[0]<=s;)u.shift(),--l;for(;u[l-1]>a;)u.pop(),--l;var c,h=new Array(l+1);for(r=0;r<=l;++r)(c=h[r]=[]).x0=0<r?u[r-1]:s,c.x1=r<l?u[r]:a;for(r=0;r<n;++r)s<=(e=i[r])&&e<=a&&h[g(u,e,0,l)].push(t[r]);return h}return e.value=function(t){return arguments.length?(f="function"==typeof t?t:h(t),e):f},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:h([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?h(o.call(t)):h(t),e):p},e},H.hsl=me,H.html=$o,H.image=function(r,o){return new Promise(function(t,e){var n=new Image;for(var i in o)n[i]=o[i];n.onerror=e,n.onload=function(){t(n)},n.src=r})},H.interpolate=pn,H.interpolateArray=function(t,e){return(sn(e)?on:an)(t,e)},H.interpolateBasis=We,H.interpolateBasisClosed=Ye,H.interpolateBlues=lm,H.interpolateBrBG=xg,H.interpolateBuGn=zg,H.interpolateBuPu=jg,H.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},H.interpolateCool=wm,H.interpolateCubehelix=Fn,H.interpolateCubehelixDefault=bm,H.interpolateCubehelixLong=zn,H.interpolateDate=un,H.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},H.interpolateGnBu=Hg,H.interpolateGreens=hm,H.interpolateGreys=dm,H.interpolateHcl=An,H.interpolateHclLong=Dn,H.interpolateHsl=In,H.interpolateHslLong=kn,H.interpolateHue=function(t,e){var n=Ke(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},H.interpolateInferno=Im,H.interpolateLab=function(e,t){var n=Qe((e=Te(e)).l,(t=Te(t)).l),i=Qe(e.a,t.a),r=Qe(e.b,t.b),o=Qe(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}},H.interpolateMagma=Nm,H.interpolateNumber=ln,H.interpolateNumberArray=on,H.interpolateObject=cn,H.interpolateOrRd=Ug,H.interpolateOranges=_m,H.interpolatePRGn=Cg,H.interpolatePiYG=Sg,H.interpolatePlasma=km,H.interpolatePuBu=Xg,H.interpolatePuBuGn=Wg,H.interpolatePuOr=Lg,H.interpolatePuRd=Kg,H.interpolatePurples=gm,H.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Cm.h=360*t-100,Cm.s=1.5-1.5*e,Cm.l=.8-.9*e,Cm+""},H.interpolateRdBu=Ng,H.interpolateRdGy=kg,H.interpolateRdPu=Qg,H.interpolateRdYlBu=Ag,H.interpolateRdYlGn=Og,H.interpolateReds=vm,H.interpolateRgb=tn,H.interpolateRgbBasis=nn,H.interpolateRgbBasisClosed=rn,H.interpolateRound=gn,H.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,Em.r=255*(e=Math.sin(t))*e,Em.g=255*(e=Math.sin(t+Sm))*e,Em.b=255*(e=Math.sin(t+Mm))*e,Em+""},H.interpolateSpectral=$g,H.interpolateString=dn,H.interpolateTransformCss=En,H.interpolateTransformSvg=Sn,H.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},H.interpolateViridis=Tm,H.interpolateWarm=xm,H.interpolateYlGn=im,H.interpolateYlGnBu=em,H.interpolateYlOrBr=om,H.interpolateYlOrRd=am,H.interpolateZoom=Tn,H.interrupt=vi,H.interval=function(n,i,r){var o=new Kn,s=i;return null==i?o.restart(n,i,r):(i=+i,r=null==r?Xn():+r,o.restart(function t(e){e+=s,o.restart(t,s+=i,r),n(e)},i,r)),o},H.isoFormat=Up,H.isoParse=Gp,H.json=function(t,e){return fetch(t,e).then(Do)},H.keys=function(t){var e=[];for(var n in t)e.push(n);return e},H.lab=Te,H.lch=function(t,e,n,i){return 1===arguments.length?De(t):new Re(n,e,t,null==i?1:i)},H.line=ev,H.lineRadial=lv,H.linkHorizontal=function(){return gv(mv)},H.linkRadial=function(){var t=gv(yv);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},H.linkVertical=function(){return gv(vv)},H.local=Lt,H.map=$r,H.matcher=Y,H.max=x,H.mean=function(t,e){var n,i=t.length,r=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=l(t[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=l(e(t[o],o,t)))?--r:s+=n;if(r)return s/r},H.median=function(t,e){var n,i=t.length,r=-1,o=[];if(null==e)for(;++r<i;)isNaN(n=l(t[r]))||o.push(n);else for(;++r<i;)isNaN(n=l(e(t[r],r,t)))||o.push(n);return b(o.sort(a),.5)},H.merge=L,H.min=w,H.mouse=kt,H.namespace=j,H.namespaces=B,H.nest=function(){var f,d,e,p=[],s=[];function g(t,n,i,r){if(n>=p.length)return null!=f&&t.sort(f),null!=d?d(t):t;for(var e,o,s,a=-1,u=t.length,l=p[n++],c=$r(),h=i();++a<u;)(s=c.get(e=l(o=t[a])+""))?s.push(o):c.set(e,[o]);return c.each(function(t,e){r(h,e,g(t,n,i,r))}),h}return e={object:function(t){return g(t,0,Fr,zr)},map:function(t){return g(t,0,Br,jr)},entries:function(t){return function n(t,i){if(++i>p.length)return t;var r,o=s[i-1];return null!=d&&i>=p.length?r=t.entries():(r=[],t.each(function(t,e){r.push({key:e,values:n(t,i)})})),null!=o?r.sort(function(t,e){return o(t.key,e.key)}):r}(g(t,0,Br,jr),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return s[p.length-1]=t,e},sortValues:function(t){return f=t,e},rollup:function(t){return d=t,e}}},H.now=Xn,H.pack=function(){var n=null,e=1,i=1,r=fh;function o(t){return t.x=e/2,t.y=i/2,n?t.eachBefore(gh(n)).eachAfter(mh(r,.5)).eachBefore(vh(1)):t.eachBefore(gh(ph)).eachAfter(mh(fh,1)).eachAfter(mh(r,t.r/Math.min(e,i))).eachBefore(vh(Math.min(e,i)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(n=null==(e=t)?null:hh(e),o):n;var e},o.size=function(t){return arguments.length?(e=+t[0],i=+t[1],o):[e,i]},o.padding=function(t){return arguments.length?(r="function"==typeof t?t:dh(+t),o):r},o},H.packEnclose=th,H.packSiblings=function(t){return ch(t),t},H.pairs=function(t,e){null==e&&(e=c);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},H.partition=function(){var n=1,i=1,a=0,r=!1;function e(t){var o,s,e=t.height+1;return t.x0=t.y0=a,t.x1=n,t.y1=i/e,t.eachBefore((o=i,s=e,function(t){t.children&&_h(t,t.x0,o*(t.depth+1)/s,t.x1,o*(t.depth+2)/s);var e=t.x0,n=t.y0,i=t.x1-a,r=t.y1-a;i<e&&(e=i=(e+i)/2),r<n&&(n=r=(n+r)/2),t.x0=e,t.y0=n,t.x1=i,t.y1=r})),r&&t.eachBefore(yh),t}return e.round=function(t){return arguments.length?(r=!!t,e):r},e.size=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.padding=function(t){return arguments.length?(a=+t,e):a},e},H.path=Ir,H.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},H.pie=function(){var p=rv,g=iv,m=null,v=Pm(0),y=Pm(Hm),_=Pm(0);function e(n){for(var t,e,i,r,o=n.length,s=0,a=new Array(o),u=new Array(o),l=+v.apply(this,arguments),c=Math.min(Hm,Math.max(-Hm,y.apply(this,arguments)-l)),h=Math.min(Math.abs(c)/o,_.apply(this,arguments)),f=h*(c<0?-1:1),d=0;d<o;++d)0<(r=u[a[d]=d]=+p(n[d],d,n))&&(s+=r);for(null!=g?a.sort(function(t,e){return g(u[t],u[e])}):null!=m&&a.sort(function(t,e){return m(n[t],n[e])}),d=0,e=s?(c-o*f)/s:0;d<o;++d,l=i)t=a[d],i=l+(0<(r=u[t])?r*e:0)+f,u[t]={data:n[t],index:d,value:r,startAngle:l,endAngle:i,padAngle:h};return u}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:Pm(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,m=null,e):g},e.sort=function(t){return arguments.length?(m=t,g=null,e):m},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:Pm(+t),e):v},e.endAngle=function(t){return arguments.length?(y="function"==typeof t?t:Pm(+t),e):y},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:Pm(+t),e):_},e},H.piecewise=function(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}},H.pointRadial=hv,H.polygonArea=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},H.polygonCentroid=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],u=0;++i<r;)e=a,a=t[i],u+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(u*=3),s/u]},H.polygonContains=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],u=o[0],l=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],(i=o[1])>a!=a<l&&s<(u-n)*(a-i)/(l-i)+n&&(c=!c),u=n,l=i;return c},H.polygonHull=function(t){if((e=t.length)<3)return null;for(var e,n=new Array(e),i=new Array(e),r=0;r<e;++r)n[r]=[+t[r][0],+t[r][1],r];for(n.sort(Ah),r=0;r<e;++r)i[r]=[n[r][0],-n[r][1]];var o=Dh(n),s=Dh(i),a=s[0]===o[0],u=s[s.length-1]===o[o.length-1],l=[];for(r=o.length-1;0<=r;--r)l.push(t[n[o[r]][2]]);for(r=+a;r<s.length-u;++r)l.push(t[n[s[r]][2]]);return l},H.polygonLength=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],u=0;++i<r;)e=s,n=a,e-=s=(o=t[i])[0],n-=a=o[1],u+=Math.sqrt(e*e+n*n);return u},H.precisionFixed=ms,H.precisionPrefix=vs,H.precisionRound=ys,H.quadtree=Uo,H.quantile=b,H.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},H.radialArea=cv,H.radialLine=lv,H.randomBates=Bh,H.randomExponential=jh,H.randomIrwinHall=zh,H.randomLogNormal=Fh,H.randomNormal=$h,H.randomUniform=Rh,H.range=S,H.rgb=le,H.ribbon=function(){var f=kr,d=Pr,p=Ar,g=Dr,m=Or,v=null;function e(){var t,e=Er.call(arguments),n=f.apply(this,e),i=d.apply(this,e),r=+p.apply(this,(e[0]=n,e)),o=g.apply(this,e)-xr,s=m.apply(this,e)-xr,a=r*yr(o),u=r*_r(o),l=+p.apply(this,(e[0]=i,e)),c=g.apply(this,e)-xr,h=m.apply(this,e)-xr;if((v=v||(t=Ir())).moveTo(a,u),v.arc(0,0,r,o,s),o==c&&s==h||(v.quadraticCurveTo(0,0,l*yr(c),l*_r(c)),v.arc(0,0,l,c,h)),v.quadraticCurveTo(0,0,a,u),v.closePath(),t)return v=null,t+""||null}return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:Sr(+t),e):p},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:Sr(+t),e):g},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:Sr(+t),e):m},e.source=function(t){return arguments.length?(f=t,e):f},e.target=function(t){return arguments.length?(d=t,e):d},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e},H.scaleBand=Xh,H.scaleDiverging=function t(){var e=uf(sg()(Jh));return e.copy=function(){return rg(e,t())},Hh.apply(e,arguments)},H.scaleDivergingLog=function t(){var e=mf(sg()).domain([.1,1,10]);return e.copy=function(){return rg(e,t()).base(e.base())},Hh.apply(e,arguments)},H.scaleDivergingPow=ag,H.scaleDivergingSqrt=function(){return ag.apply(null,arguments).exponent(.5)},H.scaleDivergingSymlog=function t(){var e=_f(sg());return e.copy=function(){return rg(e,t()).constant(e.constant())},Hh.apply(e,arguments)},H.scaleIdentity=function t(e){var n;function i(t){return isNaN(t=+t)?n:t}return(i.invert=i).domain=i.range=function(t){return arguments.length?(e=Uh.call(t,Zh),i):e.slice()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return t(e).unknown(n)},e=arguments.length?Uh.call(e,Zh):[0,1],uf(i)},H.scaleImplicit=Wh,H.scaleLinear=function t(){var e=sf(Jh,Jh);return e.copy=function(){return rf(e,t())},qh.apply(e,arguments),uf(e)},H.scaleLog=function t(){var e=mf(of()).domain([1,10]);return e.copy=function(){return rf(e,t()).base(e.base())},qh.apply(e,arguments),e},H.scaleOrdinal=Yh,H.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Xh.apply(null,arguments).paddingInner(1))},H.scalePow=Ef,H.scaleQuantile=function t(){var e,r=[],n=[],i=[];function o(){var t=0,e=Math.max(1,n.length);for(i=new Array(e-1);++t<e;)i[t-1]=b(r,t/e);return s}function s(t){return isNaN(t=+t)?e:n[g(i,t)]}return s.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?i[e-1]:r[0],e<i.length?i[e]:r[r.length-1]]},s.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||r.push(e);return r.sort(a),o()},s.range=function(t){return arguments.length?(n=Gh.call(t),o()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return i.slice()},s.copy=function(){return t().domain(r).range(n).unknown(e)},qh.apply(s,arguments)},H.scaleQuantize=function t(){var e,n=0,i=1,r=1,o=[.5],s=[0,1];function a(t){return t<=t?s[g(o,t,0,r)]:e}function u(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*i-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],u()):[n,i]},a.range=function(t){return arguments.length?(r=(s=Gh.call(t)).length-1,u()):s.slice()},a.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:r<=e?[o[r-1],i]:[o[e-1],o[e]]},a.unknown=function(t){return arguments.length&&(e=t),a},a.thresholds=function(){return o.slice()},a.copy=function(){return t().domain([n,i]).range(s).unknown(e)},qh.apply(uf(a),arguments)},H.scaleSequential=function t(){var e=uf(ig()(Jh));return e.copy=function(){return rg(e,t())},Hh.apply(e,arguments)},H.scaleSequentialLog=function t(){var e=mf(ig()).domain([1,10]);return e.copy=function(){return rg(e,t()).base(e.base())},Hh.apply(e,arguments)},H.scaleSequentialPow=og,H.scaleSequentialQuantile=function t(){var r=[],e=Jh;function o(t){if(!isNaN(t=+t))return e((g(r,t)-1)/(r.length-1))}return o.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,n=0,i=t.length;n<i;++n)null==(e=t[n])||isNaN(e=+e)||r.push(e);return r.sort(a),o},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(e).domain(r)},Hh.apply(o,arguments)},H.scaleSequentialSqrt=function(){return og.apply(null,arguments).exponent(.5)},H.scaleSequentialSymlog=function t(){var e=_f(ig());return e.copy=function(){return rg(e,t()).constant(e.constant())},Hh.apply(e,arguments)},H.scaleSqrt=function(){return Ef.apply(null,arguments).exponent(.5)},H.scaleSymlog=function t(){var e=_f(of());return e.copy=function(){return rf(e,t()).constant(e.constant())},qh.apply(e,arguments)},H.scaleThreshold=function t(){var e,n=[.5],i=[0,1],r=1;function o(t){return t<=t?i[g(n,t,0,r)]:e}return o.domain=function(t){return arguments.length?(n=Gh.call(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=Gh.call(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(i).unknown(e)},qh.apply(o,arguments)},H.scaleTime=function(){return qh.apply(ng(ed,Qf,zf,Rf,Df,Pf,If,Tf,H.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},H.scaleUtc=function(){return qh.apply(ng(Md,Ed,cd,ad,od,id,If,Tf,H.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},H.scan=function(t,e){if(n=t.length){var n,i,r=0,o=0,s=t[o];for(null==e&&(e=a);++r<n;)(e(i=t[r],s)<0||0!==e(s,s))&&(s=i,o=r);return 0===e(s,s)?o:void 0}},H.schemeAccent=cg,H.schemeBlues=um,H.schemeBrBG=bg,H.schemeBuGn=Fg,H.schemeBuPu=Bg,H.schemeCategory10=lg,H.schemeDark2=hg,H.schemeGnBu=qg,H.schemeGreens=cm,H.schemeGreys=fm,H.schemeOrRd=Vg,H.schemeOranges=ym,H.schemePRGn=wg,H.schemePaired=fg,H.schemePastel1=dg,H.schemePastel2=pg,H.schemePiYG=Eg,H.schemePuBu=Yg,H.schemePuBuGn=Gg,H.schemePuOr=Mg,H.schemePuRd=Zg,H.schemePurples=pm,H.schemeRdBu=Tg,H.schemeRdGy=Ig,H.schemeRdPu=Jg,H.schemeRdYlBu=Pg,H.schemeRdYlGn=Dg,H.schemeReds=mm,H.schemeSet1=gg,H.schemeSet2=mg,H.schemeSet3=vg,H.schemeSpectral=Rg,H.schemeTableau10=yg,H.schemeYlGn=nm,H.schemeYlGnBu=tm,H.schemeYlOrBr=rm,H.schemeYlOrRd=sm,H.select=St,H.selectAll=function(t){return"string"==typeof t?new Ct([document.querySelectorAll(t)],[document.documentElement]):new Ct([null==t?[]:t],wt)},H.selection=Et,H.selector=U,H.selectorAll=W,H.set=Vr,H.shuffle=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},H.stack=function(){var h=Pm([]),f=gy,d=py,p=my;function e(t){for(var e,n=h.apply(this,arguments),i=t.length,r=n.length,o=new Array(r),s=0;s<r;++s){for(var a,u=n[s],l=o[s]=new Array(i),c=0;c<i;++c)l[c]=a=[0,+p(t[c],u,c,t)],a.data=t[c];l.key=u}for(s=0,e=f(o);s<r;++s)o[e[s]].index=s;return d(o,e),o}return e.keys=function(t){return arguments.length?(h="function"==typeof t?t:Pm(fv.call(t)),e):h},e.value=function(t){return arguments.length?(p="function"==typeof t?t:Pm(+t),e):p},e.order=function(t){return arguments.length?(f=null==t?gy:"function"==typeof t?t:Pm(fv.call(t)),e):f},e.offset=function(t){return arguments.length?(d=null==t?py:t,e):d},e},H.stackOffsetDiverging=function(t,e){if(0<(a=t.length))for(var n,i,r,o,s,a,u=0,l=t[e[0]].length;u<l;++u)for(n=o=s=0;n<a;++n)0<(r=(i=t[e[n]][u])[1]-i[0])?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)},H.stackOffsetExpand=function(t,e){if(0<(i=t.length)){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}py(t,e)}},H.stackOffsetNone=py,H.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}py(t,e)}},H.stackOffsetWiggle=function(t,e){if(0<(r=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,u=0,l=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,f=(h-(c[s-1][1]||0))/2,d=0;d<a;++d){var p=t[e[d]];f+=(p[s][1]||0)-(p[s-1][1]||0)}u+=h,l+=f*h}n[s-1][1]+=n[s-1][0]=o,u&&(o-=l/u)}n[s-1][1]+=n[s-1][0]=o,py(t,e)}},H.stackOrderAppearance=vy,H.stackOrderAscending=_y,H.stackOrderDescending=function(t){return _y(t).reverse()},H.stackOrderInsideOut=function(t){for(var e,n=t.length,i=t.map(by),r=vy(t),o=0,s=0,a=[],u=[],l=0;l<n;++l)e=r[l],o<s?(o+=i[e],a.push(e)):(s+=i[e],u.push(e));return u.reverse().concat(a)},H.stackOrderNone=gy,H.stackOrderReverse=function(t){return gy(t).reverse()},H.stratify=function(){var h=wh,f=Ch;function e(t){for(var e,n,i,r,o,s,a=t.length,u=new Array(a),l={},c=0;c<a;++c)e=t[c],r=u[c]=new Jc(e),null!=(o=h(e,c,t))&&(o+="")&&(l[s="$"+(r.id=o)]=s in l?xh:r);for(c=0;c<a;++c)if(r=u[c],null!=(o=f(t[c],c,t))&&(o+="")){if(!(i=l["$"+o]))throw new Error("missing: "+o);if(i===xh)throw new Error("ambiguous: "+o);i.children?i.children.push(r):i.children=[r],r.parent=i}else{if(n)throw new Error("multiple roots");n=r}if(!n)throw new Error("no root");if(n.parent=bh,n.eachBefore(function(t){t.depth=t.parent.depth+1,--a}).eachBefore(Kc),n.parent=null,0<a)throw new Error("cycle");return n}return e.id=function(t){return arguments.length?(h=hh(t),e):h},e.parentId=function(t){return arguments.length?(f=hh(t),e):f},e},H.style=et,H.sum=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},H.svg=Fo,H.symbol=function(){var e=Pm(_v),n=Pm(64),i=null;function r(){var t;if(i=i||(t=Ir()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:Pm(t),r):e},r.size=function(t){return arguments.length?(n="function"==typeof t?t:Pm(+t),r):n},r.context=function(t){return arguments.length?(i=null==t?null:t,r):i},r},H.symbolCircle=_v,H.symbolCross=bv,H.symbolDiamond=Cv,H.symbolSquare=Tv,H.symbolStar=Lv,H.symbolTriangle=Iv,H.symbolWye=Dv,H.symbols=Ov,H.text=Io,H.thresholdFreedmanDiaconis=function(t,e,n){return t=s.call(t,l).sort(a),Math.ceil((n-e)/(2*(b(t,.75)-b(t,.25))*Math.pow(t.length,-1/3)))},H.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*r(t)*Math.pow(t.length,-1/3)))},H.thresholdSturges=_,H.tickFormat=af,H.tickIncrement=y,H.tickStep=M,H.ticks=v,H.timeDay=Rf,H.timeDays=$f,H.timeFormatDefaultLocale=Vp,H.timeFormatLocale=kd,H.timeFriday=Vf,H.timeFridays=Kf,H.timeHour=Df,H.timeHours=Of,H.timeInterval=Lf,H.timeMillisecond=Tf,H.timeMilliseconds=Nf,H.timeMinute=Pf,H.timeMinutes=Af,H.timeMonday=Bf,H.timeMondays=Wf,H.timeMonth=Qf,H.timeMonths=td,H.timeSaturday=Uf,H.timeSaturdays=Jf,H.timeSecond=If,H.timeSeconds=kf,H.timeSunday=zf,H.timeSundays=Gf,H.timeThursday=Hf,H.timeThursdays=Zf,H.timeTuesday=jf,H.timeTuesdays=Yf,H.timeWednesday=qf,H.timeWednesdays=Xf,H.timeWeek=zf,H.timeWeeks=Gf,H.timeYear=ed,H.timeYears=nd,H.timeout=ii,H.timer=Jn,H.timerFlush=Qn,H.touch=Pt,H.touches=function(t,e){null==e&&(e=Nt().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=It(t,e[n]);return r},H.transition=Ei,H.transpose=C,H.tree=function(){var _=Eh,l=1,c=1,h=null;function e(a){var e,n,i,t,r,o,s,u=function(){for(var t,e,n,i,r,o=new Lh(a,0),s=[o];t=s.pop();)if(n=t._.children)for(t.children=new Array(r=n.length),i=r-1;0<=i;--i)s.push(e=t.children[i]=new Lh(n[i],i)),e.parent=t;return(o.parent=new Lh(null,0)).children=[o],o}();return u.eachAfter(f),u.parent.m=-u.z,u.eachBefore(d),h?a.eachBefore(p):((i=n=e=a).eachBefore(function(t){t.x<e.x&&(e=t),t.x>n.x&&(n=t),t.depth>i.depth&&(i=t)}),t=e===n?1:_(e,n)/2,r=t-e.x,o=l/(n.x+t+r),s=c/(i.depth||1),a.eachBefore(function(t){t.x=(t.x+r)*o,t.y=t.depth*s})),a}function f(o){var t,e=o.children,n=o.parent.children,y=o.i?n[o.i-1]:null;e?(function(){for(var t,e=0,n=0,i=o.children,r=i.length;0<=--r;)(t=i[r]).z+=e,t.m+=e,e+=t.s+(n+=t.c)}(),t=(e[0].z+e[e.length-1].z)/2,y?(o.z=y.z+_(o._,y._),o.m=o.z-t):o.z=t):y&&(o.z=y.z+_(o._,y._)),o.parent.A=function(t,e){if(y){for(var n,i=t,r=t,o=y,s=i.parent.children[0],a=i.m,u=r.m,l=o.m,c=s.m;o=Mh(o),i=Sh(i),o&&i;)s=Sh(s),(r=Mh(r)).a=t,0<(n=o.z+l-i.z-a+_(o._,i._))&&(m=t,v=e,h=(g=o).a.parent===m.parent?g.a:v,p=(d=n)/((f=t).i-h.i),f.c-=p,f.s+=d,h.c+=p,f.z+=d,f.m+=d,a+=n,u+=n),l+=o.m,a+=i.m,c+=s.m,u+=r.m;o&&!Mh(r)&&(r.t=o,r.m+=l-u),i&&!Sh(s)&&(s.t=i,s.m+=a-c,e=t)}var h,f,d,p,g,m,v;return e}(o,o.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=l,t.y=t.depth*c}return e.separation=function(t){return arguments.length?(_=t,e):_},e.size=function(t){return arguments.length?(h=!1,l=+t[0],c=+t[1],e):h?null:[l,c]},e.nodeSize=function(t){return arguments.length?(h=!0,l=+t[0],c=+t[1],e):h?[l,c]:null},e},H.treemap=function(){var s=kh,e=!1,n=1,i=1,a=[0],u=fh,l=fh,c=fh,h=fh,f=fh;function r(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(o),a=[0],e&&t.eachBefore(yh),t}function o(t){var e=a[t.depth],n=t.x0+e,i=t.y0+e,r=t.x1-e,o=t.y1-e;r<n&&(n=r=(n+r)/2),o<i&&(i=o=(i+o)/2),t.x0=n,t.y0=i,t.x1=r,t.y1=o,t.children&&(e=a[t.depth+1]=u(t)/2,n+=f(t)-e,i+=l(t)-e,(r-=c(t)-e)<n&&(n=r=(n+r)/2),(o-=h(t)-e)<i&&(i=o=(i+o)/2),s(t,n,i,r,o))}return r.round=function(t){return arguments.length?(e=!!t,r):e},r.size=function(t){return arguments.length?(n=+t[0],i=+t[1],r):[n,i]},r.tile=function(t){return arguments.length?(s=hh(t),r):s},r.padding=function(t){return arguments.length?r.paddingInner(t).paddingOuter(t):r.paddingInner()},r.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:dh(+t),r):u},r.paddingOuter=function(t){return arguments.length?r.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):r.paddingTop()},r.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:dh(+t),r):l},r.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:dh(+t),r):c},r.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:dh(+t),r):h},r.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:dh(+t),r):f},r},H.treemapBinary=function(t,e,n,i,r){var o,s,y=t.children,a=y.length,_=new Array(a+1);for(_[0]=s=o=0;o<a;++o)_[o+1]=s+=y[o].value;!function t(e,n,i,r,o,s,a){if(n-1<=e){var u=y[e];return u.x0=r,u.y0=o,u.x1=s,u.y1=a,0}for(var l=_[e],c=i/2+l,h=e+1,f=n-1;h<f;){var d=h+f>>>1;_[d]<c?h=1+d:f=d}c-_[h-1]<_[h]-c&&e+1<h&&--h;var p,g,m=_[h]-l,v=i-m;a-o<s-r?(t(e,h,m,r,o,p=(r*v+s*m)/i,a),t(h,n,v,p,o,s,a)):(t(e,h,m,r,o,s,g=(o*v+a*m)/i),t(h,n,v,r,g,s,a))}(0,a,t.value,e,n,i,r)},H.treemapDice=_h,H.treemapResquarify=Ph,H.treemapSlice=Th,H.treemapSliceDice=function(t,e,n,i,r){(1&t.depth?Th:_h)(t,e,n,i,r)},H.treemapSquarify=kh,H.tsv=Ao,H.tsvFormat=xo,H.tsvFormatBody=wo,H.tsvFormatRow=Eo,H.tsvFormatRows=Co,H.tsvFormatValue=So,H.tsvParse=_o,H.tsvParseRows=bo,H.utcDay=ad,H.utcDays=ud,H.utcFriday=gd,H.utcFridays=wd,H.utcHour=od,H.utcHours=sd,H.utcMillisecond=Tf,H.utcMilliseconds=Nf,H.utcMinute=id,H.utcMinutes=rd,H.utcMonday=hd,H.utcMondays=yd,H.utcMonth=Ed,H.utcMonths=Sd,H.utcSaturday=md,H.utcSaturdays=Cd,H.utcSecond=If,H.utcSeconds=kf,H.utcSunday=cd,H.utcSundays=vd,H.utcThursday=pd,H.utcThursdays=xd,H.utcTuesday=fd,H.utcTuesdays=_d,H.utcWednesday=dd,H.utcWednesdays=bd,H.utcWeek=cd,H.utcWeeks=vd,H.utcYear=Md,H.utcYears=Ld,H.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},H.variance=i,H.version="5.16.0",H.voronoi=function(){var r=wy,o=Cy,e=null;function n(i){return new Ky(i.map(function(t,e){var n=[Math.round(r(t,e,i)/Yy)*Yy,Math.round(o(t,e,i)/Yy)*Yy];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(r="function"==typeof t?t:xy(+t),n):r},n.y=function(t){return arguments.length?(o="function"==typeof t?t:xy(+t),n):o},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n},H.window=tt,H.xml=Ro,H.zip=function(){return C(arguments)},H.zoom=function(){var d,s,a=o_,c=s_,p=c_,r=u_,e=l_,o=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Tn,n=R("start","zoom","end"),l=500,f=150,m=0;function v(t){t.property("__zoom",a_).on("wheel.zoom",C).on("mousedown.zoom",E).on("dblclick.zoom",S).filter(e).on("touchstart.zoom",M).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new t_(e,t.x,t.y)}function _(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new t_(t.k,i,r)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,u,l){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,i=w(this,t),e=c.apply(this,t),r=null==l?b(e):"function"==typeof l?l.apply(this,t):l,o=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,s="function"==typeof u?u.apply(this,t):u,a=h(n.invert(r).concat(o/n.k),s.invert(r).concat(o/s.k));return function(t){var e,n;t=1===t?s:(e=a(t),new t_(n=o/e[2],r[0]-e[0]*n,r[1]-e[1]*n)),i.zoom(null,t)}})}function w(t,e,n){return!n&&t.__zooming||new i(t,e)}function i(t,e){this.that=t,this.args=e,this.active=0,this.extent=c.apply(t,e),this.taps=0}function C(){if(a.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(o[0],Math.min(o[1],e.k*Math.pow(2,r.apply(this,arguments)))),i=kt(this);if(t.wheel)t.mouse[0][0]===i[0]&&t.mouse[0][1]===i[1]||(t.mouse[1]=e.invert(t.mouse[0]=i)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[i,e.invert(i)],vi(this),t.start()}r_(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},f),t.zoom("mouse",p(_(y(e,n),t.mouse[0],t.mouse[1]),t.extent,g))}}function E(){var n,t,e,i,r;!s&&a.apply(this,arguments)&&(n=w(this,arguments,!0),t=St(H.event.view).on("mousemove.zoom",function(){var t,e;r_(),n.moved||(t=H.event.clientX-i,e=H.event.clientY-r,n.moved=m<t*t+e*e),n.zoom("mouse",p(_(n.that.__zoom,n.mouse[0]=kt(n.that),n.mouse[1]),n.extent,g))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),Rt(H.event.view,n.moved),r_(),n.end()},!0),e=kt(this),i=H.event.clientX,r=H.event.clientY,Ot(H.event.view),i_(),n.mouse=[e,this.__zoom.invert(e)],vi(this),n.start())}function S(){var t,e,n,i,r;a.apply(this,arguments)&&(t=this.__zoom,e=kt(this),n=t.invert(e),i=t.k*(H.event.shiftKey?.5:2),r=p(_(y(t,i),e,n),c.apply(this,arguments),g),r_(),0<u?St(this).transition().duration(u).call(x,r,e):St(this).call(v.transform,r))}function M(){if(a.apply(this,arguments)){var t,e,n,i,r=H.event.touches,o=r.length,s=w(this,arguments,H.event.changedTouches.length===o);for(i_(),e=0;e<o;++e)i=[i=Pt(this,r,(n=r[e]).identifier),this.__zoom.invert(i),n.identifier],s.touch0?s.touch1||s.touch0[2]===i[2]||(s.touch1=i,s.taps=0):(s.touch0=i,t=!0,s.taps=1+!!d);d=d&&clearTimeout(d),t&&(s.taps<2&&(d=setTimeout(function(){d=null},l)),vi(this),s.start())}}function L(){if(this.__zooming){var t,e=w(this,arguments),n=H.event.changedTouches,i=n.length;for(r_(),d=d&&clearTimeout(d),t=e.taps=0;t<i;++t)h=Pt(this,n,(c=n[t]).identifier),e.touch0&&e.touch0[2]===c.identifier?e.touch0[0]=h:e.touch1&&e.touch1[2]===c.identifier&&(e.touch1[0]=h);if(c=e.that.__zoom,e.touch1)var r=e.touch0[0],o=e.touch0[1],s=e.touch1[0],a=e.touch1[1],u=(u=s[0]-r[0])*u+(u=s[1]-r[1])*u,l=(l=a[0]-o[0])*l+(l=a[1]-o[1])*l,c=y(c,Math.sqrt(u/l)),h=[(r[0]+s[0])/2,(r[1]+s[1])/2],f=[(o[0]+a[0])/2,(o[1]+a[1])/2];else{if(!e.touch0)return;h=e.touch0[0],f=e.touch0[1]}e.zoom("touch",p(_(c,h,f),e.extent,g))}}function T(){if(this.__zooming){var t,e,n,i=w(this,arguments),r=H.event.changedTouches,o=r.length;for(i_(),s&&clearTimeout(s),s=setTimeout(function(){s=null},l),t=0;t<o;++t)e=r[t],i.touch0&&i.touch0[2]===e.identifier?delete i.touch0:i.touch1&&i.touch1[2]===e.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):(i.end(),2===i.taps&&(n=St(this).on("dblclick.zoom"))&&n.apply(this,arguments))}}return v.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",a_),t!==i?x(t,e,n):i.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,e,n){v.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n)},v.scaleTo=function(t,o,s){v.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=null==s?b(t):"function"==typeof s?s.apply(this,arguments):s,i=e.invert(n),r="function"==typeof o?o.apply(this,arguments):o;return p(_(y(e,r),n,i),t,g)},s)},v.translateBy=function(t,e,n){v.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),c.apply(this,arguments),g)})},v.translateTo=function(t,i,r,o){v.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=null==o?b(t):"function"==typeof o?o.apply(this,arguments):o;return p(e_.translate(n[0],n[1]).scale(e.k).translate("function"==typeof i?-i.apply(this,arguments):-i,"function"==typeof r?-r.apply(this,arguments):-r),t,g)},o)},i.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){bt(new Qy(v,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(r="function"==typeof t?t:Jy(+t),v):r},v.filter=function(t){return arguments.length?(a="function"==typeof t?t:Jy(!!t),v):a},v.touchable=function(t){return arguments.length?(e="function"==typeof t?t:Jy(!!t),v):e},v.extent=function(t){return arguments.length?(c="function"==typeof t?t:Jy([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):c},v.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],v):[o[0],o[1]]},v.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],v):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},v.constrain=function(t){return arguments.length?(p=t,v):p},v.duration=function(t){return arguments.length?(u=+t,v):u},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=n.on.apply(n,arguments);return t===n?v:t},v.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,v):Math.sqrt(m)},v},H.zoomIdentity=e_,H.zoomTransform=n_,Object.defineProperty(H,"__esModule",{value:!0})}),function(t,e){var n;"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?(n=require("d3"),module.exports=e(n)):t.d3.tip=e(t.d3)}(this,function(v){return function(){var l=function(){return"n"},c=function(){return[0,0]},h=function(){return" "},n=t(),i=null,u=null,f=null;function d(t){var e;i="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,u=i.createSVGPoint(),document.body.appendChild(n)}d.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(f=t.pop());var e,n=h.apply(this,t),i=c.apply(this,t),r=l.apply(this,t),o=m(),s=g.length,a=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;for(o.html(n).style("opacity",1).style("pointer-events","all");s--;)o.classed(g[s],!1);return e=p.get(r).apply(this),o.classed(r,!0).style("top",e.top+i[0]+a+"px").style("left",e.left+i[1]+u+"px"),d},d.hide=function(){return m().style("opacity",0).style("pointer-events","none"),d},d.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return m().attr(t);var n=Array.prototype.slice.call(arguments);return v.selection.prototype.attr.apply(m(),n),d},d.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return m().style(t);var n=Array.prototype.slice.call(arguments);return v.selection.prototype.style.apply(m(),n),d},d.direction=function(t){return arguments.length?(l=null==t?t:r(t),d):l},d.offset=function(t){return arguments.length?(c=null==t?t:r(t),d):c},d.html=function(t){return arguments.length?(h=null==t?t:r(t),d):h},d.destroy=function(){return n&&(m().remove(),n=null),d};var p=v.map({n:function(){var t=e();return{top:t.n.y-n.offsetHeight,left:t.n.x-n.offsetWidth/2}},s:function(){var t=e();return{top:t.s.y,left:t.s.x-n.offsetWidth/2}},e:function(){var t=e();return{top:t.e.y-n.offsetHeight/2,left:t.e.x}},w:function(){var t=e();return{top:t.w.y-n.offsetHeight/2,left:t.w.x-n.offsetWidth}},nw:function(){var t=e();return{top:t.nw.y-n.offsetHeight,left:t.nw.x-n.offsetWidth}},ne:function(){var t=e();return{top:t.ne.y-n.offsetHeight,left:t.ne.x}},sw:function(){var t=e();return{top:t.sw.y,left:t.sw.x-n.offsetWidth}},se:function(){var t=e();return{top:t.se.y,left:t.e.x}}}),g=p.keys();function t(){var t=v.select(document.createElement("div"));return t.style("position","absolute").style("top",0).style("opacity",0).style("pointer-events","none").style("box-sizing","border-box"),t.node()}function m(){return null===n&&(n=t(),document.body.appendChild(n)),v.select(n)}function e(){for(var t=f||v.event.target;void 0===t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},n=t.getScreenCTM(),i=t.getBBox(),r=i.width,o=i.height,s=i.x,a=i.y;return u.x=s,u.y=a,e.nw=u.matrixTransform(n),u.x+=r,e.ne=u.matrixTransform(n),u.y+=o,e.se=u.matrixTransform(n),u.x-=r,e.sw=u.matrixTransform(n),u.y-=o/2,e.w=u.matrixTransform(n),u.x+=r,e.e=u.matrixTransform(n),u.x-=r/2,u.y-=o/2,e.n=u.matrixTransform(n),u.y+=o,e.s=u.matrixTransform(n),e}function r(t){return"function"==typeof t?t:function(){return t}}return d}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],e):e((t=t||self).d3=t.d3||{},t.d3)}(this,function(t,u){"use strict";function l(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function e(s){var a=s.length-1;return function(t){var e=t<=0?t=0:1<=t?a-(t=1):Math.floor(t*a),n=s[e],i=s[e+1],r=0<e?s[e-1]:2*n-i,o=e<a-1?s[e+2]:2*i-n;return l((t-e/a)*a,r,n,i,o)}}function n(s){var a=s.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*a),n=s[(e+a-1)%a],i=s[e%a],r=s[(e+1)%a],o=s[(e+2)%a];return l((t-e/a)*a,n,i,r,o)}}function s(t){return function(){return t}}function i(e,n){return function(t){return e+t*n}}function r(t,e){var n=e-t;return n?i(t,180<n||n<-180?n-360*Math.round(n/360):n):s(isNaN(t)?e:t)}function o(o){return 1==(o=+o)?c:function(t,e){return e-t?(n=t,i=e,r=o,n=Math.pow(n,r),i=Math.pow(i,r)-n,r=1/r,function(t){return Math.pow(n+t*i,r)}):s(isNaN(t)?e:t);var n,i,r}}function c(t,e){var n=e-t;return n?i(t,n):s(isNaN(t)?e:t)}var a=function t(e){var s=o(e);function n(e,t){var n=s((e=u.rgb(e)).r,(t=u.rgb(t)).r),i=s(e.g,t.g),r=s(e.b,t.b),o=c(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function h(a){return function(t){for(var e,n=t.length,i=new Array(n),r=new Array(n),o=new Array(n),s=0;s<n;++s)e=u.rgb(t[s]),i[s]=e.r||0,r[s]=e.g||0,o[s]=e.b||0;return i=a(i),r=a(r),o=a(o),e.opacity=1,function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e+""}}}var f=h(e),d=h(n);function p(e,n){n=n||[];var i,r=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(i=0;i<r;++i)o[i]=e[i]*(1-t)+n[i]*t;return o}}function g(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m(t,e){for(var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),s=0;s<i;++s)r[s]=w(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(t){for(s=0;s<i;++s)o[s]=r[s](t);return o}}function v(e,n){var i=new Date;return e=+e,n=+n,function(t){return i.setTime(e*(1-t)+n*t),i}}function N(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function y(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=w(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var _=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b=new RegExp(_.source,"g");function x(t,i){var e,n,r,o,s,a=_.lastIndex=b.lastIndex=0,u=-1,l=[],c=[];for(t+="",i+="";(e=_.exec(t))&&(n=b.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),l[u]?l[u]+=r:l[++u]=r),(e=e[0])===(n=n[0])?l[u]?l[u]+=n:l[++u]=n:(l[++u]=null,c.push({i:u,x:N(e,n)})),a=b.lastIndex;return a<i.length&&(r=i.slice(a),l[u]?l[u]+=r:l[++u]=r),l.length<2?c[0]?(s=c[0].x,function(t){return s(t)+""}):(o=i,function(){return o}):(i=c.length,function(t){for(var e,n=0;n<i;++n)l[(e=c[n]).i]=e.x(t);return l.join("")})}function w(t,e){var n,i=typeof e;return null==e||"boolean"==i?s(e):("number"==i?N:"string"==i?(n=u.color(e))?(e=n,a):x:e instanceof u.color?a:e instanceof Date?v:g(e)?p:Array.isArray(e)?m:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?y:N)(t,e)}var C,E,S,M,L=180/Math.PI,T={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function I(t,e,n,i,r,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,u/=a),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*L,skewX:Math.atan(u)*L,scaleX:s,scaleY:a}}function k(E,S,M,L){function T(t){return t.length?t.pop()+" ":""}return function(t,e){var n,i,r,o,s,a,u,l,c,h,f,d,p,g,m,v,y,_,b,x,w=[],C=[];return t=E(t),e=E(e),g=t.translateX,m=t.translateY,v=e.translateX,y=e.translateY,_=w,b=C,g!==v||m!==y?(x=_.push("translate(",null,S,null,M),b.push({i:x-4,x:N(g,v)},{i:x-2,x:N(m,y)})):(v||y)&&_.push("translate("+v+S+y+M),f=t.rotate,d=e.rotate,p=w,f!==d?(180<f-d?d+=360:180<d-f&&(f+=360),C.push({i:p.push(T(p)+"rotate(",null,L)-2,x:N(f,d)})):d&&p.push(T(p)+"rotate("+d+L),l=t.skewX,c=e.skewX,h=w,l!==c?C.push({i:h.push(T(h)+"skewX(",null,L)-2,x:N(l,c)}):c&&h.push(T(h)+"skewX("+c+L),n=t.scaleX,i=t.scaleY,r=e.scaleX,o=e.scaleY,s=w,a=C,n!==r||i!==o?(u=s.push(T(s)+"scale(",null,",",null,")"),a.push({i:u-4,x:N(n,r)},{i:u-2,x:N(i,o)})):1===r&&1===o||s.push(T(s)+"scale("+r+","+o+")"),t=e=null,function(t){for(var e,n=-1,i=C.length;++n<i;)w[(e=C[n]).i]=e.x(t);return w.join("")}}}var P=k(function(t){return"none"===t?T:(C||(C=document.createElement("DIV"),E=document.documentElement,S=document.defaultView),C.style.transform=t,t=S.getComputedStyle(E.appendChild(C),null).getPropertyValue("transform"),E.removeChild(C),I(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),A=k(function(t){return null==t?T:((M=M||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=M.transform.baseVal.consolidate())?I((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):T)},", ",")",")"),D=Math.SQRT2;function O(t){return((t=Math.exp(t))+1/t)/2}function R(s){return function(e,t){var n=s((e=u.hsl(e)).h,(t=u.hsl(t)).h),i=c(e.s,t.s),r=c(e.l,t.l),o=c(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(t),e.opacity=o(t),e+""}}}var $=R(r),F=R(c);function z(s){return function(e,t){var n=s((e=u.hcl(e)).h,(t=u.hcl(t)).h),i=c(e.c,t.c),r=c(e.l,t.l),o=c(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=i(t),e.l=r(t),e.opacity=o(t),e+""}}}var B=z(r),j=z(c);function q(a){return function t(s){function e(e,t){var n=a((e=u.cubehelix(e)).h,(t=u.cubehelix(t)).h),i=c(e.s,t.s),r=c(e.l,t.l),o=c(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=i(t),e.l=r(Math.pow(t,s)),e.opacity=o(t),e+""}}return s=+s,e.gamma=t,e}(1)}var H=q(r),V=q(c);t.interpolate=w,t.interpolateArray=function(t,e){return(g(e)?p:m)(t,e)},t.interpolateBasis=e,t.interpolateBasisClosed=n,t.interpolateCubehelix=H,t.interpolateCubehelixLong=V,t.interpolateDate=v,t.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},t.interpolateHcl=B,t.interpolateHclLong=j,t.interpolateHsl=$,t.interpolateHslLong=F,t.interpolateHue=function(t,e){var n=r(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateLab=function(e,t){var n=c((e=u.lab(e)).l,(t=u.lab(t)).l),i=c(e.a,t.a),r=c(e.b,t.b),o=c(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+""}},t.interpolateNumber=N,t.interpolateNumberArray=p,t.interpolateObject=y,t.interpolateRgb=a,t.interpolateRgbBasis=f,t.interpolateRgbBasisClosed=d,t.interpolateRound=function(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}},t.interpolateString=x,t.interpolateTransformCss=P,t.interpolateTransformSvg=A,t.interpolateZoom=function(t,e){var s,n,i,a,u,r,l=t[0],c=t[1],h=t[2],o=e[0],f=e[1],d=e[2],p=o-l,g=f-c,m=p*p+g*g;return(r=m<1e-12?(u=Math.log(d/h)/D,function(t){return[l+t*p,c+t*g,h*Math.exp(D*t*u)]}):(s=Math.sqrt(m),n=(d*d-h*h+4*m)/(2*h*2*s),i=(d*d-h*h-4*m)/(2*d*2*s),a=Math.log(Math.sqrt(n*n+1)-n),u=(Math.log(Math.sqrt(i*i+1)-i)-a)/D,function(t){var e,n,i=t*u,r=O(a),o=h/(2*s)*(r*(e=D*i+a,((e=Math.exp(2*e))-1)/(e+1))-(n=a,((n=Math.exp(n))-1/n)/2));return[l+o*p,c+o*g,h*r/O(D*i+a)]})).duration=1e3*u,r},t.piecewise=function(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).d3=t.d3||{})}(this,function(t){"use strict";function e(t,e,n){(t.prototype=e.prototype=n).constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function l(){}var i="\\s*([+-]?\\d+)\\s*",r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\("+[i,i,i]+"\\)$"),u=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),c=new RegExp("^rgba\\("+[i,i,i,r]+"\\)$"),h=new RegExp("^rgba\\("+[o,o,o,r]+"\\)$"),f=new RegExp("^hsl\\("+[r,o,o]+"\\)$"),d=new RegExp("^hsla\\("+[r,o,o,r]+"\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function v(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=s.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?y(e):3===n?new w(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?_(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=a.exec(t))?new w(e[1],e[2],e[3],1):(e=u.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=c.exec(t))?_(e[1],e[2],e[3],e[4]):(e=h.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=f.exec(t))?M(e[1],e[2]/100,e[3]/100,1):(e=d.exec(t))?M(e[1],e[2]/100,e[3]/100,e[4]):p.hasOwnProperty(t)?y(p[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function y(t){return new w(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,i){return i<=0&&(t=e=n=NaN),new w(t,e,n,i)}function b(t){return t instanceof l||(t=v(t)),t?new w((t=t.rgb()).r,t.g,t.b,t.opacity):new w}function x(t,e,n,i){return 1===arguments.length?b(t):new w(t,e,n,null==i?1:i)}function w(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function C(){return"#"+S(this.r)+S(this.g)+S(this.b)}function E(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function S(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function M(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new N(t,e,n,i)}function L(t){if(t instanceof N)return new N(t.h,t.s,t.l,t.opacity);if(t instanceof l||(t=v(t)),!t)return new N;if(t instanceof N)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,u=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=u<.5?o+r:2-o-r,s*=60):a=0<u&&u<1?0:s,new N(s,a,u,t.opacity)}function T(t,e,n,i){return 1===arguments.length?L(t):new N(t,e,n,null==i?1:i)}function N(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function I(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(l,v,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return L(this).formatHsl()},formatRgb:m,toString:m}),e(w,x,n(l,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:E,toString:E})),e(N,T,n(l,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new N(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new N(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new w(I(240<=t?t-240:120+t,r,i),I(t,r,i),I(t<120?240+t:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var k=Math.PI/180,P=180/Math.PI,A=.96422,D=1,O=.82521,R=4/29,$=6/29*3*(6/29),F=6/29*(6/29)*(6/29);function z(t){if(t instanceof j)return new j(t.l,t.a,t.b,t.opacity);if(t instanceof Y)return X(t);t instanceof w||(t=b(t));var e,n,i=U(t.r),r=U(t.g),o=U(t.b),s=q((.2225045*i+.7168786*r+.0606169*o)/D);return i===r&&r===o?e=n=s:(e=q((.4360747*i+.3850649*r+.1430804*o)/A),n=q((.0139322*i+.0971045*r+.7141733*o)/O)),new j(116*s-16,500*(e-s),200*(s-n),t.opacity)}function B(t,e,n,i){return 1===arguments.length?z(t):new j(t,e,n,null==i?1:i)}function j(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function q(t){return F<t?Math.pow(t,1/3):t/$+R}function H(t){return 6/29<t?t*t*t:$*(t-R)}function V(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function U(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function G(t){if(t instanceof Y)return new Y(t.h,t.c,t.l,t.opacity);if(t instanceof j||(t=z(t)),0===t.a&&0===t.b)return new Y(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*P;return new Y(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function W(t,e,n,i){return 1===arguments.length?G(t):new Y(t,e,n,null==i?1:i)}function Y(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function X(t){if(isNaN(t.h))return new j(t.l,0,0,t.opacity);var e=t.h*k;return new j(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(j,B,n(l,{brighter:function(t){return new j(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new j(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new w(V(3.1338561*(e=A*H(e))-1.6168667*(t=D*H(t))-.4906146*(n=O*H(n))),V(-.9787684*e+1.9161415*t+.033454*n),V(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),e(Y,W,n(l,{brighter:function(t){return new Y(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Y(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return X(this).rgb()}}));var Z=-.90649,K=1.97294,J=K*Z,Q=1.78277*K,tt=-.6557636667999999;function et(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof nt)return new nt(t.h,t.s,t.l,t.opacity);t instanceof w||(t=b(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(tt*i+J*e-Q*n)/(tt+J-Q),o=i-r,s=(K*(n-r)- -.29227*o)/Z,a=Math.sqrt(s*s+o*o)/(K*r*(1-r)),u=a?Math.atan2(s,o)*P-120:NaN;return new nt(u<0?u+360:u,a,r,t.opacity)}(t):new nt(t,e,n,null==i?1:i)}function nt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}e(nt,et,n(l,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*k,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new w(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(-.29227*i+Z*r)),255*(e+K*i*n),this.opacity)}})),t.color=v,t.cubehelix=et,t.gray=function(t,e){return new j(t,0,0,null==e?1:e)},t.hcl=W,t.hsl=T,t.lab=B,t.lch=function(t,e,n,i){return 1===arguments.length?G(t):new Y(n,e,t,null==i?1:i)},t.rgb=x,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate"),require("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate","d3-color"],e):e((t=t||self).d3=t.d3||{},t.d3,t.d3)}(this,function(t,e,n){"use strict";function i(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}var r=i("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o=i("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),s=i("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),a=i("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),u=i("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),l=i("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),c=i("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),h=i("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),f=i("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),d=i("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function p(t){return e.interpolateRgbBasis(t[t.length-1])}var g=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(i),m=p(g),v=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(i),y=p(v),_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(i),b=p(_),x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(i),w=p(x),C=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(i),E=p(C),S=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(i),M=p(S),L=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(i),T=p(L),N=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(i),I=p(N),k=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(i),P=p(k),A=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(i),D=p(A),O=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(i),R=p(O),$=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(i),F=p($),z=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(i),B=p(z),j=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(i),q=p(j),H=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(i),V=p(H),U=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(i),G=p(U),W=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(i),Y=p(W),X=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(i),Z=p(X),K=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(i),J=p(K),Q=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(i),tt=p(Q),et=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(i),nt=p(et),it=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(i),rt=p(it),ot=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(i),st=p(ot),at=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(i),ut=p(at),lt=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(i),ct=p(lt),ht=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(i),ft=p(ht),dt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(i),pt=p(dt),gt=e.interpolateCubehelixLong(n.cubehelix(300,.5,0),n.cubehelix(-240,.5,1)),mt=e.interpolateCubehelixLong(n.cubehelix(-100,.75,.35),n.cubehelix(80,1.5,.8)),vt=e.interpolateCubehelixLong(n.cubehelix(260,.75,.35),n.cubehelix(80,1.5,.8)),yt=n.cubehelix(),_t=n.rgb(),bt=Math.PI/3,xt=2*Math.PI/3;function wt(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var Ct=wt(i("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Et=wt(i("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),St=wt(i("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Mt=wt(i("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.interpolateBlues=rt,t.interpolateBrBG=m,t.interpolateBuGn=D,t.interpolateBuPu=R,t.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},t.interpolateCool=vt,t.interpolateCubehelixDefault=gt,t.interpolateGnBu=F,t.interpolateGreens=st,t.interpolateGreys=ut,t.interpolateInferno=St,t.interpolateMagma=Et,t.interpolateOrRd=B,t.interpolateOranges=pt,t.interpolatePRGn=y,t.interpolatePiYG=b,t.interpolatePlasma=Mt,t.interpolatePuBu=V,t.interpolatePuBuGn=q,t.interpolatePuOr=w,t.interpolatePuRd=G,t.interpolatePurples=ct,t.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return yt.h=360*t-100,yt.s=1.5-1.5*e,yt.l=.8-.9*e,yt+""},t.interpolateRdBu=E,t.interpolateRdGy=M,t.interpolateRdPu=Y,t.interpolateRdYlBu=T,t.interpolateRdYlGn=I,t.interpolateReds=ft,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,_t.r=255*(e=Math.sin(t))*e,_t.g=255*(e=Math.sin(t+bt))*e,_t.b=255*(e=Math.sin(t+xt))*e,_t+""},t.interpolateSpectral=P,t.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},t.interpolateViridis=Ct,t.interpolateWarm=mt,t.interpolateYlGn=J,t.interpolateYlGnBu=Z,t.interpolateYlOrBr=tt,t.interpolateYlOrRd=nt,t.schemeAccent=o,t.schemeBlues=it,t.schemeBrBG=g,t.schemeBuGn=A,t.schemeBuPu=O,t.schemeCategory10=r,t.schemeDark2=s,t.schemeGnBu=$,t.schemeGreens=ot,t.schemeGreys=at,t.schemeOrRd=z,t.schemeOranges=dt,t.schemePRGn=v,t.schemePaired=a,t.schemePastel1=u,t.schemePastel2=l,t.schemePiYG=_,t.schemePuBu=H,t.schemePuBuGn=j,t.schemePuOr=x,t.schemePuRd=U,t.schemePurples=lt,t.schemeRdBu=C,t.schemeRdGy=S,t.schemeRdPu=W,t.schemeRdYlBu=L,t.schemeRdYlGn=N,t.schemeReds=ht,t.schemeSet1=c,t.schemeSet2=h,t.schemeSet3=f,t.schemeSpectral=k,t.schemeTableau10=d,t.schemeYlGn=K,t.schemeYlGnBu=X,t.schemeYlOrBr=Q,t.schemeYlOrRd=et,Object.defineProperty(t,"__esModule",{value:!0})}),function(){function p(t){var e="    ";if(isNaN(parseInt(t)))e=t;else switch(t){case 1:e=" ";break;case 2:e="  ";break;case 3:e="   ";break;case 4:e="    ";break;case 5:e="     ";break;case 6:e="      ";break;case 7:e="       ";break;case 8:e="        ";break;case 9:e="         ";break;case 10:e="          ";break;case 11:e="           ";break;case 12:e="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+e);return n}function t(){this.step="    ",this.shift=p(this.step)}t.prototype.xml=function(t,e){for(var n=t.replace(/>\s*</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns:/g,"~::~xmlns:").replace(/\s*xmlns=/g,"~::~xmlns=").split("~::~"),i=n.length,r=!1,o=0,s="",a=e?p(e):this.shift,u=0;u<i;u++)-1<n[u].search(/<!/)?(s+=a[o]+n[u],r=!0,(-1<n[u].search(/-->/)||-1<n[u].search(/]>/)||-1<n[u].search(/!DOCTYPE/))&&(r=!1)):-1<n[u].search(/-->/)||-1<n[u].search(/]>/)?(s+=n[u],r=!1):/^<\w/.exec(n[u-1])&&/^<\/\w/.exec(n[u])&&/^<[\w:\-\.,]+/.exec(n[u-1])==/^<\/[\w:\-\.,]+/.exec(n[u])[0].replace("/","")?(s+=n[u],r||o--):-1<n[u].search(/<\w/)&&-1===n[u].search(/<\//)&&-1===n[u].search(/\/>/)?s=s+=r?n[u]:a[o++]+n[u]:-1<n[u].search(/<\w/)&&-1<n[u].search(/<\//)?s=s+=r?n[u]:a[o]+n[u]:-1<n[u].search(/<\//)?s=s+=r?n[u]:a[--o]+n[u]:-1<n[u].search(/\/>/)?s=s+=r?n[u]:a[o]+n[u]:-1<n[u].search(/<\?/)||-1<n[u].search(/xmlns:/)||-1<n[u].search(/xmlns=/)?s+=a[o]+n[u]:s+=n[u];return"\n"===s.charAt(0)?s.slice(1):s},t.prototype.json=function(t,e){return e=e||this.step,"undefined"==typeof JSON?t:"string"==typeof t?JSON.stringify(JSON.parse(t),null,e):"object"==typeof t?JSON.stringify(t,null,e):t},t.prototype.css=function(t,e){for(var n=t.replace(/\s+/g," ").replace(/{/g,"{~::~").replace(/}/g,"~::~}~::~").replace(/;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s*~::~/g,"~::~").split("~::~"),i=n.length,r=0,o="",s=e?p(e):this.shift,a=0;a<i;a++)/{/.exec(n[a])?o+=s[r++]+n[a]:/}/.exec(n[a])?o+=s[--r]+n[a]:(/\*\\/.exec(n[a]),o+=s[r]+n[a]);return o.replace(/^\n+/,"")},t.prototype.sql=function(t,e){for(var n,i,r,o=t.replace(/\s+/g," ").replace(/'/gi,"~::~'").split("~::~"),s=o.length,a=[],u=0,l=this.step,c=0,h="",f=e?p(e):this.shift,d=0;d<s;d++)a=d%2?a.concat(o[d]):a.concat((n=o[d],i=l,n.replace(/\s+/g," ").replace(/ AND /gi,"~::~"+i+i+"AND ").replace(/ BETWEEN /gi,"~::~"+i+"BETWEEN ").replace(/ CASE /gi,"~::~"+i+"CASE ").replace(/ ELSE /gi,"~::~"+i+"ELSE ").replace(/ END /gi,"~::~"+i+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s+BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~+JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~+JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~+JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~+JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+i+"ON ").replace(/ OR /gi,"~::~"+i+i+"OR ").replace(/ ORDER\s+BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+i+"OVER ").replace(/\(\s*SELECT /gi,"~::~(SELECT ").replace(/\)\s*SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+i).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+i+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s*SELECT /gi,"SELECT ").replace(/\s*UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~+/g,"~::~").split("~::~")));for(s=a.length,d=0;d<s;d++)r=a[d],c=c-(r.replace(/\(/g,"").length-r.replace(/\)/g,"").length),/\s*\s*SELECT\s*/.exec(a[d])&&(a[d]=a[d].replace(/,/g,",\n"+l+l)),/\s*\s*SET\s*/.exec(a[d])&&(a[d]=a[d].replace(/,/g,",\n"+l+l)),/\s*\(\s*SELECT\s*/.exec(a[d])?h+=f[++u]+a[d]:/'/.exec(a[d])?(c<1&&u&&u--,h+=a[d]):(h+=f[u]+a[d],c<1&&u&&u--);return h=h.replace(/^\n+/,"").replace(/\n+/g,"\n")},t.prototype.xmlmin=function(t,e){return(e?t:t.replace(/<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)>/g,"").replace(/[ \r\n\t]+xmlns/g," xmlns")).replace(/>\s*</g,"><")},t.prototype.jsonmin=function(t){return"undefined"==typeof JSON?t:JSON.stringify(JSON.parse(t),null,0)},t.prototype.cssmin=function(t,e){return(e?t:t.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s+/g," ").replace(/{\s+/g,"{").replace(/}\s+/g,"}").replace(/;\s+/g,";").replace(/\/\*\s+/g,"/*").replace(/\*\/\s+/g,"*/")},t.prototype.sqlmin=function(t){return t.replace(/\s+/g," ").replace(/\s+\(/,"(").replace(/\s+\)/,")")},window.vkbeautify=new t}(),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return r={},n.m=i=[function(t,e,n){"use strict";t.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(t,e){"use strict";t.exports=function(t,i,r){return{saveAs:function(t,e,n){return r.isBlobInstance(t)||r.handleErrors("Data argument should be a blob instance"),r.isString(e)||r.handleErrors("Filename argument should be a string"),function(t,e,n){try{i(t,e,n)}catch(t){r.handleErrors(t.message)}}(t,e,n)}}}},function(t,e){"use strict";t.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return void 0===t},isBlobInstance:function(t){return t instanceof Blob}}}},function(t,e,n){"use strict";n(4),t.exports=function(t){return t.Blob}},function(t,e){!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return new Blob}catch(t){}var a=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){function a(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]}function e(){this.data=[]}function u(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n}function l(t){this.code=this[this.name=t]}var n=e.prototype,i=u.prototype,c=t.FileReaderSync,r="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),o=r.length,s=t.URL||t.webkitURL||t,h=s.createObjectURL,f=s.revokeObjectURL,d=s,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(u.fake=i.fake=!0;o--;)l.prototype[r[o]]=o+1;return s.createObjectURL||(d=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),d.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof u?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(s,t):void 0},d.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(s,t)},n.append=function(t){var e=this.data;if(v&&(t instanceof m||t instanceof v)){for(var n="",i=new v(t),r=0,o=i.length;r<o;r++)n+=String.fromCharCode(i[r]);e.push(n)}else if("Blob"===a(t)||"File"===a(t)){if(!c)throw new l("NOT_READABLE_ERR");var s=new c;e.push(s.readAsBinaryString(t))}else t instanceof u?"base64"===t.encoding&&g?e.push(g(t.data)):"URI"===t.encoding?e.push(decodeURIComponent(t.data)):"raw"===t.encoding&&e.push(t.data):("string"!=typeof t&&(t+=""),e.push(unescape(encodeURIComponent(t))))},n.getBlob=function(t){return arguments.length||(t=null),new u(this.data.join(""),t,"raw")},n.toString=function(){return"[object BlobBuilder]"},i.slice=function(t,e,n){var i=arguments.length;return i<3&&(n=null),new u(this.data.slice(t,1<i?e:this.data.length),n,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},e}(t);t.Blob=function(t,e){var n=e&&e.type||"",i=new a;if(t)for(var r=0,o=t.length;r<o;r++)Uint8Array&&t[r]instanceof Uint8Array?i.append(t[r].buffer):i.append(t[r]);var s=i.getBlob(n);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var e=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=e(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e,n){"use strict";t.exports=function(){return n(6).saveAs||function(){}}},function(t,e,n){var i,r=r||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=a.document,u=function(){return a.URL||a.webkitURL||a},l=t.createElementNS("http://www.w3.org/1999/xhtml","a"),c="download"in l,h=/constructor/i.test(a.HTMLElement)||a.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),d=function(t){setTimeout(function(){"string"==typeof t?u().revokeObjectURL(t):t.remove()},4e4)},p=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){!function(t){(a.setImmediate||a.setTimeout)(function(){throw t},0)}(t)}}},g=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},i=function(t,n,e){e||(t=g(t));function i(){p(o,"writestart progress write writeend".split(" "))}var r,o=this,s="application/octet-stream"===t.type;if(o.readyState=o.INIT,c)return r=u().createObjectURL(t),void setTimeout(function(){var t,e;l.href=r,l.download=n,t=l,e=new MouseEvent("click"),t.dispatchEvent(e),i(),d(r),o.readyState=o.DONE});!function(){if((f||s&&h)&&a.FileReader){var e=new FileReader;return e.onloadend=function(){var t=f?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(t,"_blank")||(a.location.href=t),t=void 0,o.readyState=o.DONE,i()},e.readAsDataURL(t),o.readyState=o.INIT}r=r||u().createObjectURL(t),!s&&a.open(r,"_blank")||(a.location.href=r),o.readyState=o.DONE,i(),d(r)}()},e=i.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=g(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,n){return new i(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=r:null!==n(7)&&null!==n(8)&&(void 0===(i=function(){return r}.call(e,n,e,t))||(t.exports=i))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}],n.c=r,n.p="",n(0);function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var i,r}),function(W,Y){"use strict";function X(t){return Y.getComputedStyle?Y.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0}function Z(t){for(var e,n,i=Y.document.querySelectorAll("._exradicated-tooltip"),r=0,o=i.length;r<o;r+=1)if((e=i.item(r))&&(n=W.element(e)).data("_tooltip-parent")&&n.data("_tooltip-parent")===t)return n}function K(t){var e=Z(t);e&&e.remove()}function J(t){return t.split(" ").map(function(t){return"_"+t}).join(" ")}function Q(t,e,n){for(var i=s.indexOf(J(n)),r=s.length,o=0;o<r&&function(t){if(t){var e=t[0].getBoundingClientRect();return e.top<0||e.top>Y.document.body.offsetHeight||e.left<0||e.left>Y.document.body.offsetWidth||e.bottom<0||e.bottom>Y.document.body.offsetHeight||e.right<0||e.right>Y.document.body.offsetWidth?(t.css({top:"",left:"",bottom:"",right:""}),!0):!1}throw new Error("You must provide a position")}(t);o+=1)(i+=1)>=s.length&&(i=0),e.removeClass("_top _left _bottom _right"),e.addClass(s[i])}var t,n,e,tt="tooltips",et=(n=[],e=0,{add:function(t){var e;n.length||Y.addEventListener("resize",o),(e=t)&&n.push(e)},remove:function(){n.length||(Y.clearTimeout(t),Y.removeEventListener("resize",o))}}),s=["_top","_top _left","_left","_bottom _left","_bottom","_bottom _right","_right","_top _right"],i=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf","$templateCache","$q",function(B,j,q,H,V,t,i,U,G){return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:function(t,P,A,e,n){if(A.tooltipTemplate&&A.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!A.tooltipTemplateUrl&&!A.tooltipTemplate&&A.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var D,O=J(i.side),R=i.showTrigger,$=i.hideTrigger,F=i.size,z="_"+i.speed;A.tooltipSide=A.tooltipSide||i.side,A.tooltipShowTrigger=A.tooltipShowTrigger||i.showTrigger,A.tooltipHideTrigger=A.tooltipHideTrigger||i.hideTrigger,A.tooltipShow=A.tooltipShow||i.show,A.tooltipClass=A.tooltipClass||i.class,A.tooltipSmart="true"===A.tooltipSmart||i.smart,A.tooltipCloseButton=A.tooltipCloseButton||i.closeButton.toString(),A.tooltipSize=A.tooltipSize||i.size,A.tooltipSpeed=A.tooltipSpeed||i.speed,A.tooltipAppendToBody="true"===A.tooltipAppendToBody,n(t,function(t,r){function e(t){void 0!==t&&1<f[0].getClientRects().length?b.addClass("_multiline"):b.removeClass("_multiline")}function o(t){if(t&&!b.hasClass("active")&&t.stopImmediatePropagation(),x.addClass("_hidden"),A.tooltipSmart)switch(A.tooltipSide){case"top":case"left":case"bottom":case"right":case"top left":case"top right":case"bottom left":case"bottom right":Q(x,b,A.tooltipSide);break;default:throw new Error("Position not supported")}if(A.tooltipAppendToBody){var e,n,i,r,o,s=X(w[0]),a=X(C[0]),u=X(x[0]),l=x[0].getBoundingClientRect(),c=W.copy(x),h=0,f=s.length,d=0,p=a.length,g=0,m=u.length,v={},y={},_={};for(x.removeClass("_hidden"),c.removeClass("_hidden"),c.data("_tooltip-parent",b),K(b);h<f;h+=1)(e=s[h])&&s.getPropertyValue(e)&&(v[e]=s.getPropertyValue(e));for(;d<p;d+=1)(e=a[d])&&a.getPropertyValue(e)&&(_[e]=a.getPropertyValue(e));for(;g<m;g+=1)(e=u[g])&&"position"!==e&&"display"!==e&&"opacity"!==e&&"z-index"!==e&&"bottom"!==e&&"height"!==e&&"left"!==e&&"right"!==e&&"top"!==e&&"width"!==e&&u.getPropertyValue(e)&&(y[e]=u.getPropertyValue(e));n=Y.parseInt(u.getPropertyValue("padding-top"),10),i=Y.parseInt(u.getPropertyValue("padding-bottom"),10),r=Y.parseInt(u.getPropertyValue("padding-left"),10),o=Y.parseInt(u.getPropertyValue("padding-right"),10),y.top=l.top+Y.pageYOffset+"px",y.left=l.left+Y.pageXOffset+"px",y.height=l.height-(n+i)+"px",y.width=l.width-(r+o)+"px",c.css(y),c.children().css(v),c.children().next().css(_),t&&"true"!==A.tooltipHidden&&(c.addClass("_exradicated-tooltip"),W.element(Y.document.body).append(c))}else x.removeClass("_hidden"),t&&"true"!==A.tooltipHidden&&b.addClass("active")}function n(t){t&&b.hasClass("active")&&t.stopImmediatePropagation(),A.tooltipAppendToBody?K(b):b.removeClass("active")}function i(t){var e,n=t.parent();t[0]&&(t[0].scrollHeight>t[0].clientHeight||t[0].scrollWidth>t[0].clientWidth)&&t.on("scroll",function(){var i=this;e&&H.cancel(e),e=H(function(){var t=Z(b),e=b[0].getBoundingClientRect(),n=i.getBoundingClientRect();e.top<n.top||e.bottom>n.bottom||e.left<n.left||e.right>n.right?K(b):t&&o(!0)})}),n&&n.length&&i(n)}function s(t){b.removeClass("_force-hidden"),w.empty(),w.append(d),w.append(t),H(function(){o()})}function a(){w.empty(),b.addClass("_force-hidden")}function u(e){var t=U.get(e);return void 0!==t?G.resolve(t):j.get(e).then(function(t){return U.put(e,t.data),t.data})}var l,c,h=(c={},(l=t).removeAttr(tt),void 0!==l.attr("tooltip-template")&&(c["tooltip-template"]=l.attr("tooltip-template"),l.removeAttr("tooltip-template")),void 0!==l.attr("tooltip-template-url")&&(c["tooltip-template-url"]=l.attr("tooltip-template-url"),l.removeAttr("tooltip-template-url")),void 0!==l.attr("tooltip-template-url-cache")&&(c["tooltip-template-url-cache"]=l.attr("tooltip-template-url-cache"),l.removeAttr("tooltip-template-url-cache")),void 0!==l.attr("tooltip-controller")&&(c["tooltip-controller"]=l.attr("tooltip-controller"),l.removeAttr("tooltip-controller")),void 0!==l.attr("tooltip-side")&&(c["tooltip-side"]=l.attr("tooltip-side"),l.removeAttr("tooltip-side")),void 0!==l.attr("tooltip-show-trigger")&&(c["tooltip-show-trigger"]=l.attr("tooltip-show-trigger"),l.removeAttr("tooltip-show-trigger")),void 0!==l.attr("tooltip-hide-trigger")&&(c["tooltip-hide-trigger"]=l.attr("tooltip-hide-trigger"),l.removeAttr("tooltip-hide-trigger")),void 0!==l.attr("tooltip-smart")&&(c["tooltip-smart"]=l.attr("tooltip-smart"),l.removeAttr("tooltip-smart")),void 0!==l.attr("tooltip-class")&&(c["tooltip-class"]=l.attr("tooltip-class"),l.removeAttr("tooltip-class")),void 0!==l.attr("tooltip-show")&&(c["tooltip-show"]=l.attr("tooltip-show"),l.removeAttr("tooltip-show")),void 0!==l.attr("tooltip-close-button")&&(c["tooltip-close-button"]=l.attr("tooltip-close-button"),l.removeAttr("tooltip-close-button")),void 0!==l.attr("tooltip-size")&&(c["tooltip-size"]=l.attr("tooltip-size"),l.removeAttr("tooltip-size")),void 0!==l.attr("tooltip-speed")&&(c["tooltip-speed"]=l.attr("tooltip-speed"),l.removeAttr("tooltip-speed")),c),b=W.element(Y.document.createElement("tooltip")),f=W.element(Y.document.createElement("tip-cont")),x=W.element(Y.document.createElement("tip")),w=W.element(Y.document.createElement("tip-tip")),d=W.element(Y.document.createElement("span")),C=W.element(Y.document.createElement("tip-arrow")),p=A.$observe("tooltipTemplate",function(t){t?s(t):a()}),g=A.$observe("tooltipTemplateUrl",function(t){t&&!A.tooltipTemplateUrlCache?u(t).then(function(t){s(q(t)(r))}).catch(function(t){B.error(t)}):a()}),m=A.$observe("tooltipTemplateUrlCache",function(t){t&&A.tooltipTemplateUrl?u(A.tooltipTemplateUrl).then(function(t){s(q(t)(r))}).catch(function(t){B.error(t)}):a()}),v=A.$observe("tooltipSide",function(t){t&&(O&&b.removeClass(O),b.addClass(J(t)),O=t)}),y=A.$observe("tooltipShowTrigger",function(t){t&&(R&&b.off(R),b.on(t,o),R=t)}),_=A.$observe("tooltipHideTrigger",function(t){t&&($&&b.off($),b.on(t,n),$=t)}),E=A.$observe("tooltipShow",function(t){"true"===t?b.addClass("active"):b.removeClass("active")}),S=A.$observe("tooltipClass",function(t){t&&(D&&x.removeClass(D),x.addClass(t),D=t)}),M=A.$observe("tooltipSmart",function(){"boolean"!=typeof A.tooltipSmart&&(A.tooltipSmart="true"===A.tooltipSmart)}),L=A.$observe("tooltipCloseButton",function(t){"true"===t?(d.on("click",n),d.css("display","block")):(d.off("click"),d.css("display","none"))}),T=A.$observe("tooltipController",function(t){var e,n,i;t&&(e=V(t,{$scope:r}),n=r.$new(!1,r),0<=(i=t.indexOf("as"))?n[t.substr(i+3)]=e:W.extend(n,e),w.replaceWith(q(w)(n)),T())}),N=A.$observe("tooltipSize",function(t){t&&(F&&w.removeClass("_"+F),w.addClass("_"+t),F=t)}),I=A.$observe("tooltipSpeed",function(t){t&&(z&&b.removeClass("_"+z),b.addClass("_"+t),z=t)}),k=r.$watch(function(){return f.html()},e);d.addClass("close-button"),d.html("&times;"),x.addClass("_hidden"),w.append(d),w.append(A.tooltipTemplate),x.append(w),x.append(C),f.append(t),b.attr(h),b.addClass("tooltips"),b.append(f),b.append(x),P.after(b),A.tooltipAppendToBody&&(et.add(function(){i(b)}),i(b)),et.add(function(){e(),o()}),H(function(){o(),x.removeClass("_hidden"),b.addClass("_ready")}),r.$on("$destroy",function(){p(),g(),m(),v(),y(),_(),E(),S(),M(),L(),N(),I(),k(),et.remove(),t.off(A.tooltipShowTrigger+" "+A.tooltipHideTrigger)})})}}}];function r(t){15<=t-e?(n.forEach(function(t){t()}),e=t):Y.console.log("Skipped!")}function o(){Y.clearTimeout(t),t=Y.setTimeout(function(){Y.requestAnimationFrame(r)},500)}W.module("720kb.tooltips",[]).provider(tt+"Conf",function(){var r={side:"top",showTrigger:"mouseenter",hideTrigger:"mouseleave",class:"",smart:!1,closeButton:!1,size:"",speed:"steady",tooltipTemplateUrlCache:!1,show:null};return{configure:function(t){var e,n=Object.keys(r),i=0;if(t)for(;i<n.length;i+=1)(e=n[i])&&t[e]&&(r[e]=t[e])},$get:function(){return r}}}).directive(tt,i)}(angular,window);